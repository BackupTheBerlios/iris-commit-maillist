From no-reply at zwischenwelt.org  Thu Nov  1 01:30:56 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 01 Nov 2007 00:30:56 -0000
Subject: [Iris-commit] [IRIS] r1494 - in /trunk: bin/iris2.exe
 data/lua/lib.static.lua data/lua/lib.tilefreewalk.lua
 data/skippedfallbacks.lua
Message-ID: <20071101003057.273831C182CE@zwischenwelt.org>

Author: sience
Date: Thu Nov  1 01:30:55 2007
New Revision: 1494

Log:
-new binary
-don't walk on right gump click
-CloneMesh function added before HueMesh
-skippedfallbacks added (catapult)

Modified:
    trunk/bin/iris2.exe
    trunk/data/lua/lib.static.lua
    trunk/data/lua/lib.tilefreewalk.lua
    trunk/data/skippedfallbacks.lua

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.

Modified: trunk/data/lua/lib.static.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.static.lua (original)
+++ trunk/data/lua/lib.static.lua Thu Nov  1 01:30:55 2007
@@ -78,7 +78,7 @@
 =

 	-- FILTER: static water
 	iTranslatedTileTypeID,iHue =3D FilterStaticWater(iTranslatedTileTypeID, i=
Hue)
-	=

+
 	local meshname =3D gLegacyModelCache[iTranslatedTileTypeID.."_"..iHue]
 =

 	if (meshname =3D=3D nil) then
@@ -108,13 +108,14 @@
 					end
 				end
 				-- Hue this Model | TODO : Partitial Hue
---				if (gHueLoader) then
---					if( TestBit(GetStaticTileTypeFlags(iTranslatedTileTypeID) or 0,kTil=
eDataFlag_Partial_Hue) ) then
---						printdebug("static","parthuedmodel=3D",iTranslatedTileTypeID)
---					elseif ((tonumber(iHue) > 0) and (tonumber(iHue) < gMaxHueValue)) t=
hen
---						HueMesh(meshname,gHueLoader,iHue)
---					end
---				end
+				if (gHueLoader) then
+					if( TestBit(GetStaticTileTypeFlags(iTileTypeID) or 0,kTileDataFlag_Pa=
rtial_Hue) ) then
+						printdebug("static","parthuedmodel=3D",iTileTypeID)		-- don't use iT=
ranslatedTileTypeID here, because of waterhack
+					elseif ((tonumber(iHue) > 0) and (tonumber(iHue) < gMaxHueValue)) then
+						if (CloneMesh) then meshname=3DCloneMesh(meshname) end
+						HueMesh(meshname,gHueLoader,iHue)
+					end
+				end
 			end
 		end
 		=

@@ -127,14 +128,6 @@
 		gLegacyModelCache[iTranslatedTileTypeID.."_"..iHue] =3D meshname
 	end
 =

-	-- Hue this Model | TODO : Partitial Hue
-	if ( (meshname ~=3D nil) and gHueLoader ) then
-		if( TestBit(GetStaticTileTypeFlags(iTranslatedTileTypeID) or 0,kTileData=
Flag_Partial_Hue) ) then
-			printdebug("static","parthuedmodel=3D",iTranslatedTileTypeID)
-		elseif ((tonumber(iHue) > 0) and (tonumber(iHue) < gMaxHueValue)) then
-			HueMesh(meshname,gHueLoader,iHue)
-		end
-	end
 	return meshname
 end
 =


Modified: trunk/data/lua/lib.tilefreewalk.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.tilefreewalk.lua (original)
+++ trunk/data/lua/lib.tilefreewalk.lua Thu Nov  1 01:30:55 2007
@@ -74,7 +74,7 @@
 =

 function gTileFreeWalk:Step	()
 	if (gCurrentRenderer ~=3D Renderer3D) then return end
-	local bWalkInMouseDir	=3D gKeyPressed[key_mouse2]
+	local bWalkInMouseDir	=3D gKeyPressed[key_mouse2] and (not gLastMouseDown=
Widget)
 	local bWalkForward		=3D (not gActiveEditText) and gKeyPressed[key_up]		=

 	local bWalkBackwards	=3D (not gActiveEditText) and gKeyPressed[key_down]	=

 	local bTurnLeft			=3D (not gActiveEditText) and gKeyPressed[key_left]	=


Modified: trunk/data/skippedfallbacks.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/skippedfallbacks.lua (original)
+++ trunk/data/skippedfallbacks.lua Thu Nov  1 01:30:55 2007
@@ -369,3 +369,48 @@
 RegisterSkippedArtBillboardFallBack(7751) -- 0x1e47 name=3Dbearskin rug
 RegisterSkippedArtBillboardFallBack(7752) -- 0x1e48 name=3Dbearskin rug
 RegisterSkippedArtBillboardFallBack(2386) -- 0x0952 name=3Dfireplace
+RegisterSkippedArtBillboardFallBack(5730) -- 0x1662 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5716) -- 0x1654 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5732) -- 0x1664 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5704) -- 0x1648 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5705) -- 0x1649 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5721) -- 0x1659 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5707) -- 0x164b name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5708) -- 0x164c name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5710) -- 0x164e name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5780) -- 0x1694 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5782) -- 0x1696 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5794) -- 0x16a2 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5714) -- 0x1652 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5706) -- 0x164a name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5783) -- 0x1697 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5799) -- 0x16a7 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5808) -- 0x16b0 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5789) -- 0x169d name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5784) -- 0x1698 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5786) -- 0x169a name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5785) -- 0x1699 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5820) -- 0x16bc name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5821) -- 0x16bd name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5822) -- 0x16be name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5826) -- 0x16c2 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5831) -- 0x16c7 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5817) -- 0x16b9 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5841) -- 0x16d1 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5836) -- 0x16cc name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5819) -- 0x16bb name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5823) -- 0x16bf name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5846) -- 0x16d6 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5809) -- 0x16b1 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5746) -- 0x1672 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5747) -- 0x1673 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5763) -- 0x1683 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5749) -- 0x1675 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5751) -- 0x1677 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5752) -- 0x1678 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5753) -- 0x1679 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5748) -- 0x1674 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5758) -- 0x167e name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5773) -- 0x168d name=3DMissingName
+RegisterSkippedArtBillboardFallBack(5768) -- 0x1688 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(5731) -- 0x1663 name=3Dcatapult



From no-reply at zwischenwelt.org  Sat Nov  3 15:39:24 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 03 Nov 2007 14:39:24 -0000
Subject: [Iris-commit] [IRIS] r1495 - in /trunk/data/lua: lib.3d.dynamic.lua
 lib.3d.map.lua lib.debugmenu.lua lib.fallback.lua lib.loading.lua
 lib.season.lua lib.static.lua lib.terrain.lua lib.walking2.lua
Message-ID: <20071103143925.1CC861C182C4@zwischenwelt.org>

Author: sience
Date: Sat Nov  3 15:39:24 2007
New Revision: 1495

Log:
-seasons redone with two different tables for ground & statics)
-some functions renamed

Modified:
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.3d.map.lua
    trunk/data/lua/lib.debugmenu.lua
    trunk/data/lua/lib.fallback.lua
    trunk/data/lua/lib.loading.lua
    trunk/data/lua/lib.season.lua
    trunk/data/lua/lib.static.lua
    trunk/data/lua/lib.terrain.lua
    trunk/data/lua/lib.walking2.lua

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Sat Nov  3 15:39:24 2007
@@ -139,7 +139,7 @@
 			-- --------------------------------------------------------------------=
-----
 =

 		elseif (gEnableFallBackBillboards_Dynamics) then
-			local iTranslatedTileTypeID =3D TranslateTileTypeID(item.artid + 16384,=
 gSeasonSetting)
+			local iTranslatedTileTypeID =3D SeasonalStaticTranslation(item.artid, g=
SeasonSetting)
 =

 			--print("######DYNAMIC MESH NOT FOUND : ",item.artid,iTranslatedTileTyp=
eID)
 			--print("######",vardump(GetStaticTileType(item.artid)))

Modified: trunk/data/lua/lib.3d.map.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.map.lua (original)
+++ trunk/data/lua/lib.3d.map.lua Sat Nov  3 15:39:24 2007
@@ -217,7 +217,7 @@
 =

 					elseif (gEnableFallBackBillboards_Statics) then
 						-- fallback to billboard with original art or						=

-						local iTranslatedTileTypeID =3D TranslateTileTypeID(iTileTypeID + 16=
384, gSeasonSetting)
+						local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeI=
D, gSeasonSetting)
 =

 						if (not IsArtBillboardFallBackSkipped(iTileTypeID)) then
 							entity.x,entity.y,entity.z =3D self:UOPosToLocal(entity.xloc+0.5,en=
tity.yloc+0.5,entity.zloc*0.1 + 0.5)

Modified: trunk/data/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.debugmenu.lua (original)
+++ trunk/data/lua/lib.debugmenu.lua Sat Nov  3 15:39:24 2007
@@ -407,7 +407,7 @@
 					printdebug("static","mesh not available",meshname)
 				else
 					if (gEnableRTTModelImages) then
-						table.insert(row1	, MakeUOModelImageForDialog(meshname,48,32) )
+						table.insert(row1	,MakeRTTImageForDialog(meshname,0,48,32))
 					else
 						table.insert(row1	,MakeUOArtImageForDialog(i,0,48,32))
 					end
@@ -429,7 +429,7 @@
 ------------------------------------------ the following parts are copied =
from lugre and modified, should be merged into lugre ----------------------=
---------------------
 =

 -- iMaxW,iMaxH : can be nil for unlimited size
-function MakeUOModelImageForDialog (meshname,iMaxW,iMaxH) =

+function MakeRTTImageForDialog (meshname,iHue,iMaxW,iMaxH)
 	local texname,rtt =3D GetMeshPreviewX (meshname, iMaxW, 0, 1.5)
 	local matname =3D texname and GetPlainTextureMat(texname)
 =


Modified: trunk/data/lua/lib.fallback.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.fallback.lua (original)
+++ trunk/data/lua/lib.fallback.lua Sat Nov  3 15:39:24 2007
@@ -88,7 +88,7 @@
 -- iMaxW,iMaxH : can be nil for unlimited size
 function MakeUOArtImageForDialog (iTileTypeID,iHue,iMaxW,iMaxH) =

 	iHue =3D iHue or 0
-	local iTranslatedTileTypeID =3D TranslateTileTypeID(iTileTypeID + 16384, =
gSeasonSetting)
+	local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeID, gS=
easonSetting)
 	local matname =3D GetArtMat(iTranslatedTileTypeID,iHue)
 	local isotilew =3D 44 / math.sqrt(2)
 	local w,h =3D GetArtSize(iTranslatedTileTypeID)

Modified: trunk/data/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.loading.lua (original)
+++ trunk/data/lua/lib.loading.lua Sat Nov  3 15:39:24 2007
@@ -141,6 +141,14 @@
 	if (gTileTypeLoaderType) then
 		LoadingProfile("init TileTypeLoader")
 		gTileTypeLoader =3D CreateTileTypeLoader(gTileTypeLoaderType,CorrectPath=
(gUOPath.."tiledata.mul"))
+		gTileTypeLoader._GetStaticTileType =3D gTileTypeLoader.GetStaticTileType
+		gTileTypeLoader.GetStaticTileType =3D function (...)
+			local arr =3D { gTileTypeLoader._GetStaticTileType(unpack(arg)) }
+			if (not arr[1]) then =

+				print("GetStaticTileType failed", arg[2],_TRACEBACK())
+			end
+			return unpack(arr)
+		end
 	end
 	=

 	if (gTexMapLoaderType) then

Modified: trunk/data/lua/lib.season.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.season.lua (original)
+++ trunk/data/lua/lib.season.lua Sat Nov  3 15:39:24 2007
@@ -7,23 +7,9 @@
 	return newarr
 end
 =

---[[
-TODO : season bug : ticket #151 in trac by anarchcassius 25.10.2007
-The existing season swaps do not consider the ground tile/landscape textur=
es =

-are not the same as the static items and their numbering systems do line u=
p at all. =

-Thus two kinds of swaps are needed, one for ground tiles/landscape texture=
s, =

-and one for the items (flowers, mushrooms, sticks). =

-Currently the items are listed with the ground tiles where they do nothing=
 as they refer to non-existent ground IDs.
-
-Additionally the comments on the season info that the tiles do not exist t=
o implement it properly is wrong. =

-OSI used a winter last year by altering the client =

-(since to them seasons are Felucca/Trammel they couldn't use the season co=
de for this) =

-and the crappiness of winter is simply due to OSI never bothering to finis=
h it. =

-]]--
-
--- FILTER : ArtID -> ArtID
-gTileTypeTranslate_Winter =3D ParseHex2HexArray({
+-- FILTER : ArtID -> ArtID
 -- Groundart
+gMapTable_Winter =3D ParseHex2HexArray({
 ["3"]=3D"11a",
 ["4"]=3D"11b",
 ["5"]=3D"11c",
@@ -111,7 +97,12 @@
 ["602"]=3D"11b",
 ["603"]=3D"11c",
 ["604"]=3D"11d",
-["6b1"]=3D"11a",
+["6b1"]=3D"11a"
+})
+
+-- FILTER : ArtID -> ArtID
+-- StaticArt
+gStaticTable_Winter =3D ParseHex2HexArray({
 --Foliage
 ["cce"]=3D-1,
 ["cd1"]=3D-1,
@@ -129,12 +120,11 @@
 ["d02"]=3D-1,
 --Foliage multiple tiles
 ["d45"]=3D-1
-
-})
-
--- FILTER : ArtID -> ArtID
-gTileTypeTranslate_Spring =3D ParseHex2HexArray({
+})
+
+-- FILTER : ArtID -> ArtID
 -- Groundart
+gMapTable_Spring =3D ParseHex2HexArray({
 ["ca7"]=3D"c84",
 ["cac"]=3D"c46",
 ["cad"]=3D"c48",
@@ -155,8 +145,13 @@
 })
 =

 -- FILTER : ArtID -> ArtID
-gTileTypeTranslate_Fall =3D ParseHex2HexArray({
+-- StaticArt
+gStaticTable_Spring =3D ParseHex2HexArray({
+})
+
+-- FILTER : ArtID -> ArtID
 -- Groundart
+gMapTable_Fall =3D ParseHex2HexArray({
 ["c84"]=3D"1b22",
 ["c8b"]=3D"cc6",
 ["c8c"]=3D"cc6",
@@ -183,7 +178,12 @@
 ["ce9"]=3D"d3f",
 ["cea"]=3D"d40",
 ["d95"]=3D"d97",
-["d99"]=3D"d9b",
+["d99"]=3D"d9b"
+})
+
+-- FILTER : ArtID -> ArtID
+-- StaticArt
+gStaticTable_Fall =3D ParseHex2HexArray({
 --Foliage
 ["cce"]=3D"ccf",
 ["cd1"]=3D"cd2",
@@ -200,8 +200,8 @@
 })
 =

 -- FILTER : ArtID -> ArtID
-gTileTypeTranslate_Desolation =3D ParseHex2HexArray({
 -- Groundart
+gMapTable_Desolation =3D ParseHex2HexArray({
 ["c37"]=3D"1bae",
 ["c38"]=3D"1bae",
 ["c45"]=3D"1b9c",
@@ -273,7 +273,12 @@
 ["d2b"]=3D"1b15",
 ["d2d"]=3D"1bae",
 ["d2f"]=3D"1bae",
-["1b7e"]=3D"1e34",
+["1b7e"]=3D"1e34"
+})
+
+-- FILTER : ArtID -> ArtID
+-- StaticArt
+gStaticTable_Desolation =3D ParseHex2HexArray({
 --Foliage
 ["cce"]=3D-1,
 ["cd1"]=3D-1,
@@ -293,4 +298,19 @@
 ["d45"]=3D-1
 })
 =

-gSeasonTranslators =3D {[0]=3DgTileTypeTranslate_Spring,[1]=3Dnil,[2]=3DgT=
ileTypeTranslate_Fall,[3]=3DgTileTypeTranslate_Winter,[4]=3DgTileTypeTransl=
ate_Desolation}
+gSeasonMapTranslators =3D {[0]=3DgMapTable_Spring,[1]=3Dnil,[2]=3DgMapTabl=
e_Fall,[3]=3DgMapTable_Winter,[4]=3DgMapTable_Desolation}
+
+-- Seasonal Ground Art/Map Translation	(raw tiles)
+function SeasonalMapTranslation (iTileTypeID, iSeasonID)
+	local translator =3D gSeasonMapTranslators[iSeasonID]
+	if (translator) then return translator[iTileTypeID] or iTileTypeID else r=
eturn iTileTypeID end
+end
+
+gSeasonStaticTranslators =3D {[0]=3DgStaticTable_Spring,[1]=3Dnil,[2]=3DgS=
taticTable_Fall,[3]=3DgStaticTable_Winter,[4]=3DgStaticTable_Desolation}
+
+-- Seasonal Dynamic & Static Art Translation (run tiles)
+-- eventuell (iTileTypeID + 16384)
+function SeasonalStaticTranslation (iTileTypeID, iSeasonID)
+	local translator =3D gSeasonStaticTranslators[iSeasonID]
+	if (translator) then return translator[iTileTypeID] or iTileTypeID else r=
eturn iTileTypeID end
+end

Modified: trunk/data/lua/lib.static.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.static.lua (original)
+++ trunk/data/lua/lib.static.lua Sat Nov  3 15:39:24 2007
@@ -71,7 +71,7 @@
 	iHue =3D iHue or 0
 =

 	--1st: Seasonal Translation
-	local iTranslatedTileTypeID =3D TranslateTileTypeID(iTileTypeID, gSeasonS=
etting)
+	local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeID, gS=
easonSetting)
 =

 	-- FILTER: map Mesh to other Mesh
 	iTranslatedTileTypeID =3D FilterMesh(iTranslatedTileTypeID)

Modified: trunk/data/lua/lib.terrain.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.terrain.lua (original)
+++ trunk/data/lua/lib.terrain.lua Sat Nov  3 15:39:24 2007
@@ -1,11 +1,5 @@
 -- used by lib.map.lua
 kNoDrawTileType =3D hex2num("0x0002")
-
---Seasonal Translation
-function TranslateTileTypeID (iTileTypeID, iSeasonID)
-	local translator =3D gSeasonTranslators[iSeasonID]
-	if (translator) then return translator[iTileTypeID] or iTileTypeID else r=
eturn iTileTypeID end
-end
 =

 -- called by the c function BuildTerrainEntity_Shaded, has to return a mat=
erial name for a tiletypeid, used for terrain
 function BuildTerrainEntity_Shaded_GetMaterial (iTileTypeID) return GetTer=
rainMaterial(iTileTypeID,true) end
@@ -17,7 +11,7 @@
 gTerrainMaterialCache =3D {}
 function GetTerrainMaterial (iTileTypeID,bLighting)
 	--Seasonal Translation
-	local iTranslatedTileTypeID=3DTranslateTileTypeID(iTileTypeID, gSeasonSet=
ting)
+	local iTranslatedTileTypeID=3DSeasonalMapTranslation(iTileTypeID, gSeason=
Setting)
 =

 	-- FILTER: Special Filters
 	iTranslatedTileTypeID =3D FilterMap(iTranslatedTileTypeID)

Modified: trunk/data/lua/lib.walking2.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.walking2.lua (original)
+++ trunk/data/lua/lib.walking2.lua Sat Nov  3 15:39:24 2007
@@ -122,7 +122,7 @@
 	local iMapTileZ =3D tonumber(AverageGroundHeight( bx, by, tx, ty))
 =

 	--Seasonal Translation
-	local iTranstile=3DTranslateTileTypeID(iMapTileType, gSeasonSetting)
+	local iTranstile=3DSeasonalMapTranslation(iMapTileType, gSeasonSetting)
 	local miFlags,miTexID,msName =3D gTileTypeLoader:GetGroundTileType(iTrans=
tile)
 	=

 	-- ignore NoDraw Tiles
@@ -145,7 +145,7 @@
 	else
 		iStaticCount =3D 0
 	end
-	-- TODO : maybe include Seasonal translation also here!?
+	-- TODO : maybe include Seasonal translation for Statics also here!?
 	=

 	local iTileTypeID,iX,iY,iZ,iHue
 	for i =3D 0,iStaticCount-1 do



From no-reply at zwischenwelt.org  Sat Nov  3 17:30:44 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 03 Nov 2007 16:30:44 -0000
Subject: [Iris-commit] [IRIS] r1496 - in /trunk/data/lua: lib.3d.dynamic.lua
 lib.3d.map.lua lib.fallback.lua lib.terrain.lua net/net.dynamic.lua
Message-ID: <20071103163044.C8F0A1C182CD@zwischenwelt.org>

Author: sience
Date: Sat Nov  3 17:30:44 2007
New Revision: 1496

Log:
-some updates to seasonal handling

Modified:
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.3d.map.lua
    trunk/data/lua/lib.fallback.lua
    trunk/data/lua/lib.terrain.lua
    trunk/data/lua/net/net.dynamic.lua

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Sat Nov  3 17:30:44 2007
@@ -140,6 +140,8 @@
 =

 		elseif (gEnableFallBackBillboards_Dynamics) then
 			local iTranslatedTileTypeID =3D SeasonalStaticTranslation(item.artid, g=
SeasonSetting)
+			-- we have to add 16384 for fallbacks
+			iTranslatedTileTypeID =3D iTranslatedTileTypeID + 16384
 =

 			--print("######DYNAMIC MESH NOT FOUND : ",item.artid,iTranslatedTileTyp=
eID)
 			--print("######",vardump(GetStaticTileType(item.artid)))
@@ -163,10 +165,10 @@
 	self:UpdateDynamicVisibility(item)
 end
 =

-function Renderer3D:CreateArtBillBoard( gfx,iTranslatedTileTypeID, iHue )
-	local matname =3D GetArtBillBoardMat(iTranslatedTileTypeID,iHue)
+function Renderer3D:CreateArtBillBoard( gfx, iTileTypeID, iHue )
+	local matname =3D GetArtBillBoardMat(iTileTypeID,iHue)
 	local isotilew =3D 44 / math.sqrt(2)
-	local w,h =3D GetArtSize(iTranslatedTileTypeID)
+	local w,h =3D GetArtSize(iTileTypeID)
 	if (not w or w =3D=3D 0) then w =3D isotilew end
 	if (not h or h =3D=3D 0) then h =3D isotilew end
 	gfx:SetSimpleRenderable()

Modified: trunk/data/lua/lib.3d.map.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.map.lua (original)
+++ trunk/data/lua/lib.3d.map.lua Sat Nov  3 17:30:44 2007
@@ -218,6 +218,8 @@
 					elseif (gEnableFallBackBillboards_Statics) then
 						-- fallback to billboard with original art or						=

 						local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeI=
D, gSeasonSetting)
+						-- we have to add 16384 for fallbacks
+						iTranslatedTileTypeID =3D iTranslatedTileTypeID + 16384
 =

 						if (not IsArtBillboardFallBackSkipped(iTileTypeID)) then
 							entity.x,entity.y,entity.z =3D self:UOPosToLocal(entity.xloc+0.5,en=
tity.yloc+0.5,entity.zloc*0.1 + 0.5)

Modified: trunk/data/lua/lib.fallback.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.fallback.lua (original)
+++ trunk/data/lua/lib.fallback.lua Sat Nov  3 17:30:44 2007
@@ -86,9 +86,12 @@
 end
 =

 -- iMaxW,iMaxH : can be nil for unlimited size
-function MakeUOArtImageForDialog (iTileTypeID,iHue,iMaxW,iMaxH) =

+function MakeUOArtImageForDialog (iTileTypeID, iHue, iMaxW, iMaxH) =

 	iHue =3D iHue or 0
 	local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeID, gS=
easonSetting)
+	-- we have to add 16384 for fallbacks
+	iTranslatedTileTypeID =3D iTranslatedTileTypeID + 16384
+
 	local matname =3D GetArtMat(iTranslatedTileTypeID,iHue)
 	local isotilew =3D 44 / math.sqrt(2)
 	local w,h =3D GetArtSize(iTranslatedTileTypeID)

Modified: trunk/data/lua/lib.terrain.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.terrain.lua (original)
+++ trunk/data/lua/lib.terrain.lua Sat Nov  3 17:30:44 2007
@@ -10,6 +10,7 @@
 =

 gTerrainMaterialCache =3D {}
 function GetTerrainMaterial (iTileTypeID,bLighting)
+
 	--Seasonal Translation
 	local iTranslatedTileTypeID=3DSeasonalMapTranslation(iTileTypeID, gSeason=
Setting)
 =


Modified: trunk/data/lua/net/net.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.dynamic.lua (original)
+++ trunk/data/lua/net/net.dynamic.lua Sat Nov  3 17:30:44 2007
@@ -32,8 +32,7 @@
 -- TODO : here Tooltip request   0x1A  (old iris:PCK_Put)
 --[[
 Packet [1a], Length: 17, Type: Server
-1a 00 11 c0 02 9d aa 00 00 00 01 15 44 44 88 9c =

-80
+1a 00 11 c0 02 9d aa 00 00 00 01 15 44 44 88 9c 80
 ]]--
 =

 -- show item (0x1a)
@@ -90,7 +89,7 @@
 	dynamicdata.xloc		=3D BitwiseAND(dynamicdata.xloc,hex2num("0x7fff"))
 	dynamicdata.yloc		=3D BitwiseAND(dynamicdata.yloc,hex2num("0x3fff"))
 	dynamicdata.iContainerSerial =3D 0
-	=

+
 	CreateOrUpdateDynamic(dynamicdata)
 end
 =




From no-reply at zwischenwelt.org  Sat Nov  3 18:05:15 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 03 Nov 2007 17:05:15 -0000
Subject: [Iris-commit] [IRIS] r1497 - in /trunk/data/lua: lib.3d.dynamic.lua
	lib.season.lua
Message-ID: <20071103170515.BA0CC1C182CE@zwischenwelt.org>

Author: sience
Date: Sat Nov  3 18:05:12 2007
New Revision: 1497

Log:
-another small check added

Modified:
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.season.lua

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Sat Nov  3 18:05:12 2007
@@ -166,6 +166,7 @@
 end
 =

 function Renderer3D:CreateArtBillBoard( gfx, iTileTypeID, iHue )
+	if (iTileTypeID > hex2num("0xBFFF")) then return end
 	local matname =3D GetArtBillBoardMat(iTileTypeID,iHue)
 	local isotilew =3D 44 / math.sqrt(2)
 	local w,h =3D GetArtSize(iTileTypeID)

Modified: trunk/data/lua/lib.season.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.season.lua (original)
+++ trunk/data/lua/lib.season.lua Sat Nov  3 18:05:12 2007
@@ -303,7 +303,11 @@
 -- Seasonal Ground Art/Map Translation	(raw tiles)
 function SeasonalMapTranslation (iTileTypeID, iSeasonID)
 	local translator =3D gSeasonMapTranslators[iSeasonID]
-	if (translator) then return translator[iTileTypeID] or iTileTypeID else r=
eturn iTileTypeID end
+	if (translator) then
+		return translator[iTileTypeID] or iTileTypeID
+	else
+		return iTileTypeID
+	end
 end
 =

 gSeasonStaticTranslators =3D {[0]=3DgStaticTable_Spring,[1]=3Dnil,[2]=3DgS=
taticTable_Fall,[3]=3DgStaticTable_Winter,[4]=3DgStaticTable_Desolation}
@@ -312,5 +316,9 @@
 -- eventuell (iTileTypeID + 16384)
 function SeasonalStaticTranslation (iTileTypeID, iSeasonID)
 	local translator =3D gSeasonStaticTranslators[iSeasonID]
-	if (translator) then return translator[iTileTypeID] or iTileTypeID else r=
eturn iTileTypeID end
+	if (translator) then
+		return translator[iTileTypeID] or iTileTypeID
+	else
+		return iTileTypeID
+	end
 end



From no-reply at zwischenwelt.org  Sat Nov  3 18:09:07 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 03 Nov 2007 17:09:07 -0000
Subject: [Iris-commit] [IRIS] r1498 - in /trunk/data/lua: lib.3d.dynamic.lua
	lib.uoids.lua
Message-ID: <20071103170907.E76F11C182C4@zwischenwelt.org>

Author: sience
Date: Sat Nov  3 18:09:07 2007
New Revision: 1498

Log:
-small fix (gMaxArtValue moved to lib.uoids.lua)

Modified:
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.uoids.lua

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Sat Nov  3 18:09:07 2007
@@ -166,7 +166,7 @@
 end
 =

 function Renderer3D:CreateArtBillBoard( gfx, iTileTypeID, iHue )
-	if (iTileTypeID > hex2num("0xBFFF")) then return end
+	if (iTileTypeID > gMaxArtValue) then return end
 	local matname =3D GetArtBillBoardMat(iTileTypeID,iHue)
 	local isotilew =3D 44 / math.sqrt(2)
 	local w,h =3D GetArtSize(iTileTypeID)

Modified: trunk/data/lua/lib.uoids.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.uoids.lua (original)
+++ trunk/data/lua/lib.uoids.lua Sat Nov  3 18:09:07 2007
@@ -7,7 +7,7 @@
 gRace =3D { [1] =3D "Human", [2] =3D "Elf" }
 =

 gMaxHueValue =3D 2999 -- hues.mul has only 2999 values
-
+gMaxArtValue =3D hex2num("0xbfff")
 =

 kMobileGhostArtIDs =3D {402,403,607,608,970}
 =




From no-reply at zwischenwelt.org  Wed Nov  7 20:55:20 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 07 Nov 2007 19:55:20 -0000
Subject: [Iris-commit] [IRIS] r1499 - in /trunk/data: base/guibase_test.png
 base/main.material lua/lib.debugmenu.lua
Message-ID: <20071107195520.6A4E11C182BF@zwischenwelt.org>

Author: sience
Date: Wed Nov  7 20:55:19 2007
New Revision: 1499

Log:
-the rendering of RTT (render2texture) is changed
-obsolete texture deleted
-material for RTT added

Removed:
    trunk/data/base/guibase_test.png
Modified:
    trunk/data/base/main.material
    trunk/data/lua/lib.debugmenu.lua

Modified: trunk/data/base/main.material
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/base/main.material (original)
+++ trunk/data/base/main.material Wed Nov  7 20:55:19 2007
@@ -240,7 +240,6 @@
 			texture_unit
 			{
 				texture guibase.png
-				//texture guibase_test.png
 				tex_address_mode clamp
 				filtering none
 			}
@@ -679,3 +678,29 @@
 	}
 }
 =

+material rtt_base
+{
+	technique
+	{
+		pass
+		{
+			ambient  1 1 1 1
+			specular 0 0 0 1
+			=

+			cull_hardware none
+			cull_software none
+			=

+			lighting off
+			scene_blend alpha_blend
+			depth_write off
+
+			texture_unit
+			{
+				texture guibase.png
+				tex_address_mode clamp
+				filtering anisotropic =

+				max_anisotropy 8
+			}
+		}
+	}
+}

Modified: trunk/data/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.debugmenu.lua (original)
+++ trunk/data/lua/lib.debugmenu.lua Wed Nov  7 20:55:19 2007
@@ -246,8 +246,7 @@
 	gDialog_IrisLogo:SetVisible(false)
 	gCurrentRenderer:Init()
 	ActivateRenderer(Renderer3D)
-	--Client_SetSkybox() -- cube skybox sunset darksun =

-	--GetMainViewport():SetBackCol(1,0,1)
+
 	Client_SetSkybox("skybox") -- cube skybox sunset darksun =

 	Renderer3D:ChangeCamMode(Renderer3D.kCamMode_Third)
 	Renderer3D.gfCamAngV =3D 0.0
@@ -402,16 +401,16 @@
 			local i =3D iStart + y*w + x
 			if (i < iMax) then
 =

-				local meshname =3D GetModelName(FilterMesh(i))
-				if not OgreMeshAvailable(meshname) then =

-					printdebug("static","mesh not available",meshname)
+				local dialog_arr =3D {}
+				if (gEnableRTTModelImages) then
+					dialog_arr =3D MakeRTTImageForDialog(i,0,48,32)
 				else
-					if (gEnableRTTModelImages) then
-						table.insert(row1	,MakeRTTImageForDialog(meshname,0,48,32))
-					else
-						table.insert(row1	,MakeUOArtImageForDialog(i,0,48,32))
-					end
-
+					dialog_arr =3D MakeUOArtImageForDialog(i,0,48,32)
+				end
+
+				if (dialog_arr) then
+					table.insert(row1, dialog_arr)
+	=

 					local name =3D GetStaticTileTypeName(i) or "unknown"
 					local label =3D sprintf("%s\n0x%04x",string.sub(name,1,6),i)
 					table.insert(row2	,{type=3D"Button",iArtID=3Di,text=3Dlabel,onMouseDo=
wn=3Dfunction(widget) =

@@ -428,29 +427,39 @@
 =

 ------------------------------------------ the following parts are copied =
from lugre and modified, should be merged into lugre ----------------------=
---------------------
 =

+-- TODO: CACHE and DESTORY !!!!!!!!!!!!!!!!!!!
+--
 -- iMaxW,iMaxH : can be nil for unlimited size
-function MakeRTTImageForDialog (meshname,iHue,iMaxW,iMaxH)
-	local texname,rtt =3D GetMeshPreviewX (meshname, iMaxW, 0, 1.5)
-	local matname =3D texname and GetPlainTextureMat(texname)
-
-	--SaveUOModelImageToFile(rtt,texname)
-
-	local isotilew =3D 44 / math.sqrt(2)
---	local w,h =3D GetArtSize(iTranslatedTileTypeID)
---	if (not w or w =3D=3D 0) then
-		w =3D isotilew
---	end
---	if (not h or h =3D=3D 0) then
-		h =3D isotilew
---	end
-	local tw,th =3D texsize(w),texsize(h)
-	local fw,fh =3D w,h
-	if (iMaxW) then w =3D math.min(iMaxW,w) end
-	if (iMaxH) then h =3D math.min(iMaxH,h) end
-	local offx,offy =3D (fw-w)*0.5,(fh-h)*0.5  -- this is 0,0 if the art is f=
ully visible, centers art if not
-	local u1,v1,u2,v2 =3D offx/tw,offy/th,(offx+w)/tw,(offy+h)/th
-	matname =3D (string.len(matname) > 0) and matname or "BaseWhiteNoLighting"
-	return {type=3D"Img2",	w=3Dw,h=3Dh,matname=3Dmatname, u1=3Du1,v1=3Dv1,u2=
=3Du2,v2=3Dv2}
+gRTTMaterialCache =3D {}
+function MakeRTTImageForDialog (TileTypeID,iHue,iMaxW,iMaxH)
+	local meshname =3D GetModelName(FilterMesh(TileTypeID))
+	if not OgreMeshAvailable(meshname) then printdebug("static","mesh not ava=
ilable", meshname) return end
+
+	local matname =3D gRTTMaterialCache[TileTypeID.."_"..iHue]
+
+	local w,h,u1,v1,u2,v2 =3D 0
+	if (not matname) then
+		local texname,rtt =3D GetMeshPreviewX (meshname, iMaxW, 0, 1.5, PF_A8R8G=
8B8, 1.0, 1.0, 1.0, 0.0)
+
+--		matname =3D texname and GetPlainTextureMat(texname)
+		matname =3D texname and CloneMaterial("rtt_base")
+		SetTexture(matname,texname)
+--		SaveUOModelImageToFile(rtt,texname)
+
+--		w,h =3D GetArtSize(iTranslatedTileTypeID)
+		w =3D 44 / math.sqrt(2)
+		h =3D 44 / math.sqrt(2)
+		local tw,th =3D texsize(w),texsize(h)
+		local fw,fh =3D w,h
+		if (iMaxW) then w =3D math.min(iMaxW,w) end
+		if (iMaxH) then h =3D math.min(iMaxH,h) end
+		local offx,offy =3D (fw-w)*0.5,(fh-h)*0.5  -- this is 0,0 if the art is =
fully visible, centers art if not
+		u1,v1,u2,v2 =3D offx/tw,offy/th,(offx+w)/tw,(offy+h)/th
+		matname =3D (string.len(matname) > 0) and matname or "BaseWhiteNoLightin=
g"
+
+		gRTTMaterialCache[TileTypeID.."_"..iHue] =3D matname
+	end
+	return {type=3D"Img2", w=3Dw,h=3Dh, matname=3Dmatname, u1=3Du1,v1=3Dv1,u2=
=3Du2,v2=3Dv2}
 end
 =

 function SaveUOModelImageToFile(rtt,texname)
@@ -458,14 +467,16 @@
 end
 =

 -- this is normally in lugre - just a bit modified - should be removed som=
etimes
-function GetMeshPreviewX	(meshname,res,angh,angv,pixelformat) =

+function GetMeshPreviewX (meshname, res, angh, angv, pixelformat, r, g, b,=
 a) =

 	res =3D res or 16
 	angh =3D angh or 45*gfDeg2Rad
 	angv =3D angv or 30*gfDeg2Rad
+
 --~ 	local x1,y1,z1,x2,y2,z2 =3D MeshReadOutExactBounds(meshname)
 --~ 	local boundrad =3D math.max(Vector.len(x1,y1,z1),Vector.len(x2,y2,z2))
 --~ 	MeshSetBounds(meshname,x1,y1,z1,x2,y2,z2)
 --~ 	MeshSetBoundRad(meshname,boundrad)
+
 	local boundrad =3D MeshGetBoundRad(meshname)
 	=

 	local name_scenemanager		=3D GetUniqueName()
@@ -475,32 +486,28 @@
 	CreateSceneManager(name_scenemanager)
 	local cam =3D CreateCamera(name_scenemanager)
 	local tex =3D CreateRenderTexture(name_texture,res,res,pixelformat or PF_=
A8R8G8B8)
+
 	if (not tex:IsAlive()) then return end
-	=

 	tex:SetAutoUpdated(false)
+
 	local vp =3D CreateRTTViewport(tex,cam)
-	cam:SetAspectRatio(vp:GetActualWidth()/vp:GetActualHeight())
-	--print("GetMeshPreview rtt-viewport size:",vp:GetActualWidth(),vp:GetAct=
ualHeight()) -- =3D res,res
 	vp:SetOverlaysEnabled(false)
-	=

---~ 		vp->setClearEveryFrame( true );
---~ 		vp->setBackgroundColour( ColourValue::Black );
-	-- CreateTextureUnitState(mymatname,0,0,myrttname)
-	=

+	vp:SetBackCol(r, g, b, a)
+
 	--local dist =3D GetRenderingDistanceForPixelSize(boundrad,res*0.25,vp,ca=
m)
 	local visrad_pixels =3D res*0.5
 	local vw,vh =3D res,res
 	local dist =3D 0.7 * math.max( boundrad/(visrad_pixels/vw), boundrad/(vis=
rad_pixels/vh) ) -- dirty hack, TODO : analyse projection matrix
 	=

 	Client_AddDirectionalLight(-0.3,-0.5,-0.1,name_scenemanager)
+
+	cam:SetAspectRatio(vp:GetActualWidth()/vp:GetActualHeight())
 	cam:SetNearClipDistance(1)
 	cam:SetFarClipDistance(dist*2 + boundrad)
 	=

-	--print("GetMeshPreview",boundrad,res,dist)
 	local gfx =3D CreateRootGfx3D(name_scenemanager)
 	gfx:SetMesh(meshname)
 =

---	gfx:SetPosition(0,-1,-dist)
 	gfx:SetPosition(0.5,-1,-dist);
 =

 	local qw,qx,qy,qz =3D Quaternion.fromAngleAxis(angv,1,0,0)
@@ -508,8 +515,8 @@
 	tex:Update()
 	cam:Destroy()
 	vp:Destroy()
+
 	-- TODO : DestroySceneManager(name_scenemanager)
 	return name_texture,tex
 end
-
 ------------------------------------------ the former parts are copied fro=
m lugre and modified, should be merged into lugre -------------------------=
------------------



From no-reply at zwischenwelt.org  Wed Nov  7 22:53:05 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 07 Nov 2007 21:53:05 -0000
Subject: [Iris-commit] [IRIS] r1500 - in /trunk/data: base/stone.png
	lua/obj/obj.dynamic.lua
Message-ID: <20071107215311.D70411C182C0@zwischenwelt.org>

Author: sience
Date: Wed Nov  7 22:53:04 2007
New Revision: 1500

Log:
-another obsolete texture deleted
-small change in GetStaticTileType

Removed:
    trunk/data/base/stone.png
Modified:
    trunk/data/lua/obj/obj.dynamic.lua

Modified: trunk/data/lua/obj/obj.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.dynamic.lua (original)
+++ trunk/data/lua/obj/obj.dynamic.lua Wed Nov  7 22:53:04 2007
@@ -127,16 +127,12 @@
 		-- self.yloc =3D self.yloc+self.gumpyoffset
 	end
 =

-
 	-- TODO : if (self.artid >=3D gMulti_ID +100) .. model is multi
 	-- gMulti_ID =3D hex2num("0x4000")
 	-- TODO : check self.artid for boat
-	=

-	if (gTileTypeLoader) then
-		local miFlags,miWeight,miQuality,miUnknown,miUnknown1,miQuantity,miAnimI=
D,miUnknown2,miHue,miUnknown3,miHeight,msName =3D gTileTypeLoader:GetStatic=
TileType(self.artid+32*512) -- add 0x00004000
-		self.z_typename =3D msName
-	end
-	=

+
+	if (gTileTypeLoader) then self.z_typename=3DGetStaticTileTypeName(self.ar=
tid) end
+
 	-- update container
 	self:SetContainer(self.iContainerSerial)
 	=




From no-reply at zwischenwelt.org  Fri Nov  9 22:45:53 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 09 Nov 2007 21:45:53 -0000
Subject: [Iris-commit] [IRIS] r1501 - /trunk/data/lua/main.lua
Message-ID: <20071109214553.C01EB1C182A7@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov  9 22:45:50 2007
New Revision: 1501

Log:
added check for last slash in gUOPath

Modified:
    trunk/data/lua/main.lua

Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Fri Nov  9 22:45:50 2007
@@ -135,8 +135,12 @@
 =

 -- checks if iris has found the uo directory and displays an error box if =
not
 function CheckUODir ()
+	=

 	if (not file_exists(CorrectPath(gUOPath.."art.mul"))) then
-		FatalErrorMessage(sprintf("iris2 could not find your ultima-online direc=
tory (searchpath : %s),\n please set gUOPath in data/config.lua",gUOPath))
+		gUOPath =3D gUOPath .. "/"  -- append slash and try again
+		if (not file_exists(CorrectPath(gUOPath.."art.mul"))) then
+			FatalErrorMessage(sprintf("iris2 could not find your ultima-online dire=
ctory (searchpath : %s),\n please set gUOPath in data/config.lua",gUOPath))
+		end
 	end
 	-- check for character(granny) models
 	if (not file_exists(CorrectPath(gUOPath.."models/models.txt"))) then



From no-reply at zwischenwelt.org  Tue Nov 13 21:01:31 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 13 Nov 2007 20:01:31 -0000
Subject: [Iris-commit] [IRIS] r1502 - in /trunk/data/lua: ./ filter/ gui/
	net/ obj/
Message-ID: <20071113200131.E14C51C182BC@zwischenwelt.org>

Author: sience
Date: Tue Nov 13 21:01:30 2007
New Revision: 1502

Log:
-all uo-file definitions are consolidated in config.lua.dist (map+statics+d=
iffs are in maps.xml)
-some comments cleaned up
-AmbientLight setting reorganised like SunLight setting
-Lights are correct created and deleted now
-lots of other changes
-some files moved to subfolders

Added:
    trunk/data/lua/filter/
    trunk/data/lua/filter/filter.art.lua
    trunk/data/lua/filter/filter.granny.lua
    trunk/data/lua/filter/filter.map.lua
    trunk/data/lua/net/net.corpse.lua
    trunk/data/lua/net/net.login.lua
    trunk/data/lua/net/net.skill.lua
    trunk/data/lua/net/net.sound.lua
    trunk/data/lua/net/net.world.lua
Removed:
    trunk/data/lua/filter.art.lua
    trunk/data/lua/filter.granny.lua
    trunk/data/lua/filter.map.lua
    trunk/data/lua/lib.meshexporter.lua
    trunk/data/lua/lib.oldiristest.lua
    trunk/data/lua/net.corpse.lua
    trunk/data/lua/net.login.lua
    trunk/data/lua/net.skill.lua
    trunk/data/lua/net.sound.lua
    trunk/data/lua/net.world.lua
Modified:
    trunk/data/lua/gui/gui.paperdoll.lua
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.3d.map.lua
    trunk/data/lua/lib.3d.renderer.lua
    trunk/data/lua/lib.charcreate.lua
    trunk/data/lua/lib.data.lua
    trunk/data/lua/lib.debugmenu.lua
    trunk/data/lua/lib.fallback.lua
    trunk/data/lua/lib.filepath.lua
    trunk/data/lua/lib.granny.lua
    trunk/data/lua/lib.gui.iris.lua
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.loading.lua
    trunk/data/lua/lib.protocol.lua
    trunk/data/lua/lib.sound.iris.lua
    trunk/data/lua/lib.static.lua
    trunk/data/lua/lib.stitchin.lua
    trunk/data/lua/lib.test.lua
    trunk/data/lua/main.lua
    trunk/data/lua/net/net.main.lua
    trunk/data/lua/obj/obj.mobile.lua

Modified: trunk/data/lua/gui/gui.paperdoll.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.paperdoll.lua (original)
+++ trunk/data/lua/gui/gui.paperdoll.lua Tue Nov 13 21:01:30 2007
@@ -335,7 +335,7 @@
 			NET: ProtocolPacketRecvHandler typeid=3D0x11,size=3D66,typename=3DkPack=
et_Mobile_Stats
 			NET (todo): Mobile_Stats id: 17 Size: 66 PlayerID: 1707739 Name: Admin
 			NET: ProtocolPacketRecvHandler typeid=3D0x3a,size=3D349,typename=3DkPac=
ket_Skills
-			(see net.skill.lua)
+			(see net/net.skill.lua)
 			]]--
 		end
 	end

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Tue Nov 13 21:01:30 2007
@@ -16,8 +16,8 @@
 	self:CreateDynamicGfx(item)
 end
 =

+-- TODO: Multis & Serversidemultis don't recognize kTileDataFlag_LightSour=
ce yet
 function Renderer3D:CreateDynamicGfx( item )
-
 	assert(not item.gfx)
 =

 	-- FILTER: get correction
@@ -93,7 +93,7 @@
 						child.artid =3D blocknum
 						table.insert(item.lMultiChildGfx, child)
 					else
-						printdebug("missing",sprintf("Renderer3D:CreateDynamicGfx: failed lo=
ading sub mesh for dynamic (multi): artid=3D%i\n",blocknum or -1))
+						printdebug("multi",sprintf("Renderer3D:CreateDynamicGfx: failed load=
ing sub mesh for dynamic (multi): artid=3D%i\n",blocknum or -1))
 					end
 				end
 			end
@@ -110,24 +110,14 @@
 	else
 		-- normal 1 part object
 		item.gfx =3D CreateRootGfx3D()
-		meshname =3D (not gForceFallBackBillboards_Dynamics) and GetStaticMeshNa=
me(item.artid,item.hue) -- (item.artid+ 0*16384,item.hue)
+		meshname =3D (not gForceFallBackBillboards_Dynamics) and GetStaticMeshNa=
me(item.artid,item.hue)
 		if (meshname and meshname ~=3D "") then
 			item.gfx:SetMesh(meshname)
 			item.gfx:SetScale(-1,1,1)		-- (-1) thats because xmirror bug and wrong =
mirrored mashes
 			item.gfx:SetNormaliseNormals(true)
 =

-			--kTileDataFlag_LightSource
-			if (gLightsources) then
-			local arrtiletype =3D {}
-			arrtiletype =3D GetStaticTileType(item.artid)
-			if( TestBit(arrtiletype.miFlags or 0,kTileDataFlag_LightSource) ) then
-				local x,y,z =3D Renderer3D:UOPosToLocal(item.xloc,item.yloc,(item.zloc=
+arrtiletype.miHeight) * 0.1)
-				Client_AddPointLight(x,y,z, 0.3,0.3,0.0, 0.3,0.3,0.0, 5.0,0.1,0.1,0.0)
-			end
-			end
-
 			-- --------------------------------------------------------------------=
-----
-			-- todo: HACK here (zadd because dynamic street-tiles dont look good (f=
lying).)
+			-- todo: HACK here (zadd because dynamic street-tiles dont look good (f=
lying)
 			if (CountMeshTriangles(meshname) <=3D 4) then =

 				item.gfx:SetCastShadows(false)	-- groundtiles and item billboards shou=
ldn't cast shadows
 				if (gTileTypeLoader) then
@@ -140,12 +130,10 @@
 =

 		elseif (gEnableFallBackBillboards_Dynamics) then
 			local iTranslatedTileTypeID =3D SeasonalStaticTranslation(item.artid, g=
SeasonSetting)
-			-- we have to add 16384 for fallbacks
+			-- we have to add 16384 for fallbacks, because static Art starts on 163=
84 in Art.mul file
 			iTranslatedTileTypeID =3D iTranslatedTileTypeID + 16384
 =

-			--print("######DYNAMIC MESH NOT FOUND : ",item.artid,iTranslatedTileTyp=
eID)
-			--print("######",vardump(GetStaticTileType(item.artid)))
-			-- fallback to billboard with original art or =

+			-- fallback to billboard with original art
 			if (not IsArtBillboardFallBackSkipped(item.artid)) then
 				item.gfx.billboard =3D item.gfx:CreateChild()
 				item.xadd =3D item.xadd + 0.5
@@ -159,6 +147,17 @@
 =

 		-- FILTER: correction
 		item.gfx:SetOrientation(GetStaticMeshOrientation(item.artid))
+
+		-- creates a light if lights are enabled and static is a lightsource
+		-- note! lights don't cast shadows
+		if (gLightsources) then
+			local arrtiletype =3D {}
+			arrtiletype =3D GetStaticTileType(item.artid)
+			if( TestBit(arrtiletype.miFlags or 0,kTileDataFlag_LightSource) ) then
+				local x,y,z =3D Renderer3D:UOPosToLocal(item.xloc,item.yloc,(item.zloc=
+arrtiletype.miHeight) * 0.1)
+				item.lightname=3DClient_AddPointLight(x,y,z, 0.3,0.3,0.0, 0.3,0.3,0.0,=
 5.0,0.1,0.1,0.0)
+			end
+		end
 =

 		self:UpdateDynamicItemPos(item)
 	end
@@ -174,7 +173,6 @@
 	if (not h or h =3D=3D 0) then h =3D isotilew end
 	gfx:SetSimpleRenderable()
 	gfx:SetMaterial(matname)
-	--gfx:SetMaterial("checker")
 	gfx:SetForceRotCam(GetMainCam())
 	gfx:RenderableBegin(4,6,false,false,OT_TRIANGLE_LIST)
 	gfx:RenderableVertex( 0.5*w / isotilew,-0.5					,0, 1*w/texsize(w),h/texs=
ize(h))
@@ -201,4 +199,6 @@
 		dynamic.gfx:Destroy()
 		dynamic.gfx =3D nil
 	end
-end
+	-- if gfx has an assigned lightsource, delete it
+	if (dynamic.lightname) then Client_RemoveLight(dynamic.lightname) dynamic=
.lightname =3D nil end
+end

Modified: trunk/data/lua/lib.3d.map.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.map.lua (original)
+++ trunk/data/lua/lib.3d.map.lua Tue Nov 13 21:01:30 2007
@@ -148,7 +148,7 @@
 	chunk.lStaticEntities =3D {}
 	=

 	-- load statics
-	if (gStaticBlockLoader) then -- probably needs gArtMapLoader and gLegacyM=
odelAndTextureLoader
+	if (gStaticBlockLoader) then -- probably needs gArtMapLoader
 		local x,y,i
 		local iTileTypeID,iX,iY,iZ,iHue
 		local entity,meshname
@@ -159,7 +159,7 @@
 =

 				printdebug("static","iStaticCount=3D"..iStaticCount)
 				printdebug("static","iBlockUO_X=3D"..iBlockUO_X.." iBlockUO_Y=3D"..iBl=
ockUO_Y)
-				printdebug("static","BlockX=3D"..iBlockUO_X+x.." BlockY=3D"..iBlockUO_=
Y+y)
+				printdebug("static","BlockX=3D"..x.." BlockY=3D"..y)
 =

 				for i =3D 0,iStaticCount-1 do
 					iTileTypeID,iX,iY,iZ,iHue =3D gStaticBlockLoader:GetStatic(i) -- oper=
ates on the block that was last loaded using :Load()
@@ -182,6 +182,8 @@
 					entity.iHue =3D iHue
 					=

 					meshname =3D (not gForceFallBackBillboards_Statics) and GetStaticMesh=
Name(iTileTypeID,iHue)
+					=

+					-- create Mesh
 					if (meshname and meshname ~=3D "" and (not MeshIsPseudoBillBoard(iTil=
eTypeID))) then
 						entity.staticentity =3D CreateMeshEntity(meshname)
 						local qw,qx,qy,qz =3D GetStaticMeshOrientation(iTileTypeID)
@@ -194,16 +196,6 @@
 						entity.sy =3D sy
 						entity.sz =3D sz
 =

-						-- lights don't cast shadows
-						if (gLightsources) then
-							local arrtiletype =3D {}
-							arrtiletype =3D GetStaticTileType(iTileTypeID)
-							if( TestBit(arrtiletype.miFlags or 0,kTileDataFlag_LightSource) ) t=
hen
-								local x,y,z =3D Renderer3D:UOPosToLocal(entity.x,entity.y,entity.z=
 * 0.1)
-								Client_AddPointLight(entity.x-0.5,entity.y-0.5,entity.z+arrtiletyp=
e.miHeight, 0.3,0.3,0.0, 0.3,0.3,0.0, 5.0,0.1,0.1,0.0)
-							end
-						end
-
 						local myLayer =3D iZ
 						local myLayerStaticGeom =3D chunk.pStaticGeometryLayers[myLayer]
 						if (not myLayerStaticGeom) then
@@ -215,8 +207,8 @@
 						myLayerStaticGeom:AddEntity(entity.staticentity,entity.x,entity.y,en=
tity.z,qw,qx,qy,qz,sx,sy,sz)
 						table.insert(chunk.lStaticEntities,entity)
 =

-					elseif (gEnableFallBackBillboards_Statics) then
-						-- fallback to billboard with original art or						=

+					-- or Fallback to billboard with original art
+					elseif (gEnableFallBackBillboards_Statics) then					=

 						local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeI=
D, gSeasonSetting)
 						-- we have to add 16384 for fallbacks
 						iTranslatedTileTypeID =3D iTranslatedTileTypeID + 16384
@@ -231,6 +223,18 @@
 							-- TODO : printdebug("missing",sprintf("Renderer3D:missing static :=
 artid=3D%i z_typename=3D%s\n",item.artid or -1,item.z_typename or ""))
 						end
 					end
+
+					-- creates a light if lights are enabled and static is a lightsource
+					-- note! lights don't cast shadows
+					if (gLightsources) then
+						local arrtiletype =3D {}
+						arrtiletype =3D GetStaticTileType(iTileTypeID)
+						if( TestBit(arrtiletype.miFlags or 0,kTileDataFlag_LightSource) ) th=
en
+							local x,y,z =3D Renderer3D:UOPosToLocal(entity.x,entity.y,entity.z =
* 0.1)
+							entity.lightname=3DClient_AddPointLight(entity.x-0.5,entity.y-0.5,e=
ntity.z+arrtiletype.miHeight, 0.3,0.3,0.0, 0.3,0.3,0.0, 5.0,0.1,0.1,0.0)
+						end
+					end
+
 					self:UpdateStaticVisibility(entity)
 				end =

 		end end
@@ -367,6 +371,7 @@
 end
 =

 -- coords in chunks
+-- TODO : release anything else that was allocated in CreateMapChunk
 function Renderer3D:DestroyMapChunk (x,y,chunk)
 	if (not chunk.bIsDead) then
 		--print("DestroyMapChunk",x,y)
@@ -374,7 +379,8 @@
 		if (chunk.pStaticGeometryTerrain) then chunk.pStaticGeometryTerrain:Dest=
roy() chunk.pStaticGeometryTerrain =3D nil end
 		if (chunk.terraingfx) then chunk.terraingfx:Destroy() chunk.terraingfx =
=3D nil end
 		if (chunk.pTerrainEntity) then chunk.pTerrainEntity:Destroy() chunk.pTer=
rainEntity =3D nil end
-		for k,v in pairs(chunk.lStaticEntities) do =

+		for k,v in pairs(chunk.lStaticEntities) do
+			if (v.lightname) then Client_RemoveLight(v.lightname) v.lightname =3D n=
il end
 			if (v.staticentity) then v.staticentity:Destroy() v.staticentity =3D ni=
l end
 			if (v.gfx and v.gfx.billboard) then v.gfx.billboard:Destroy() v.gfx.bil=
lboard =3D nil end
 			if (v.gfx) then v.gfx:Destroy() v.gfx =3D nil end
@@ -382,6 +388,5 @@
 		chunk.lStaticEntities =3D {}
 		for k,v in pairs(chunk.pStaticGeometryLayers) do v:Destroy() end chunk.p=
StaticGeometryLayers =3D {}
 		if (chunk.sTerrainMeshName) then UnloadMeshName(chunk.sTerrainMeshName) =
chunk.sTerrainMeshName =3D nil end -- unload terrain mesh
-		-- TODO : release anything else that was allocated in CreateMapChunk
-	end
-end
+	end
+end

Modified: trunk/data/lua/lib.3d.renderer.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.renderer.lua (original)
+++ trunk/data/lua/lib.3d.renderer.lua Tue Nov 13 21:01:30 2007
@@ -85,6 +85,7 @@
 	cam:SetFarClipDistance(2000) -- ogre defaul : 100000
 	cam:SetProjectionType(0) -- perspective
 	Client_ClearLights()
+
 	-- Sun Light
 	gDirectionalLightSun =3D Client_AddDirectionalLight(
 								gSunLightDirection.x,
@@ -100,7 +101,11 @@
 								gSunLightSpecular.r,
 								gSunLightSpecular.g,
 								gSunLightSpecular.b)
-	Client_SetAmbientLight(0.4, 0.4, 0.4, 1)
+
+	-- Ambient Light
+	Client_SetAmbientLight( gAmbientLight.r,
+							gAmbientLight.g,
+							gAmbientLight.b, 1)
 	=

 	self.gbActive =3D true
 	self:SetMapEnvironment()

Modified: trunk/data/lua/lib.charcreate.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.charcreate.lua (original)
+++ trunk/data/lua/lib.charcreate.lua Tue Nov 13 21:01:30 2007
@@ -33,7 +33,7 @@
 end
 =

 function GetCharCreationTemplates () =

-	return LoadProfInfo(CorrectPath(gUOPath.."Prof.txt"))
+	return LoadProfInfo(CorrectPath( Addfilepath(gProftxtFile) ))
 end
 =

 -- loads an Prof.txt info file with character creation templates

Modified: trunk/data/lua/lib.data.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.data.lua (original)
+++ trunk/data/lua/lib.data.lua Tue Nov 13 21:01:30 2007
@@ -43,21 +43,23 @@
 end
 =

 -- art material loader with caching
+-- if someone what to view runned tiles (static tiles) he has to add (iArt=
ID + 16384)
 gArtMatCache =3D {}
-function GetArtMat (iArtID,hueid)
+--[[
+function old_GetArtMat (iArtID,iHue)
 	if (not gArtMapLoader) then return "art_fallback" end
-	if (not(hueid) or (tonumber(hueid) > gMaxHueValue)) then hueid=3D0 end
-	local res =3D gArtMatCache[iArtID.."_"..hueid]
+	if (not(iHue) or (tonumber(iHue) > gMaxHueValue)) then iHue=3D0 end
+	local res =3D gArtMatCache[iArtID.."_"..iHue]
 	if (not res) then
 		res =3D {}
 		-- bPixelExact,bInvertY,bInvertX,bHasAlpha,bEnableLighting,bEnableDepthW=
rite,HueLoader,iHue
-		res.material =3D gArtMapLoader:CreateMaterial(iArtID,true,false,false,tr=
ue,false,false, gHueLoader, hueid)
+		res.material =3D gArtMapLoader:CreateMaterial(iArtID,true,false,false,tr=
ue,false,false, gHueLoader, iHue)
 		=

 		local iWidth, iHeight =3D gArtMapLoader:GetSize()
 		res.width =3D iWidth
 		res.height =3D iHeight
 		=

-		gArtMatCache[iArtID.."_"..hueid] =3D res
+		gArtMatCache[iArtID.."_"..iHue] =3D res
 	end
 	=

 	if (not res.material) then
@@ -71,18 +73,79 @@
 	=

 	return res.material
 end
-
+]]--
+function SaveUOModelImageToFile(rtt,texname)
+	if (rtt) then rtt:WriteContentsToFile("t"..texname..".bmp") end
+end
+-- New GetArtMat with RTT support
+function GetArtMat (iArtID,iHue)
+	if (not gArtMapLoader) then return "art_fallback" end
+	if (not(iHue) or (tonumber(iHue) > gMaxHueValue)) then iHue=3D0 end
+
+	local res =3D gArtMatCache[iArtID.."_"..iHue]
+	if (not res) then
+		res =3D {}
+		local w,h =3D 0
+
+		-- check if RTT generated Art Tiles is enabled and try to generate a RTT=
 Tile out of an *.mesh
+		if (gEnableRTTModelImages) then
+			printdebug("static","try to create RTT from MeshID (iArtID - 16384): ".=
.iArtID - 16384)
+			local meshname =3D GetModelName(FilterMesh(iArtID - 16384))
+
+			if (OgreMeshAvailable(meshname)) then
+				local iMaxW=3D48
+				local iMaxH=3D32
+				local texname,rtt =3D GetMeshPreviewX (meshname, iMaxW, 0, 1.5, PF_A8R=
8G8B8, 1.0, 1.0, 1.0, 0.0)
+				res.material =3D texname and CloneMaterial("rtt_base")
+				SetTexture(res.material,texname)
+			=

+				-- Saves the raw Texture as BMP or PNG
+				if (false) then SaveUOModelImageToFile(rtt,texname) end
+
+				w =3D 44 / math.sqrt(2)
+				h =3D 44 / math.sqrt(2)
+				if (iMaxW) then w =3D math.min(iMaxW,w) end
+				if (iMaxH) then h =3D math.min(iMaxH,h) end
+			else
+				printdebug("static","mesh not available", meshname)
+			end
+		end
+		=

+		-- if no Art Tile is existent, load the Art Tile from Art.mul
+		if (not res.material or res.material =3D=3D "") then
+			-- bPixelExact,bInvertY,bInvertX,bHasAlpha,bEnableLighting,bEnableDepth=
Write,HueLoader,iHue
+			res.material =3D gArtMapLoader:CreateMaterial(iArtID,true,false,false,t=
rue,false,false, gHueLoader, iHue)
+			w,h =3D gArtMapLoader:GetSize()
+		end
+
+		res.width =3D w
+		res.height =3D h
+		=

+		gArtMatCache[iArtID.."_"..iHue] =3D res
+	end
+	=

+	if (not res.material) then
+		-- fallbacks if not found
+		if (iArtID < 16384) then
+			return GetArtMat( 0 ) -- fallback first ground
+		else
+			return GetArtMat( 16384 ) -- fallback first static
+		end
+	end
+	=

+	return res.material
+end
 =

 -- art material loader with caching
 gArtBillBoardMatCache =3D {}
-function GetArtBillBoardMat (iArtID,hueid)
-	if (not(hueid) or (hueid > gMaxHueValue)) then hueid=3D0 end
-	local res =3D gArtBillBoardMatCache[iArtID.."_"..hueid]
+function GetArtBillBoardMat (iArtID,iHue)
+	if (not(iHue) or (iHue > gMaxHueValue)) then iHue=3D0 end
+	local res =3D gArtBillBoardMatCache[iArtID.."_"..iHue]
 	if (res) then return res end
 	-- bPixelExact,bInvertY,bInvertX,bHasAlpha,bEnableLighting,bEnableDepthWr=
ite,HueLoader,iHue
-	res =3D gArtMapLoader and gArtMapLoader:CreateMaterial(iArtID,true,false,=
false,true,false,true, gHueLoader,hueid)
+	res =3D gArtMapLoader and gArtMapLoader:CreateMaterial(iArtID,true,false,=
false,true,false,true, gHueLoader,iHue)
 	if (not res or res =3D=3D "") then res =3D "art_fallback" end
-	gArtBillBoardMatCache[iArtID.."_"..hueid] =3D res
+	gArtBillBoardMatCache[iArtID.."_"..iHue] =3D res
 	return res
 end
 =

@@ -114,12 +177,12 @@
 =

 -- gump material loader with caching
 gGumpMatCache =3D {}
-function GetGumpMat (iGumpID,hueid)
-	if (not(hueid) or (hueid > gMaxHueValue)) then hueid=3D0 end
-	local res =3D gGumpMatCache[iGumpID.."_"..hueid]
+function GetGumpMat (iGumpID,iHue)
+	if (not(iHue) or (iHue > gMaxHueValue)) then iHue=3D0 end
+	local res =3D gGumpMatCache[iGumpID.."_"..iHue]
 	if (not res and gGumpLoader) then
-		res =3D gGumpLoader:CreateMaterial(iGumpID,true,gHueLoader,hueid)
-		gGumpMatCache[iGumpID.."_"..hueid] =3D res
+		res =3D gGumpLoader:CreateMaterial(iGumpID,true,gHueLoader,iHue)
+		gGumpMatCache[iGumpID.."_"..iHue] =3D res
 	end
 	return res
 end
@@ -151,3 +214,59 @@
 	gTexMapLoader:Load(iTexMapID)
 	return gTexMapLoader:GetSize()
 end
+
+------------------------------------------ the following parts are copied =
from lugre and modified, should be merged into lugre ----------------------=
---------------------
+-- this is normally in lugre - just a bit modified - should be removed som=
etimes
+function GetMeshPreviewX (meshname, res, angh, angv, pixelformat, r, g, b,=
 a) =

+	res =3D res or 16
+	angh =3D angh or 45*gfDeg2Rad
+	angv =3D angv or 30*gfDeg2Rad
+
+--~ 	local x1,y1,z1,x2,y2,z2 =3D MeshReadOutExactBounds(meshname)
+--~ 	local boundrad =3D math.max(Vector.len(x1,y1,z1),Vector.len(x2,y2,z2))
+--~ 	MeshSetBounds(meshname,x1,y1,z1,x2,y2,z2)
+--~ 	MeshSetBoundRad(meshname,boundrad)
+
+	local boundrad =3D MeshGetBoundRad(meshname)
+	=

+	local name_scenemanager		=3D GetUniqueName()
+	local name_texture			=3D GetUniqueName()
+	=

+	-- prepare rtt
+	CreateSceneManager(name_scenemanager)
+	local cam =3D CreateCamera(name_scenemanager)
+	local tex =3D CreateRenderTexture(name_texture,res,res,pixelformat or PF_=
A8R8G8B8)
+
+	if (not tex:IsAlive()) then return end
+	tex:SetAutoUpdated(false)
+
+	local vp =3D CreateRTTViewport(tex,cam)
+	vp:SetOverlaysEnabled(false)
+	vp:SetBackCol(r, g, b, a)
+
+	--local dist =3D GetRenderingDistanceForPixelSize(boundrad,res*0.25,vp,ca=
m)
+	local visrad_pixels =3D res*0.5
+	local vw,vh =3D res,res
+	local dist =3D 0.7 * math.max( boundrad/(visrad_pixels/vw), boundrad/(vis=
rad_pixels/vh) ) -- dirty hack, TODO : analyse projection matrix
+	=

+	Client_AddDirectionalLight(-0.3,-0.5,-0.1,name_scenemanager)
+
+	cam:SetAspectRatio(vp:GetActualWidth()/vp:GetActualHeight())
+	cam:SetNearClipDistance(1)
+	cam:SetFarClipDistance(dist*2 + boundrad)
+	=

+	local gfx =3D CreateRootGfx3D(name_scenemanager)
+	gfx:SetMesh(meshname)
+
+	gfx:SetPosition(0.5,-1,-dist);
+
+	local qw,qx,qy,qz =3D Quaternion.fromAngleAxis(angv,1,0,0)
+	gfx:SetOrientation(Quaternion.Mul(qw,qx,qy,qz,Quaternion.fromAngleAxis(an=
gh + 180*gfDeg2Rad,0,1,0)))
+	tex:Update()
+	cam:Destroy()
+	vp:Destroy()
+
+	-- TODO : DestroySceneManager(name_scenemanager)
+	return name_texture,tex
+end
+------------------------------------------ the former parts are copied fro=
m lugre and modified, should be merged into lugre -------------------------=
------------------

Modified: trunk/data/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.debugmenu.lua (original)
+++ trunk/data/lua/lib.debugmenu.lua Tue Nov 13 21:01:30 2007
@@ -371,6 +371,28 @@
 	DebugMenuSetParam1(iArtID)
 end
 =

+-- iMaxW,iMaxH : can be nil for unlimited size
+function MakeUOArtImageForDialog (iTileTypeID, iHue, iMaxW, iMaxH) =

+	iHue =3D iHue or 0
+	local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeID, gS=
easonSetting)
+	-- we have to add 16384 for fallbacks
+	iTranslatedTileTypeID =3D iTranslatedTileTypeID + 16384
+
+	local matname =3D GetArtMat(iTranslatedTileTypeID,iHue)
+	local isotilew =3D 44 / math.sqrt(2)
+	local w,h =3D GetArtSize(iTranslatedTileTypeID)
+	if (not w or w =3D=3D 0) then w =3D isotilew end
+	if (not h or h =3D=3D 0) then h =3D isotilew end
+	local tw,th =3D texsize(w),texsize(h)
+	local fw,fh =3D w,h
+	if (iMaxW) then w =3D math.min(iMaxW,w) end
+	if (iMaxH) then h =3D math.min(iMaxH,h) end
+	local offx,offy =3D (fw-w)*0.5,(fh-h)*0.5  -- this is 0,0 if the art is f=
ully visible, centers art if not
+	local u1,v1,u2,v2 =3D offx/tw,offy/th,(offx+w)/tw,(offy+h)/th
+	matname =3D (string.len(matname) > 0) and matname or "BaseWhiteNoLighting"
+	return {type=3D"Img2",	w=3Dw,h=3Dh,matname=3Dmatname, u1=3Du1,v1=3Dv1,u2=
=3Du2,v2=3Dv2}
+end
+
 function ShowDebugMenuArtList (iStart)
 	local rows =3D { =

 		{ {type=3D"Label",		text=3D"ArtList"}, },
@@ -402,11 +424,7 @@
 			if (i < iMax) then
 =

 				local dialog_arr =3D {}
-				if (gEnableRTTModelImages) then
-					dialog_arr =3D MakeRTTImageForDialog(i,0,48,32)
-				else
-					dialog_arr =3D MakeUOArtImageForDialog(i,0,48,32)
-				end
+				dialog_arr =3D MakeUOArtImageForDialog(i,0,48,32)
 =

 				if (dialog_arr) then
 					table.insert(row1, dialog_arr)
@@ -424,99 +442,3 @@
 =

 	guimaker.MakeTableDlg(rows,10,10,true,true,gGuiDefaultStyleSet,"window")
 end
-
------------------------------------------- the following parts are copied =
from lugre and modified, should be merged into lugre ----------------------=
---------------------
-
--- TODO: CACHE and DESTORY !!!!!!!!!!!!!!!!!!!
---
--- iMaxW,iMaxH : can be nil for unlimited size
-gRTTMaterialCache =3D {}
-function MakeRTTImageForDialog (TileTypeID,iHue,iMaxW,iMaxH)
-	local meshname =3D GetModelName(FilterMesh(TileTypeID))
-	if not OgreMeshAvailable(meshname) then printdebug("static","mesh not ava=
ilable", meshname) return end
-
-	local matname =3D gRTTMaterialCache[TileTypeID.."_"..iHue]
-
-	local w,h,u1,v1,u2,v2 =3D 0
-	if (not matname) then
-		local texname,rtt =3D GetMeshPreviewX (meshname, iMaxW, 0, 1.5, PF_A8R8G=
8B8, 1.0, 1.0, 1.0, 0.0)
-
---		matname =3D texname and GetPlainTextureMat(texname)
-		matname =3D texname and CloneMaterial("rtt_base")
-		SetTexture(matname,texname)
---		SaveUOModelImageToFile(rtt,texname)
-
---		w,h =3D GetArtSize(iTranslatedTileTypeID)
-		w =3D 44 / math.sqrt(2)
-		h =3D 44 / math.sqrt(2)
-		local tw,th =3D texsize(w),texsize(h)
-		local fw,fh =3D w,h
-		if (iMaxW) then w =3D math.min(iMaxW,w) end
-		if (iMaxH) then h =3D math.min(iMaxH,h) end
-		local offx,offy =3D (fw-w)*0.5,(fh-h)*0.5  -- this is 0,0 if the art is =
fully visible, centers art if not
-		u1,v1,u2,v2 =3D offx/tw,offy/th,(offx+w)/tw,(offy+h)/th
-		matname =3D (string.len(matname) > 0) and matname or "BaseWhiteNoLightin=
g"
-
-		gRTTMaterialCache[TileTypeID.."_"..iHue] =3D matname
-	end
-	return {type=3D"Img2", w=3Dw,h=3Dh, matname=3Dmatname, u1=3Du1,v1=3Dv1,u2=
=3Du2,v2=3Dv2}
-end
-
-function SaveUOModelImageToFile(rtt,texname)
-	if (rtt) then rtt:WriteContentsToFile("t"..texname..".bmp") end
-end
-
--- this is normally in lugre - just a bit modified - should be removed som=
etimes
-function GetMeshPreviewX (meshname, res, angh, angv, pixelformat, r, g, b,=
 a) =

-	res =3D res or 16
-	angh =3D angh or 45*gfDeg2Rad
-	angv =3D angv or 30*gfDeg2Rad
-
---~ 	local x1,y1,z1,x2,y2,z2 =3D MeshReadOutExactBounds(meshname)
---~ 	local boundrad =3D math.max(Vector.len(x1,y1,z1),Vector.len(x2,y2,z2))
---~ 	MeshSetBounds(meshname,x1,y1,z1,x2,y2,z2)
---~ 	MeshSetBoundRad(meshname,boundrad)
-
-	local boundrad =3D MeshGetBoundRad(meshname)
-	=

-	local name_scenemanager		=3D GetUniqueName()
-	local name_texture			=3D GetUniqueName()
-	=

-	-- prepare rtt
-	CreateSceneManager(name_scenemanager)
-	local cam =3D CreateCamera(name_scenemanager)
-	local tex =3D CreateRenderTexture(name_texture,res,res,pixelformat or PF_=
A8R8G8B8)
-
-	if (not tex:IsAlive()) then return end
-	tex:SetAutoUpdated(false)
-
-	local vp =3D CreateRTTViewport(tex,cam)
-	vp:SetOverlaysEnabled(false)
-	vp:SetBackCol(r, g, b, a)
-
-	--local dist =3D GetRenderingDistanceForPixelSize(boundrad,res*0.25,vp,ca=
m)
-	local visrad_pixels =3D res*0.5
-	local vw,vh =3D res,res
-	local dist =3D 0.7 * math.max( boundrad/(visrad_pixels/vw), boundrad/(vis=
rad_pixels/vh) ) -- dirty hack, TODO : analyse projection matrix
-	=

-	Client_AddDirectionalLight(-0.3,-0.5,-0.1,name_scenemanager)
-
-	cam:SetAspectRatio(vp:GetActualWidth()/vp:GetActualHeight())
-	cam:SetNearClipDistance(1)
-	cam:SetFarClipDistance(dist*2 + boundrad)
-	=

-	local gfx =3D CreateRootGfx3D(name_scenemanager)
-	gfx:SetMesh(meshname)
-
-	gfx:SetPosition(0.5,-1,-dist);
-
-	local qw,qx,qy,qz =3D Quaternion.fromAngleAxis(angv,1,0,0)
-	gfx:SetOrientation(Quaternion.Mul(qw,qx,qy,qz,Quaternion.fromAngleAxis(an=
gh + 180*gfDeg2Rad,0,1,0)))
-	tex:Update()
-	cam:Destroy()
-	vp:Destroy()
-
-	-- TODO : DestroySceneManager(name_scenemanager)
-	return name_texture,tex
-end
------------------------------------------- the former parts are copied fro=
m lugre and modified, should be merged into lugre -------------------------=
------------------

Modified: trunk/data/lua/lib.fallback.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.fallback.lua (original)
+++ trunk/data/lua/lib.fallback.lua Tue Nov 13 21:01:30 2007
@@ -85,30 +85,6 @@
 	gLastFallBackToolDialog =3D guimaker.MakeTableDlg(rows,100,10,true,true,g=
GuiDefaultStyleSet,"window")
 end
 =

--- iMaxW,iMaxH : can be nil for unlimited size
-function MakeUOArtImageForDialog (iTileTypeID, iHue, iMaxW, iMaxH) =

-	iHue =3D iHue or 0
-	local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeID, gS=
easonSetting)
-	-- we have to add 16384 for fallbacks
-	iTranslatedTileTypeID =3D iTranslatedTileTypeID + 16384
-
-	local matname =3D GetArtMat(iTranslatedTileTypeID,iHue)
-	local isotilew =3D 44 / math.sqrt(2)
-	local w,h =3D GetArtSize(iTranslatedTileTypeID)
-	if (not w or w =3D=3D 0) then w =3D isotilew end
-	if (not h or h =3D=3D 0) then h =3D isotilew end
-	local tw,th =3D texsize(w),texsize(h)
-	local fw,fh =3D w,h
-	if (iMaxW) then w =3D math.min(iMaxW,w) end
-	if (iMaxH) then h =3D math.min(iMaxH,h) end
-	local offx,offy =3D (fw-w)*0.5,(fh-h)*0.5  -- this is 0,0 if the art is f=
ully visible, centers art if not
-	local u1,v1,u2,v2 =3D offx/tw,offy/th,(offx+w)/tw,(offy+h)/th
-	matname =3D (string.len(matname) > 0) and matname or "BaseWhiteNoLighting"
-	return {type=3D"Img2",	w=3Dw,h=3Dh,matname=3Dmatname, u1=3Du1,v1=3Dv1,u2=
=3Du2,v2=3Dv2}
-end
-
-
-
 function ListFallBackTypesNearPos (x,y,z,radius)
 	local res =3D {}
 	local listall =3D false -- true:all,false:only where fallback is used

Modified: trunk/data/lua/lib.filepath.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.filepath.lua (original)
+++ trunk/data/lua/lib.filepath.lua Tue Nov 13 21:01:30 2007
@@ -1,14 +1,4 @@
 -- utils for working with filepaths
-
--- fixes problems with case sensitive file systems
---function CorrectPath (path)
---	return PathSearch(path) or path
---end
-function CorrectPath (path)  =

-	if (string.sub(path,2,1) =3D=3D ":") then path =3D string.upper(path) end
-	path =3D string.gsub(path, "\\", "/")
-	return PathSearch(path) or path
-end
 =

 -- detect UOPath
 if (not gUOPath) then
@@ -26,3 +16,24 @@
 		gUOPath =3D "../uo/"
 	end
 end
+
+function CorrectPath (path)
+	if (string.sub(path,2,1) =3D=3D ":") then path =3D string.upper(path) end
+	path =3D string.gsub(path, "\\", "/")
+	return PathSearch(path) or path
+end
+
+-- dann machs doch so, dass gUOPath nur dran gehaengt wird, wenn =

+function Addfilepath (filepath)
+	if file_exists(filepath) then
+print(filepath)
+		return filepath
+	else
+print(gUOPath..filepath)
+		return gUOPath..filepath
+	end
+end
+
+function CorrectGrannyPath (filename) =

+	return CorrectPath( Addfilepath(gGrannyPath..filename) )
+end

Modified: trunk/data/lua/lib.granny.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.granny.lua (original)
+++ trunk/data/lua/lib.granny.lua Tue Nov 13 21:01:30 2007
@@ -13,7 +13,6 @@
 gGrannyTypeAnimListFiles =3D {[0]=3D"Monster.lst",[1]=3D"Sea.lst",[2]=3D"A=
nimal.lst",[3]=3D"Human.lst"}
 gSkeletons =3D {}
 gAnimInfoLists =3D false
-
 =

 gGrannyModelsFemale1 =3D {401} -- filled during loading models.txt (all wh=
ere anim=3D401) : 606,184,186,745,751,774,765,770,773
 gGrannyModelsFemale2 =3D {} -- filled during loading models.txt (all where=
 modelname contains female) (a lot)
@@ -57,13 +56,11 @@
 =

 gGrannyScaleFactor =3D 0.65 --0.5
 =

-
-
 function CreateGrannyLoader(loadertype,base_file,localisation_file,bWarnOn=
MissingFile)
 	if (loadertype =3D=3D "OnDemand") then
 		gAnimInfoLists =3D {}
 		for k,filename in pairs(gGrannyTypeAnimListFiles) do =

-			gAnimInfoLists[k] =3D LoadGrannyAnimInfo(CorrectGrannyPath(filename))
+			gAnimInfoLists[k] =3D LoadGrannyAnimInfo( CorrectPath(Addfilepath(gGran=
nyPath..filename)) )
 		end	=

 		--~ GetOrCreateSkeleton(400) -- precache h_male
 		--~ GetOrCreateSkeleton(401) -- precache h_female
@@ -73,8 +70,6 @@
 		return nil
 	end
 end
-
-
 =

 -- retrieves or creates a skeleton and fills it with bones from the first =
animation
 -- local skeleton =3D GetOrCreateSkeleton(bodyid)
@@ -148,7 +143,7 @@
 	if (not animname) then return nil end
 	--assert(animname,"GetAnimPath failed, name not found : "..tostring(bodyi=
d)..","..tostring(animid))
 	--print("anim",gGrannyTypeDirs[modelinfo.typeid] .. modelinfo.modelname .=
. "_" .. animname .. ".grn")
-	return CorrectGrannyPath(gGrannyTypeDirs[modelinfo.typeid] .. modelinfo.m=
odelname .. "_" .. animname .. ".grn")
+	return CorrectPath( Addfilepath(gGrannyPath..gGrannyTypeDirs[modelinfo.ty=
peid]..modelinfo.modelname.."_"..animname..".grn") )
 end
 =

 -- GetAnimName(400,23) looks in Human.lst for animid 23 and returns "Horse=
_Walk_01"
@@ -382,13 +377,8 @@
 	return grannymodelinfo
 end
 =

-
-function CorrectGrannyPath (filename) =

-	return CorrectPath(gUOPath.."models/"..filename)
-end
-
 function GetGrannyModelInfo (modelid) =

-	if (not gGrannyModelInfo) then gGrannyModelInfo =3D LoadGrannyModelInfo(C=
orrectGrannyPath("Models.txt")) end
+	if (not gGrannyModelInfo) then gGrannyModelInfo =3D LoadGrannyModelInfo( =
CorrectGrannyPath(gModelstxtFile) ) end
 	return gGrannyModelInfo[modelid]
 end
 =


Modified: trunk/data/lua/lib.gui.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gui.iris.lua (original)
+++ trunk/data/lua/lib.gui.iris.lua Tue Nov 13 21:01:30 2007
@@ -48,7 +48,7 @@
 	end
 end
 =

-function gui.StartLoading () =

+function gui.StartLoading() =

 	-- iris logo
 	gDialog_IrisLogo =3D guimaker.MyCreateDialog()
 	local widget =3D guimaker.MakePlane(gDialog_IrisLogo,"irislogo",-128,-128=
,256,256)

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Tue Nov 13 21:01:30 2007
@@ -66,30 +66,30 @@
 	end end end)
 =

 	Bind("f7",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
-		if (gAmbientColor.r < 1.0) then
-			gAmbientColor.r=3DgAmbientColor.r+0.1
-			gAmbientColor.g=3DgAmbientColor.g+0.1
-			gAmbientColor.b=3DgAmbientColor.b+0.1
+		if (gAmbientLight.r < 1.0) then
+			gAmbientLight.r=3DgAmbientLight.r+0.1
+			gAmbientLight.g=3DgAmbientLight.g+0.1
+			gAmbientLight.b=3DgAmbientLight.b+0.1
 		else
-			gAmbientColor.r=3D1.0
-			gAmbientColor.g=3D1.0
-			gAmbientColor.b=3D1.0
+			gAmbientLight.r=3D1.0
+			gAmbientLight.g=3D1.0
+			gAmbientLight.b=3D1.0
 		end
-		print("gAmbientColor.r=3D"..gAmbientColor.r)
-		Client_SetAmbientLight(gAmbientColor.r, gAmbientColor.g, gAmbientColor.b=
, 1)
+		print("gAmbientLight.r=3D"..gAmbientLight.r)
+		Client_SetAmbientLight(gAmbientLight.r, gAmbientLight.g, gAmbientLight.b=
, 1)
  	end end end)
 		Bind("f8",	function (state) if (not gActiveEditText) then if (state > 0)=
 then
-		if (gAmbientColor.r > 0.1) then
-			gAmbientColor.r=3DgAmbientColor.r-0.1
-			gAmbientColor.g=3DgAmbientColor.g-0.1
-			gAmbientColor.b=3DgAmbientColor.b-0.1
+		if (gAmbientLight.r > 0.1) then
+			gAmbientLight.r=3DgAmbientLight.r-0.1
+			gAmbientLight.g=3DgAmbientLight.g-0.1
+			gAmbientLight.b=3DgAmbientLight.b-0.1
 		else
-			gAmbientColor.r=3D0.0
-			gAmbientColor.g=3D0.0
-			gAmbientColor.b=3D0.0
+			gAmbientLight.r=3D0.0
+			gAmbientLight.g=3D0.0
+			gAmbientLight.b=3D0.0
 		end
-		print("gAmbientColor.r=3D"..gAmbientColor.r)
-		Client_SetAmbientLight(gAmbientColor.r, gAmbientColor.g, gAmbientColor.b=
, 1)
+		print("gAmbientLight.r=3D"..gAmbientLight.r)
+		Client_SetAmbientLight(gAmbientLight.r, gAmbientLight.g, gAmbientLight.b=
, 1)
  	end end end)
 =

 	--[[

Modified: trunk/data/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.loading.lua (original)
+++ trunk/data/lua/lib.loading.lua Tue Nov 13 21:01:30 2007
@@ -1,5 +1,4 @@
 -- handles loading of data
-
 gLoadedMapID =3D -1
 =

 gPreOgreTime =3D 0
@@ -38,50 +37,20 @@
 	=

 	if (gHueLoaderType) then
 		LoadingProfile("init HueLoader")
-		gHueLoader =3D CreateHueLoader(gHueLoaderType,CorrectPath(gUOPath.."hues=
.mul"))
+		gHueLoader =3D CreateHueLoader(gHueLoaderType,CorrectPath( Addfilepath(g=
HuesFile) ) )
 	end
 		=

 	if (gArtMapLoaderType) then
 		LoadingProfile("init ArtMapLoader")
-		gArtMapLoader =3D CreateArtMapLoader(gArtMapLoaderType,CorrectPath(gUOPa=
th.."artidx.mul"),CorrectPath(gUOPath.."art.mul"))
-		=

-		if gUseNewModelLoader then
-			gManualArtMaterialLoader =3D CreateManualArtMaterialLoader("uo_art_%i",=
"tex_base_alpha",gArtMapLoader,true,true,false)
-			--local count =3D gArtMapLoader:GetCount()
-			-- print("count",count)
-			--for i=3D16384,count-1 do
-			--	l:CreateResource("uo_art_"..i)
-			--end
-			-- if l then l:Destroy() end
-			=

-			=

-			--[[ bad model detector and remover
-			local i =3D 0
-			local mintri =3D -1
-			-- for exporting models from models.uim
-			for i=3D0,20000 do
-				local meshname =3D GetStaticMeshName(i)
-				if meshname then
-					local tris =3D CountMeshTriangles(meshname)
-					=

-					if mintri =3D=3D -1 or tris < mintri then mintri =3D tris end
-					=

-					if tris <=3D 2 and HasModelOnlyOneUoArt(i) then
-						print("bad mesh found",i,tris,meshnam)
-						os.execute("svn rm " .. GetModelPath(i))
-					else
-					end
-				end
-			end
-			print("mintri",mintri)
-			Crash()
-			]]--
-		end
+		gArtMapLoader =3D CreateArtMapLoader(gArtMapLoaderType,CorrectPath( Addf=
ilepath(gArtidxFile) ),CorrectPath( Addfilepath(gArtFile) ))
+
+		LoadingProfile("init ManualArtMaterialLoader")
+		gManualArtMaterialLoader =3D CreateManualArtMaterialLoader("uo_art_%i","=
tex_base_alpha",gArtMapLoader,true,true,false)
 	end
 		=

 	if (gGumpLoaderType) then
 		LoadingProfile("init GumpLoader")
-		gGumpLoader =3D CreateGumpLoader(gGumpLoaderType,CorrectPath(gUOPath.."g=
umpidx.mul"),CorrectPath(gUOPath.."gumpart.mul"))
+		gGumpLoader =3D CreateGumpLoader(gGumpLoaderType,CorrectPath( Addfilepat=
h(gGumpidxFile) ),CorrectPath( Addfilepath(gGumpFile) ))
 	end
 end
 =

@@ -104,43 +73,43 @@
 	--DebugCallLogStartIgnore()
 	LoadingProfile("init unifonts")
 	if (gUniFontLoaderType) then
-		CreateUniFont(CorrectPath(gUOPath.."unifont.mul"),"font_unifont0")
+		CreateUniFont(CorrectPath( Addfilepath(gUnifontFile) ),"font_unifont0")
 		for i=3D1,2 do
 			gUniFontName[i] =3D "font_unifont"..i
-			gUniFontHeight[i] =3D CreateUniFont(CorrectPath(gUOPath.."unifont"..i..=
".mul"),gUniFontName[i])
+			gUniFontHeight[i] =3D CreateUniFont(CorrectPath( Addfilepath(gUnifonts.=
.i..".mul") ),gUniFontName[i])
 		end
 	end
 	=

 	if (gClilocLoaderType) then
 		LoadingProfile("init ClilocLoader")
 		local localisation_file =3D nil
-		if (gLanguage) then localisation_file =3D CorrectPath(gUOPath.."Cliloc."=
..gLanguage) end
-		gClilocLoader =3D CreateClilocLoader(gClilocLoaderType,CorrectPath(gUOPa=
th.."Cliloc.enu"),localisation_file,true)
-		=

+		if (gLanguage) then localisation_file =3D CorrectPath( Addfilepath(gClil=
oc..gLanguage) ) end
+		gClilocLoader =3D CreateClilocLoader(gClilocLoaderType,CorrectPath( Addf=
ilepath(gClilocbaseFile) ),localisation_file,true)
+
 		-- intloc loaders, same format as cliloc, like intloc00.enu  intloc11.enu
 		for i =3D 0,20 do
-			local filenamebase =3D gUOPath..sprintf("intloc%02d.",i)
+			local filenamebase =3D sprintf(gIntlocFiles,i)
 			local localisation_file =3D nil
-			if (gLanguage) then localisation_file =3D CorrectPath(filenamebase..gLa=
nguage) end
-			gIntLocLoaders[i] =3D CreateClilocLoader(gClilocLoaderType,CorrectPath(=
filenamebase.."enu"),localisation_file)
+			if (gLanguage) then localisation_file =3D CorrectPath( Addfilepath(file=
namebase..gLanguage) ) end
+			gIntLocLoaders[i] =3D CreateClilocLoader(gClilocLoaderType,CorrectPath(=
 Addfilepath(filenamebase.."enu") ),localisation_file)
 		end
 	end
 =

 	if (gStitchinLoaderType) then
 		LoadingProfile("init StitchinLoader")
-		gStitchinLoader =3D CreateStitchinLoader(gStitchinLoaderType,CorrectPath=
(gUOPath.."stitchin.def"))
+		gStitchinLoader =3D CreateStitchinLoader(gStitchinLoaderType,CorrectPath=
( Addfilepath(gStitchinFile) ))
 	end
 =

 	if (gSpeechLoaderType) then
 		LoadingProfile("init SpeechLoader")
 		if (gSpeechSupport) then
-			gSpeechLoader =3D CreateSpeechLoader(gSpeechLoaderType,CorrectPath(gUOP=
ath.."speech.mul"),true)
+			gSpeechLoader =3D CreateSpeechLoader(gSpeechLoaderType,CorrectPath( Add=
filepath(gSpeechFile) ),true)
 		end
 	end
 =

 	if (gTileTypeLoaderType) then
 		LoadingProfile("init TileTypeLoader")
-		gTileTypeLoader =3D CreateTileTypeLoader(gTileTypeLoaderType,CorrectPath=
(gUOPath.."tiledata.mul"))
+		gTileTypeLoader =3D CreateTileTypeLoader(gTileTypeLoaderType,CorrectPath=
( Addfilepath(gTiledataFile) ))
 		gTileTypeLoader._GetStaticTileType =3D gTileTypeLoader.GetStaticTileType
 		gTileTypeLoader.GetStaticTileType =3D function (...)
 			local arr =3D { gTileTypeLoader._GetStaticTileType(unpack(arg)) }
@@ -153,51 +122,39 @@
 	=

 	if (gTexMapLoaderType) then
 		LoadingProfile("init TexMapLoader")
-		gTexMapLoader =3D CreateTexMapLoader(gTexMapLoaderType,CorrectPath(gUOPa=
th.."texidx.mul"),CorrectPath(gUOPath.."texmaps.mul"))
+		gTexMapLoader =3D CreateTexMapLoader(gTexMapLoaderType,CorrectPath( Addf=
ilepath(gTexidxFile) ),CorrectPath( Addfilepath(gTexmapsFile) ))
 	end
 =

 	if (gMultiLoaderType) then
 		LoadingProfile("init MultiLoader")
-		gMultiLoader =3D CreateMultiLoader(gMultiLoaderType,CorrectPath(gUOPath.=
."multi.idx"),CorrectPath(gUOPath.."multi.mul"))
+		gMultiLoader =3D CreateMultiLoader(gMultiLoaderType,CorrectPath( Addfile=
path(gMultiidxFile) ),CorrectPath( Addfilepath(gMultiFile) ))
 	end
 	=

 	if (gSoundLoaderType and gUseEffect) then
 		LoadingProfile("init SoundLoader")
-		gSoundLoader =3D CreateSoundLoader(gSoundLoaderType,CorrectPath(gUOPath.=
."soundidx.mul"),CorrectPath(gUOPath.."sound.mul"))
+		gSoundLoader =3D CreateSoundLoader(gSoundLoaderType,CorrectPath( Addfile=
path(gSoundidxFile) ),CorrectPath( Addfilepath(gSoundFile) ))
 		SoundInit(gUseSoundSystem,22050)
 	end
 	=

 	if (gAnimLoaderType) then
 		LoadingProfile("init AnimLoader")
-		gAnimLoader =3D CreateAnimLoader(gAnimLoaderType,200,200,CorrectPath(gUO=
Path.."anim.idx"),CorrectPath(gUOPath.."anim.mul"))		=

+		gAnimLoader =3D CreateAnimLoader(gAnimLoaderType,200,200,CorrectPath( Ad=
dfilepath(gAnimidxFile) ),CorrectPath( Addfilepath(gAnimFile) ))		=

 	end
 	=

 	if (gAnimDataLoaderType) then
 		LoadingProfile("init AnimDataLoader")
-		gAnimDataLoader =3D CreateAnimDataLoader(gAnimDataLoaderType,CorrectPath=
(gUOPath.."animdata.mul"))
+		gAnimDataLoader =3D CreateAnimDataLoader(gAnimDataLoaderType,CorrectPath=
( Addfilepath(gAnimdataFile) ))
 	end
 	=

 	if (gRadarColorLoaderType) then
 		LoadingProfile("init RadarColorLoader")
-		gRadarColorLoader =3D CreateRadarColorLoader(gRadarColorLoaderType,Corre=
ctPath(gUOPath.."radarcol.mul"))
-	end
-	=

-	if (gLegacyModelAndTextureLoaderType) then
-		LoadingProfile("init LegacyModelAndTextureLoader")
-		modelspath =3D datapath.."models.uim"
-		if (file_exists(modelspath)) then
-			gLegacyModelAndTextureLoader =3D CreateLegacyModelAndTextureLoader(gLeg=
acyModelAndTextureLoaderType,modelspath)
-			--MeshExporter()
-		else
-			--print("WARNING ! "..modelspath.." not found, please copy from old iri=
s1 binary distribution on berlios.de")
-			--print(" statics, such as houses, trees, etc will not be displayed...")
-		end
-	end
-	=

+		gRadarColorLoader =3D CreateRadarColorLoader(gRadarColorLoaderType,Corre=
ctPath( Addfilepath(gRadarcolFile) ))
+	end
+
 	LoadingProfile("parsing Equipconv.def")
 	-- only parse the file if it exists
-	if file_exists(CorrectPath(gUOPath.."Equipconv.def")) then
-		gDefFile_EquiqConv =3D ParseDefFile(CorrectPath(gUOPath.."Equipconv.def"=
))
+	if file_exists(CorrectPath( Addfilepath(gEquipconvFile) )) then
+		gDefFile_EquiqConv =3D ParseDefFile(CorrectPath( Addfilepath(gEquipconvF=
ile) ))
 	else
 		gDefFile_EquiqConv =3D nil
 	end
@@ -360,7 +317,7 @@
 	elseif (gGroundBlockLoader and gRadarColorLoaderType) then
 		if (not gInitialMapLoaded) then LoadingProfile("init RadarColorLoader") =
end
 		if (not gRadarColorLoader) then
-			gRadarColorLoader =3D CreateRadarColorLoader(gRadarColorLoaderType,Corr=
ectPath(gUOPath.."radarcol.mul"))
+			gRadarColorLoader =3D CreateRadarColorLoader(gRadarColorLoaderType,Corr=
ectPath( Addfilepath(gRadarcolFile) ))
 		end
 		=

 		if (not gInitialMapLoaded) then LoadingProfile("generating "..gMapImageP=
ath_Small) end

Modified: trunk/data/lua/lib.protocol.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.protocol.lua (original)
+++ trunk/data/lua/lib.protocol.lua Tue Nov 13 21:01:30 2007
@@ -12,6 +12,7 @@
 "0xDD", "0xDE", "0xDF"}
 gNecroPacketData_Size 	=3D {"0x0068","0x0005","0x0007",     "0","0x0002","=
0x0005","0x0005","0x0007","0x000E","0x0005","0x000B","0x0007",     "0","0x0=
003",     "0","0x003D","0x00D7",     "0",     "0","0x000A","0x0006","0x0009=
","0x0001",     "0",     "0",     "0",     "0","0x0025",     "0","0x0005","=
0x0004","0x0008","0x0013","0x0008","0x0003","0x001A","0x0007","0x0014","0x0=
005","0x0002","0x0005","0x0001","0x0005","0x0002","0x0002","0x0011","0x000F=
","0x000A","0x0005","0x0001","0x0002","0x0002","0x000A","0x028D",     "0","=
0x0008","0x0007","0x0009",     "0",     "0",     "0","0x0002","0x0025",    =
 "0","0x00C9",     "0",     "0","0x0229","0x02C9","0x0005",     "0","0x000B=
","0x0049","0x005D","0x0005","0x0009",     "0",     "0","0x0006","0x0002", =
    "0",     "0",     "0","0x0002","0x000C","0x0001","0x000B","0x006E","0x0=
06A",     "0",     "0","0x0004","0x0002","0x0049",     "0","0x0031","0x0005=
","0x0009","0x000F","0x000D","0x0001","0x0004",     "0","0x0015",     "0", =
    "0","0x0003","0x0009","0x0013","0x0003","0x000E",     "0","0x001C",    =
 "0","0x0005","0x0002",     "0","0x0023","0x0010","0x0011",     "0","0x0009=
",     "0","0x0002",     "0","0x000D","0x0002",     "0","0x003E",     "0","=
0x0002","0x0027","0x0045","0x0002",     "0",     "0","0x0042",     "0",    =
 "0",     "0","0x000B",     "0",     "0",     "0","0x0013","0x0041",     "0=
","0x0063",     "0","0x0009",     "0","0x0002",     "0","0x001A",     "0","=
0x0102","0x0135","0x0033",     "0",     "0","0x0003","0x0009","0x0009","0x0=
009","0x0095",     "0",     "0","0x0004",     "0",     "0","0x0005",     "0=
",     "0",     "0",     "0","0x000D",     "0",     "0",     "0",     "0", =
    "0","0x0040","0x0009",     "0",     "0","0x0003","0x0006","0x0009","0x0=
003",     "0",     "0",     "0","0x0024",     "0",     "0",     "0","0x0006=
","0x00CB","0x0001","0x0031","0x0002","0x0006","0x0006","0x0007",     "0","=
0x0001",     "0","0x004E",     "0","0x0002","0x0019",     "0",     "0",    =
 "0",     "0",     "0",     "0","0x010C",     "0",     "0","0x0009",
 "0", "0", "0"}
+
 gNecroPacketSize =3D {}
 for i =3D 1,table.getn(gNecroPacketData_ID) do =

 	gNecroPacketSize[hex2num(gNecroPacketData_ID[i])] =3D hex2num(gNecroPacke=
tData_Size[i]) =

@@ -34,8 +35,6 @@
 	for k,v in pairs(gPacketType) do gPacketTypeId2Name[v.id] =3D k end
 	for k,v in pairs(gPacketType) do _G[k] =3D v.id end -- make names availab=
le as global constants, like kPacket_Account_Login_Request, needed for send=
ing
 	=

---OldIrisPacketLenTest()
-
 function DirWrap (iDir) -- wraps into [0,7]
 	while (iDir < 0) do iDir =3D iDir + 8 end
 	while (iDir > 7) do iDir =3D iDir - 8 end

Modified: trunk/data/lua/lib.sound.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.sound.iris.lua (original)
+++ trunk/data/lua/lib.sound.iris.lua Tue Nov 13 21:01:30 2007
@@ -28,7 +28,7 @@
 function SoundPlayMusicById(musicid)
 	if (not gUseMusic) then return end
 	printdebug("sound",sprintf("SoundPlayMusicById(%s)\n",musicid))
-	local config =3D CorrectPath(gUOPath.."Music/Digital/Config.txt")
+	local config =3D CorrectPath( Addfilepath(gMusicPath..gMusicConfigFile) )
 	local mp3 =3D nil
 	local loop =3D nil
 	local file =3D nil
@@ -57,10 +57,10 @@
 			if tonumber(id) =3D=3D musicid then
 				if (string.find(string.lower(name),".mp3") =3D=3D nil) then
 					-- add mp3 suffix
-					file =3D CorrectPath(gUOPath.."Music/Digital/"..name..".mp3")
+					file =3D CorrectPath( Addfilepath(gMusicPath..name..".mp3") )
 				else
 					-- mp3 suffix aready present
-					file =3D CorrectPath(gUOPath.."Music/Digital/"..name)
+					file =3D CorrectPath( Addfilepath(gMusicPath..name) )
 				end
 				=

 				printdebug("sound",sprintf("load sound id=3D%d name=3D%s loop=3D%d fil=
e=3D%s\n",id,name,loop,file))

Modified: trunk/data/lua/lib.static.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.static.lua (original)
+++ trunk/data/lua/lib.static.lua Tue Nov 13 21:01:30 2007
@@ -68,7 +68,7 @@
 gLegacyModelCache =3D {}
 function GetStaticMeshName (iTileTypeID,iHue)
 	-- hue default value is 0
-	iHue =3D iHue or 0
+	iHue =3D tonumber(iHue) or 0
 =

 	--1st: Seasonal Translation
 	local iTranslatedTileTypeID =3D SeasonalStaticTranslation(iTileTypeID, gS=
easonSetting)
@@ -82,74 +82,45 @@
 	local meshname =3D gLegacyModelCache[iTranslatedTileTypeID.."_"..iHue]
 =

 	if (meshname =3D=3D nil) then
-		-- try to load the new models
-		if gUseNewModelLoader then
+		if (not meshname) then
+			meshname =3D GetModelName(iTranslatedTileTypeID) -- "mdl_"..iTileTypeID=
..".mesh"
+		end
 =

-			if (not meshname) then
-				meshname =3D GetModelName(iTranslatedTileTypeID) -- "mdl_"..iTileTypeI=
D..".mesh"
+		-- mesh available?
+		printdebug("static","query model",meshname)
+
+		if not OgreMeshAvailable(meshname) then =

+			printdebug("static","mesh not available",meshname)
+			meshname =3D nil
+		else =

+			printdebug("static","Static Meshloader:",iTranslatedTileTypeID,iHue,mes=
hname)
+			=

+			if gManualArtMaterialLoader then
+				-- create unavailable uo_art_ID materials
+				local path =3D GetModelPath(iTranslatedTileTypeID)
+				printdebug("static","meshname",meshname,"path",path)
+				local t =3D OgreMeshTextures(path) -- datapath.."models/models/mesh/".=
.meshname)
+				for k,v in pairs(t) do =

+					printdebug("static","texture found",v)
+					gManualArtMaterialLoader:CreateMatchingIfUnavailable(v)
+				end
 			end
 =

-			-- mesh available?
-			printdebug("static","query model",meshname)
-			if not OgreMeshAvailable(meshname) then =

-				printdebug("static","mesh not available",meshname)
-				meshname =3D nil
-			else =

-				printdebug("static","Static Meshloader:",iTranslatedTileTypeID,iHue,me=
shname)
-				=

-				if gManualArtMaterialLoader then
-					-- create unavailable uo_art_ID materials
-					local path =3D GetModelPath(iTranslatedTileTypeID)
-					printdebug("static","meshname",meshname,"path",path)
-					local t =3D OgreMeshTextures(path) -- datapath.."models/models/mesh/"=
..meshname)
-					for k,v in pairs(t) do =

-						printdebug("static","texture found",v)
-						gManualArtMaterialLoader:CreateMatchingIfUnavailable(v)
-					end
-				end
-				-- Hue this Model | TODO : Partitial Hue
-				if (gHueLoader) then
-					if( TestBit(GetStaticTileTypeFlags(iTileTypeID) or 0,kTileDataFlag_Pa=
rtial_Hue) ) then
-						printdebug("static","parthuedmodel=3D",iTileTypeID)		-- don't use iT=
ranslatedTileTypeID here, because of waterhack
-					elseif ((tonumber(iHue) > 0) and (tonumber(iHue) < gMaxHueValue)) then
-						if (CloneMesh) then meshname=3DCloneMesh(meshname) end
-						HueMesh(meshname,gHueLoader,iHue)
-					end
+			-- Hue this Model | TODO : Partitial Hue
+			if (gHueLoader) then
+				if( TestBit(GetStaticTileTypeFlags(iTileTypeID) or 0,kTileDataFlag_Par=
tial_Hue) ) then
+					printdebug("static","parthuedmodel=3D",iTileTypeID)		-- don't use iTr=
anslatedTileTypeID here, because of waterhack
+				elseif ( (iHue > 0) and (iHue < gMaxHueValue) ) then
+					if (CloneMesh) then meshname=3DCloneMesh(meshname) end
+					HueMesh(meshname,gHueLoader,iHue)
 				end
 			end
 		end
-		=

-		if ( gLegacyModelAndTextureLoader and (meshname =3D=3D nil) ) then
-			meshname =3D gLegacyModelAndTextureLoader:CreateMesh(iTranslatedTileTyp=
eID)
-			printdebug("static","used OLD model loader:",iTranslatedTileTypeID,iHue=
,meshname)
-		end
-
 		if (meshname =3D=3D "") then meshname =3D nil end
 		gLegacyModelCache[iTranslatedTileTypeID.."_"..iHue] =3D meshname
 	end
 =

 	return meshname
-end
-
--- called by the c methods of LegacyModelAndTextureLoader, has to return a=
 material name, used for statics
-gLegacyModelMaterialCache =3D {}
-function LegacyModelLoader_GetMaterial (iModelID,iTextureID)
-	local matname =3D gLegacyModelMaterialCache[iTextureID]
-	if ((not matname)) then =

-		if (iTextureID >=3D 0) then =

-			matname =3D gLegacyModelAndTextureLoader and gLegacyModelAndTextureLoad=
er:CreateMaterial(iTextureID)
-			-- matname =3D "tex_" .. iTextureID
-		else
-			matname =3D gArtMapLoader and gArtMapLoader:CreateMaterial(-iTextureID =
+ 16384,false,true,false,true,true,true)
-			-- matname =3D "uo_art_" .. (-iTextureID + 16384)
-			-- 16384 =3D 0x00004000, end of groundtile, start of static tiles
-			-- after id : pixel,invy,invx,alpha,light,depth
-		end
-		printdebug("static","matname",matname)
-		gLegacyModelMaterialCache[iTextureID] =3D matname
-	end
-	--return "BaseWhiteNoLighting"
-	return matname or "BaseWhiteNoLighting"
 end
 =

 function GetStaticMeshOrientation (iTileTypeID)
@@ -173,7 +144,7 @@
 				i =3D nil
 			else
 				printdebug("static","i",i,"name",name)
-				GetStaticMeshName(i,0)	--TODO: hueing precached meshes
+				GetStaticMeshName(i,hue)	--TODO: hueing precached meshes
 				i =3D i + 1
 			end
 		until i =3D=3D nil

Modified: trunk/data/lua/lib.stitchin.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.stitchin.lua (original)
+++ trunk/data/lua/lib.stitchin.lua Tue Nov 13 21:01:30 2007
@@ -6,8 +6,6 @@
 -- todo : later : whenhuedreplacewith is not yet handled
 =

 gStitchinPartNames =3D {"LOWER_ARMS_TOP","HEAD","FACE","UPPER_LEGS_TOP","H=
ANDS","TORSO","LOWER_LEGS_TOP","UPPER_ARMS_BOTTOM","FEET","EARS","LOWER_ARM=
S_BOTTOM","UPPER_LEGS_BOTTOM","LOWER_LEGS_BOTTOM","PELVIS","UPPER_ARMS_TOP"=
,"NECK"}
-
--- gStitchinInfo =3D LoadStitchinInfo(CorrectPath(gUOPath.."stitchin.def"))
 =

 function CreateStitchinLoader (loadertype,filepath) =

 	assert(loadertype =3D=3D "FullFile","CreateStitchinLoader : only FullFile=
 loader supported")

Modified: trunk/data/lua/lib.test.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.test.lua (original)
+++ trunk/data/lua/lib.test.lua Tue Nov 13 21:01:30 2007
@@ -46,7 +46,7 @@
 end
 =

 function TestSound()
-	gSoundLoader =3D CreateSoundLoader(gSoundLoaderType,CorrectPath(gUOPath..=
"soundidx.mul"),CorrectPath(gUOPath.."sound.mul"))
+	gSoundLoader =3D CreateSoundLoader(gSoundLoaderType,CorrectPath( Addfilep=
ath(gSoundidxFile) ),CorrectPath( Addfilepath(gSoundFile) ))
 	SoundInit("fmod",22050)
 =

 	gSoundSystem:SetDistanceFactor(0.1)
@@ -62,32 +62,12 @@
 	end
 	=

 	SoundDone()
-	Crash()
-end
-
-function TestLegacyModelAndTextureLoader ()
-	gLegacyModelAndTextureLoaderType =3D "FullFile"
-	if (gLegacyModelAndTextureLoaderType) then
-		LoadingProfile("init LegacyModelAndTextureLoader")
-		modelspath =3D datapath.."models.uim"
-		if (file_exists(modelspath)) then
-			gLegacyModelAndTextureLoader =3D CreateLegacyModelAndTextureLoader(gLeg=
acyModelAndTextureLoaderType,modelspath)
-		else
-			print("WARNING ! "..modelspath.." not found, please copy from old iris1=
 binary distribution on berlios.de")
-			print(" statics, such as houses, trees, etc will not be displayed...")
-		end
-	end
-	print("TestLegacyModelAndTextureLoader : init ok")
-	local a =3D gLegacyModelAndTextureLoader:CreateMaterial(491)
-	--local a =3D gLegacyModelAndTextureLoader:CreateMaterial(200)
-	print("TestLegacyModelAndTextureLoader : all ok",a)
 	Crash()
 end
 =

 function AnalyseStatics ()
 	-- count how often every type of static occurs on the map
 	gMapInfo =3D Check_Map(gMapIndex,"xml/Maps.xml")
---	gMapInfo =3D xmlchild(xmlchild(LuaXML_ParseFile(datapath.."xml/Maps.xml=
"),"MAPS"),"MAP",gMapIndex)
 	print("gMapInfo",gMapInfo)
 	local mapfilename=3D	 xmlchild(gMapInfo,"MAPFILENAME")[1]
 	local mapheight=3D	 xmlchild(gMapInfo,"HEIGHT")[1]
@@ -97,30 +77,13 @@
 	=

 	if (gTileTypeLoaderType) then
 		LoadingProfile("init TileTypeLoader")
-		gTileTypeLoader =3D CreateTileTypeLoader(gTileTypeLoaderType,CorrectPath=
(gUOPath.."tiledata.mul"))
+		gTileTypeLoader =3D CreateTileTypeLoader(gTileTypeLoaderType,CorrectPath=
( Addfilepath(gTiledataFile) ))
 	end
 	if (gStaticBlockLoaderType) then
 		LoadingProfile("init StaticBlockLoader")
-		gStaticBlockLoader =3D CreateStaticBlockLoader(gStaticBlockLoaderType,ma=
pheight,CorrectPath(gUOPath..staidxfilename),CorrectPath(gUOPath..staticfil=
ename))
-	end
-	=

-	if (true) then
-		if (gArtMapLoaderType) then
-			LoadingProfile("init ArtMapLoader")
-			gArtMapLoader =3D CreateArtMapLoader(gArtMapLoaderType,CorrectPath(gUOP=
ath.."artidx.mul"),CorrectPath(gUOPath.."art.mul"))
-		end
-		if (gLegacyModelAndTextureLoaderType) then
-			LoadingProfile("init LegacyModelAndTextureLoader")
-			modelspath =3D datapath.."models.uim"
-			if (file_exists(modelspath)) then
-				gLegacyModelAndTextureLoader =3D CreateLegacyModelAndTextureLoader(gLe=
gacyModelAndTextureLoaderType,modelspath)
-			else
-				print("WARNING ! "..modelspath.." not found, please copy from old iris=
1 binary distribution on berlios.de")
-				print(" statics, such as houses, trees, etc will not be displayed...")
-			end
-		end
-	end
-	=

+		gStaticBlockLoader =3D CreateStaticBlockLoader(gStaticBlockLoaderType,ma=
pheight,CorrectPath( Addfilepath(staidxfilename) ),CorrectPath( Addfilepath=
(staticfilename) ))
+	end
+
 	local w,h =3D gStaticBlockLoader:GetMapW(),gStaticBlockLoader:GetMapH()
 	print("static map size",w,h)
 	local staticCounter =3D {}
@@ -129,30 +92,40 @@
 	local x,y,i
 	local iTileTypeID,iX,iY,iZ,iHue
 	local entity,meshname
-	for y =3D 0,h-1 do
+
+	for y =3D 0,w-1 do
 		if (math.mod(y,16) =3D=3D 0) then print("#",y.."/"..h) end
-		for x =3D 0,w-1 do
-			--if (total_static_count > 100) then break end
+		for x =3D 0,h-1 do
 			gStaticBlockLoader:Load(x,y)
 			local iStaticCount =3D gStaticBlockLoader:Count() -- operates on the bl=
ock that was last loaded using :Load()
 			for i =3D 0,iStaticCount-1 do
 				iTileTypeID,iX,iY,iZ,iHue =3D gStaticBlockLoader:GetStatic(i) -- opera=
tes on the block that was last loaded using :Load()
 				total_static_count =3D total_static_count + 1
 				staticCounter[iTileTypeID] =3D (staticCounter[iTileTypeID] or 0) + 1
-			end =

-	end end
-	=

+			end
+		end
+	end
+	print("#",w.."/"..h)
+
 	local staticAnalysis =3D {}
 	for k,v in pairs(staticCounter) do =

 		table.insert(staticAnalysis,{ typeid=3Dk, amount=3Dv, typeobj=3DGetStati=
cTileType(k) })
 	end
 	table.sort(staticAnalysis,function (a,b) return a.amount > b.amount end)
+
+	local polycount =3D 0
 	for k,obj in pairs(staticAnalysis) do
-		local polycount =3D gLegacyModelAndTextureLoader:GetMeshPolyCount(obj.ty=
peid)
+		-- obsolete, because Legacy Loader has been removed
+		--polycount =3D gLegacyModelAndTextureLoader:GetMeshPolyCount(obj.typeid)
+
+--		print("obj.typeid: "..obj.typeid)
+--		local meshname =3D GetStaticMeshName(obj.typeid,0)
+--		if (meshname and meshname ~=3D "") then polycount =3D CountMeshTriangl=
es(meshname) end
 		if (polycount < 1) then =

 			print(obj.amount,sprintf("0x%04x",obj.typeid),obj.typeid,obj.typeobj.ms=
Name,polycount)
 		end
 	end
+
 	print("total statics ",total_static_count)
 	Crash()
 end
@@ -320,14 +293,14 @@
 ]]--
 =

 function TestDefFileParser ()
-	local t =3D ParseDefFile(CorrectPath(gUOPath.."Equipconv.def"))
+	local t =3D ParseDefFile(CorrectPath( Addfilepath(gEquipconvFile) ))
 	local a,b,c,d,e =3D GetListFromDefTable(t,605,997)
 	print(a,b,c,d,e)
 	Crash()
 end
 =

 function TestMultiLoader()
-	l =3D CreateMultiLoader("FullFile",CorrectPath(gUOPath.."multi.idx"),Corr=
ectPath(gUOPath.."multi.mul"))
+	l =3D CreateMultiLoader("FullFile",CorrectPath( Addfilepath(gMultiidxFile=
) ),CorrectPath( Addfilepath(gMultiFile) ))
 	print(l)
 	for id =3D 0, 10 do
 		local parts =3D l:CountMultiParts(id)
@@ -343,12 +316,10 @@
 =

 function TestUniFontLoader()
 	print(CreateUniFontLoader)
-	l =3D CreateUniFontLoader(CorrectPath(gUOPath.."unifont2.mul"))
+	l =3D CreateUniFontLoader(CorrectPath( Addfilepath(gUnifonts.."2.mul") ))
 =

 	l:CreateOgreFont("font_unifont2")
-	=

+
 	l:Destroy()
 	Crash()
 end
-
-

Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Tue Nov 13 21:01:30 2007
@@ -58,7 +58,6 @@
 dofile(libpath .. "lib.static.lua")
 dofile(libpath .. "lib.compass.lua")
 dofile(libpath .. "lib.gfm.lua")
-dofile(libpath .. "lib.oldiristest.lua")
 dofile(libpath .. "lib.protocol.lua")
 dofile(libpath .. "lib.mousepick.lua")
 dofile(libpath .. "lib.gumpparser.lua")
@@ -87,21 +86,17 @@
 dofile(libpath .. "lib.mount.lua")
 dofile(libpath .. "lib.debug.lua")
 dofile(libpath .. "lib.uodragdrop.lua")  --(new dragdrop system not yet us=
ed in trunk, see for old)
+dofile(libpath .. "lib.corpse.lua")
+dofile(libpath .. "lib.tilefreewalk.lua")
+dofile(libpath .. "lib.oldwalk.lua")
+dofile(libpath .. "lib.bugreport.lua")
+
 dofile(libpath .. "gui/gui.main.lua")
 dofile(libpath .. "obj/obj.main.lua")
 dofile(libpath .. "net/net.main.lua")
-dofile(libpath .. "lib.corpse.lua")
-dofile(libpath .. "lib.tilefreewalk.lua")
-
-dofile(libpath .. "filter.art.lua")
-dofile(libpath .. "filter.granny.lua")
-dofile(libpath .. "filter.map.lua")
-dofile(libpath .. "lib.oldwalk.lua")
-
---can be removed from release
-dofile(libpath .. "lib.meshexporter.lua")
-dofile(libpath .. "lib.bugreport.lua")
-
+dofile(libpath .. "filter/filter.art.lua")
+dofile(libpath .. "filter/filter.granny.lua")
+dofile(libpath .. "filter/filter.map.lua")
 =

 --###############################
 --###        CONFIG           ###
@@ -135,15 +130,14 @@
 =

 -- checks if iris has found the uo directory and displays an error box if =
not
 function CheckUODir ()
-	=

-	if (not file_exists(CorrectPath(gUOPath.."art.mul"))) then
+	if (not file_exists(CorrectPath( Addfilepath(gArtFile) ))) then
 		gUOPath =3D gUOPath .. "/"  -- append slash and try again
-		if (not file_exists(CorrectPath(gUOPath.."art.mul"))) then
+		if (not file_exists(CorrectPath( Addfilepath(gArtFile) ))) then
 			FatalErrorMessage(sprintf("iris2 could not find your ultima-online dire=
ctory (searchpath : %s),\n please set gUOPath in data/config.lua",gUOPath))
 		end
 	end
 	-- check for character(granny) models
-	if (not file_exists(CorrectPath(gUOPath.."models/models.txt"))) then
+	if (not file_exists( CorrectGrannyPath(gModelstxtFile) )) then
 		FatalErrorMessage(sprintf("iris2 could not find character models in your=
 uo dir\n please install AOS or ML (see README)"))
 	end
 end
@@ -173,7 +167,6 @@
 	-- if (gHuffmanCompression) then LuaHuffmanTest() end
 	-- if (false) then MyGrannyTest_PreOgre() end	-- TODO : just a test, see =
lib.granny.lua
 	-- if (false) then LuaBitwiseTest() end
-	-- if (false) then TestLegacyModelAndTextureLoader() end
 	-- if (false) then AnalyseStatics() end
 	-- if (false) then ExpressionTest() end
 	-- if (false) then TestSound() end
@@ -227,9 +220,6 @@
 =

 	if (gStartInDebugMode) then StopMainMenu() StartDebugMenu() end
 =

-	--TestGuiSystem2_Init()
-	--TestGuiSystem3_Init()
-	=

 	-- mainloop
 	while (Client_IsAlive()) do MainStep() end
 end

Modified: trunk/data/lua/net/net.main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.main.lua (original)
+++ trunk/data/lua/net/net.main.lua Tue Nov 13 21:01:30 2007
@@ -4,21 +4,20 @@
 dofile(libpath .. "net/net.effect.lua")
 dofile(libpath .. "net/net.multi.lua")
 dofile(libpath .. "net/net.uodragdrop.lua")
+dofile(libpath .. "net/net.corpse.lua")
+dofile(libpath .. "net/net.world.lua")
+dofile(libpath .. "net/net.sound.lua")
+dofile(libpath .. "net/net.login.lua")
+dofile(libpath .. "net/net.skill.lua")
 =

 -- only things that have at least 2 packets get its own file, everything e=
lse is handled here:
 dofile(libpath .. "net/net.packethandlers.lua")
 =

 dofile(libpath .. "net.cursor.lua")
-dofile(libpath .. "net.login.lua")
 dofile(libpath .. "net.other.lua")
 dofile(libpath .. "net.popup.lua")
-dofile(libpath .. "net.skill.lua")
-dofile(libpath .. "net.sound.lua")
 dofile(libpath .. "net.trade.lua")
 dofile(libpath .. "net.securetrade.lua")
 dofile(libpath .. "net.walk.lua")
-dofile(libpath .. "net.world.lua")
-dofile(libpath .. "net.corpse.lua")
 =

 gLastDoubleClickSerial =3D 0
-

Modified: trunk/data/lua/obj/obj.mobile.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.mobile.lua (original)
+++ trunk/data/lua/obj/obj.mobile.lua Tue Nov 13 21:01:30 2007
@@ -1,6 +1,5 @@
 -- functions concerning mobiles (movable entities, npcs, monsters and the =
player)
--- see also net.paperdoll.lua
--- see also net.skill.lua
+-- see also net/net.skill.lua
 =

 --[[
 the following fields are available : =




From no-reply at zwischenwelt.org  Tue Nov 13 21:03:40 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 13 Nov 2007 20:03:40 -0000
Subject: [Iris-commit] [IRIS] r1503 - in /trunk/data: base/main.material
	config.lua.dist
Message-ID: <20071113200341.094A21C1827D@zwischenwelt.org>

Author: sience
Date: Tue Nov 13 21:03:40 2007
New Revision: 1503

Log:
-config.lua.dist changes
-main.material changed

Modified:
    trunk/data/base/main.material
    trunk/data/config.lua.dist

Modified: trunk/data/base/main.material
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/base/main.material (original)
+++ trunk/data/base/main.material Tue Nov 13 21:03:40 2007
@@ -613,7 +613,7 @@
 			=

 			texture_unit
 			{
-				texture stone.png
+				texture stone512.dds
 				tex_address_mode clamp
 				// filtering none
 			}

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Tue Nov 13 21:03:40 2007
@@ -5,8 +5,6 @@
 =

 -- Client Identification String
 gClientVersion =3D "6.0.1.6"  -- try other version for example "4.0.11c5"
-
-gUseNewModelLoader =3D true -- use old (models.uim) or new (many mesh file=
s) model loader
 =

 -- Camera Rotation - Input stuff use: "mouse1", "mouse2" or "mouse3"
 gInput_CamMouseButton =3D GetNamedKey("mouse1")
@@ -17,9 +15,6 @@
 -- gUOPath =3D "/some/where/uo/"  -- example for linux
 -- gUOPath =3D "C:\\Programme\\EA Games\\Ultima Online\\" -- example for w=
in
 -- gUOPath =3D "c:/programme/uo/"  -- example for win
-
--- Cliloc Language
--- gLanguage =3D "DEU"		-- used for cliloc
 =

 -- Speech support
 gSpeechSupport =3D true
@@ -39,7 +34,6 @@
 gTexMapLoaderType					=3D "OnDemand"
 gArtMapLoaderType					=3D "OnDemand"
 gGumpLoaderType						=3D "OnDemand"
-gLegacyModelAndTextureLoaderType	=3D false		 -- currently only FullFile av=
ailable
 gClilocLoaderType					=3D "FullFile" -- currently only FullFile available
 gSoundLoaderType					=3D "OnDemand"
 gSpeechLoaderType					=3D "FullFile" -- currently only FullFile available
@@ -75,6 +69,9 @@
 gSunLightDirection =3D {x=3D1,y=3D1,z=3D-1}
 gSunLightDiffuse =3D {r=3D1.0,g=3D1.0,b=3D1.0}
 gSunLightSpecular =3D {r=3D1.0,g=3D1.0,b=3D1.0}
+
+-- Ambient Light
+gAmbientLight =3D {r=3D0.4,g=3D0.4,b=3D0.4}
 =

 =

 -- Soundeffects & Music
@@ -224,7 +221,6 @@
 -- shadow settings
 --"none", "stencil_modulative", "stencil_additive", "texture_modulative", =
"texture_additive", "texture_additive_integrated", "texture_modulative_inte=
grated"
 gShadowTechnique =3D "none"
-gAmbientColor =3D {r=3D0.0,g=3D0.0,b=3D0.0}
 gMobileCastShadows =3D false
 gTerrainCastShadows =3D false
 =

@@ -253,3 +249,41 @@
 gEnableRTTModelImages =3D false
 =

 gShowTileFreeDebug =3D false
+
+-- Language
+gLanguage =3D "ENU"		-- used for client localization
+
+------------------------------ UO Files --------------------------
+gHuesFile		=3D "hues.mul"
+gArtidxFile		=3D "E:/UO/_irismap/artidx.mul"
+gArtFile		=3D "E:/UO/_irismap/art.mul"
+gGumpidxFile	=3D "gumpidx.mul"
+gGumpFile		=3D "gumpart.mul"
+gStitchinFile	=3D "stitchin.def"
+gSpeechFile		=3D "speech.mul"
+gTiledataFile	=3D "tiledata.mul"
+gTexidxFile		=3D "texidx.mul"
+gTexmapsFile	=3D "texmaps.mul"
+gMultiidxFile	=3D "multi.idx"
+gMultiFile		=3D "multi.mul"
+gSoundidxFile	=3D "soundidx.mul"
+gSoundFile		=3D "sound.mul"
+gAnimidxFile	=3D "anim.idx"
+gAnimFile		=3D "anim.mul"
+gAnimdataFile	=3D "animdata.mul"
+gEquipconvFile	=3D "Equipconv.def"
+gRadarcolFile	=3D "radarcol.mul"
+
+gProftxtFile	=3D "Prof.txt"
+gMusicConfigFile=3D "Config.txt"
+gModelstxtFile	=3D "Models.txt"
+
+gUnifontFile	=3D "unifont.mul"
+gUnifonts		=3D "unifont"				-- abstract filename
+gClilocbaseFile	=3D "Cliloc.enu"			-- standard clilocfile
+gCliloc			=3D "Cliloc."				-- without extension, name depends on gLanguage=
 setting
+gIntlocFiles	=3D "intloc%02d."			-- abstract filename (intloc names are ge=
nerated)
+
+gGrannyPath		=3D "models/"
+gMusicPath		=3D "Music/Digital/"
+



From no-reply at zwischenwelt.org  Tue Nov 13 21:10:44 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 13 Nov 2007 20:10:44 -0000
Subject: [Iris-commit] [IRIS] r1504 - /trunk/data/config.lua.dist
Message-ID: <20071113201044.7C4051C182BC@zwischenwelt.org>

Author: sience
Date: Tue Nov 13 21:10:43 2007
New Revision: 1504

Log:
-small fix

Modified:
    trunk/data/config.lua.dist

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Tue Nov 13 21:10:43 2007
@@ -255,8 +255,8 @@
 =

 ------------------------------ UO Files --------------------------
 gHuesFile		=3D "hues.mul"
-gArtidxFile		=3D "E:/UO/_irismap/artidx.mul"
-gArtFile		=3D "E:/UO/_irismap/art.mul"
+gArtidxFile		=3D "artidx.mul"
+gArtFile		=3D "art.mul"
 gGumpidxFile	=3D "gumpidx.mul"
 gGumpFile		=3D "gumpart.mul"
 gStitchinFile	=3D "stitchin.def"



From no-reply at zwischenwelt.org  Tue Nov 13 21:14:05 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 13 Nov 2007 20:14:05 -0000
Subject: [Iris-commit] [IRIS] r1505 - /trunk/data/lua/lib.filepath.lua
Message-ID: <20071113201406.0378A1C1827D@zwischenwelt.org>

Author: sience
Date: Tue Nov 13 21:14:04 2007
New Revision: 1505

Log:
-debug infos removed

Modified:
    trunk/data/lua/lib.filepath.lua

Modified: trunk/data/lua/lib.filepath.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.filepath.lua (original)
+++ trunk/data/lua/lib.filepath.lua Tue Nov 13 21:14:04 2007
@@ -26,10 +26,8 @@
 -- dann machs doch so, dass gUOPath nur dran gehaengt wird, wenn =

 function Addfilepath (filepath)
 	if file_exists(filepath) then
-print(filepath)
 		return filepath
 	else
-print(gUOPath..filepath)
 		return gUOPath..filepath
 	end
 end



From no-reply at zwischenwelt.org  Wed Nov 14 19:10:14 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 14 Nov 2007 18:10:14 -0000
Subject: [Iris-commit] [IRIS] r1506 - in /trunk: data/ data/lua/
 data/lua/net/ data/xml/ include/ src/ vc8/
Message-ID: <20071114181014.380FB1524004@zwischenwelt.org>

Author: sience
Date: Wed Nov 14 19:10:13 2007
New Revision: 1506

Log:
-mapdefinitions moved from Maps.xml & Maps_pre6.xml -> config.lua.dist
-Maps.xml & Maps_pre6.xml & xml Folder deleted

Removed:
    trunk/data/xml/
    trunk/include/legacydata.h
    trunk/src/legacydata.cpp
Modified:
    trunk/data/config.lua.dist
    trunk/data/lua/lib.3d.renderer.lua
    trunk/data/lua/lib.gfm.lua
    trunk/data/lua/lib.granny.lua
    trunk/data/lua/lib.loading.lua
    trunk/data/lua/lib.test.lua
    trunk/data/lua/main.lua
    trunk/data/lua/net/net.login.lua
    trunk/vc8/iris.vcproj

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Wed Nov 14 19:10:13 2007
@@ -251,7 +251,7 @@
 gShowTileFreeDebug =3D false
 =

 -- Language
-gLanguage =3D "ENU"		-- used for client localization
+-- gLanguage =3D "DEU"		-- used for client localization
 =

 ------------------------------ UO Files --------------------------
 gHuesFile		=3D "hues.mul"
@@ -275,8 +275,6 @@
 gRadarcolFile	=3D "radarcol.mul"
 =

 gProftxtFile	=3D "Prof.txt"
-gMusicConfigFile=3D "Config.txt"
-gModelstxtFile	=3D "Models.txt"
 =

 gUnifontFile	=3D "unifont.mul"
 gUnifonts		=3D "unifont"				-- abstract filename
@@ -284,6 +282,90 @@
 gCliloc			=3D "Cliloc."				-- without extension, name depends on gLanguage=
 setting
 gIntlocFiles	=3D "intloc%02d."			-- abstract filename (intloc names are ge=
nerated)
 =

+gGrannyConfigFile=3D "Models.txt"
 gGrannyPath		=3D "models/"
+gMusicConfigFile=3D "Config.txt"
 gMusicPath		=3D "Music/Digital/"
 =

+gMaps =3D {}
+gMaps[0] =3D {
+	name =3D "Trammel",
+	mapweidth =3D 896,
+	mapheight =3D 512,
+	skybox =3D "cleansky",
+	fog_r =3D 228,
+	fog_g =3D 208,
+	fog_b =3D 166,
+	mapfilename		=3D "map0.mul",
+	staidxfilename	=3D "staidx0.mul",
+	staticfilename	=3D "statics0.mul"
+
+	-- only relevant for pre 6.0.0 server
+--	,sta_diff_lookup=3D "stadifl0.mul",
+--	sta_diff_idx	=3D "stadifi0.mul",
+--	sta_diff_data	=3D "stadif0.mul",
+--	map_diff_lookup	=3D "mapdifl0.mul",
+--	map_diff_data	=3D "mapdif0.mul"
+}
+gMaps[1] =3D {
+	name =3D "Felucca",
+	mapweidth =3D 896,
+	mapheight =3D 512,
+	skybox =3D "cleansky",
+	fog_r =3D 228,
+	fog_g =3D 208,
+	fog_b =3D 166,
+	mapfilename		=3D "map1.mul",
+	staidxfilename	=3D "staidx1.mul",
+	staticfilename	=3D "statics1.mul"
+
+	-- only relevant for pre 6.0.0 server
+--	,sta_diff_lookup=3D "stadifl1.mul",
+--	sta_diff_idx	=3D "stadifi1.mul",
+--	sta_diff_data	=3D "stadif1.mul",
+--	map_diff_lookup	=3D "mapdifl1.mul",
+--	map_diff_data	=3D "mapdif1.mul"
+}
+gMaps[2] =3D {
+	name =3D "Ilshenar",
+	mapweidth =3D 288,
+	mapheight =3D 200,
+	skybox =3D "skybox",
+	fog_r =3D 168,
+	fog_g =3D 168,
+	fog_b =3D 180,
+	mapfilename		=3D "map2.mul",
+	staidxfilename	=3D "staidx2.mul",
+	staticfilename	=3D "statics2.mul"
+
+	-- only relevant for pre 6.0.0 server
+--	,sta_diff_lookup=3D "stadifl2.mul",
+--	sta_diff_idx	=3D "stadifi2.mul",
+--	sta_diff_data	=3D "stadif2.mul",
+--	map_diff_lookup =3D "mapdifl2.mul",
+--	map_diff_data	=3D "mapdif2.mul"
+}
+gMaps[3] =3D {
+	name =3D "Malas",
+	mapweidth =3D 320,
+	mapheight =3D 256,
+	skybox =3D "sunset",
+	fog_r =3D 27,
+	fog_g =3D 21,
+	fog_b =3D 9,
+	mapfilename		=3D "map3.mul",
+	staidxfilename	=3D "staidx3.mul",
+	staticfilename	=3D "statics3.mul"
+}
+gMaps[4] =3D {
+	name =3D "Tokuno",
+	mapweidth =3D 181,
+	mapheight =3D 181,
+	skybox =3D "darksun",
+	fog_r =3D 97,
+	fog_g =3D 76,
+	fog_b =3D 33,
+	mapfilename		=3D "map4.mul",
+	staidxfilename	=3D "staidx4.mul",
+	staticfilename	=3D "statics4.mul"
+}

Modified: trunk/data/lua/lib.3d.renderer.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.renderer.lua (original)
+++ trunk/data/lua/lib.3d.renderer.lua Wed Nov 14 19:10:13 2007
@@ -42,19 +42,19 @@
 =

 function Renderer3D:SetMapEnvironment (bUnderGround)
 	if (not self.gbActive) then return end
-	if (not gMapInfo) then return end
-	=

-	local skyboxfilename=3Dxmlchild(gMapInfo,"SKYBOX")[1]
-	gFogcolorred=3Dtonumber(xmlchild(gMapInfo,"FOG_RED")[1])
-	gFogcolorgreen=3Dtonumber(xmlchild(gMapInfo,"FOG_GREEN")[1])
-	gFogcolorblue=3Dtonumber(xmlchild(gMapInfo,"FOG_BLUE")[1])
+	if (not gMapIndex) then return end
+	=

+	local skyboxmaterial	=3D gMaps[gMapIndex].skybox
+	gFogcolorred			=3D gMaps[gMapIndex].fog_r
+	gFogcolorgreen			=3D gMaps[gMapIndex].fog_g
+	gFogcolorblue			=3D gMaps[gMapIndex].fog_b
 	=

 	-- black background when underground
 	if (bUnderGround) then
 		GetMainViewport():SetBackCol(0,0,0)
 		Client_SetSkybox()
 	else
-		Client_SetSkybox(skyboxfilename)
+		Client_SetSkybox(skyboxmaterial)
 	end
 	=

 	if (gUseDistanceFog) then

Modified: trunk/data/lua/lib.gfm.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gfm.lua (original)
+++ trunk/data/lua/lib.gfm.lua Wed Nov 14 19:10:13 2007
@@ -193,70 +193,6 @@
 		widget.gfx:SetUV(0,0,w/tw,h/th)
 		widget.gfx:SetAlignment(kGfx2DAlign_Center,kGfx2DAlign_Center)
 	end
-end
-
-function GfmTest()
---[[
-	-- gGumpLoader
-	--local iGumpID =3D (hex2num("0x47E")) -- small x button
-	--local iGumpID =3D (hex2num("0x1393")) -- big compass
-	--local iGumpID =3D (hex2num("0x1392")) -- small compass
-	local iGumpID =3D (hex2num("0xA28"))+0 -- border ?
-	--local iGumpID =3D (hex2num("0xA28"))+4 -- border ? (funny palette stuff=
 at left-top)
-	--local iGumpID =3D (hex2num("0xA28"))+13 -- border ?
-	--local iGumpID =3D (hex2num("0x95")) -- label ?
-	local testmat =3D gGumpLoader:CreateMaterial(iGumpID) -- big compass
-	=

-	if (false and testmat and testmat ~=3D "") then
-		gGumpLoader:Load(iGumpID)
-		local w,h =3D gGumpLoader:GetSize()
-		local tw,th =3D texsize(w),texsize(h)
-		=

-		gGumpTestDlg =3D guimaker.MyCreateDialog()
-		gGumpTestDlg.widget =3D guimaker.MakePlane(gGumpTestDlg,testmat,-w/2,-h/=
2,w,h)
-		local widget =3D gGumpTestDlg.widget
-		widget.gfx:SetUV(0,0,w/tw,h/th)
-		widget.gfx:SetAlignment(kGfx2DAlign_Center,kGfx2DAlign_Center)
-	end
-	=

-	if (false) then
-		gGfmTestDlg =3D guimaker.MyCreateDialog()
-		gGfmTestDlg.rootwidget =3D guimaker.MakePlane(gGfmTestDlg,"BaseWhiteNoLi=
ghting",0,0,0,0) -- need a dummy to get the zorder right
-		local button =3D MakeBorderGumpPart(gGfmTestDlg.rootwidget,hex2num("0x47=
E"),318,270,28,21)
-		local bordergump =3D MakeBorderGump(gGfmTestDlg.rootwidget,hex2num("0xA2=
8"),126,146,409,182)
-		--control : class=3Dbutton, name=3D'button_47e', left=3D318,270,28,21
-		--gump(): normal=3D0x47E over=3D0x47F pressed=3D0x47E
-	end
-]]--
-	=

-	if (true and gGumpLoader) then
-		--local path =3D "data/gfm/askquit.gfm"
-		--local path =3D "data/gfm/healthbar.gfm"
-		--local path =3D "data/gfm/background.gfm"  -- broken
-		--local path =3D "data/gfm/main_menu.gfm" -- broken
-		--local path =3D "data/gfm/connecting.gfm"
-		--local path =3D "data/gfm/loading.gfm"
-		--local path =3D "data/gfm/neterror.gfm"
---[[
-		local mydialog =3D CreateGumpDlgFromGfm(path)
-		mydialog.rootwidget.gfx:SetPos(120,0)
-		local w =3D mydialog.controls["hitsbar"].gfx:GetWidth()
-		local h =3D mydialog.controls["hitsbar"].gfx:GetHeight()
-		local p =3D 0.4
-		print("hitsbar: w=3D",w,"h=3D",h)
-		mydialog.controls["hitsbar"].gfx:SetDimensions(w*p,h)
-		--mydialog.controls["hitsbar"].gfx:SetUV(0.0,0.0,p,1.0)
-		--GfmDump(path)
-]]--
-	end
-	=

-	=

---[[
-	print("map_ID=3D",xmlchild(mapinfo,"ID")[1])
-	print("map_NAME=3D",xmlchild(mapinfo,"NAME")[1])
-	print("map_HEIGHT=3D",xmlchild(mapinfo,"HEIGHT")[1])
-	print("map_SKYBOX=3D",xmlchild(mapinfo,"SKYBOX")[1])
-]]--
 end
 =

 function CreateGumpDlgFromGfm (path) =


Modified: trunk/data/lua/lib.granny.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.granny.lua (original)
+++ trunk/data/lua/lib.granny.lua Wed Nov 14 19:10:13 2007
@@ -378,7 +378,7 @@
 end
 =

 function GetGrannyModelInfo (modelid) =

-	if (not gGrannyModelInfo) then gGrannyModelInfo =3D LoadGrannyModelInfo( =
CorrectGrannyPath(gModelstxtFile) ) end
+	if (not gGrannyModelInfo) then gGrannyModelInfo =3D LoadGrannyModelInfo( =
CorrectGrannyPath(gGrannyConfigFile) ) end
 	return gGrannyModelInfo[modelid]
 end
 =


Modified: trunk/data/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.loading.lua (original)
+++ trunk/data/lua/lib.loading.lua Wed Nov 14 19:10:13 2007
@@ -212,104 +212,70 @@
 	if (gStaticBlockLoader) then gStaticBlockLoader:Destroy() gStaticBlockLoa=
der =3D nil end
 end
 =

---todo: Maps_pre6.xml
-function Check_Map (index, mapsfile)
-	local xml_maps =3D xmlchild(LuaXML_ParseFile(datapath..mapsfile),"MAPS")
-	local xml_map =3D nil
-	=

-	-- search for MAP node with matching ID
-	for k,child in ipairs(xml_maps) do
-		if tonumber(xmlvalue(child,"ID")) =3D=3D tonumber(index) then
-			-- map found
-			xml_map =3D child
-		end
-	end
-	=

-	-- crash on "map not found"
-	if not xml_map then
-		print("FATAL map " .. index .. " not found in "..mapsfile)
-		Crash()
-	end
-
-	local mapfilename =3D	xmlchild(xml_map,"MAPFILENAME")[1]
-
-	if not(file_exists(CorrectPath(gUOPath..mapfilename))) then
-	end
-
-	-- map found, assign it to the global map info
-	return xml_map
-end
-
+-- Loads Maps+Statics+Diff Files (only pre 6.0.0)
 function LoadMap (index)
 	gMapLoaded =3D true
 	gMapIndex =3D index
+
 	gCurrentRenderer:ClearMapCache()
-	print("load map",gMapIndex)
-	gMapImagePath_Small	=3D datapath.."base/tempmap_"..gMapIndex.."_small_s.t=
ga"
+	print("gMapIndex",index)
 =

 	if (not gInitialMapLoaded) then LoadingProfile("load MapInfo") end
-
-	-- map found, assign map-array to the global map info
-	gMapInfo =3D Check_Map(index,"xml/Maps.xml")
-	local mapfilename =3D	xmlchild(gMapInfo,"MAPFILENAME")[1]
-
-	-- if Mapfile (for example map1.mul) don't exists then load
-	if not( file_exists(CorrectPath(gUOPath..mapfilename)) ) then
-		gMapInfo =3D Check_Map(index,"xml/Maps_pre6.xml")
-		mapfilename =3D xmlchild(gMapInfo,"MAPFILENAME")[1]
-	end
-	=

-	local mapheight =3D		xmlchild(gMapInfo,"HEIGHT")[1]
-	local staidxfilename =3D	xmlchild(gMapInfo,"STAIDXFILENAME")[1]
-	local staticfilename =3D	xmlchild(gMapInfo,"STATICFILENAME")[1]
-
-	local sta_diff_lookup =3D	xmlvalue(gMapInfo,"STA_DIFF_LOOKUP")
-	local sta_diff_idx =3D		xmlvalue(gMapInfo,"STA_DIFF_IDX")
-	local sta_diff_data =3D	xmlvalue(gMapInfo,"STA_DIFF_DATA")
-
-	local map_diff_lookup =3D	xmlvalue(gMapInfo,"MAP_DIFF_LOOKUP")
-	local map_diff_data =3D	xmlvalue(gMapInfo,"MAP_DIFF_DATA")
-
-	local id =3D				xmlchild(gMapInfo,"ID")[1]
-
-	print("Loading Map id "..id)
-	print("Loading Map name "..xmlvalue(gMapInfo,"NAME"))
-	print("Loading Map terrain "..mapfilename)
-	print("Loading Map static idx "..staidxfilename)
-	print("Loading Map static "..staticfilename)
-		=

+	local name				=3D gMaps[index].name
+	local mapheight			=3D gMaps[index].mapheight
+	local mapfilename		=3D gMaps[index].mapfilename
+	local staidxfilename	=3D gMaps[index].staidxfilename
+	local staticfilename	=3D gMaps[index].staticfilename
+
+	-- only relevant for pre 6.0.0 UO Clients
+	local sta_diff_lookup	=3D gMaps[index].sta_diff_lookup
+	local sta_diff_idx		=3D gMaps[index].sta_diff_idx
+	local sta_diff_data		=3D gMaps[index].sta_diff_data
+	local map_diff_lookup	=3D gMaps[index].map_diff_lookup
+	local map_diff_data		=3D gMaps[index].map_diff_data
+
 	if (gGroundBlockLoaderType) then
 		if (not gInitialMapLoaded) then LoadingProfile("init GroundblockLoader")=
 end
-		-- gGroundBlockLoader =3D CreateGroundBlockLoader("Dummy",3,0)
-		-- second parameter, 512, is map-height.. width is calculated automatica=
lly from filesize
-		=

+		=

+		print("Loading Map id "..index)
+		print("Loading Map name "..name)
+		print("Loading Map terrain "..mapfilename)
 		--- use diff files?
 		if map_diff_lookup and map_diff_data =

-			and file_exists(CorrectPath(gUOPath..map_diff_lookup)) and file_exists(=
CorrectPath(gUOPath..map_diff_data)) then
-			=

-			print("Applying map diff files")
-			gGroundBlockLoader =3D CreateGroundBlockLoaderWithDiff(gGroundBlockLoad=
erType,mapheight,CorrectPath(gUOPath..mapfilename),
-				CorrectPath(gUOPath..map_diff_lookup), CorrectPath(gUOPath..map_diff_d=
ata))
+			and file_exists(CorrectPath( Addfilepath(map_diff_lookup) )) and file_e=
xists(CorrectPath( Addfilepath(map_diff_data) )) then
+
+			print("Loading Map map_diff_lookup "..map_diff_lookup)
+			print("Loading Map map_diff_data "..map_diff_data)
+			print("Applying Map diff files")
+			gGroundBlockLoader =3D CreateGroundBlockLoaderWithDiff(gGroundBlockLoad=
erType,mapheight,CorrectPath( Addfilepath(mapfilename) ),
+				CorrectPath( Addfilepath(map_diff_lookup) ), CorrectPath( Addfilepath(=
map_diff_data) ))
 		else
-			gGroundBlockLoader =3D CreateGroundBlockLoader(gGroundBlockLoaderType,m=
apheight,CorrectPath(gUOPath..mapfilename))
+			gGroundBlockLoader =3D CreateGroundBlockLoader(gGroundBlockLoaderType,m=
apheight,CorrectPath( Addfilepath(mapfilename) ))
 		end
 	end
 		=

 	if (gStaticBlockLoaderType) then
 		if (not gInitialMapLoaded) then LoadingProfile("init StaticBlockLoader")=
 end
 		=

-		print("diff",sta_diff_lookup , sta_diff_idx , sta_diff_data)
+		print("Loading Static static idx "..staidxfilename)
+		print("Loading Static static "..staticfilename)
+		--- use diff files?
 		if(sta_diff_lookup and sta_diff_idx and sta_diff_data)
-			and file_exists(CorrectPath(gUOPath..sta_diff_lookup)) and file_exists(=
CorrectPath(gUOPath..sta_diff_idx)) =

-			and file_exists(CorrectPath(gUOPath..sta_diff_data)) then
-			=

-			print("Applying static diff files")
-			gStaticBlockLoader =3D CreateStaticBlockLoaderWithDiff(gStaticBlockLoad=
erType,mapheight,CorrectPath(gUOPath..staidxfilename),CorrectPath(gUOPath..=
staticfilename),
-				CorrectPath(gUOPath..sta_diff_lookup),CorrectPath(gUOPath..sta_diff_id=
x),CorrectPath(gUOPath..sta_diff_data))
+			and file_exists(CorrectPath( Addfilepath(sta_diff_lookup) )) and file_e=
xists(CorrectPath( Addfilepath(sta_diff_idx) )) =

+			and file_exists(CorrectPath( Addfilepath(sta_diff_data) )) then
+
+			print("Loading Static sta_diff_lookup "..sta_diff_lookup)
+			print("Loading Static sta_diff_idx "..sta_diff_idx)
+			print("Loading Static sta_diff_data "..sta_diff_data)
+			print("Applying Static diff files")
+			gStaticBlockLoader =3D CreateStaticBlockLoaderWithDiff(gStaticBlockLoad=
erType,mapheight,CorrectPath( Addfilepath(staidxfilename) ),CorrectPath( Ad=
dfilepath(staticfilename) ),
+				CorrectPath( Addfilepath(sta_diff_lookup) ),CorrectPath( Addfilepath(s=
ta_diff_idx) ),CorrectPath( Addfilepath(sta_diff_data) ))
 		else =

-			gStaticBlockLoader =3D CreateStaticBlockLoader(gStaticBlockLoaderType,m=
apheight,CorrectPath(gUOPath..staidxfilename),CorrectPath(gUOPath..staticfi=
lename))
-		end
-	end
+			gStaticBlockLoader =3D CreateStaticBlockLoader(gStaticBlockLoaderType,m=
apheight,CorrectPath( Addfilepath(staidxfilename) ),CorrectPath( Addfilepat=
h(staticfilename) ))
+		end
+	end
+
+	gMapImagePath_Small	=3D datapath.."base/tempmap_"..index.."_small_s.tga"
 =

 	local mapfile_exists =3D file_exists(gMapImagePath_Small)
 	if (mapfile_exists) then
@@ -326,5 +292,5 @@
 	=

 	-- update renderer
 	gCurrentRenderer:SetMapEnvironment()
-	SetCompassMapIndex(gMapIndex)
-end
+	SetCompassMapIndex(index)
+end

Modified: trunk/data/lua/lib.test.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.test.lua (original)
+++ trunk/data/lua/lib.test.lua Wed Nov 14 19:10:13 2007
@@ -65,15 +65,17 @@
 	Crash()
 end
 =

-function AnalyseStatics ()
-	-- count how often every type of static occurs on the map
-	gMapInfo =3D Check_Map(gMapIndex,"xml/Maps.xml")
-	print("gMapInfo",gMapInfo)
-	local mapfilename=3D	 xmlchild(gMapInfo,"MAPFILENAME")[1]
-	local mapheight=3D	 xmlchild(gMapInfo,"HEIGHT")[1]
-	local staidxfilename=3Dxmlchild(gMapInfo,"STAIDXFILENAME")[1]
-	local staticfilename=3Dxmlchild(gMapInfo,"STATICFILENAME")[1]
-	local skyboxfilename=3Dxmlchild(gMapInfo,"SKYBOX")[1]
+-- count how often every type of static occurs on the map
+function AnalyseStatics (index)
+	gMapLoaded =3D true
+	gMapIndex =3D index
+	gCurrentRenderer:ClearMapCache()
+	print("gMapIndex",gMapIndex)
+
+	local name				=3D gMaps[index].name
+	local mapheight			=3D gMaps[index].mapheight
+	local staidxfilename	=3D gMaps[index].staidxfilename
+	local staticfilename	=3D gMaps[index].staticfilename
 	=

 	if (gTileTypeLoaderType) then
 		LoadingProfile("init TileTypeLoader")

Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Wed Nov 14 19:10:13 2007
@@ -137,7 +137,7 @@
 		end
 	end
 	-- check for character(granny) models
-	if (not file_exists( CorrectGrannyPath(gModelstxtFile) )) then
+	if (not file_exists( CorrectGrannyPath(gGrannyConfigFile) )) then
 		FatalErrorMessage(sprintf("iris2 could not find character models in your=
 uo dir\n please install AOS or ML (see README)"))
 	end
 end
@@ -167,7 +167,7 @@
 	-- if (gHuffmanCompression) then LuaHuffmanTest() end
 	-- if (false) then MyGrannyTest_PreOgre() end	-- TODO : just a test, see =
lib.granny.lua
 	-- if (false) then LuaBitwiseTest() end
-	-- if (false) then AnalyseStatics() end
+	-- if (false) then AnalyseStatics(0) end
 	-- if (false) then ExpressionTest() end
 	-- if (false) then TestSound() end
 	-- if (false) then TestMultiLoader() end

Modified: trunk/data/lua/net/net.login.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.login.lua (original)
+++ trunk/data/lua/net/net.login.lua Wed Nov 14 19:10:13 2007
@@ -36,7 +36,7 @@
 =

 -- len: 0x10C
 function ProtocolSend_SystemSpecs()
-	print("NET: Send_SystemSpecs:")
+	printdebug("login","NET: Send_SystemSpecs:")
 	local out =3D GetSendFIFO()
 	out:PushNetUint8(kPacket_Metrics)
 	out:PushNetUint8(hex2num("0x02"))

Modified: trunk/vc8/iris.vcproj
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/vc8/iris.vcproj (original)
+++ trunk/vc8/iris.vcproj Wed Nov 14 19:10:13 2007
@@ -306,10 +306,6 @@
 				>
 			</File>
 			<File
-				RelativePath=3D"..\include\legacydata.h"
-				>
-			</File>
-			<File
 				RelativePath=3D"..\include\ogremanualloader.h"
 				>
 			</File>



From no-reply at zwischenwelt.org  Wed Nov 14 19:11:40 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 14 Nov 2007 18:11:40 -0000
Subject: [Iris-commit] [IRIS] r1507 - /trunk/bin/iris2.exe
Message-ID: <20071114181140.43DF61C1827B@zwischenwelt.org>

Author: sience
Date: Wed Nov 14 19:11:39 2007
New Revision: 1507

Log:
-new binary

Modified:
    trunk/bin/iris2.exe

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.



From no-reply at zwischenwelt.org  Thu Nov 15 20:04:45 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 15 Nov 2007 19:04:45 -0000
Subject: [Iris-commit] [IRIS] r1508 - in /trunk/data: config.lua.dist
 lua/gui/gui.gumpmanager.lua lua/lib.3d.dynamic.lua lua/lib.data.lua
 lua/lib.debugmenu.lua lua/lib.gfm.lua lua/lib.loading.lua
 lua/lib.uodragdrop.lua lua/net.securetrade.lua lua/obj/obj.container.lua
Message-ID: <20071115190445.E99A81C182C1@zwischenwelt.org>

Author: sience
Date: Thu Nov 15 20:04:45 2007
New Revision: 1508

Log:
-big bugfix for artcache indexing
-rtt art-image generation improved

Modified:
    trunk/data/config.lua.dist
    trunk/data/lua/gui/gui.gumpmanager.lua
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.data.lua
    trunk/data/lua/lib.debugmenu.lua
    trunk/data/lua/lib.gfm.lua
    trunk/data/lua/lib.loading.lua
    trunk/data/lua/lib.uodragdrop.lua
    trunk/data/lua/net.securetrade.lua
    trunk/data/lua/obj/obj.container.lua

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Thu Nov 15 20:04:45 2007
@@ -246,6 +246,7 @@
 =

 kMountZAdd =3D {[401]=3D-0.25,[400]=3D-0.10}
 =

+-- generate RTT images from meshes instead of loading images from Art.mul
 gEnableRTTModelImages =3D false
 =

 gShowTileFreeDebug =3D false

Modified: trunk/data/lua/gui/gui.gumpmanager.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.gumpmanager.lua (original)
+++ trunk/data/lua/gui/gui.gumpmanager.lua Thu Nov 15 20:04:45 2007
@@ -969,7 +969,7 @@
 	end
 	=

 	local material		=3D GetArtMat( item.artid + hex2num("0x4000"), item.hue )
-	local width, height	=3D GetArtSize( item.artid + hex2num("0x4000") )
+	local width, height	=3D GetArtSize( item.artid + hex2num("0x4000"), item.=
hue )
 	local texwidth		=3D width / texsize( width )
 	local texheight		=3D height / texsize( height )
 	local bitmask		=3D GetArtBitMask( item.artid + hex2num("0x4000") )
@@ -999,7 +999,7 @@
 		end
 		=

 		local material		=3D GetArtMat( item.artid + hex2num("0x4000"), item.hue )
-		local width, height	=3D GetArtSize( item.artid + hex2num("0x4000") )
+		local width, height	=3D GetArtSize( item.artid + hex2num("0x4000"), item=
.hue )
 		local texwidth		=3D width / texsize( width )
 		local texheight		=3D height / texsize( height )
 		local bitmask		=3D GetArtBitMask( item.artid + hex2num("0x4000") )
@@ -1046,7 +1046,7 @@
 =

 function gGumpmanager._GumpAddGroundTilePic( gump, x, y, id, hue, page )
 	local material		=3D GetArtMat( id, hue )
-	local width, height	=3D GetArtSize( id )
+	local width, height	=3D GetArtSize( id, hue )
 	local texwidth		=3D width / texsize( width )
 	local texheight		=3D height / texsize( height )
 	local bitmask		=3D GetArtBitMask( id )
@@ -1065,7 +1065,7 @@
 	=

 	image.update =3D function( image )
 		local material		=3D GetArtMat( image.id, image.hue )
-		local width, height	=3D GetArtSize( image.id )
+		local width, height	=3D GetArtSize( image.id, image.hue )
 		local texwidth		=3D width / texsize( width )
 		local texheight		=3D height / texsize( height )
 		local bitmask		=3D GetArtBitMask( image.id )
@@ -1315,7 +1315,7 @@
 =

 function gGumpmanager._GumpAddTilePic( gump, x, y, id, hue, page )
 	local material		=3D GetArtMat( id + hex2num("0x4000"), hue )
-	local width, height	=3D GetArtSize( id + hex2num("0x4000") )
+	local width, height	=3D GetArtSize( id + hex2num("0x4000"), hue )
 	local texwidth		=3D width / texsize( width )
 	local texheight		=3D height / texsize( height )
 	local bitmask		=3D GetArtBitMask( id + hex2num("0x4000") )
@@ -1334,7 +1334,7 @@
 	=

 	image.update =3D function( image )
 		local material		=3D GetArtMat( image.id + hex2num("0x4000"), image.hue )
-		local width, height	=3D GetArtSize( image.id + hex2num("0x4000") )
+		local width, height	=3D GetArtSize( image.id + hex2num("0x4000"), image.=
hue )
 		local texwidth		=3D width / texsize( width )
 		local texheight		=3D height / texsize( height )
 		local bitmask		=3D GetArtBitMask( image.id + hex2num("0x4000") )

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Thu Nov 15 20:04:45 2007
@@ -164,11 +164,11 @@
 	self:UpdateDynamicVisibility(item)
 end
 =

-function Renderer3D:CreateArtBillBoard( gfx, iTileTypeID, iHue )
-	if (iTileTypeID > gMaxArtValue) then return end
-	local matname =3D GetArtBillBoardMat(iTileTypeID,iHue)
+function Renderer3D:CreateArtBillBoard( gfx, iArtID, iHue )
+	if (iArtID > gMaxArtValue) then return end
+	local matname =3D GetArtBillBoardMat(iArtID,iHue)
 	local isotilew =3D 44 / math.sqrt(2)
-	local w,h =3D GetArtSize(iTileTypeID)
+	local w,h =3D GetArtSize(iArtID,iHue)
 	if (not w or w =3D=3D 0) then w =3D isotilew end
 	if (not h or h =3D=3D 0) then h =3D isotilew end
 	gfx:SetSimpleRenderable()

Modified: trunk/data/lua/lib.data.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.data.lua (original)
+++ trunk/data/lua/lib.data.lua Thu Nov 15 20:04:45 2007
@@ -79,31 +79,30 @@
 end
 -- New GetArtMat with RTT support
 function GetArtMat (iArtID,iHue)
-	if (not gArtMapLoader) then return "art_fallback" end
 	if (not(iHue) or (tonumber(iHue) > gMaxHueValue)) then iHue=3D0 end
 =

 	local res =3D gArtMatCache[iArtID.."_"..iHue]
 	if (not res) then
 		res =3D {}
-		local w,h =3D 0
+		local w,h =3D 32,32		-- initial fallback art image size
 =

 		-- check if RTT generated Art Tiles is enabled and try to generate a RTT=
 Tile out of an *.mesh
 		if (gEnableRTTModelImages) then
-			printdebug("static","try to create RTT from MeshID (iArtID - 16384): ".=
.iArtID - 16384)
+			printdebug("static","try to create RTT from MeshID (static iArtID - 163=
84): "..iArtID - 16384)
 			local meshname =3D GetModelName(FilterMesh(iArtID - 16384))
 =

 			if (OgreMeshAvailable(meshname)) then
-				local iMaxW=3D48
-				local iMaxH=3D32
+				local iMaxW=3D64	--48
+				local iMaxH=3D64	--32
 				local texname,rtt =3D GetMeshPreviewX (meshname, iMaxW, 0, 1.5, PF_A8R=
8G8B8, 1.0, 1.0, 1.0, 0.0)
 				res.material =3D texname and CloneMaterial("rtt_base")
 				SetTexture(res.material,texname)
-			=

+
 				-- Saves the raw Texture as BMP or PNG
 				if (false) then SaveUOModelImageToFile(rtt,texname) end
 =

-				w =3D 44 / math.sqrt(2)
-				h =3D 44 / math.sqrt(2)
+				w =3D 64 / math.sqrt(2)
+				h =3D 64 / math.sqrt(2)
 				if (iMaxW) then w =3D math.min(iMaxW,w) end
 				if (iMaxH) then h =3D math.min(iMaxH,h) end
 			else
@@ -113,24 +112,18 @@
 		=

 		-- if no Art Tile is existent, load the Art Tile from Art.mul
 		if (not res.material or res.material =3D=3D "") then
-			-- bPixelExact,bInvertY,bInvertX,bHasAlpha,bEnableLighting,bEnableDepth=
Write,HueLoader,iHue
-			res.material =3D gArtMapLoader:CreateMaterial(iArtID,true,false,false,t=
rue,false,false, gHueLoader, iHue)
-			w,h =3D gArtMapLoader:GetSize()
+			if (gArtMapLoader) then
+				-- bPixelExact,bInvertY,bInvertX,bHasAlpha,bEnableLighting,bEnableDept=
hWrite,HueLoader,iHue
+				res.material =3D gArtMapLoader:CreateMaterial(iArtID,true,false,false,=
true,false,false, gHueLoader, iHue)
+				w,h =3D gArtMapLoader:GetSize()
+			end
 		end
 =

 		res.width =3D w
 		res.height =3D h
-		=

+
+		if (not res.material or res.material =3D=3D "") then res.material=3D "ar=
t_fallback" end
 		gArtMatCache[iArtID.."_"..iHue] =3D res
-	end
-	=

-	if (not res.material) then
-		-- fallbacks if not found
-		if (iArtID < 16384) then
-			return GetArtMat( 0 ) -- fallback first ground
-		else
-			return GetArtMat( 16384 ) -- fallback first static
-		end
 	end
 	=

 	return res.material
@@ -149,14 +142,16 @@
 	return res
 end
 =

-
-function GetArtSize (iArtID)
-	local res =3D gArtMatCache[iArtID]
+-- GetArtSize from gArtMatCache or generateSize
+function GetArtSize (iArtID,iHue)
+	if (not(iHue) or (iHue > gMaxHueValue)) then iHue=3D0 end
+	local res =3D gArtMatCache[iArtID.."_"..iHue]
+
 	if (not res and gArtMapLoader) then
 		gArtMapLoader:Load(iArtID)
 		return gArtMapLoader:GetSize()
 	end
-	=

+
 	if (res) then
 		return res.width, res.height
 	end

Modified: trunk/data/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.debugmenu.lua (original)
+++ trunk/data/lua/lib.debugmenu.lua Thu Nov 15 20:04:45 2007
@@ -380,7 +380,7 @@
 =

 	local matname =3D GetArtMat(iTranslatedTileTypeID,iHue)
 	local isotilew =3D 44 / math.sqrt(2)
-	local w,h =3D GetArtSize(iTranslatedTileTypeID)
+	local w,h =3D GetArtSize(iTranslatedTileTypeID,iHue)
 	if (not w or w =3D=3D 0) then w =3D isotilew end
 	if (not h or h =3D=3D 0) then h =3D isotilew end
 	local tw,th =3D texsize(w),texsize(h)

Modified: trunk/data/lua/lib.gfm.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gfm.lua (original)
+++ trunk/data/lua/lib.gfm.lua Thu Nov 15 20:04:45 2007
@@ -164,7 +164,7 @@
 		print("WARNING ! MakeArtGumpPart : material load failed for ArtID=3D", i=
ArtID)
 		mat =3D "hudUnknown"
 	end
-	local w,h =3D GetArtSize(iArtID)
+	local w,h =3D GetArtSize(iArtID,hueid)
 	cx =3D (cx ~=3D 0) and cx or w -- default =3D w =

 	cy =3D (cy ~=3D 0) and cy or h -- default =3D h
 	local widget =3D guimaker.MakePlane(parent,mat,x,y,cx,cy)

Modified: trunk/data/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.loading.lua (original)
+++ trunk/data/lua/lib.loading.lua Thu Nov 15 20:04:45 2007
@@ -280,12 +280,12 @@
 	local mapfile_exists =3D file_exists(gMapImagePath_Small)
 	if (mapfile_exists) then
 		print(gMapImagePath_Small .. " exists")
-	elseif (gGroundBlockLoader and gRadarColorLoaderType) then
+	elseif (gGroundBlockLoader and gStaticBlockLoader and gRadarColorLoaderTy=
pe) then
 		if (not gInitialMapLoaded) then LoadingProfile("init RadarColorLoader") =
end
 		if (not gRadarColorLoader) then
 			gRadarColorLoader =3D CreateRadarColorLoader(gRadarColorLoaderType,Corr=
ectPath( Addfilepath(gRadarcolFile) ))
 		end
-		=

+
 		if (not gInitialMapLoaded) then LoadingProfile("generating "..gMapImageP=
ath_Small) end
 		gGroundBlockLoader:WriteMapImageToFile(gRadarColorLoader,gStaticBlockLoa=
der,gMapImagePath_Small,false)
 	end

Modified: trunk/data/lua/lib.uodragdrop.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.uodragdrop.lua (original)
+++ trunk/data/lua/lib.uodragdrop.lua Thu Nov 15 20:04:45 2007
@@ -6,7 +6,7 @@
 function SetDragItem( item, offx, offy )
 	if (item) then
 		local material		=3D GetArtMat( item.artid + hex2num("0x4000"), item.hue )
-		local width, height	=3D GetArtSize( item.artid + hex2num("0x4000") )
+		local width, height	=3D GetArtSize( item.artid + hex2num("0x4000"), item=
.hue )
 		=

 		if (not offx) then offx =3D -math.floor( width/2 ) end
 		if (not offy) then offy =3D -math.floor( height*3/5 ) end
@@ -172,7 +172,7 @@
 	local widget =3D item.widget
 	local iArtID =3D item.artid + hex2num("0x4000")
 	local mat =3D GetArtMat(iArtID,item.hue)
-	local w,h =3D GetArtSize(iArtID)
+	local w,h =3D GetArtSize(iArtID,item.hue)
 	offx =3D offx or (-w / 2)
 	offy =3D offy or (-h / 2)
 	=

@@ -191,7 +191,7 @@
 	if (not widget) then return end
 	local iArtID =3D item.artid + hex2num("0x4000")
 	local mat =3D GetArtMat(iArtID,item.hue)
-	local w,h =3D GetArtSize(iArtID)
+	local w,h =3D GetArtSize(iArtID,item.hue)
 	local iMouseX,iMouseY =3D GetMousePos()
 	local offx =3D widget.gfx:GetDerivedLeft() - iMouseX =

 	local offy =3D widget.gfx:GetDerivedTop() - iMouseY
@@ -206,7 +206,7 @@
 	if dynamic.artid < gMulti_ID then
 		local iArtID =3D dynamic.artid + hex2num("0x4000")
 		local matname =3D GetArtMat(iArtID,dynamic.hue)
-		local w,h =3D GetArtSize(iArtID)
+		local w,h =3D GetArtSize(iArtID,dynamic.hue)
 		local offx,offy =3D -w/2,-h/2 =

 		-- TODO : correct offy would be : bottom of bitmask visible boundbox (NO=
T -h !), but center looks good enough for most items for now
 		=


Modified: trunk/data/lua/net.securetrade.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.securetrade.lua (original)
+++ trunk/data/lua/net.securetrade.lua Thu Nov 15 20:04:45 2007
@@ -45,7 +45,7 @@
 			print("WARNING ! SecureTradeRebuildContainerWidgets : material load fai=
led for artid=3D", iArtID)
 		else
 			local bitmask =3D GetArtBitMask(iArtID)
-			local w,h =3D GetArtSize(iArtID)
+			local w,h =3D GetArtSize(iArtID,item.hue)
 			local x =3D item.xloc+addx
 			local y =3D item.yloc+addy
 			local sanepos =3D 200 -- just to make sure

Modified: trunk/data/lua/obj/obj.container.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.container.lua (original)
+++ trunk/data/lua/obj/obj.container.lua Thu Nov 15 20:04:45 2007
@@ -181,7 +181,7 @@
 			print("WARNING ! MakeContainerItemWidget : material load failed for art=
id=3D", iArtID)
 		else
 			local bitmask =3D GetArtBitMask(iArtID)
-			local w,h =3D GetArtSize(iArtID)
+			local w,h =3D GetArtSize(iArtID,item.hue)
 			widget =3D guimaker.MakePlane(parent,mat,x,y,w,h)
 			local tw,th =3D texsize(w),texsize(h)
 			widget.gfx:SetUV(0,(0)/th,w/tw,(h+0)/th)



From no-reply at zwischenwelt.org  Fri Nov 16 20:06:06 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 16 Nov 2007 19:06:06 -0000
Subject: [Iris-commit] [IRIS] r1509 - in /trunk/data/lua: lib.3d.dynamic.lua
 lib.static.lua net.other.lua net/net.dynamic.lua
Message-ID: <20071116190606.C3A901C182A0@zwischenwelt.org>

Author: sience
Date: Fri Nov 16 20:06:05 2007
New Revision: 1509

Log:
-small bugfixes
-some comments removed

Modified:
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.static.lua
    trunk/data/lua/net.other.lua
    trunk/data/lua/net/net.dynamic.lua

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Fri Nov 16 20:06:05 2007
@@ -110,8 +110,8 @@
 	else
 		-- normal 1 part object
 		item.gfx =3D CreateRootGfx3D()
-		meshname =3D (not gForceFallBackBillboards_Dynamics) and GetStaticMeshNa=
me(item.artid,item.hue)
-		if (meshname and meshname ~=3D "") then
+		local meshname =3D (not gForceFallBackBillboards_Dynamics) and GetStatic=
MeshName(item.artid,item.hue)
+		if meshname then
 			item.gfx:SetMesh(meshname)
 			item.gfx:SetScale(-1,1,1)		-- (-1) thats because xmirror bug and wrong =
mirrored mashes
 			item.gfx:SetNormaliseNormals(true)

Modified: trunk/data/lua/lib.static.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.static.lua (original)
+++ trunk/data/lua/lib.static.lua Fri Nov 16 20:06:05 2007
@@ -91,7 +91,7 @@
 =

 		if not OgreMeshAvailable(meshname) then =

 			printdebug("static","mesh not available",meshname)
-			meshname =3D nil
+			meshname =3D false	-- set mesh as not available
 		else =

 			printdebug("static","Static Meshloader:",iTranslatedTileTypeID,iHue,mes=
hname)
 			=

@@ -116,7 +116,7 @@
 				end
 			end
 		end
-		if (meshname =3D=3D "") then meshname =3D nil end
+
 		gLegacyModelCache[iTranslatedTileTypeID.."_"..iHue] =3D meshname
 	end
 =


Modified: trunk/data/lua/net.other.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.other.lua (original)
+++ trunk/data/lua/net.other.lua Fri Nov 16 20:06:05 2007
@@ -623,8 +623,8 @@
 	printf("NET: Attack -> serial=3D0x%08x\n",mobile_serial)
 end
 =

---[[Newer packet as of late 2004. Is now used on OSI to handle the Revisio=
n of Tooltips
-	instead of the original 0xBF methods it appears.]]--
+-- Newer packet as of late 2004.
+-- Is now used on OSI to handle the Revision of Tooltips instead of the or=
iginal 0xBF methods it appears.
 function gPacketHandler.kPacket_AOSObjProp()	--0xDC (9 bytes)
 	local input =3D GetRecvFIFO()
 	local id =3D input:PopNetUint8()
@@ -696,23 +696,6 @@
 end
 =

 -- compressed Gump
---[[
-			EnsureCapacity( 28 + (int) m_Layout.Length + (int) m_Strings.Length );
-			m_Stream.Write( (int) m_Gump.Serial );
-			m_Stream.Write( (int) m_Gump.TypeID );
-			m_Stream.Write( (int) m_Gump.X );
-			m_Stream.Write( (int) m_Gump.Y );
-			// Note: layout seems to be null terminated on OSI, but it works either=
 ways
-			WritePacked( m_Layout );
-			m_Stream.Write( (int) m_StringCount );
-			WritePacked( m_Strings );
-			--
-		private void WritePacked( PacketWriter src )
-			m_Stream.Write( (int) ( 4 + packLength ) );
-			m_Stream.Write( (int) length );
-			m_Stream.Write( m_PackBuffer, 0, packLength );
-
-]]--
 function gPacketHandler.kPacket_Compressed_Gump ()	--0xDD
 	local input =3D GetRecvFIFO()
 	local popped_start =3D input:GetTotalPopped()

Modified: trunk/data/lua/net/net.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.dynamic.lua (original)
+++ trunk/data/lua/net/net.dynamic.lua Fri Nov 16 20:06:05 2007
@@ -1,9 +1,6 @@
-
-
 -- 0x2E  Equip Item  (single item update version of 0x78 : equipped mobile)
 -- This is sent by the server to equip a single item on a character.
---Packet [2e], Length: 15, Type: Server
---2e 40 02 21 9b 20 3b 00 0b 00 00 00 03 04 5e =

+
 -- watch out for kLayer_NPCBuyRestock and kLayer_NPCBuyNoRestock
 function gPacketHandler.kPacket_Equip_Item() -- ProtocolRecv_AddMobile
 	local input =3D GetRecvFIFO()
@@ -22,7 +19,6 @@
 	HandleEquipItem(dynamicdata)
 end
 =

-
 -- Dynamics/Object Information (Variable # of bytes)
 -- (recieved when item first appears on char visualrange on the ground)
 --			// 14 base length
@@ -30,10 +26,6 @@
 --			// +2 - Hue
 --			// +1 - Flags
 -- TODO : here Tooltip request   0x1A  (old iris:PCK_Put)
---[[
-Packet [1a], Length: 17, Type: Server
-1a 00 11 c0 02 9d aa 00 00 00 01 15 44 44 88 9c 80
-]]--
 =

 -- show item (0x1a)
 function gPacketHandler.kPacket_Show_Item()



From no-reply at zwischenwelt.org  Sat Nov 17 16:48:54 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 17 Nov 2007 15:48:54 -0000
Subject: [Iris-commit] [IRIS] r1510 - in /trunk/data/lua:
 filter/filter.granny.lua gui/gui.paperdoll.lua lib.3d.map.lua
 lib.gui.iris.lua lib.loading.lua lib.static.lua lib.uodragdrop.lua main.lua
 net.popup.lua obj/obj.mobile.lua obj/obj.player.lua
Message-ID: <20071117154855.20E9E1C182C1@zwischenwelt.org>

Author: sience
Date: Sat Nov 17 16:48:54 2007
New Revision: 1510

Log:
-several cleanups and bugfixes

Modified:
    trunk/data/lua/filter/filter.granny.lua
    trunk/data/lua/gui/gui.paperdoll.lua
    trunk/data/lua/lib.3d.map.lua
    trunk/data/lua/lib.gui.iris.lua
    trunk/data/lua/lib.loading.lua
    trunk/data/lua/lib.static.lua
    trunk/data/lua/lib.uodragdrop.lua
    trunk/data/lua/main.lua
    trunk/data/lua/net.popup.lua
    trunk/data/lua/obj/obj.mobile.lua
    trunk/data/lua/obj/obj.player.lua

Modified: trunk/data/lua/filter/filter.granny.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/filter/filter.granny.lua (original)
+++ trunk/data/lua/filter/filter.granny.lua Sat Nov 17 16:48:54 2007
@@ -4,7 +4,7 @@
 -- FILTER: Grannys
 function GrannyOverride(mobileartid)
 	if (gGrannyFilter[mobileartid]) then
-		printdebug("granny","Mapping: ArtID to GrannyID ",mobileartid," -> ",gGr=
annyFilter[mobileartid].grannyid)
+		--printdebug("granny","Mapping: ArtID to GrannyID ",mobileartid," -> ",g=
GrannyFilter[mobileartid].grannyid)
 		return gGrannyFilter[mobileartid].grannyid
 	end
 	return mobileartid

Modified: trunk/data/lua/gui/gui.paperdoll.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.paperdoll.lua (original)
+++ trunk/data/lua/gui/gui.paperdoll.lua Sat Nov 17 16:48:54 2007
@@ -62,6 +62,8 @@
 -- rebuild needed on update to have correct layerorder
 -- paperdoll.bIsPlayer (check if is player or npc)
 function RebuildPaperdoll (paperdoll)
+	if (not gGumpLoader) then return end
+
 	local mobile =3D GetMobile(paperdoll.mobileserial)
 	paperdoll.mobile =3D mobile
 	paperdoll.bIsPlayer =3D IsPlayerMobile(mobile)

Modified: trunk/data/lua/lib.3d.map.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.map.lua (original)
+++ trunk/data/lua/lib.3d.map.lua Sat Nov 17 16:48:54 2007
@@ -282,7 +282,7 @@
 -- TODO: blend out mounts
 function Renderer3D:BlendOutLayersAbovePlayer ()
 	local x,y,z =3D GetPlayerPos()
-	if (not z or not gStaticBlockLoader) then return end
+	if (not z or not gStaticBlockLoader or not gGroundBlockLoader) then retur=
n end
 =

 	local playerheadpos =3D z + self.giBlendOutPlayerHeight
 =


Modified: trunk/data/lua/lib.gui.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gui.iris.lua (original)
+++ trunk/data/lua/lib.gui.iris.lua Sat Nov 17 16:48:54 2007
@@ -4,8 +4,8 @@
 -- list of all open stats dialogs serial->dialog
 gStatusDialogs =3D {}
 =

--- creates all this fancy gui stuff
-function GuiInit ()
+-- create player status dialog and stuff like this
+function PlayerGuiInit ()
 	-- create player status
 	if GetPlayerMobile() then
 		printdebug("gump","########## UpdatePlayerBodySerial (serial) was called=
 -> Open Status")

Modified: trunk/data/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.loading.lua (original)
+++ trunk/data/lua/lib.loading.lua Sat Nov 17 16:48:54 2007
@@ -276,10 +276,9 @@
 	end
 =

 	gMapImagePath_Small	=3D datapath.."base/tempmap_"..index.."_small_s.tga"
-
 	local mapfile_exists =3D file_exists(gMapImagePath_Small)
 	if (mapfile_exists) then
-		print(gMapImagePath_Small .. " exists")
+		print(gMapImagePath_Small.." exists")
 	elseif (gGroundBlockLoader and gStaticBlockLoader and gRadarColorLoaderTy=
pe) then
 		if (not gInitialMapLoaded) then LoadingProfile("init RadarColorLoader") =
end
 		if (not gRadarColorLoader) then

Modified: trunk/data/lua/lib.static.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.static.lua (original)
+++ trunk/data/lua/lib.static.lua Sat Nov 17 16:48:54 2007
@@ -83,7 +83,7 @@
 =

 	if (meshname =3D=3D nil) then
 		if (not meshname) then
-			meshname =3D GetModelName(iTranslatedTileTypeID) -- "mdl_"..iTileTypeID=
..".mesh"
+			meshname =3D GetModelName(iTranslatedTileTypeID) -- "mdl_"..iTranslated=
TileTypeID..".mesh"
 		end
 =

 		-- mesh available?
@@ -138,15 +138,16 @@
 		local i =3D 0
 		=

 		repeat
-			local flags,weight,quality,unkn1,unkn2,quantity,animid,unkn3,hue,unkn4,=
height,name =3D gTileTypeLoader:GetStaticTileType(i+32*512)
-			if flags =3D=3D nil then =

-				printdebug("static","i",i,"not found")
+			local arrtiletype =3D {}
+			arrtiletype =3D GetStaticTileType(i)
+			if (arrtiletype) then
+				printdebug("static","i",i,"name",arrtiletype.msName)
+				GetStaticMeshName(i,arrtiletype.miHue)
+				i =3D i + 1
+			else
+				printdebug("static","i",i,"not found in Tiledata")
 				i =3D nil
-			else
-				printdebug("static","i",i,"name",name)
-				GetStaticMeshName(i,hue)	--TODO: hueing precached meshes
-				i =3D i + 1
 			end
-		until i =3D=3D nil
+		until (i =3D=3D nil)
 	end
 end

Modified: trunk/data/lua/lib.uodragdrop.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.uodragdrop.lua (original)
+++ trunk/data/lua/lib.uodragdrop.lua Sat Nov 17 16:48:54 2007
@@ -345,11 +345,11 @@
 		=

 		-- stack this item with the same beneath?
 		if gMousePickFoundHit and gMousePickFoundHit.hittype =3D=3D kMousePickHi=
tType_ContainerItem then
+			local arrtiletype =3D {}
 			-- read out item infos
-			local flags,weight,quality,unkn1,unkn2,quantity,animid,unkn3,hue,unkn4,=
height,name =3D gTileTypeLoader:GetStaticTileType(item.artid+32*512)
-
+			arrtiletype =3D GetStaticTileType(item.artid)
 			-- if the item beneath has the same artid and stackable, try to stack t=
hem
-			if (TestBit(flags, kTileDataFlag_Generic_Stackable)) and gMousePickFoun=
dHit.item.artid =3D=3D item.artid then =

+			if (TestBit(arrtiletype.miFlags or 0,kTileDataFlag_Generic_Stackable)) =
and gMousePickFoundHit.item.artid =3D=3D item.artid then
 				target =3D gMousePickFoundHit.item.serial =

 			end
 		end

Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Sat Nov 17 16:48:54 2007
@@ -240,11 +240,15 @@
 =

 	print("Welcome to Iris")
 =

+	-- create player status dialog and stuff like this
+	PlayerGuiInit()
+
 	-- stop menu music
 	SoundStopMusic()
 	=

 	-- start playing ingame music
 	SoundPlayMusicById(57)
+	=

 =

 	gInGameStarted =3D true
 	=


Modified: trunk/data/lua/net.popup.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.popup.lua (original)
+++ trunk/data/lua/net.popup.lua Sat Nov 17 16:48:54 2007
@@ -72,6 +72,8 @@
 =

 -- TODO : check if popupmenu is already opened for this mobile ! (otherwis=
e it would be opened twice)
 function DisplayPopupMenu (popupmenu)
+	if (not gGumpLoader) then return end
+
 	--- no request running anymore
 	gPopupRequestRunning =3D false
 	-- update global entry

Modified: trunk/data/lua/obj/obj.mobile.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.mobile.lua (original)
+++ trunk/data/lua/obj/obj.mobile.lua Sat Nov 17 16:48:54 2007
@@ -142,6 +142,7 @@
 	end
 	=

 	local bIsPlayer =3D self.serial =3D=3D gPlayerBodySerial
+
 	-- if something related to equipment might have changed =

 	-- this can also have happened if equipmentdata=3Dnil, e.g. when an equip=
ment item was destroyed directly
 	-- maybe only in UpdateContent and/or if equipmentdata is set ?

Modified: trunk/data/lua/obj/obj.player.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.player.lua (original)
+++ trunk/data/lua/obj/obj.player.lua Sat Nov 17 16:48:54 2007
@@ -17,7 +17,7 @@
 	-- warning ! don't trigger network send here
 	local backpack =3D GetPlayerBackPackItem()
 	if (backpack) then
-		printdebug("player","BACKPACK UPDATE")
+		printdebug("player","PlayerBackpackItemUpdated: BACKPACK UPDATE")
 		if ((not gPlayerBackPack) or (gPlayerBackPack.serial ~=3D backpack.seria=
l)) then
 			-- backpack item changed
 			gPlayerBackPack =3D backpack
@@ -85,17 +85,17 @@
 =

 =

 -- called from handlers of kPacket_Login_Confirm and kPacket_Teleport
-function UpdatePlayerBodySerial (serial) =

-	if (gPlayerBodySerial ~=3D 0 and gPlayerBodySerial ~=3D serial) then =

+function UpdatePlayerBodySerial (serial)
+	if (gPlayerBodySerial ~=3D serial) then =

 		print("WARNING ! playerbody serial changed old,new=3D",gPlayerBodySerial=
,serial)
+
+		-- update player serial and player backpack
+		gPlayerBodySerial =3D serial
+		PlayerBackpackItemUpdated()
+
+		-- reinit player status dialog and stuff like this
+		PlayerGuiInit()
 	end
-	gPlayerBodySerial =3D serial
-
-	PlayerBackpackItemUpdated()
-	=

-	-- TODO this seems a bit like the wrong place for this stuff
-	-- create player status dialog and stuff like this
-	GuiInit()
 end
 =

 =




From no-reply at zwischenwelt.org  Sat Nov 17 18:00:28 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 17 Nov 2007 17:00:28 -0000
Subject: [Iris-commit] [IRIS] r1511 - in /trunk/data/lua:
 gui/gui.gumpmanager.lua lib.bodygfx.lua lib.deffileparser.lua
 lib.speech.lua lib.tilefreewalk.lua main.lua
Message-ID: <20071117170034.6A37E1C182C5@zwischenwelt.org>

Author: ghoulsblade
Date: Sat Nov 17 18:00:26 2007
New Revision: 1511

Log:
activated GlobalVarChecking and fixed a few global/local bugs

Modified:
    trunk/data/lua/gui/gui.gumpmanager.lua
    trunk/data/lua/lib.bodygfx.lua
    trunk/data/lua/lib.deffileparser.lua
    trunk/data/lua/lib.speech.lua
    trunk/data/lua/lib.tilefreewalk.lua
    trunk/data/lua/main.lua

Modified: trunk/data/lua/gui/gui.gumpmanager.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.gumpmanager.lua (original)
+++ trunk/data/lua/gui/gui.gumpmanager.lua Sat Nov 17 18:00:26 2007
@@ -63,7 +63,7 @@
 	end
 	=

 	-- get hit gumpobject
-	widget =3D gui.GetWidgetUnderMouse()
+	local widget =3D gui.GetWidgetUnderMouse()
 	gGumpmanager.CurrentMouseOverGumpObject =3D nil
 	if (widget) then
 		gGumpmanager.CurrentMouseOverGumpObject =3D widget.gumpobject

Modified: trunk/data/lua/lib.bodygfx.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.bodygfx.lua (original)
+++ trunk/data/lua/lib.bodygfx.lua Sat Nov 17 18:00:26 2007
@@ -437,7 +437,7 @@
 end
 =

 function gBodyGfxPrototype:StartStateAnimIfNeeded	()
-	animid =3D self:CalcStateAnim()
+	local animid =3D self:CalcStateAnim()
 	if (self.curanimid =3D=3D animid) then return end -- already running
 	=

 	-- move interrupts other anims, otherwise wait until other anim has finis=
hed

Modified: trunk/data/lua/lib.deffileparser.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.deffileparser.lua (original)
+++ trunk/data/lua/lib.deffileparser.lua Sat Nov 17 18:00:26 2007
@@ -4,7 +4,6 @@
 -- will return table with entries like: table[INDEX] =3D {0=3DINDEX,1=3DDA=
TA1,2=3DDATA2,...}
 function ParseDefFile (filename)
 	-- default value if index is 0
-	index =3D index or 0
 	=

 	local t =3D {}
 	-- iterator over all lines

Modified: trunk/data/lua/lib.speech.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.speech.lua (original)
+++ trunk/data/lua/lib.speech.lua Sat Nov 17 18:00:26 2007
@@ -73,9 +73,9 @@
 				end
 =

 				if (speechentry.length > 2 ) then
-					textlist=3Dloader[index]
+					local textlist=3Dloader[index]
 					if not textlist then
-						local textlist=3D{}
+						textlist=3D{}
 						loader[index]=3Dtextlist
 					end
 					table.insert(loader[index],speechentry)

Modified: trunk/data/lua/lib.tilefreewalk.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.tilefreewalk.lua (original)
+++ trunk/data/lua/lib.tilefreewalk.lua Sat Nov 17 18:00:26 2007
@@ -473,7 +473,7 @@
 -- input : rounded
 -- read new surrounding height info
 function gTileFreeWalk:Impl_ScanGround (rx,ry,rz,ox,oy)
-	if (not ox) then ox,oy,oz =3D self:GetPos_LastConfirmed() end
+	if (not ox) then ox,oy =3D self:GetPos_LastConfirmed() end
 =

 	local xloc,yloc,zloc =3D self:LocalToUOPos(rx,ry,rz)
 	=


Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Sat Nov 17 18:00:26 2007
@@ -97,6 +97,7 @@
 dofile(libpath .. "filter/filter.art.lua")
 dofile(libpath .. "filter/filter.granny.lua")
 dofile(libpath .. "filter/filter.map.lua")
+if (LugreActivateGlobalVarChecking) then LugreActivateGlobalVarChecking() =
end
 =

 --###############################
 --###        CONFIG           ###



From no-reply at zwischenwelt.org  Sun Nov 18 20:24:27 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sun, 18 Nov 2007 19:24:27 -0000
Subject: [Iris-commit] [IRIS] r1512 - in /trunk: bin/iris2.exe
 data/lua/gui/gui.gumpmanager.lua data/lua/lib.keybinds.lua
 data/lua/lib.mousepick.lua data/lua/net.walk.lua data/lua/net/net.login.lua
 data/lua/net/net.packethandlers.lua
Message-ID: <20071118192429.898121C1827B@zwischenwelt.org>

Author: sience
Date: Sun Nov 18 20:24:26 2007
New Revision: 1512

Log:
-new binary
-few gobal <> local var fixes
-compositor test (key F9) added

Modified:
    trunk/bin/iris2.exe
    trunk/data/lua/gui/gui.gumpmanager.lua
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.mousepick.lua
    trunk/data/lua/net.walk.lua
    trunk/data/lua/net/net.login.lua
    trunk/data/lua/net/net.packethandlers.lua

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.

Modified: trunk/data/lua/gui/gui.gumpmanager.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.gumpmanager.lua (original)
+++ trunk/data/lua/gui/gui.gumpmanager.lua Sun Nov 18 20:24:26 2007
@@ -514,7 +514,7 @@
 			local width, height =3D GetGumpSize( image.id + i )
 			local bitmask =3D GetGumpBitMask( image.id + i )
 			=

-			res =3D {}
+			local res =3D {}
 			res.material =3D material
 			res.width =3D width
 			res.height =3D height

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Sun Nov 18 20:24:26 2007
@@ -92,15 +92,17 @@
 		Client_SetAmbientLight(gAmbientLight.r, gAmbientLight.g, gAmbientLight.b=
, 1)
  	end end end)
 =

-	--[[
-	Bind("f9",		function (state) if (not gActiveEditText) then if (state > 0)=
 then =

-		print("rebuild all securetrades")
-		for k,mysectrade in pairs(gSecureTrades) do =

-			print("rebuild sectrade",mysectrade.id)
-			SecureTradeRebuildContainers(mysectrade)
-		end
+	Bind("f9",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
+
+		local vp =3D OgreAddCompositor(GetMainViewport(), "Ogre/Compositor/Black=
AndWhite")
+		print("compositor")
+
+--		print("rebuild all securetrades")
+--		for k,mysectrade in pairs(gSecureTrades) do =

+--			print("rebuild sectrade",mysectrade.id)
+--			SecureTradeRebuildContainers(mysectrade)
+--		end
 	 end end end)
-	]]--
 =

 	if (false) then
 		local commandchar =3D "["

Modified: trunk/data/lua/lib.mousepick.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.mousepick.lua (original)
+++ trunk/data/lua/lib.mousepick.lua Sun Nov 18 20:24:26 2007
@@ -28,7 +28,7 @@
 		end
 	else
 		-- normal doubleclick handling
-		pm =3D GetPlayerMobile()
+		local pm =3D GetPlayerMobile()
 		if (gActWarmode =3D=3D gWarmode_Normal or (pm and iSerial =3D=3D pm.seri=
al) ) then
 			if (iSerial and iSerial ~=3D 0) then
 				printdebug("UO","IrisDoubleClick: serial=3D0x%08x\n",iSerial)

Modified: trunk/data/lua/net.walk.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.walk.lua (original)
+++ trunk/data/lua/net.walk.lua Sun Nov 18 20:24:26 2007
@@ -178,7 +178,7 @@
 	gNextWalkRequestTime =3D math.max(gMyTicks,gNextWalkRequestTime + iWaitTi=
me) -- compensate slow fps a bit
 	=

 	-- send packet
-	request =3D {}
+	local request =3D {}
 	request.dir =3D iDir
 	request.xloc =3D xloc
 	request.yloc =3D yloc

Modified: trunk/data/lua/net/net.login.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.login.lua (original)
+++ trunk/data/lua/net/net.login.lua Sun Nov 18 20:24:26 2007
@@ -184,7 +184,7 @@
 	local input =3D GetRecvFIFO()
 	local id =3D input:PopNetUint8()
 =

-	mobiledata =3D {}
+	local mobiledata =3D {}
 	mobiledata.serial	=3D input:PopNetUint32()
 	mobiledata.unknown1 =3D input:PopNetUint32()
 	mobiledata.artid	=3D input:PopNetUint16()

Modified: trunk/data/lua/net/net.packethandlers.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.packethandlers.lua (original)
+++ trunk/data/lua/net/net.packethandlers.lua Sun Nov 18 20:24:26 2007
@@ -5,8 +5,7 @@
 function gPacketHandler.kPacket_Open_Container() -- 0x24
 	local input =3D GetRecvFIFO()
 	local id =3D input:PopNetUint8()
-
-	containerdata =3D {}
+	local containerdata =3D {}
 	containerdata.serial =3D input:PopNetUint32()
 	containerdata.gumpid =3D input:PopNetUint16()
 	HandleOpenContainer(containerdata)



From no-reply at zwischenwelt.org  Mon Nov 19 20:28:07 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 19 Nov 2007 19:28:07 -0000
Subject: [Iris-commit] [IRIS] r1513 - in /trunk/data: config.lua.dist
 lua/gui/gui.styles.lua lua/lib.3d.map.lua lua/lib.keybinds.lua
 lua/net/net.world.lua lua/obj/obj.mobile.lua
Message-ID: <20071119192807.DBD441C182CF@zwischenwelt.org>

Author: sience
Date: Mon Nov 19 20:28:07 2007
New Revision: 1513

Log:
-compositor option added (key F9)
-gGuiDefaultStyleSet moved to config.lua.dist
-lib.keybinds.lua reorganized
-...

Modified:
    trunk/data/config.lua.dist
    trunk/data/lua/gui/gui.styles.lua
    trunk/data/lua/lib.3d.map.lua
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/net/net.world.lua
    trunk/data/lua/obj/obj.mobile.lua

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Mon Nov 19 20:28:07 2007
@@ -25,6 +25,9 @@
 gHideFPS =3D false
 gHideMemoryUsage =3D true
 gHideOfflineModeTeleportMenu =3D true -- currently broken
+
+-- GUI Styles : sience,iris,ray available (see data\lua\gui\gui.styles.lua)
+gGuiDefaultStyleSet =3D "sience"
 =

 -- loader types, FullFile is faster, but uses more ram, OnDemand is slower=
, but uses almost no ram
 gGroundBlockLoaderType 				=3D "FullFile"
@@ -221,14 +224,16 @@
 -- shadow settings
 --"none", "stencil_modulative", "stencil_additive", "texture_modulative", =
"texture_additive", "texture_additive_integrated", "texture_modulative_inte=
grated"
 gShadowTechnique =3D "none"
+gTerrainCastShadows =3D false
+gStaticsCastShadows =3D false
 gMobileCastShadows =3D false
-gTerrainCastShadows =3D false
 =

 -- sample shadow setting
 gEnableShadows =3D false
 if (gEnableShadows) then
 	gShadowTechnique =3D "stencil_modulative"
 	gTerrainCastShadows =3D false
+	gStaticsCastShadows =3D true
 	gMobileCastShadows =3D true
 end
 =

@@ -291,7 +296,7 @@
 gMaps =3D {}
 gMaps[0] =3D {
 	name =3D "Trammel",
-	mapweidth =3D 896,
+	mapwidth =3D 896,
 	mapheight =3D 512,
 	skybox =3D "cleansky",
 	fog_r =3D 228,
@@ -310,7 +315,7 @@
 }
 gMaps[1] =3D {
 	name =3D "Felucca",
-	mapweidth =3D 896,
+	mapwidth =3D 896,
 	mapheight =3D 512,
 	skybox =3D "cleansky",
 	fog_r =3D 228,
@@ -329,7 +334,7 @@
 }
 gMaps[2] =3D {
 	name =3D "Ilshenar",
-	mapweidth =3D 288,
+	mapwidth =3D 288,
 	mapheight =3D 200,
 	skybox =3D "skybox",
 	fog_r =3D 168,
@@ -348,7 +353,7 @@
 }
 gMaps[3] =3D {
 	name =3D "Malas",
-	mapweidth =3D 320,
+	mapwidth =3D 320,
 	mapheight =3D 256,
 	skybox =3D "sunset",
 	fog_r =3D 27,
@@ -360,7 +365,7 @@
 }
 gMaps[4] =3D {
 	name =3D "Tokuno",
-	mapweidth =3D 181,
+	mapwidth =3D 181,
 	mapheight =3D 181,
 	skybox =3D "darksun",
 	fog_r =3D 97,

Modified: trunk/data/lua/gui/gui.styles.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.styles.lua (original)
+++ trunk/data/lua/gui/gui.styles.lua Mon Nov 19 20:28:07 2007
@@ -1,7 +1,6 @@
 --###############################
 --###     GUI STYLES          ###
 --###############################
-gGuiDefaultStyleSet =3D "sience"
 =

 glGuiMakerStyleSet["ray"] =3D {
 default =3D {

Modified: trunk/data/lua/lib.3d.map.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.map.lua (original)
+++ trunk/data/lua/lib.3d.map.lua Mon Nov 19 20:28:07 2007
@@ -243,7 +243,7 @@
 	-- TODO : fish in water ? other gimiks ?
 	=

 	for layerZ,layerStaticGeom in pairs(chunk.pStaticGeometryLayers) do =

-		--layerStaticGeom:SetCastShadows(true)
+		layerStaticGeom:SetCastShadows(true)
 		layerStaticGeom:SetVisible(self:IsZLayerVisible(layerZ))
 		layerStaticGeom:Build()
 	end

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Mon Nov 19 20:28:07 2007
@@ -20,11 +20,6 @@
 		end =

 	end)
 	Bind("v",		function (state) if (not gActiveEditText) then if (state > 0) =
then Client_TakeScreenshot(gMainWorkingDir.."screenshots/") end end end)
-	Bind("f12",		function (state) if (not gActiveEditText) then if (state > 0=
) then
-		ToggleCompass(state > 0)
-		Client_TakeGridScreenshot(gMainWorkingDir.."screenshots/")
-		ToggleCompass(state > 0)
-	end end end)
 =

 	-- additional movement key handling in lib.tilefreewalk (for pressed keys)
 	Bind("right",   function (state) if (not gActiveEditText) then if (state =
> 0) then CancelAutoWalk() end end end) =

@@ -54,17 +49,14 @@
 	-- select commands
 	Bind("q",		function (state) if (not gActiveEditText) then if (state > 0) =
then SelectNearestMobile() end end end)
 	Bind("e",		function (state) if (not gActiveEditText) then if (state > 0) =
then SelectNextMobile() end end end)
-	Bind("space",	function (state) if (not gActiveEditText) then if (state > =
0) then AttackSelectedMobile() end end end)
-	=

-	--
-	Bind("f10",		function (state) if (not gActiveEditText) then if (state > 0=
) then ShowDevTool() end end end)
-	Bind("f11",		function (state) if (not gActiveEditText) then if ((state > =
0) and (gCurrentRenderer =3D=3D Renderer3D)) then ShowFallBackTool() end en=
d end)
 	Bind("tab",		function (state) if (state > 0) then if (gActWarmode=3D=3DgW=
armode_Normal) then Send_CombatMode(gWarmode_Combat) else Send_CombatMode(g=
Warmode_Normal) end end end)
 	Bind("m",		function (state) if (not gActiveEditText) then if (state > 0) =
then
 		local player=3DGetMobile(gPlayerBodySerial)
 		if player then player:DisplayTextOverHead("bla bla bla",10,10,10) end
 	end end end)
-
+	Bind("space",	function (state) if (not gActiveEditText) then if (state > =
0) then AttackSelectedMobile() end end end)
+	=

+	-------------------------------------------------------------------------=
----------
 	Bind("f7",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
 		if (gAmbientLight.r < 1.0) then
 			gAmbientLight.r=3DgAmbientLight.r+0.1
@@ -75,10 +67,9 @@
 			gAmbientLight.g=3D1.0
 			gAmbientLight.b=3D1.0
 		end
-		print("gAmbientLight.r=3D"..gAmbientLight.r)
 		Client_SetAmbientLight(gAmbientLight.r, gAmbientLight.g, gAmbientLight.b=
, 1)
  	end end end)
-		Bind("f8",	function (state) if (not gActiveEditText) then if (state > 0)=
 then
+	Bind("f8",	function (state) if (not gActiveEditText) then if (state > 0) =
then
 		if (gAmbientLight.r > 0.1) then
 			gAmbientLight.r=3DgAmbientLight.r-0.1
 			gAmbientLight.g=3DgAmbientLight.g-0.1
@@ -88,21 +79,18 @@
 			gAmbientLight.g=3D0.0
 			gAmbientLight.b=3D0.0
 		end
-		print("gAmbientLight.r=3D"..gAmbientLight.r)
 		Client_SetAmbientLight(gAmbientLight.r, gAmbientLight.g, gAmbientLight.b=
, 1)
  	end end end)
-
 	Bind("f9",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
-
-		local vp =3D OgreAddCompositor(GetMainViewport(), "Ogre/Compositor/Black=
AndWhite")
-		print("compositor")
-
---		print("rebuild all securetrades")
---		for k,mysectrade in pairs(gSecureTrades) do =

---			print("rebuild sectrade",mysectrade.id)
---			SecureTradeRebuildContainers(mysectrade)
---		end
+		local vp =3D OgreAddCompositor(GetMainViewport(), "B&W")
 	 end end end)
+	Bind("f10",		function (state) if (not gActiveEditText) then if (state > 0=
) then ShowDevTool() end end end)
+	Bind("f11",		function (state) if (not gActiveEditText) then if ((state > =
0) and (gCurrentRenderer =3D=3D Renderer3D)) then ShowFallBackTool() end en=
d end)
+	Bind("f12",		function (state) if (not gActiveEditText) then if (state > 0=
) then
+		ToggleCompass(state > 0)
+		Client_TakeGridScreenshot(gMainWorkingDir.."screenshots/")
+		ToggleCompass(state > 0)
+	end end end)
 =

 	if (false) then
 		local commandchar =3D "["

Modified: trunk/data/lua/net/net.world.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.world.lua (original)
+++ trunk/data/lua/net/net.world.lua Mon Nov 19 20:28:07 2007
@@ -44,3 +44,9 @@
 	printf("NET (todo): Game_Time id: %i Hour: %i Min: %i Sec: %i\n",id, hour=
, minute, second)
 end
 =

+function gPacketHandler.kPacket_Logout()
+	local input =3D GetRecvFIFO()
+	local id =3D input:PopNetUint8()
+	print("Serverside Logout because of inactivity.")
+	Crash()
+end

Modified: trunk/data/lua/obj/obj.mobile.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.mobile.lua (original)
+++ trunk/data/lua/obj/obj.mobile.lua Mon Nov 19 20:28:07 2007
@@ -38,7 +38,6 @@
 	if (type(mobile_or_serial) =3D=3D "table") then return mobile_or_serial e=
nd
 	return gMobiles[mobile_or_serial] -- look up by serial
 end
-
 =

 -- constructor, don't call directly, use CreateOrUpdateMobile() instead
 function InitializeMobile	(serial)
@@ -82,8 +81,6 @@
 	return mobile
 end
 =

-
-
 -- called from kPacket_Naked_MOB kPacket_Equipped_MOB kPacket_Teleport
 function CreateOrUpdateMobile (mobiledata,equipmentdata)
 	local mobile =3D GetMobile(mobiledata.serial)
@@ -92,7 +89,6 @@
 	return mobile
 end
 =

-
 function gMobilePrototype:NotifyListener	(eventname)
 	NotifyListener(eventname..self.serial,self)
 	NotifyListener(eventname,self)
@@ -103,7 +99,6 @@
 =

 =

 function gMobilePrototype:UpdateContent () self:Update() end
-
 =

 -- updates mobile status, and the position of the graphical representation=
 and other things
 function gMobilePrototype:Update (mobiledata,equipmentdata)
@@ -174,7 +169,6 @@
 	-- TODO : center Mobilename overhead, dont use fixed height - check heigh=
t of mobiles (big dragons)
 end
 =

-
 -- sets self.flag_* from self.flag
 function gMobilePrototype:UpdateFlags	()
 	self.flag_female			=3D TestBit( self.flag, hex2num("0x02") )
@@ -191,7 +185,6 @@
 	end
 end
 =

-
 function gMobilePrototype:UpdateStats (stats)
 	-- local oldhp =3D mobile.stats.curHits or stats.curHits
 	self.name =3D stats.name
@@ -203,7 +196,6 @@
 	self:Update()
 end
 =

-
 function gMobilePrototype:UpdateHealth (curvalue,maxvalue)
 	-- TODO pol sends normal hp update and x/1000 hp update ???? so i ignore =
the strange one
 	if ((maxvalue ~=3D 1000) and self.stats) then
@@ -221,7 +213,6 @@
 	end
 end
 =

-
 function gMobilePrototype:UpdateMana (curvalue,maxvalue)
 	if (self and self.stats) then
 		-- update values
@@ -239,7 +230,6 @@
 	end
 end
 =

-
 function gMobilePrototype:UpdateStamina(curvalue,maxvalue)
 	if (self.stats) then
 		-- update values
@@ -256,7 +246,6 @@
 		self:Update()
 	end
 end
-
 =

 -- triggered from kPacket_Text kPacket_Text_Unicode
 function gMobilePrototype:NameHint (model,charname,message) =

@@ -274,13 +263,7 @@
 end
 =

 =

-
-
-
 -- ##### ##### ##### ##### ##### destruction
-
-
-
 =

 =

 function gMobilePrototype:Destroy ()
@@ -300,17 +283,14 @@
 end
 =

 =

-
--- ##### ##### ##### ##### ##### the rest =

+-- ##### ##### ##### ##### ##### the rest
 =

 =

 function gMobilePrototype:GetEquipmentAtLayer(layer)
 	for k,dynamic in pairs(self:GetContent()) do if (dynamic.layer =3D=3D lay=
er) then return dynamic end end
 end
 =

-
-
---- displays the chat text over the head of the mobile, color is 16bit uo =
color
+-- TODO: displays the chat text over the head of the mobile, color is 16bi=
t uo color
 function gMobilePrototype:DisplayTextOverHead(message,r,g,b)
 	r =3D r or 0
 	g =3D g or 0



From no-reply at zwischenwelt.org  Mon Nov 19 20:39:57 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 19 Nov 2007 19:39:57 -0000
Subject: [Iris-commit] [IRIS] r1514 - in /trunk: bin/ data/compositors/
Message-ID: <20071119193957.C64821C182CF@zwischenwelt.org>

Author: sience
Date: Mon Nov 19 20:39:56 2007
New Revision: 1514

Log:
-compositor B&W added

Added:
    trunk/data/compositors/
    trunk/data/compositors/BlackAndWhite.compositor
    trunk/data/compositors/BlackAndWhite.material
    trunk/data/compositors/GrayScale.cg
    trunk/data/compositors/StdQuad_vp.cg
    trunk/data/compositors/StdQuad_vp.glsl
    trunk/data/compositors/StdQuad_vp.program
Modified:
    trunk/bin/resources.cfg

Modified: trunk/bin/resources.cfg
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/bin/resources.cfg (original)
+++ trunk/bin/resources.cfg Mon Nov 19 20:39:56 2007
@@ -12,7 +12,7 @@
 FileSystem=3D../data/particles/materials
 FileSystem=3D../data/particles/particles
 FileSystem=3D../data/particles/textures
-#FileSystem=3D../data/compositor
+FileSystem=3D../data/compositors
 =

 # distributet models
 FileSystem=3D../data/models/materials



From no-reply at zwischenwelt.org  Tue Nov 20 23:51:28 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 20 Nov 2007 22:51:28 -0000
Subject: [Iris-commit] [IRIS] r1515 - /trunk/bin/iris2.exe
Message-ID: <20071120225133.C60301C184AB@zwischenwelt.org>

Author: sience
Date: Tue Nov 20 23:51:23 2007
New Revision: 1515

Log:
-new binary

Modified:
    trunk/bin/iris2.exe

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.



From no-reply at zwischenwelt.org  Wed Nov 21 23:04:39 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 21 Nov 2007 22:04:39 -0000
Subject: [Iris-commit] [IRIS] r1516 - in /trunk/data: ./ compositors/ lua/
 lua/gui/ particles/materials/
Message-ID: <20071121220441.6FFAB1C1829C@zwischenwelt.org>

Author: sience
Date: Wed Nov 21 23:04:39 2007
New Revision: 1516

Log:
-gobal font definitions moved to config.lua.dist
-fogged particles fixed
some more compositors added

Added:
    trunk/data/compositors/BlackAndWhite.cg
      - copied unchanged from r1514, trunk/data/compositors/GrayScale.cg
    trunk/data/compositors/Embossed.compositor
    trunk/data/compositors/Embossed.material
    trunk/data/compositors/NightVision.compositor
    trunk/data/compositors/NightVision.material
    trunk/data/compositors/NightVisionFP.cg
    trunk/data/compositors/NightVision_Random3D.dds   (with props)
    trunk/data/compositors/RadialBlur.compositor
    trunk/data/compositors/RadialBlur.material
    trunk/data/compositors/Radial_Blur_FP.cg
Removed:
    trunk/data/compositors/GrayScale.cg
Modified:
    trunk/data/compositors/BlackAndWhite.compositor
    trunk/data/compositors/BlackAndWhite.material
    trunk/data/config.lua.dist
    trunk/data/lua/gui/gui.paperdoll.lua
    trunk/data/lua/gui/gui.status.lua
    trunk/data/lua/gui/gui.widget.lua
    trunk/data/lua/lib.3d.combat.lua
    trunk/data/lua/lib.3d.map.lua
    trunk/data/lua/lib.3d.mobile.lua
    trunk/data/lua/lib.3d.renderer.lua
    trunk/data/lua/lib.gfm.lua
    trunk/data/lua/lib.gui.iris.lua
    trunk/data/lua/lib.gumpparser.lua
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.skill.lua
    trunk/data/lua/lib.spellbooks.lua
    trunk/data/lua/net.popup.lua
    trunk/data/lua/net.trade.lua
    trunk/data/particles/materials/particles.material

Modified: trunk/data/compositors/BlackAndWhite.compositor
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/compositors/BlackAndWhite.compositor (original)
+++ trunk/data/compositors/BlackAndWhite.compositor Wed Nov 21 23:04:39 2007
@@ -16,6 +16,7 @@
         {
             // Start with clear output
             input none
+
             // Draw a fullscreen quad with the black and white image
             pass render_quad
             {

Modified: trunk/data/compositors/BlackAndWhite.material
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/compositors/BlackAndWhite.material (original)
+++ trunk/data/compositors/BlackAndWhite.material Wed Nov 21 23:04:39 2007
@@ -1,6 +1,6 @@
 fragment_program Ogre/Compositor/B&W_FP cg
 {
-	source GrayScale.cg
+	source BlackAndWhite.cg
 	entry_point GrayScale_ps
 	profiles ps_2_0 arbfp1
 }
@@ -9,7 +9,6 @@
 {
 	technique
 	{
-
 		pass
 		{
 			depth_check off

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Wed Nov 21 23:04:39 2007
@@ -24,7 +24,14 @@
 gHideUOCursor =3D false
 gHideFPS =3D false
 gHideMemoryUsage =3D true
-gHideOfflineModeTeleportMenu =3D true -- currently broken
+gHideOfflineModeTeleportMenu =3D true		-- currently broken
+
+-- Font settings
+gFontNameDefault	=3D "TrebuchetMSBold"
+gFontSizeDefault	=3D 16
+gFontChatSize		=3D 12
+gFontGumpSize		=3D 12
+gHudNamesFontSize	=3D 12
 =

 -- GUI Styles : sience,iris,ray available (see data\lua\gui\gui.styles.lua)
 gGuiDefaultStyleSet =3D "sience"

Modified: trunk/data/lua/gui/gui.paperdoll.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.paperdoll.lua (original)
+++ trunk/data/lua/gui/gui.paperdoll.lua Wed Nov 21 23:04:39 2007
@@ -178,10 +178,14 @@
 		end
 	end
 	=

+	local r,g,b =3D GetNotorietyColor(paperdoll.mobile.notoriety)
+
 	-- update paperdoll name
-	local widget =3D dialog.controls["status_name"]
-	widget.gfx:SetText(paperdoll.name)
-	=

+	dialog.controls["status_name"].gfx:SetCharHeight(gFontGumpSize + 2)
+	dialog.controls["status_name"].gfx:SetColour( {r,g,b,1.0} )
+	dialog.controls["status_name"].gfx:SetFont(gFontNameDefault)
+	dialog.controls["status_name"].gfx:SetText(paperdoll.name)
+
 	-- remove old item widgets
 	DestroyPaperdollItemWidgets(paperdoll)
 	=


Modified: trunk/data/lua/gui/gui.status.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.status.lua (original)
+++ trunk/data/lua/gui/gui.status.lua Wed Nov 21 23:04:39 2007
@@ -69,7 +69,7 @@
 								armor =3D "status_armor", 		statcap =3D "status_statcap", fireresi=
st =3D "status_fireres",
 								coldresist =3D "status_coldres", 	poisonresist =3D "status_poisres=
",
 								energyresist =3D "status_energres" }
-					=

+
 					-- set all textfields (single)
 					for k,v in pairs(l) do
 						if s[k] then dialog.controls[v].gfx:SetText(s[k])
@@ -77,10 +77,19 @@
 					end
 =

 					local r,g,b =3D GetNotorietyColor(m.notoriety)
-			=

+
 					-- set name
-					if m.name then dialog.controls["status_name"].gfx:SetCharHeight(16) d=
ialog.controls["status_name"].gfx:SetColour({r,g,b,1.0}) dialog.controls["s=
tatus_name"].gfx:SetText(m.name)
-					else dialog.controls["status_name"].gfx:SetText("?") end
+					if m.name then
+						dialog.controls["status_name"].gfx:SetCharHeight(gFontGumpSize)
+						dialog.controls["status_name"].gfx:SetColour({r,g,b,1.0})
+						dialog.controls["status_name"].gfx:SetFont(gFontNameDefault)
+						dialog.controls["status_name"].gfx:SetText(m.name)
+					else
+						dialog.controls["status_name"].gfx:SetCharHeight(gFontGumpSize)
+						dialog.controls["status_name"].gfx:SetColour({r,g,b,1.0})
+						dialog.controls["status_name"].gfx:SetFont(gFontNameDefault)
+						dialog.controls["status_name"].gfx:SetText("?")
+					end
 =

 					-- multi part textfields, like "10 / 20"
 					-- pets

Modified: trunk/data/lua/gui/gui.widget.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.widget.lua (original)
+++ trunk/data/lua/gui/gui.widget.lua Wed Nov 21 23:04:39 2007
@@ -12,7 +12,7 @@
 widget	gui.GetWidgetAtPos 			(x,y) -- TODO : implement me
 =

 widget	widget_or_dialog:CreateImage		(matname,x,y,w,h,tx=3D0,ty=3D0,tw=3D1=
,th=3D1,bitmask=3Dnil)
-widget	widget_or_dialog:CreateText			(text,x,y,fontname=3D"TrebuchetMSBold=
",fontsize=3D16,r=3D1,g=3D1,b=3D1,a=3D1)  -- todo : autowrap, clip
+widget	widget_or_dialog:CreateText			(text,x,y,fontname=3DgFontNameDefault=
,fontsize=3DgFontGumpSize,r=3D1,g=3D1,b=3D1,a=3D1)  -- todo : autowrap, clip
 widget	widget_or_dialog:CreateContainer	(x,y)
 =

 dialog:Destroy 					() 	=

@@ -190,7 +190,7 @@
 =

 function gui._CreateWidget_Text		(parent,text,x,y,fontname,fontsize,r,g,b,=
a)
 	local widget =3D {}
-	widget.guimakerwidget =3D guimaker.MakeText(parent:AsParent(),x,y,text,fo=
ntsize or 16,{r or 1,g or 1,b or 1,a or 1},fontname or "TrebuchetMSBold")
+	widget.guimakerwidget =3D guimaker.MakeText(parent:AsParent(),x,y,text,fo=
ntsize or gFontGumpSize,{r or 1,g or 1,b or 1,a or 1},fontname or gFontName=
Default)
 	gui._WrapWidget(widget,parent)
 	return widget
 end

Modified: trunk/data/lua/lib.3d.combat.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.combat.lua (original)
+++ trunk/data/lua/lib.3d.combat.lua Wed Nov 21 23:04:39 2007
@@ -29,7 +29,7 @@
 	o.text =3D text
 	=

 	o.gfx =3D CreateRootGfx3D()
-	o.gfx:SetTextFont("TrebuchetMSBold")
+	o.gfx:SetTextFont(gFontNameDefault)
 	o.gfx:SetForceRotCam(GetMainCam())
 	o.gfx:SetText(text, size, r, g, b, a)
 	o.gfx:SetPosition(x,y,z)

Modified: trunk/data/lua/lib.3d.map.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.map.lua (original)
+++ trunk/data/lua/lib.3d.map.lua Wed Nov 21 23:04:39 2007
@@ -243,7 +243,7 @@
 	-- TODO : fish in water ? other gimiks ?
 	=

 	for layerZ,layerStaticGeom in pairs(chunk.pStaticGeometryLayers) do =

-		layerStaticGeom:SetCastShadows(true)
+		layerStaticGeom:SetCastShadows(gStaticsCastShadows)
 		layerStaticGeom:SetVisible(self:IsZLayerVisible(layerZ))
 		layerStaticGeom:Build()
 	end

Modified: trunk/data/lua/lib.3d.mobile.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.mobile.lua (original)
+++ trunk/data/lua/lib.3d.mobile.lua Wed Nov 21 23:04:39 2007
@@ -192,7 +192,7 @@
 		if (false) then
 			if (not mobile.nametext) then
 				mobile.nametext =3D CreateRootGfx3D()
-				mobile.nametext:SetTextFont("TrebuchetMSBold")
+				mobile.nametext:SetTextFont(gFontNameDefault)
 				mobile.nametext:SetForceRotCam(GetMainCam())
 				--local playermobile =3D GetPlayerMobile()
 				--if (playermobile and playermobile.gfx) then mobile.nametext:SetForce=
Lookat(playermobile.gfx) end
@@ -301,8 +301,8 @@
 			-- display the text
 			mobile.chattext.mLastText =3D mobile.mlastChatText
 			mobile.chattext.gfx:SetColour(r,g,b,a)
-			mobile.chattext.gfx:SetFont(gUniFontLoaderType and gUniFontName[gChatTe=
xt_UniFontNumber] or "TrebuchetMSBold")
-			mobile.chattext.gfx:SetCharHeight(gUniFontHeight[gChatText_UniFontNumbe=
r] or 12)
+			mobile.chattext.gfx:SetFont(gUniFontLoaderType and gUniFontName[gChatTe=
xt_UniFontNumber] or gFontNameDefault)
+			mobile.chattext.gfx:SetCharHeight(gUniFontHeight[gChatText_UniFontNumbe=
r] or gFontChatSize)
 			mobile.chattext.gfx:SetText(mobile.mlastChatText)
 			local w,h =3D mobile.chattext.gfx:GetTextBounds()
 			mobile.chattext.gfx:SetPos(0, 0 - h)

Modified: trunk/data/lua/lib.3d.renderer.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.renderer.lua (original)
+++ trunk/data/lua/lib.3d.renderer.lua Wed Nov 21 23:04:39 2007
@@ -7,9 +7,6 @@
 =

 -- static Factor to rise the Z-Level for statics+dynamics
 Renderer3D.gZ_Factor =3D 0.01 --0.0090
-		=

-gHudNamesFontSize =3D 12
-
 Renderer3D.gbActive =3D false
 Renderer3D.gbNeedCorrectAspectRatio =3D true
 Renderer3D.gDynamicMaxRenderDist =3D 128 -- 0 means always rendered  -- TO=
DO : make this dependant on bounding sphere size, e.g. in pixel size ?

Modified: trunk/data/lua/lib.gfm.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gfm.lua (original)
+++ trunk/data/lua/lib.gfm.lua Wed Nov 21 23:04:39 2007
@@ -233,7 +233,7 @@
 				hex2num(gump.attr.normal), hex2num(gump.attr.over), hex2num(gump.attr.=
pressed),
 				attr.left, attr.top, attr.width, attr.height )
 	elseif (attr.class =3D=3D "label") then
-			widget =3D guimaker.MakeText(dialog.rootwidget,attr.left,attr.top,text[=
1],16,{0,0,0,1.0})
+			widget =3D guimaker.MakeText(dialog.rootwidget,attr.left,attr.top,text[=
1],gFontGumpSize,{0,0,0,1.0},gFontNameDefault)
 			if (text.attr.align =3D=3D "center") then
 				local w,h =3D widget.gfx:GetTextBounds()
 				widget.gfx:SetPos(attr.left+attr.width/2 - w/2,attr.top)

Modified: trunk/data/lua/lib.gui.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gui.iris.lua (original)
+++ trunk/data/lua/lib.gui.iris.lua Wed Nov 21 23:04:39 2007
@@ -39,7 +39,7 @@
 			local col_text =3D {1,0,0,1}
 			gMemoryUsageField =3D guimaker.MyCreateDialog()
 			gMemoryUsageField.panel	=3D guimaker.MakeBorderPanel(gMemoryUsageField,=
x,y,w,h,col_back)
-			gMemoryUsageField.text	=3D guimaker.MakeText(gMemoryUsageField.panel,0,=
0,text,16,col_text)
+			gMemoryUsageField.text	=3D guimaker.MakeText(gMemoryUsageField.panel,0,=
0,text,gFontSizeDefault,col_text,gFontNameDefault)
 		else
 			gMemoryUsageField.text.gfx:SetText(text)
 		end
@@ -157,9 +157,13 @@
 	dialog.Close =3D function (dialog) CloseStatus(dialog.mobile) end -- die =
zeile ist neu =

 	dialog.mobile =3D mobile  -- die zeile ist neu
 =

+	local r,g,b =3D GetNotorietyColor(mobile.notoriety)
+
 	if not(IsPlayerMobile(mobile)) then
-		local widget =3D dialog.controls["npc_name"]
-		widget.gfx:SetText(mobile.name)
+		dialog.controls["npc_name"].gfx:SetCharHeight(gFontGumpSize)
+		dialog.controls["npc_name"].gfx:SetColour({r,g,b,1.0})
+		dialog.controls["npc_name"].gfx:SetFont(gFontNameDefault)
+		dialog.controls["npc_name"].gfx:SetText(mobile.name)
 	end
 =

 	gStatusDialogs[mobile.serial] =3D dialog

Modified: trunk/data/lua/lib.gumpparser.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gumpparser.lua (original)
+++ trunk/data/lua/lib.gumpparser.lua Wed Nov 21 23:04:39 2007
@@ -172,7 +172,9 @@
 				elseif ((command =3D=3D "xmfhtmlgump") and (table.getn(bToken)>=3D 8))=
 then
 					local msg =3D HtmlParser( gClilocLoader and gClilocLoader:Get(bToken[=
6]) or "no_cliloc" )
 --					print("Cliloc Msg ("..bToken[6].."): "..msg.text)
-					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection, bToken[4], bToken[5], msg.text, ms=
g.charh, {1.0,1.0,1.0,1.0}, msg.center, msg.div)
+					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,
+																	bToken[4], bToken[5], msg.text, msg.charh, {1.0,1.0,1.0,1=
.0},
+																	msg.center, msg.div, gFontNameDefault)
 				--xmfhtmlgumpcolor <x> <y> <width> <height> <cliloc-nr> <background> <=
scrollbar> <color>
 				--Description:	<background> and <scrollbar> can be 0 or 1 and define w=
hether the background is transparent and
 				--				a scrollbar s displayed.
@@ -180,7 +182,9 @@
 				elseif ((command =3D=3D "xmfhtmlgumpcolor") and (table.getn(bToken)>=
=3D 9)) then
 					local msg =3D HtmlParser(  gClilocLoader and gClilocLoader:Get(bToken=
[6]) or "no_cliloc" )
 --					print("Cliloc Msg ("..bToken[6].."): "..msg.text)
-					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection, bToken[4], bToken[5], msg.text, ms=
g.charh, {1.0,1.0,1.0,1.0}, msg.center, msg.div)
+					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,
+																	bToken[4], bToken[5], msg.text, msg.charh, {1.0,1.0,1.0,1=
.0},
+																	msg.center, msg.div, gFontNameDefault)
 				--gumppic <x> <y> <gumpid> [hue=3D353]
 				--Description:  Adds a graphic to the gump, where <id> ist the graphic=
 id of an item.
 				--				Optionaly there is a color parameter. =

@@ -204,7 +208,8 @@
 				-- TODO : HUE-color
 				elseif ((command =3D=3D "text") and (table.getn(bToken)>=3D 5)) then
 					local text =3D Gumpdata.textline[tonumber(bToken[5])] or "No text"
-					local widget =3D guimaker.MakeText (curparent, bToken[2], bToken[3]+g=
Horizontal_Textcorrection, text, 12, {190/255,237/255,231/255,1.0})
+					local widget =3D guimaker.MakeText (curparent, bToken[2], bToken[3]+g=
Horizontal_Textcorrection, text,
+														gFontGumpSize, {190/255,237/255,231/255,1.0}, gFontNameDefau=
lt)
 				--Button <x> <y> <released-id> <pressed-id> <quit> <page-id> <return-v=
alue>
 				--Description:  Adds a button to the gump with the specified coordinat=
es and button graphics.
 				--				<released-id> and <pressed-id> specify the buttongraphic. If pre=
ssed check for <return-value>.
@@ -249,13 +254,13 @@
 										end
 				--textentry <x> <y> <width> <height> <hue> <return-value> <default-tex=
t-id>
 				--Description:  Defines an area where the <default-text-id> is display=
ed.
-				--				The player can modify this data. To get this data check the <ret=
urn-value>. =

+				--				The player can modify this data. To get this data check the <ret=
urn-value>.
+				--TODO: HUE
 				elseif ((command =3D=3D "textentry") and (table.getn(bToken)>=3D 8)) t=
hen
 					local widget =3D CreatePlainEditText (curparent, bToken[2], bToken[3]=
, bToken[4], bToken[5], {1.0,1.0,1.0,1.0})
-					local hue =3D tonumber(bToken[6])
 					local text =3D Gumpdata.textline[tonumber(bToken[8])] or "No textentr=
y"
-					local curtext =3D text
 					widget:SetText(text)
+
 					widget.mbIgnoreMouseOver =3D false
 					widget.returnmsg =3D tonumber(bToken[7])
 					widget.returndefid =3D tonumber(bToken[8])
@@ -281,10 +286,12 @@
 				--croppedtext <x> <y> <width> <height> <color> <text-id>
 				--Description:  Adds a text field to the gump. This is similar to the =
text command,
 				--but the text is cropped to the defined area.
-				-- TODO : HUE-color
+				-- TODO : HUE
 				elseif ((command =3D=3D "croppedtext") and (table.getn(bToken)>=3D 7))=
 then
 					local msg =3D HtmlParser( Gumpdata.textline[tonumber(bToken[7])] )
-					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,  bToken[4], bToken[5], msg.text, 1=
2, {92/255,92/255,178/255,1.0}, msg.center, msg.div)
+					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,
+																	bToken[4], bToken[5], msg.text, msg.charh, {92/255,92/255=
,178/255,1.0},
+																	msg.center, msg.div, gFontNameDefault)
 				--radio <x> <y> <released gumpid> <pressed gumpid> <status> <return-va=
lue>
 				--Description:  Same as Checkbox, but only one Radiobutton can be pres=
sed at the same time, except they are per linked via the 'Group' command.
 				-- TODO : make radio buttons work
@@ -361,7 +368,9 @@
 				--{ htmlgump 10 8 100 20 0 0 0 }
 				elseif ((command =3D=3D "htmlgump") and (table.getn(bToken)>=3D 8)) th=
en
 					local msg =3D HtmlParser( Gumpdata.textline[tonumber(bToken[6])] )
-					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection, bToken[4], bToken[5], msg.text, ms=
g.charh, {1.0,1.0,1.0,1.0}, msg.center, msg.div)
+					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,
+																	bToken[4], bToken[5], msg.text, msg.charh, {1.0,1.0,1.0,1=
.0},
+																	msg.center, msg.div, gFontNameDefault)
 				--tooltip <cliloc-nr>
 				--Description:  Adds to the previous layoutarray entry a Tooltip with =
the in [cliloc-nr] defined Cliloc entry.
 				-- TODO : display tooltip
@@ -438,7 +447,7 @@
 	msg.text =3D ""
 	msg.center =3D false
 	msg.hue =3D ""
-	msg.charh =3D 12	--standard
+	msg.charh =3D gFontGumpSize	--standard
 	msg.bold =3D false
 	msg.underline =3D false
 	msg.italic =3D false

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Wed Nov 21 23:04:39 2007
@@ -8,7 +8,7 @@
 	Bind("n",		function (state) if (not gActiveEditText) then ToggleCompass(s=
tate > 0) end end)
 	Bind("komma",	function (state) if (not gActiveEditText) then if (state > =
0) then ZoomCompass(gCompassZoomFactor) end end end)
 	Bind("point",	function (state) if (not gActiveEditText) then if (state > =
0) then ZoomCompass(1.0/gCompassZoomFactor) end end end)
-	Bind("z",		function (state) if (not gActiveEditText) then if (state > 0) =
then ActivateNextRenderer() end end end)
+--	Bind("z",		function (state) if (not gActiveEditText) then if (state > 0=
) then ActivateNextRenderer() end end end)
 	Bind("l",		function (state) if (not gActiveEditText) then gDialog_IrisLog=
o:SetVisible(state > 0) end end)
 	Bind("escape",	function (state) =

 		if (state > 0) then =


Modified: trunk/data/lua/lib.skill.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.skill.lua (original)
+++ trunk/data/lua/lib.skill.lua Wed Nov 21 23:04:39 2007
@@ -202,7 +202,7 @@
 				skill.skillid =3D k
 				skill.name =3D name
 								=

-				skill.text =3D guimaker.MakeText (curparent, x, y, name, 12, {0,0,0,1.=
0})
+				skill.text =3D guimaker.MakeText (curparent, x, y, name, gFontGumpSize=
, {1.0,1.0,1.0,1.0}, gFontNameDefault)
 				--[[
 				skill.text.onMouseDown 		=3D function (widget,mousebutton)
 					if (mousebutton =3D=3D 1) then =

@@ -218,7 +218,9 @@
 				end
 				]]--
 =

-				skill.value =3D guimaker.MakeText (curparent, x, y, tostring(sprintf("=
%3.1f",gPlayerSkills[k].value / 10)), 12, {0,0,0,1.0})
+				skill.value =3D guimaker.MakeText (curparent, x, y,
+													tostring(sprintf("%3.1f",gPlayerSkills[k].value / 10)), gFont=
GumpSize,
+													{1.0,1.0,1.0,1.0}, gFontNameDefault)
 				=

 				skill.button_up =3D MakeGumpButtonFunctionOnClick(curparent, hex2num("=
0x983"), hex2num("0x984"), hex2num("0x984"), x, y, 9, 11,
 					function (widget,mousebutton) dialog:SetSkillLevelState(skill.skillid=
,1) end)
@@ -350,7 +352,7 @@
 	=

 	root.gfx:SetPos(x,y)
 	=

-	local text =3D guimaker.MakeText(root, 20, 5, name, 15, {0,0,0,1.0})
+	local text =3D guimaker.MakeText(root, 20, 5, name, gFontGumpSize, {1.0,1=
.0,1.0,1.0}, gFontNameDefault)
 	local w,h =3D text.gfx:GetDimensions()
 	print("size",text,w,h)
 	=


Modified: trunk/data/lua/lib.spellbooks.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.spellbooks.lua (original)
+++ trunk/data/lua/lib.spellbooks.lua Wed Nov 21 23:04:39 2007
@@ -187,7 +187,9 @@
 				end
 =

 				-- Circle Names
-				local circlename =3D guimaker.MakeText (curparent, 90 + rightspacer, 2=
0, gSpellBooks[spellbook.itemid].circles[circle], 14, {255/255,255/255,255/=
255,1.0})
+				local circlename =3D guimaker.MakeText (curparent, 90 + rightspacer, 2=
0,
+														gSpellBooks[spellbook.itemid].circles[circle], 14,
+														{255/255,255/255,255/255,1.0}, gFontNameDefault)
 	=

 				-- counter for available spells
 				local spellcounter=3D0
@@ -202,7 +204,9 @@
 						spellbutton.onLeftClick =3D function (widget)
 													Send_Spell(spellbutton.spell+gSpellBooks[spellbook.itemid].st=
artindex,gSpellbookExpansion["AOS"])
 												end
-						local spellname =3D guimaker.MakeText (curparent, 80 + rightspacer, =
20+((spellcounter+1)*15) - top_align, gSpellBooks[spellbook.itemid].spells[=
circle][spell], 12, {190/255,237/255,231/255,1.0})
+						local spellname =3D guimaker.MakeText (curparent, 80 + rightspacer, =
20+((spellcounter+1)*15) - top_align,
+															gSpellBooks[spellbook.itemid].spells[circle][spell], gFontG=
umpSize,
+															{190/255,237/255,231/255,1.0}, gFontNameDefault)
 					end
 			  	end
 =

@@ -267,15 +271,24 @@
 						-- Calc SpellIcon GumpID
 						local spelliconid=3DgSpellBooks[spellbook.itemid].iconoffset + ((cir=
cle-1) * spellnumber) + spell-1
 						-- Circle Names
-						local circlename =3D guimaker.MakeText (curparent, 85 + rightspacer,=
 15 - top_align, gSpellBooks[spellbook.itemid].circles[circle], 14, {255/25=
5,255/255,255/255,1.0})
-						local spellname =3D guimaker.MakeText (curparent, 85 + rightspacer, =
30 - top_align, gSpellBooks[spellbook.itemid].spells[circle][spell], 14, {1=
90/255,237/255,231/255,1.0})
-						local spellicon =3D MakeGumpButton (curparent, spelliconid, spellico=
nid, spelliconid, 75 + rightspacer, 50,nil,nil,false)
-						local reagents =3D guimaker.MakeText (curparent, 75 + rightspacer, 1=
08 - top_align, "Reagents:", 13, {190/255,237/255,231/255,1.0})
+						local circlename =3D guimaker.MakeText (curparent, 85 + rightspacer,=
 15 - top_align,
+																gSpellBooks[spellbook.itemid].circles[circle], 14,
+																{255/255,255/255,255/255,1.0}, gFontNameDefault)
+						local spellname =3D guimaker.MakeText (curparent, 85 + rightspacer, =
30 - top_align,
+																gSpellBooks[spellbook.itemid].spells[circle][spell], 14,
+																{190/255,237/255,231/255,1.0}, gFontNameDefault)
+						local spellicon =3D MakeGumpButton (curparent, spelliconid, spellico=
nid, spelliconid,
+																75 + rightspacer, 50,nil,nil,false)
+						local reagents =3D guimaker.MakeText (curparent, 75 + rightspacer, 1=
08 - top_align,
+																"Reagents:", 13,
+																{190/255,237/255,231/255,1.0}, gFontNameDefault)
 						-- Display Reagentz
 						if (gSpellBooks[spellbook.itemid].spell_reags[circle][spell]) then
 							for reag=3D1, table.getn( gSpellBooks[spellbook.itemid].spell_reags=
[circle][spell] ) do
 								local reagentname=3D gSpellBooks[spellbook.itemid].reagenz[ gSpell=
Books[spellbook.itemid].spell_reags[circle][spell][reag] ]
-								local reagentzia =3D guimaker.MakeText (curparent, 75 + rightspace=
r, 112 + reag*14 - top_align, reagentname, 12, {190/255,237/255,231/255,1.0=
})
+								local reagentzia =3D guimaker.MakeText (curparent, 75 + rightspace=
r, 112 + reag*14 - top_align,
+																		reagentname, gFontGumpSize,
+																		{190/255,237/255,231/255,1.0}, gFontNameDefault)
 							end
 						end
 		=


Modified: trunk/data/lua/net.popup.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.popup.lua (original)
+++ trunk/data/lua/net.popup.lua Wed Nov 21 23:04:39 2007
@@ -132,7 +132,9 @@
 	--AddFadeLines(sprintf("display popup serial=3D%08x numentries=3D%d",popu=
pmenu.serial,popupmenu.numentries))
 	for k,entry in pairs(popupmenu.entries) do		=

 		local i =3D k - 1
-		entry.widget_text =3D guimaker.MakeText(dialog.rootwidget, entryoffx, en=
tryoffy + i * entryheight,entry.text,entrytextsize,gDefaultPopupMenuTextCol=
or) =

+		entry.widget_text =3D guimaker.MakeText(dialog.rootwidget, entryoffx, en=
tryoffy + i * entryheight,
+												entry.text, entrytextsize,
+												gDefaultPopupMenuTextColor, gFontNameDefault) =

 		entry.widget_text.entry =3D entry
 		entry.widget_text.mbIgnoreMouseOver =3D false
 		entry.widget_text.onMouseEnter	=3D function (widget) widget.gfx:SetColou=
r(gDefaultPopupMenuTextColorHi) end

Modified: trunk/data/lua/net.trade.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.trade.lua (original)
+++ trunk/data/lua/net.trade.lua Wed Nov 21 23:04:39 2007
@@ -263,8 +263,8 @@
 	local browse_up2	=3D MakeGumpButton(		dialog_bill.rootwidget,hex2num("0x8=
24"), hex2num("0x824"), hex2num("0x824"),231, 49) =

 	local browse_down2	=3D MakeGumpButton(		dialog_bill.rootwidget,hex2num("0=
x825"), hex2num("0x825"), hex2num("0x825"),231,158)
 	local accept		=3D MakeGumpButton(		dialog_bill.rootwidget,hex2num("0x5c")=
 , hex2num("0x5c") , hex2num("0x5c") , 22,188)
-	dialog_bill.total	=3D guimaker.MakeText(	dialog_bill.rootwidget, 70, 173,=
"0"				,12,{0,0,0,1.0})
-	dialog_bill.gold 	=3D guimaker.MakeText(	dialog_bill.rootwidget,190, 173,=
GetPlayerGold()	,12,{0,0,0,1.0}) =

+	dialog_bill.total	=3D guimaker.MakeText(	dialog_bill.rootwidget, 70, 173,=
"0",gFontGumpSize,{0,0,0,1.0}, nil, gFontNameDefault)
+	dialog_bill.gold 	=3D guimaker.MakeText(	dialog_bill.rootwidget,190, 173,=
GetPlayerGold(),gFontGumpSize,{0,0,0,1.0}, nil, gFontNameDefault)
 	browse_up2.onLeftClick		=3D function (widget) widget.dialog:PrevPage() end
 	browse_down2.onLeftClick	=3D function (widget) widget.dialog:NextPage() e=
nd
 	accept.onLeftClick			=3D function (widget) widget.dialog.uoShop:Accept() =
end
@@ -311,9 +311,9 @@
 		if (i >=3D pageoff and i < pageoff + perpage) then
 			local y =3D 60 * (i - pageoff)
 			local itemmodel	=3D MakeArtGumpPart(  dialog.rootwidget,					good.itema=
rtid,25, 75 + y, 0, 0, 0, good.itemhue)
-			local it_name 	=3D guimaker.MakeText(dialog.rootwidget, 80, 75 + y,		go=
od.name				,12,{0,0,0,1.0})
-			local it_price 	=3D guimaker.MakeText(dialog.rootwidget, 80, 75 + y + 1=
2,	good.price .. " Gold"	,12,{0,0,0,1.0})
-			local avail 	=3D guimaker.MakeText(dialog.rootwidget,210, 75 + y,		good=
.itemamount - good.tradeamount ,12,{0,0,0,1.0})
+			local it_name 	=3D guimaker.MakeText(dialog.rootwidget, 80, 75 + y,		go=
od.name				, gFontGumpSize, {0,0,0,1.0}, gFontNameDefault)
+			local it_price 	=3D guimaker.MakeText(dialog.rootwidget, 80, 75 + y + 1=
2,	good.price .. " Gold"	, gFontGumpSize, {0,0,0,1.0}, gFontNameDefault)
+			local avail 	=3D guimaker.MakeText(dialog.rootwidget,210, 75 + y,		good=
.itemamount - good.tradeamount , gFontGumpSize, {0,0,0,1.0}, gFontNameDefau=
lt)
 			itemmodel.good =3D good
 			itemmodel.mbIgnoreMouseOver =3D false
 			itemmodel.onMouseDown =3D function (widget,mousebutton) if (mousebutton=
 =3D=3D 1) then widget.dialog.uoShop:AddToBill(widget.good,1) end end
@@ -353,8 +353,8 @@
 					=

 			local incr		=3D MakeGumpButton(	dialog.rootwidget, hex2num("0x37"), hex=
2num("0x37"), hex2num("0x37"), 170, 65 + y) =

 			local decr		=3D MakeGumpButton(	dialog.rootwidget, hex2num("0x38"), hex=
2num("0x38"), hex2num("0x38"), 195, 65 + y) =

-			local name		=3D guimaker.MakeText(dialog.rootwidget,70, 65 + y,good.nam=
e			,12,{0,0,0,1.0}) =

-			local amount	=3D guimaker.MakeText(dialog.rootwidget,30, 65 + y,good.tr=
adeamount	,12,{0,0,0,1.0}) =

+			local name		=3D guimaker.MakeText(dialog.rootwidget,70, 65 + y,good.nam=
e			,gFontGumpSize, {0,0,0,1.0}, gFontNameDefault) =

+			local amount	=3D guimaker.MakeText(dialog.rootwidget,30, 65 + y,good.tr=
adeamount	,gFontGumpSize, {0,0,0,1.0}, gFontNameDefault) =

 	=

 			incr.good =3D good
 			decr.good =3D good

Modified: trunk/data/particles/materials/particles.material
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/particles/materials/particles.material (original)
+++ trunk/data/particles/materials/particles.material Wed Nov 21 23:04:39 2=
007
@@ -4,6 +4,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			depth_write off
 			scene_blend add
@@ -22,6 +23,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			scene_blend add
 			depth_write off
@@ -41,6 +43,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			depth_write off
 			scene_blend add
@@ -60,6 +63,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			depth_write off
 			scene_blend add
@@ -78,6 +82,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			depth_write off
 			scene_blend add
@@ -96,6 +101,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			scene_blend add
 			depth_write off
@@ -119,6 +125,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			scene_blend alpha_blend
 			depth_write off
@@ -140,6 +147,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			scene_blend alpha_blend
 			depth_write off
@@ -161,6 +169,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			depth_write off
 			scene_blend add
@@ -180,6 +189,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			depth_write off
 			scene_blend add
@@ -198,6 +208,7 @@
 	{
 		pass
 		{
+			fog_override true
 			lighting off
 			scene_blend add
 			depth_write off



From no-reply at zwischenwelt.org  Thu Nov 22 21:20:36 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 22 Nov 2007 20:20:36 -0000
Subject: [Iris-commit] [IRIS] r1517 - in /trunk/data: base/questmark.png
 lua/lib.3d.renderer.lua lua/lib.static.lua skippedfallbacks.lua
Message-ID: <20071122202038.2B93A1C18279@zwischenwelt.org>

Author: sience
Date: Thu Nov 22 21:20:36 2007
New Revision: 1517

Log:
-small bugfixes

Modified:
    trunk/data/base/questmark.png
    trunk/data/lua/lib.3d.renderer.lua
    trunk/data/lua/lib.static.lua
    trunk/data/skippedfallbacks.lua

Modified: trunk/data/base/questmark.png
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.

Modified: trunk/data/lua/lib.3d.renderer.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.renderer.lua (original)
+++ trunk/data/lua/lib.3d.renderer.lua Thu Nov 22 21:20:36 2007
@@ -333,35 +333,38 @@
 --###       QUEST ARROW       ###
 --###############################
 =

+gQuestArrow =3D nil
+
 function Renderer3D:ShowQuestArrow( active, x, y )
 	if (active=3D=3D1) then
-		if (not QuestArrow) then
-			QuestArrow =3D CreateRootGfx3D()
-			QuestArrow:SetSimpleRenderable()
-			QuestArrow:SetMaterial("quest_arrow")
+		if (not gQuestArrow) then
+			gQuestArrow =3D CreateRootGfx3D()
+			gQuestArrow:SetSimpleRenderable()
+			gQuestArrow:SetMaterial("quest_arrow")
 		end
-	=

+
 		local nx,ny,nz =3D 0,0,1
 		local r,g,b =3D 1.0,1.0,0.0
-		local iTerrainTileType1, z =3D GetAbsTile(x,y)
-		z=3Dz+30
+
+		local iTileType,iZLoc =3D GetAbsTile(x,y)
+
 		local a =3D 0.6
 		local e =3D 0.3
 =

-		QuestArrow:RenderableBegin(4,6,false,false,OT_TRIANGLE_LIST)
-		QuestArrow:RenderableVertex(-e,-e,0, nx,ny,nz, 0,0, r,g,b,a)
-		QuestArrow:RenderableVertex( e,-e,0, nx,ny,nz, 1,0, r,g,b,a)
-		QuestArrow:RenderableVertex(-e, e,0, nx,ny,nz, 0,1, r,g,b,a)
-		QuestArrow:RenderableVertex( e, e,0, nx,ny,nz, 1,1, r,g,b,a)
-		QuestArrow:RenderableIndex3(0,1,2)
-		QuestArrow:RenderableIndex3(1,3,2)
-		QuestArrow:RenderableEnd()
-		QuestArrow:SetForceRotCam(GetMainCam())
-		QuestArrow:SetPosition(self:UOPosToLocal(0.5 + x,0.5 + y,0.1 + z * 0.1))
+		gQuestArrow:RenderableBegin(4,6,false,false,OT_TRIANGLE_LIST)
+		gQuestArrow:RenderableVertex(-e,-e,0, nx,ny,nz, 0,0, r,g,b,a)
+		gQuestArrow:RenderableVertex( e,-e,0, nx,ny,nz, 1,0, r,g,b,a)
+		gQuestArrow:RenderableVertex(-e, e,0, nx,ny,nz, 0,1, r,g,b,a)
+		gQuestArrow:RenderableVertex( e, e,0, nx,ny,nz, 1,1, r,g,b,a)
+		gQuestArrow:RenderableIndex3(0,1,2)
+		gQuestArrow:RenderableIndex3(1,3,2)
+		gQuestArrow:RenderableEnd()
+		gQuestArrow:SetForceRotCam(GetMainCam())
+		gQuestArrow:SetPosition( self:UOPosToLocal(0.5 + x,0.5 + y,0.1 + ( iZLoc=
+30) * 0.1) )
 	else
-		if (QuestArrow) then
-			QuestArrow:Destroy()
-			QuestArrow=3Dnil
+		if (gQuestArrow) then
+			gQuestArrow:Destroy()
+			gQuestArrow=3Dnil
 		end
 	end
 end

Modified: trunk/data/lua/lib.static.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.static.lua (original)
+++ trunk/data/lua/lib.static.lua Thu Nov 22 21:20:36 2007
@@ -95,7 +95,7 @@
 		else =

 			printdebug("static","Static Meshloader:",iTranslatedTileTypeID,iHue,mes=
hname)
 			=

-			if gManualArtMaterialLoader then
+			if (gManualArtMaterialLoader) then
 				-- create unavailable uo_art_ID materials
 				local path =3D GetModelPath(iTranslatedTileTypeID)
 				printdebug("static","meshname",meshname,"path",path)

Modified: trunk/data/skippedfallbacks.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/skippedfallbacks.lua (original)
+++ trunk/data/skippedfallbacks.lua Thu Nov 22 21:20:36 2007
@@ -414,3 +414,4 @@
 RegisterSkippedArtBillboardFallBack(5773) -- 0x168d name=3DMissingName
 RegisterSkippedArtBillboardFallBack(5768) -- 0x1688 name=3Dcatapult
 RegisterSkippedArtBillboardFallBack(5731) -- 0x1663 name=3Dcatapult
+RegisterSkippedArtBillboardFallBack(2395) -- 0x095b name=3Dfireplace



From no-reply at zwischenwelt.org  Fri Nov 23 01:29:07 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 00:29:07 -0000
Subject: [Iris-commit] [IRIS] r1518 - in /trunk: generate_lua_api.php
 lua_api_pseudo_code.cpp roblib.php
Message-ID: <20071123002907.1C4891C18276@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 01:29:06 2007
New Revision: 1518

Log:
lua api generation experiment

Added:
    trunk/generate_lua_api.php
    trunk/lua_api_pseudo_code.cpp
    trunk/roblib.php



From no-reply at zwischenwelt.org  Fri Nov 23 20:58:04 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 19:58:04 -0000
Subject: [Iris-commit] [IRIS] r1519 - in /trunk: generate_lua_api.php
	lua_api_pseudo_code.cpp
Message-ID: <20071123200005.0E0291C182C6@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 20:58:03 2007
New Revision: 1519

Log:
lua api generator now also scans c++ files with lua bindings

Modified:
    trunk/generate_lua_api.php
    trunk/lua_api_pseudo_code.cpp

Modified: trunk/generate_lua_api.php
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/generate_lua_api.php (original)
+++ trunk/generate_lua_api.php Fri Nov 23 20:58:03 2007
@@ -2,18 +2,23 @@
 <?php
 	include("roblib.php");
 	=

+	$files_lua =3D array();
+	$files_cpp =3D array();
 	$files_lua	=3D ExecGetLines('find data/lua/ ! -type d ! -wholename "*/.sv=
n*"');
-	//~ $files_cpp	=3D ExecGetLines('find src/ ! -type d ! -wholename "*/.svn=
*"');
-	//~ $files_cpp2	=3D ExecGetLines('find lugre/src/ ! -type d ! -wholename =
"*/.svn*"');
+	$files_cpp	=3D ExecGetLines('find src/		-name "*_L.cpp" ! -type d ! -whol=
ename "*/.svn*"');
+	$files_cpp2	=3D ExecGetLines('find lugre/src/	-name "*_L.cpp" ! -type d !=
 -wholename "*/.svn*"'); foreach ($files_cpp2 as $o) $files_cpp[] =3D $o;
+	$files_cpp2	=3D ExecGetLines('find src/		-name "*script*.cpp" ! -type d !=
 -wholename "*/.svn*"'); foreach ($files_cpp2 as $o) $files_cpp[] =3D $o;
+	$files_cpp2	=3D ExecGetLines('find lugre/src/	-name "*script*.cpp" ! -typ=
e d ! -wholename "*/.svn*"'); foreach ($files_cpp2 as $o) $files_cpp[] =3D =
$o;
 	//~ $files_lua =3D array("data/lua/obj/obj.mobile.lua");
+	=

+	=

 	foreach ($files_lua as $o) {
 		$lines =3D file($o);
 		$numlines =3D count($lines);
 		=

-		=

-		=

 		$description =3D array();
-		//~ echo $o."\n";
+		=

+		echo "// ##### ".$o."\n";
 		for ($i=3D0;$i<$numlines;++$i) {
 			$line =3D ereg_replace("[ \t]+"," ",trim($lines[$i])); // trim and summ=
arize whitespace
 			if ($line =3D=3D "") continue;
@@ -30,15 +35,93 @@
 				=

 				echo "\n";
 				foreach ($description as $dline) echo "/// ".$dline."\n";
-				echo "mixed	".strtr($classprefix,array(":"=3D>"::","."=3D>"::")).$funn=
ame."	(".implode(",",$params).");\n";
-			}
-			=

+				=

+				if ($classprefix =3D=3D "") { // global
+					echo "mixed	".$funname."	(".implode(",",$params).");\n";
+				} else {
+					$classname =3D substr($classprefix,0,-1);
+					if (substr($classprefix,-1) =3D=3D ".") echo "static "; // static met=
hod
+					echo "mixed	".$classname."::".$funname."	(".implode(",",$params).");\=
n";
+				}
+			}
 			=

 			$description =3D array();
-			=

-			//~ if (eregi("function[ \t]+(([
 		}
 		//~ break;
+	}
+	=

+	=

+	foreach ($files_cpp as $o) {
+		$lines =3D file($o);
+		$numlines =3D count($lines);
+		=

+		$description =3D array();
+		$classname =3D "";
+		$methodbinds =3D array();
+		=

+		echo "// ##### ".$o."\n";
+		for ($i=3D0;$i<$numlines;++$i) {
+			$line =3D ereg_replace("[ \t]+"," ",trim($lines[$i])); // trim and summ=
arize whitespace
+			if ($line =3D=3D "") continue;
+			=

+			// comments
+			if (eregi("^[ \t]*///?[ \t]*(.+)",$line,$r)) { $description[] =3D $r[1]=
; continue; } // comment line
+			=

+			// class cGroundBlockLoader_L : public cLuaBind<cGroundBlockLoader>
+			if (eregi('^class ([^ :]+).*cLuaBind.*',$line,$r)) {
+				$classname =3D $r[1];
+				$methodbinds =3D array();
+				echo "\n";
+				foreach ($description as $dline) echo "/// ".$dline."\n";
+				echo "class $classname;\n";
+			}
+			=

+			// REGISTER_METHOD(Destroy);
+			if (eregi('^REGISTER_METHOD[ ]*\(([^\)]+)',$line,$r)) {
+				$methodname =3D trim($r[1]);
+				$methodbinds[$methodname] =3D true;
+				//~ echo "// method $methodname\n";
+			}
+			=

+			// static int				CreateGroundBlockLoader		(lua_State *L) { PROFILE
+			if (eregi('int ([^ \(]+)[ ]*\(.*lua_State',$line,$r)) {
+				$methodname =3D trim($r[1]);
+				$methodbinds[$methodname] =3D true;
+				=

+				echo "\n";
+				foreach ($description as $dline) echo "/// ".$dline."\n";
+				=

+				if ($classname)
+						echo "mixed $classname::$methodname (...);\n";
+				else	echo "mixed $methodname (...);\n";
+			}
+			=

+			=

+			/*
+			if (eregi('^function ([^:]+[:.])?([^ (]+)[ ]*\(([^\)]+)',$line,$r)) {
+				$classprefix =3D $r[1];
+				$funname =3D $r[2];
+				$params2 =3D split("[ ]*,[ ]*",$r[3]);
+				$params =3D array();
+				foreach ($params2 as $param) $params[] =3D "mixed ".$param;
+				//~ echo "fun #".$r[1]."###".$r[2]."##".$r[3]."#   :  ".rtrim($line,"\=
n")."\n";
+				=

+				echo "\n";
+				foreach ($description as $dline) echo "/// ".$dline."\n";
+				=

+				if ($classprefix =3D=3D "") { // global
+					echo "mixed	".$funname."	(".implode(",",$params).");\n";
+				} else {
+					$classname =3D substr($classprefix,0,-1);
+					if (substr($classprefix,-1) =3D=3D ".") echo "static "; // static met=
hod
+					echo "mixed	".$classname."::".$funname."	(".implode(",",$params).");\=
n";
+				}
+			}
+			*/
+			=

+			$description =3D array();
+		}
+		break;
 	}
 	=

 	/*

Modified: trunk/lua_api_pseudo_code.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua_api_pseudo_code.cpp (original)
+++ trunk/lua_api_pseudo_code.cpp Fri Nov 23 20:58:03 2007
@@ -1,3 +1,4 @@
+// ##### data/lua/lib.loading.lua
 =

 /// profiles the time took by the different loading phases, and displays a=
 text about what is currently being loaded
 mixed	LoadingProfile	(mixed sCurAction,mixed bIsPreOgre);
@@ -12,6 +13,7 @@
 =

 /// Loads Maps+Statics+Diff Files (only pre 6.0.0)
 mixed	LoadMap	(mixed index);
+// ##### data/lua/lib.gui.iris.lua
 =

 /// text-line at the bottom of screen (readonly, used for mousepicking deb=
ug text and for info during loading)
 mixed	Client_SetBottomLine	(mixed text);
@@ -19,19 +21,19 @@
 mixed	DisplayMemoryUsage	(mixed memoryusage);
 =

 /// sets the current stats bar in %, dont use this directly
-mixed	gui::SetStatsBar	(mixed name,mixed x);
+static mixed	gui::SetStatsBar	(mixed name,mixed x);
 =

 /// sets the warmode visual on statsbar
-mixed	gui::SetWarmode	(mixed warmode);
+static mixed	gui::SetWarmode	(mixed warmode);
 =

 /// sets the current hitpoints (in %), x is between 0.0 and 1.0
-mixed	gui::SetHitpoints	(mixed x);
+static mixed	gui::SetHitpoints	(mixed x);
 =

 /// sets the current hitpoints (in %), x is between 0.0 and 1.0
-mixed	gui::SetMana	(mixed x);
+static mixed	gui::SetMana	(mixed x);
 =

 /// sets the current hitpoints (in %), x is between 0.0 and 1.0
-mixed	gui::SetStamina	(mixed x);
+static mixed	gui::SetStamina	(mixed x);
 =

 /// sets the hitpoints in percentage if the mobile npc dialog is opened
 mixed	SetNpcStatusHitpoints	(mixed mobile,mixed hitpoints);
@@ -43,6 +45,8 @@
 mixed	CloseStatus	(mixed mobile);
 =

 mixed	SendChat	(mixed curtext);
+// ##### data/lua/lib.uoids.lua
+// ##### data/lua/lib.3d.mousepick.lua
 =

 /// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
 mixed	Renderer3D::TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletyp=
e,mixed hit_dist,mixed minz,mixed maxz);
@@ -51,12 +55,15 @@
 mixed	Renderer3D::GetMouseHitSerial	(mixed bExecuteMousePick);
 =

 mixed	Renderer3D::DestroyMousePickItemBySerial	(mixed serial);
+// ##### data/lua/filter/filter.map.lua
 =

 /// returns mapped grannyid or nil
 mixed	FilterMap	(mixed iTranslatedTileTypeID);
+// ##### data/lua/filter/filter.granny.lua
 =

 /// FILTER: Grannys
 mixed	GrannyOverride	(mixed mobileartid);
+// ##### data/lua/filter/filter.art.lua
 =

 /// FILTER: map Mesh to other Mesh
 mixed	FilterMesh	(mixed iTranslatedTileTypeID);
@@ -71,9 +78,11 @@
 =

 /// FILTER: static water and map to extra material (one for shaders and on=
e for normal mode (because we dont have coastline models))
 mixed	FilterStaticWater	(mixed iTranslatedTileTypeID,mixed iHue);
+// ##### data/lua/lib.mousepick.lua
 =

 /// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
 mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit_=
dist,mixed minz,mixed maxz);
+// ##### data/lua/lib.xml.lua
 =

 /// utilities for xml
 /// finds the first (or index'th) child with child.name=3Dname
@@ -85,6 +94,7 @@
 mixed	xmlvalue	(mixed xmlnode,mixed name,mixed index);
 =

 mixed	xmldump	(mixed o,mixed L);
+// ##### data/lua/lib.protocol.lua
 =

 mixed	DirWrap	(mixed iDir);
 =

@@ -112,6 +122,8 @@
 =

 /// request profile
 mixed	Send_RequestProfile	(mixed  serial );
+// ##### data/lua/lib.keybinds.lua
+// ##### data/lua/lib.terrain.lua
 =

 /// called by the c function BuildTerrainEntity_Shaded, has to return a ma=
terial name for a tiletypeid, used for terrain
 mixed	BuildTerrainEntity_Shaded_GetMaterial	(mixed iTileTypeID);
@@ -120,6 +132,7 @@
 mixed	BuildTerrainEntity_Simple_GetMaterial	(mixed iTileTypeID);
 =

 mixed	GetTerrainMaterial	(mixed iTileTypeID,mixed bLighting);
+// ##### data/lua/lib.bodygfx.lua
 =

 /// see config.lua.dist for kMountZAdd
 /// ##### ##### ##### ##### ##### construction,destruction
@@ -153,6 +166,7 @@
 /// ##### ##### ##### ##### ##### state (run,walk,idle,combat...)
 /// interrupt serverside anim on movement, and init anim if not set
 mixed	gBodyGfxPrototype::SetState	(mixed bMoving,mixed bTurning,mixed bWar=
Mode,mixed bRunFlag);
+// ##### data/lua/lib.cliloc.lua
 =

 /// done reading cliloc uo/Cliloc.enu, index range from 500000 to 3011032
 mixed	GetIntLocText	(mixed intlocid,mixed textid);
@@ -161,6 +175,7 @@
 =

 /// override_file can be nil
 mixed	CreateClilocLoaderFullFile	(mixed base_file,mixed override_file,mixe=
d bWarnOnMissingFile);
+// ##### data/lua/lib.3d.cam.lua
 =

 mixed	Renderer3D::CamKeyUp	(mixed key);
 =

@@ -172,6 +187,7 @@
 =

 /// targetmode can be nil, then the current mode is simply increased
 mixed	Renderer3D::ChangeCamMode	(mixed targetmode);
+// ##### data/lua/lib.compass.lua
 =

 mixed	SetCompassMapIndex	(mixed iMapIndex);
 =

@@ -181,6 +197,7 @@
 =

 /// show/hide compass, called from lib.input.lua on keypress (n)
 mixed	ToggleCompass	(mixed bKeyIsDown);
+// ##### data/lua/lib.speech.lua
 =

 /// speech.mul loader
 /// Keywords detected from client-chat, converted back to index id and sen=
d to server
@@ -192,6 +209,7 @@
 /// TODO : Unicode ?
 /// speech.mul values (index,length) are BigEndian
 mixed	CreateSpeechLoaderFullFile	(mixed base_file,mixed bWarnOnMissingFile=
);
+// ##### data/lua/lib.granny.lua
 =

 mixed	CreateGrannyLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile);
 =

@@ -248,6 +266,7 @@
 mixed	GetGrannyModelInfo	(mixed modelid);
 =

 mixed	TestGranny	(mixed modelid);
+// ##### data/lua/lib.data.lua
 =

 /// nil if not wearable
 mixed	GetPaperdollLayerFromTileType	(mixed iTileTypeID);
@@ -287,12 +306,13 @@
 /// --------------------------------------- the following parts are copied=
 from lugre and modified, should be merged into lugre ---------------------=
----------------------
 /// this is normally in lugre - just a bit modified - should be removed so=
metimes
 mixed	GetMeshPreviewX	(mixed meshname,mixed res,mixed angh,mixed angv,mixe=
d pixelformat,mixed r,mixed g,mixed b,mixed a);
-
-mixed	GumpButtonSetOver (widget) widget::gfx::SetMaterial	(mixed widget.ma=
t_over);
-
-mixed	GumpButtonSetNormal (widget) widget::gfx::SetMaterial	(mixed widget.=
mat_normal);
-
-mixed	GumpButtonSetPressed (widget) widget::gfx::SetMaterial	(mixed widget=
.mat_pressed);
+// ##### data/lua/lib.gfm.lua
+
+mixed	GumpButtonSetOver (widget) widget.gfx::SetMaterial	(mixed widget.mat=
_over);
+
+mixed	GumpButtonSetNormal (widget) widget.gfx::SetMaterial	(mixed widget.m=
at_normal);
+
+mixed	GumpButtonSetPressed (widget) widget.gfx::SetMaterial	(mixed widget.=
mat_pressed);
 =

 /// creates a button with mouseover and pressed effect
 /// w,h can be left out to determine automatically
@@ -322,22 +342,25 @@
 mixed	GumpDlgAddGfmControlNode	(mixed dialog,mixed node);
 =

 mixed	GfmDump	(mixed path);
+// ##### data/lua/lib.journal.lua
 =

 mixed	RegisterJournalEntryType	(mixed name);
 =

 mixed	JournalAddEntry	(mixed entrytype,mixed ...);
 =

 mixed	ShowJournalPage	(mixed pagenum);
-
-mixed	DebugStartFunctionLog () debug::sethook	(mixed DebugHook_CallPrint,m=
ixed "cr");
-
-mixed	DebugStacktraceFunctionName (level) return debug::getinfo	(mixed lev=
el+1,mixed "n");
+// ##### data/lua/lib.debug.lua
+
+static mixed	DebugStartFunctionLog () debug::sethook	(mixed DebugHook_Call=
Print,mixed "cr");
+
+static mixed	DebugStacktraceFunctionName (level) return debug::getinfo	(mi=
xed level+1,mixed "n");
 =

 mixed	DebugStacktraceFunctionDescr	(mixed level);
 =

 mixed	DebugHook_CallPrint	(mixed event);
 =

 mixed	DebugPrintCallCountTopX	(mixed title,mixed fun,mixed minval);
+// ##### data/lua/lib.skill.lua
 =

 /// sets a skill value and lock state
 /// lockstate: (0=3Dup, 1=3Ddown, 2=3Dlocked)
@@ -351,6 +374,7 @@
 =

 /// creates a quickcast button at the given position
 mixed	CreateQuickCastButton	(mixed x,mixed y,mixed name,mixed fun);
+// ##### data/lua/net.walk.lua
 =

 mixed	Request_Movement	(mixed iDir,mixed bRunning);
 =

@@ -359,9 +383,9 @@
 /// note : according to packetguides, the order of the key-use is not impo=
rtant
 mixed	FastWalk_Init	(mixed keyarr);
 =

-mixed	FastWalk_PushKey (key) WalkLog("FastWalk_PushKey",key) table::insert=
	(mixed gFastwalkStack,mixed key);
-
-mixed	FastWalk_CountKeys () return table::getn	(mixed gFastwalkStack);
+static mixed	FastWalk_PushKey (key) WalkLog("FastWalk_PushKey",key) table:=
:insert	(mixed gFastwalkStack,mixed key);
+
+static mixed	FastWalk_CountKeys () return table::getn	(mixed gFastwalkStac=
k);
 =

 /// fulldir CAN include runflag
 mixed	SetPlayerPos	(mixed xloc,mixed yloc,mixed zloc,mixed fulldir);
@@ -390,6 +414,7 @@
 =

 /// called from kPacket_Teleport
 mixed	NotifyTeleport	(mixed mobiledata);
+// ##### data/lua/lib.walking2.lua
 =

 mixed	printwalkdebug	(mixed ...);
 =

@@ -427,6 +452,7 @@
 /// (about 30 in int, or 3.0 in float (*0.1) is the height of a door)
 /// two values are returned: is walkable, new Z Level
 mixed	GetNearestGroundLevel	(mixed xloc,mixed yloc,mixed iStartZ,mixed iDi=
r);
+// ##### data/lua/net.popup.lua
 =

 /// triggers -- which came from kPacket_Generic_SubCommand_DisplayPopup
 mixed	Send_PopupRequest	(mixed serial);
@@ -443,6 +469,7 @@
 mixed	DisplayPopupMenu	(mixed popupmenu);
 =

 mixed	GetPopupEntryText	(mixed textid);
+// ##### data/lua/lib.gumpparser.lua
 =

 mixed	ServerSideGump_GetParams	(mixed dialogId);
 =

@@ -458,6 +485,7 @@
 /// simple html parser (only center,basefont,br and color tags yep realize=
d)
 /// TODO : BODY, <A HREF=3D"HTTP://www.polserver.com">This is a link</A>
 mixed	HtmlParser	(mixed textstring);
+// ##### data/lua/lib.3d.map.lua
 =

 /// these coordinates are in absolute map-blocks, all others are in chunks
 mixed	Renderer3D::UpdateMapCache	(mixed iMidX,mixed iMidY,mixed iRad);
@@ -479,6 +507,7 @@
 /// coords in chunks
 /// TODO : release anything else that was allocated in CreateMapChunk
 mixed	Renderer3D::DestroyMapChunk	(mixed x,mixed y,mixed chunk);
+// ##### data/lua/lib.static.lua
 =

 /// used by lib.map.lua
 /// handles static models (walls, trees...)
@@ -496,6 +525,7 @@
 mixed	GetStaticMeshName	(mixed iTileTypeID,mixed iHue);
 =

 mixed	GetStaticMeshOrientation	(mixed iTileTypeID);
+// ##### data/lua/lib.oldwalk.lua
 =

 mixed	OldWalkWarn	(mixed fname);
 =

@@ -505,6 +535,7 @@
 =

 /// will follow a given mobile
 mixed	SetFollowMobile	(mixed serial);
+// ##### data/lua/lib.season.lua
 =

 mixed	ParseHex2HexArray	(mixed arr);
 =

@@ -514,6 +545,7 @@
 /// Seasonal Dynamic & Static Art Translation (run tiles)
 /// eventuell (iTileTypeID + 16384)
 mixed	SeasonalStaticTranslation	(mixed iTileTypeID,mixed iSeasonID);
+// ##### data/lua/lib.tilefreewalk.lua
 =

 /// ##### ##### ##### ##### ##### step
 mixed	InterpolateSquare	(mixed z00,mixed z10,mixed z01,mixed z11,mixed fx,=
mixed fy);
@@ -608,6 +640,7 @@
 mixed	gTileFreeWalk::SetDebugMarker	(mixed markername,mixed x,mixed y,mixe=
d z,mixed dx,mixed dy,mixed dz,mixed r,mixed g,mixed b);
 =

 mixed	gTileFreeWalk::UpdateDebugMarker	(mixed mymarker,mixed matname);
+// ##### data/lua/net.cursor.lua
 =

 mixed	SetUOCursor	(mixed iIndex);
 =

@@ -627,6 +660,7 @@
 =

 /// Send Targetcursor (0x6c)
 mixed	Send_Target	(mixed bIsPos,mixed flag,mixed serial,mixed x,mixed y,mi=
xed z,mixed model);
+// ##### data/lua/lib.test.lua
 =

 /// count how often every type of static occurs on the map
 mixed	AnalyseStatics	(mixed index);
@@ -643,6 +677,7 @@
 =

 /// expression test
 mixed	TestExpr	(mixed code);
+// ##### data/lua/net.other.lua
 =

 /// TODO : readout checkboxes,radiobuttons and edit text fields
 mixed	GumpReturnMsg	(mixed playerserial,mixed gumpserial,mixed ret_value,m=
ixed params,mixed switchcount,mixed textcount);
@@ -662,6 +697,7 @@
 =

 /// kPacket_Speech_Unicode
 mixed	Send_UnicodeSpeech	(mixed ascistr,mixed mode,mixed huecolor,mixed fo=
nt);
+// ##### data/lua/lib.uodragdrop.lua
 =

 mixed	SetDragItem	(mixed  item,mixed offx,mixed offy );
 =

@@ -676,17 +712,22 @@
 mixed	PrepareUODragDrop	(mixed item,mixed widget,mixed matname,mixed w,mix=
ed h,mixed offx,mixed offy);
 =

 mixed	DestroyDragDropItemBySerial	(mixed serial);
+// ##### data/lua/lib.packet.lua
+// ##### data/lua/lib.sound.iris.lua
 =

 /// same like lugre:SoundPlayEffect but written for UO specific sound.mul
 mixed	SoundPlayEffect_UO	(mixed x,mixed y,mixed z,mixed effect);
 =

 mixed	SoundPlayMusicById	(mixed musicid);
+// ##### data/lua/lib.spellbooks.lua
 =

 mixed	Convert_Spellbookcontainer	(mixed matrix,mixed container);
 =

 mixed	Open_Spellbook	(mixed spellbook);
+// ##### data/lua/main.lua
 =

 mixed	CommandLineArgument	(mixed i,mixed s);
+// ##### data/lua/net.trade.lua
 =

 mixed	CompareSerialAsc	(mixed a,mixed b);
 =

@@ -729,16 +770,19 @@
 mixed	SendSellAccept	(mixed shop,mixed goods);
 =

 mixed	ShopAccept	(mixed shop);
+// ##### data/lua/lib.net.lua
 =

 /// TODO : return false on failure! handle socket creation failed!!
 /// function with key is used for both logins (loginserver/gameserver)
 mixed	NetConnectWithKey	(mixed host,mixed port,mixed key);
+// ##### data/lua/lib.3d.combat.lua
 =

 /// creates a moving and disapearing damage text at the given tile positio=
n (x,y,z) (lifetime in sec, speed in ?)
 mixed	Renderer3D::CombatCreateDamageText	(mixed text,mixed x,mixed y,mixed=
 z,mixed r,mixed g,mixed b,mixed a,mixed size,mixed speed,mixed lifetime);
 =

 /// helper to plop hp adds and damage
 mixed	Renderer3D::NotifyHPChange	(mixed serial,mixed oldhp,mixed newhp);
+// ##### data/lua/lib.3d.renderer.lua
 =

 /// warning !you still have to do 0.1 z factor seperately
 mixed	Renderer3D::UOPosToLocal	(mixed xloc,mixed yloc,mixed z);
@@ -767,6 +811,7 @@
 mixed	Renderer3D::AddParticleEffect	(mixed  effect,mixed particlename,mixe=
d relx,mixed rely,mixed relz,mixed scalex,mixed scaley,mixed scalez);
 =

 mixed	Renderer3D::ShowQuestArrow	(mixed  active,mixed x,mixed y );
+// ##### data/lua/lib.filepath.lua
 =

 mixed	CorrectPath	(mixed path);
 =

@@ -774,11 +819,15 @@
 mixed	Addfilepath	(mixed filepath);
 =

 mixed	CorrectGrannyPath	(mixed filename);
+// ##### data/lua/2d/lib.2d.renderer.luac
+// ##### data/lua/2d/lib.2d.config.lua
+// ##### data/lua/lib.renderer.lua
 =

 /// common utils for all renderers
 mixed	GetRendererName	(mixed renderer);
 =

 mixed	ActivateRenderer	(mixed newrenderer);
+// ##### data/lua/lib.mainmenu.lua
 =

 mixed	MainMenuConnectToShard	(mixed shard,mixed shardname,mixed loginname,=
mixed loginpass);
 =

@@ -794,6 +843,8 @@
 mixed	GetShardButtonText	(mixed shard,mixed shardname);
 =

 mixed	SetMainMenuCam	(mixed roth,mixed rotv);
+// ##### data/lua/lib.pagedialog.lua
+// ##### data/lua/lib.stitchin.lua
 =

 mixed	CreateStitchinLoader	(mixed loadertype,mixed filepath);
 =

@@ -804,6 +855,7 @@
 /// ORDER IS IMPORTANT
 /// elements of modelidarr have the form {hue=3D123,modelid=3D123}
 mixed	DoStitchin	(mixed gStitchinLoader,mixed modelidarr);
+// ##### data/lua/lib.debugmenu.lua
 =

 mixed	RepairEquipIndex	(mixed arr);
 =

@@ -817,6 +869,7 @@
 mixed	MakeUOArtImageForDialog	(mixed iTileTypeID,mixed iHue,mixed iMaxW,mi=
xed iMaxH);
 =

 mixed	ShowDebugMenuArtList	(mixed iStart);
+// ##### data/lua/lib.fallback.lua
 =

 mixed	IsArtBillboardFallBackSkipped	(mixed iTranslatedTileTypeID);
 =

@@ -834,6 +887,8 @@
 mixed	List3DStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius);
 =

 mixed	List3DDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius);
+// ##### data/lua/gui/gui.main.lua
+// ##### data/lua/gui/gui.paperdoll.lua
 =

 /// called from kPacket_Open_Paperdoll
 mixed	HandleOpenPaperdoll	(mixed paperdoll);
@@ -862,17 +917,20 @@
 /// TODO : we should put this in a seperate file for easy editing
 /// TODO : maybe this comes from Models.txt
 mixed	GetPaperdollBodyAndBaseID	(mixed bodyid);
+// ##### data/lua/gui/gui.container.lua
+// ##### data/lua/gui/gui.status.lua
+// ##### data/lua/gui/gui.widget.lua
 =

 /// TODO : z resort : insert between two widgets
 /// ***** ***** ***** ***** ***** dialog
-mixed	gui::CreateDialog	(mixed x,mixed y);
+static mixed	gui::CreateDialog	(mixed x,mixed y);
 =

 mixed	gGuiDialogPrototype::SetPos	(mixed x,mixed y);
 =

 mixed	gGuiDialogPrototype::SetVisible	(mixed bVis);
 =

 /// ***** ***** ***** ***** ***** widget Utils
-mixed	gui::_WrapWidget	(mixed widget,mixed parent);
+static mixed	gui::_WrapWidget	(mixed widget,mixed parent);
 =

 mixed	gGuiWidgetPrototype::SetVisible	(mixed bVisible);
 =

@@ -910,82 +968,88 @@
 =

 mixed	gGuiWidgetPrototype::SetPositionBeforeWidget	(mixed otherwidget);
 =

-mixed	gui::_SecureGetMaterial	(mixed matname);
+static mixed	gui::_SecureGetMaterial	(mixed matname);
 =

 /// ***** ***** ***** ***** ***** CreateImage
-mixed	gui::_CreateWidget_Image	(mixed parent,mixed matname,mixed x,mixed y=
,mixed w,mixed h,mixed tx,mixed ty,mixed tw,mixed th,mixed bitmask);
+static mixed	gui::_CreateWidget_Image	(mixed parent,mixed matname,mixed x,=
mixed y,mixed w,mixed h,mixed tx,mixed ty,mixed tw,mixed th,mixed bitmask);
 =

 /// ***** ***** ***** ***** ***** CreateText
-mixed	gui::_CreateWidget_Text	(mixed parent,mixed text,mixed x,mixed y,mix=
ed fontname,mixed fontsize,mixed r,mixed g,mixed b,mixed a);
+static mixed	gui::_CreateWidget_Text	(mixed parent,mixed text,mixed x,mixe=
d y,mixed fontname,mixed fontsize,mixed r,mixed g,mixed b,mixed a);
 =

 /// ***** ***** ***** ***** ***** CreateContainer
-mixed	gui::_CreateWidget_Container	(mixed parent,mixed x,mixed y);
+static mixed	gui::_CreateWidget_Container	(mixed parent,mixed x,mixed y);
+// ##### data/lua/gui/gui.quit.lua
+// ##### data/lua/gui/gui.journal.lua
+// ##### data/lua/gui/gui.gumpmanager.lua
 =

 /// ######################################################################=
######
 /// ###### global gumpmanger functions #######
 /// ######################################################################=
######
-mixed	gGumpmanager::GetGumpsByProperty	(mixed  property,mixed value );
-
-mixed	gGumpmanager::GetGumpsByName	(mixed  name );
+static mixed	gGumpmanager::GetGumpsByProperty	(mixed  property,mixed value=
 );
+
+static mixed	gGumpmanager::GetGumpsByName	(mixed  name );
 =

 /// ######################################################################=
######
 /// ###### gump and gumpobject constructors #######
 /// ######################################################################=
######
-mixed	gGumpmanager::CreateGump	(mixed  x,mixed y );
-
-mixed	gGumpmanager::InitGumpObject	(mixed  gumpobject );
+static mixed	gGumpmanager::CreateGump	(mixed  x,mixed y );
+
+static mixed	gGumpmanager::InitGumpObject	(mixed  gumpobject );
 =

 /// ######################################################################=
######
 /// ###### gump member functions #######
 /// ######################################################################=
######
-mixed	gGumpmanager::RegisterGump	(mixed  gump );
-
-mixed	gGumpmanager::DeregisterGump	(mixed  gump );
-
-mixed	gGumpmanager::_GumpRegisterGumpObject	(mixed  gump,mixed gumpobject =
);
-
-mixed	gGumpmanager::_GumpDeregisterGumpObject	(mixed  gump,mixed gumpobjec=
t );
-
-mixed	gGumpmanager::_GumpDestroy	(mixed  gump );
-
-mixed	gGumpmanager::_SetPage	(mixed  gump,mixed page );
-
-mixed	gGumpmanager::_SetPosition	(mixed  gump,mixed x,mixed y );
-
-mixed	gGumpmanager::_SetVisible	(mixed  gump,mixed visible );
+static mixed	gGumpmanager::RegisterGump	(mixed  gump );
+
+static mixed	gGumpmanager::DeregisterGump	(mixed  gump );
+
+static mixed	gGumpmanager::_GumpRegisterGumpObject	(mixed  gump,mixed gump=
object );
+
+static mixed	gGumpmanager::_GumpDeregisterGumpObject	(mixed  gump,mixed gu=
mpobject );
+
+static mixed	gGumpmanager::_GumpDestroy	(mixed  gump );
+
+static mixed	gGumpmanager::_SetPage	(mixed  gump,mixed page );
+
+static mixed	gGumpmanager::_SetPosition	(mixed  gump,mixed x,mixed y );
+
+static mixed	gGumpmanager::_SetVisible	(mixed  gump,mixed visible );
 =

 /// ######################################################################=
######
 /// ###### functions to add gumpobjects in alphabetical order #######
 /// ######################################################################=
######
-mixed	gGumpmanager::_GumpAddBackground	(mixed  gump,mixed x,mixed y,mixed =
w,mixed h,mixed id,mixed hue,mixed page,mixed onlyborder );
-
-mixed	gGumpmanager::_GumpAddButton	(mixed  gump,mixed x,mixed y,mixed upid=
,mixed downid,mixed moveoverid,mixed buttonid,mixed page,mixed checkcomplet=
erectangle );
-
-mixed	gGumpmanager::_GumpAddCheckbox	(mixed  gump,mixed x,mixed y,mixed tr=
ueid,mixed falseid,mixed checked,mixed checkboxid,mixed page );
-
-mixed	gGumpmanager::_GumpAddCroppedText	(mixed  gump,mixed x,mixed y,mixed=
 w,mixed h,mixed text,mixed font,mixed hue,mixed page,mixed border );
-
-mixed	gGumpmanager::_GumpAddImage	(mixed  gump,mixed x,mixed y,mixed id,mi=
xed hue,mixed page );
-
-mixed	gGumpmanager::_GumpAddGumpItem	(mixed  gump,mixed x,mixed y,mixed se=
rial,mixed page,mixed female );
-
-mixed	gGumpmanager::_GumpAddItem	(mixed  gump,mixed x,mixed y,mixed serial=
,mixed page,mixed useitempos );
-
-mixed	gGumpmanager::_GumpAddGroundTilePic	(mixed  gump,mixed x,mixed y,mix=
ed id,mixed hue,mixed page );
-
-mixed	gGumpmanager::_GumpAddPageButton	(mixed  gump,mixed x,mixed y,mixed =
upid,mixed downid,mixed pageid,mixed page );
-
-mixed	gGumpmanager::_GumpAddRadiobutton	(mixed  gump,mixed x,mixed y,mixed=
 trueid,mixed falseid,mixed checked,mixed buttonid,mixed group,mixed page );
-
-mixed	gGumpmanager::_GumpAddScrollbar	(mixed  gump,mixed x,mixed y,mixed h=
orizontal,mixed length,mixed upid,mixed moveoverid,mixed scrollbarid,mixed =
page,mixed promille );
-
-mixed	gGumpmanager::_GumpAddText	(mixed  gump,mixed x,mixed y,mixed text,m=
ixed font,mixed hue,mixed page,mixed border );
-
-mixed	gGumpmanager::_GumpAddTiledImage	(mixed  gump,mixed x,mixed y,mixed =
w,mixed h,mixed id,mixed hue,mixed page );
-
-mixed	gGumpmanager::_GumpAddTilePic	(mixed  gump,mixed x,mixed y,mixed id,=
mixed hue,mixed page );
+static mixed	gGumpmanager::_GumpAddBackground	(mixed  gump,mixed x,mixed y=
,mixed w,mixed h,mixed id,mixed hue,mixed page,mixed onlyborder );
+
+static mixed	gGumpmanager::_GumpAddButton	(mixed  gump,mixed x,mixed y,mix=
ed upid,mixed downid,mixed moveoverid,mixed buttonid,mixed page,mixed check=
completerectangle );
+
+static mixed	gGumpmanager::_GumpAddCheckbox	(mixed  gump,mixed x,mixed y,m=
ixed trueid,mixed falseid,mixed checked,mixed checkboxid,mixed page );
+
+static mixed	gGumpmanager::_GumpAddCroppedText	(mixed  gump,mixed x,mixed =
y,mixed w,mixed h,mixed text,mixed font,mixed hue,mixed page,mixed border );
+
+static mixed	gGumpmanager::_GumpAddImage	(mixed  gump,mixed x,mixed y,mixe=
d id,mixed hue,mixed page );
+
+static mixed	gGumpmanager::_GumpAddGumpItem	(mixed  gump,mixed x,mixed y,m=
ixed serial,mixed page,mixed female );
+
+static mixed	gGumpmanager::_GumpAddItem	(mixed  gump,mixed x,mixed y,mixed=
 serial,mixed page,mixed useitempos );
+
+static mixed	gGumpmanager::_GumpAddGroundTilePic	(mixed  gump,mixed x,mixe=
d y,mixed id,mixed hue,mixed page );
+
+static mixed	gGumpmanager::_GumpAddPageButton	(mixed  gump,mixed x,mixed y=
,mixed upid,mixed downid,mixed pageid,mixed page );
+
+static mixed	gGumpmanager::_GumpAddRadiobutton	(mixed  gump,mixed x,mixed =
y,mixed trueid,mixed falseid,mixed checked,mixed buttonid,mixed group,mixed=
 page );
+
+static mixed	gGumpmanager::_GumpAddScrollbar	(mixed  gump,mixed x,mixed y,=
mixed horizontal,mixed length,mixed upid,mixed moveoverid,mixed scrollbarid=
,mixed page,mixed promille );
+
+static mixed	gGumpmanager::_GumpAddText	(mixed  gump,mixed x,mixed y,mixed=
 text,mixed font,mixed hue,mixed page,mixed border );
+
+static mixed	gGumpmanager::_GumpAddTiledImage	(mixed  gump,mixed x,mixed y=
,mixed w,mixed h,mixed id,mixed hue,mixed page );
+
+static mixed	gGumpmanager::_GumpAddTilePic	(mixed  gump,mixed x,mixed y,mi=
xed id,mixed hue,mixed page );
+// ##### data/lua/gui/gui.styles.lua
+// ##### data/lua/lib.diff.lua
 =

 mixed	EnableDiff	(mixed enablediff);
+// ##### data/lua/lib.deffileparser.lua
 =

 /// parses a def file
 /// format: INDEX SPACE DATA1 SPACE DATA2 ...
@@ -1004,6 +1068,7 @@
 /// all values are nil if there is no replacement data
 /// TODO untested
 mixed	GetReplacementFromEquipconvDef	(mixed defTable,mixed bodyType,mixed =
equipmentID);
+// ##### data/lua/lib.charcreate.lua
 =

 /// handles char creation, and loading of char templates from uo/Prof.txt
 /// see also MainMenuShowCharList in lib.mainmenu.lua
@@ -1024,6 +1089,7 @@
 =

 /// send characterselect to gameserver
 mixed	SendCharCreate	(mixed chardata);
+// ##### data/lua/lib.devtool.lua
 =

 /// searches for a model with a given texture on the map
 mixed	DevToolSearchTexture	(mixed iTextureID);
@@ -1043,15 +1109,21 @@
 mixed	ListStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius);
 =

 mixed	ListDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius);
+// ##### data/lua/lib.corpse.lua
 =

 /// [[
 mixed	Update_CorpseContainer	(mixed container_serial);
+// ##### data/lua/net/net.main.lua
+// ##### data/lua/net/net.object.lua
 =

 /// packet handlers for receiving creating and updating game-objects (dyna=
mics, statics, multis...)
 /// see also lib.packet.lua and lib.protocol.lua
 mixed	Send_DoubleClick	(mixed iSerial);
 =

 mixed	Send_SingleClick	(mixed iSerial);
+// ##### data/lua/net/net.dynamic.lua
+// ##### data/lua/net/net.effect.lua
+// ##### data/lua/net/net.uodragdrop.lua
 =

 /// Equip Item Request (answer is 0x2E, see also 0x78). 0x13
 mixed	Send_Equip_Item_Request	(mixed serial,mixed layer,mixed player_seria=
l);
@@ -1062,6 +1134,7 @@
 /// This is sent by the client when the player drops an item. 0x08
 /// containerid =3D 0xFFFFFFFF when the container is the ground
 mixed	Send_Drop_Object	(mixed serial,mixed x,mixed y,mixed z,mixed contain=
erid);
+// ##### data/lua/net/net.multi.lua
 =

 /// Send CustomHouseSerial to Upadte the CustomHouseCLientCache for this H=
ouse, Server sends CustomHouse in response
 mixed	Send_CustomHouseRevision	(mixed customhouseserial);
@@ -1069,9 +1142,13 @@
 /// this checks if the given numbers a possible custom house values
 /// retuns true if they are ok
 mixed	CustomHouseCheckSizeValidity	(mixed w,mixed h);
+// ##### data/lua/net/net.mobile.lua
 =

 /// returns nil if there are enough bytes left =3D> the "or" clause gets e=
xecuted
 mixed	MySave_Prepare	(mixed needed);
+// ##### data/lua/net/net.packethandlers.lua
+// ##### data/lua/net/net.corpse.lua
+// ##### data/lua/net/net.skill.lua
 =

 /// see also net.mobile.lua
 /// stuff for skills
@@ -1081,6 +1158,8 @@
 /// sends the server the lock state of one skill (more skills are possible=
 but not used in this function)
 /// lockstate (0=3Dup, 1=3Ddown, 2=3Dlocked)
 mixed	Send_SkillLockState	(mixed skillid,mixed lockstate);
+// ##### data/lua/net/net.world.lua
+// ##### data/lua/net/net.login.lua
 =

 /// Send Packets ---------------------------------------------------------=
--
 /// send login server request 0x80
@@ -1108,6 +1187,9 @@
 =

 /// Submits Client Language to Server
 mixed	Send_ClientLanguage	(mixed lang);
+// ##### data/lua/net/net.sound.lua
+// ##### data/lua/lib.mount.lua
+// ##### data/lua/net.securetrade.lua
 =

 mixed	SecureTradeRebuildContainerWidgets	(mixed mysectrade,mixed container=
,mixed bIsMyStuff);
 =

@@ -1124,9 +1206,11 @@
 mixed	Send_SecureTrade_ChangeAgree	(mixed s1,mixed s2);
 =

 mixed	Send_SecureTrade_Cancel	(mixed s1);
+// ##### data/lua/lib.input.iris.lua
 =

 /// called from c
 mixed	NotifyMainWindowResized	(mixed w,mixed h);
+// ##### data/lua/obj/obj.main.lua
 =

 mixed	GetMobileEquipmentItem (mobile,layer) return mobile::GetEquipmentAtL=
ayer	(mixed layer);
 =

@@ -1146,6 +1230,7 @@
 mixed	CleanupObject	(mixed object);
 =

 mixed	DestroyObjectBySerial	(mixed serial);
+// ##### data/lua/obj/obj.player.lua
 =

 mixed	IsPlayerMobile	(mixed mobile);
 =

@@ -1160,6 +1245,7 @@
 =

 /// destroy objects outside view range
 mixed	DestroyObjectsFarFromPlayer	(mixed player_xloc,mixed player_yloc);
+// ##### data/lua/obj/obj.mobile.lua
 =

 mixed	GetMobile	(mixed mobile_or_serial);
 =

@@ -1193,6 +1279,7 @@
 =

 /// return r,g,b
 mixed	GetNotorietyColor	(mixed n);
+// ##### data/lua/obj/obj.dynamic.lua
 =

 mixed	GetDynamic	(mixed dynamic_or_serial);
 =

@@ -1210,6 +1297,7 @@
 mixed	gDynamicPrototype::SetContainer	(mixed newcontainer_or_serial);
 =

 mixed	gDynamicPrototype::NotifyListener	(mixed eventname);
+// ##### data/lua/obj/obj.container.lua
 =

 mixed	GetContainer	(mixed container_or_serial);
 =

@@ -1247,14 +1335,17 @@
 /// TODO use lib.gfm.lua : MakeArtGumpPart ?
 /// create graphical representation (use only if container dialog is alrea=
dy visible)
 mixed	MakeContainerItemWidget	(mixed item);
+// ##### data/lua/lib.plaingui.iris.lua
 =

 mixed	TeleportFunc	(mixed widget,mixed buttonid);
+// ##### data/lua/lib.bugreport.lua
 =

 mixed	SendMyProjectBugReport	(mixed report,mixed note);
 =

 mixed	MasterServer_Get	(mixed command,mixed params,mixed bIgnoreReturnForS=
peed);
 =

 mixed	MasterServer_BugReport	(mixed report,mixed note);
+// ##### data/lua/lib.3d.mobile.lua
 =

 /// see also lib.3d.renderer.lua
 /// manages all visual things for mobiles : body,energybar,aura,selection =
marker,name, text over head...
@@ -1289,6 +1380,7 @@
 /// ~ animdata.m_frameDelay =3D input:PopNetUint8() --(0x00 - fastest / 0x=
FF - Too slow to watch)
 /// todo : remaining anim options (m_animForward, m_frameDelay , m_frameco=
unt ?)
 mixed	Renderer3D::MobileStartServerSideAnim	(mixed animdata);
+// ##### data/lua/lib.3d.dynamic.lua
 =

 /// see alos lib.3d.dynamic.lua
 /// [[
@@ -1307,6 +1399,7 @@
 =

 /// handle child destroy of Multis
 mixed	Renderer3D::DestroyDynamicGfx	(mixed dynamic);
+// ##### data/lua/lib.3d.walksmooth.lua
 =

 /// handles walk smoothing
 /// see also lib.granny.lua lib.bodygfx.lua
@@ -1321,3 +1414,222 @@
 mixed	Renderer3D::WalkSmoothReset	(mixed mobile);
 =

 mixed	Renderer3D::SetSimpleMobilePos	(mixed mobile);
+// ##### src/data_L.cpp
+
+class cGroundBlockLoader_L;
+
+/// static methods exported to lua
+/// cGroundBlockLoader* CreateGroundBlockLoader (string type,int maph,stri=
ng file); for lua
+mixed cGroundBlockLoader_L::CreateGroundBlockLoader (...);
+
+/// cGroundBlockLoader* CreateGroundBlockLoaderWithDiff (string type,int m=
aph,string file, string difflookup, string diffdata); for lua
+mixed cGroundBlockLoader_L::CreateGroundBlockLoaderWithDiff (...);
+
+/// object methods exported to lua
+mixed cGroundBlockLoader_L::Destroy (...);
+
+mixed cGroundBlockLoader_L::GetMapW (...);
+
+mixed cGroundBlockLoader_L::GetMapH (...);
+
+/// for lua tiletype,z GetTile (blockx, blocky, tilex, tiley)
+mixed cGroundBlockLoader_L::GetTile (...);
+
+/// void WriteMapImageToFile (radarcolorloader*,staticblockloader,string f=
ilepath,bool big) for lua
+mixed cGroundBlockLoader_L::WriteMapImageToFile (...);
+
+mixed cGroundBlockLoader_L::GetNormals (...);
+
+mixed cGroundBlockLoader_L::GetHeightMap (...);
+
+class cUniFontFileLoader_L;
+
+/// static methods exported to lua
+/// cUniFontFileLoader* CreateUniFontLoader (string file); for lua
+mixed cUniFontFileLoader_L::CreateUniFontLoader (...);
+
+/// object methods exported to lua
+mixed cUniFontFileLoader_L::Destroy (...);
+
+mixed cUniFontFileLoader_L::GetMaxWidth (...);
+
+mixed cUniFontFileLoader_L::GetMaxHeight (...);
+
+mixed cUniFontFileLoader_L::GetDefaultHeight (...);
+
+mixed cUniFontFileLoader_L::CountLetters (...);
+
+/// for lua xoffset,yoffset,w,h GetLetterHeader (code)
+mixed cUniFontFileLoader_L::GetLetterHeader (...);
+
+/// for lua CreateOgreFont(fontname)
+mixed cUniFontFileLoader_L::CreateOgreFont (...);
+
+class cRadarColorLoader_L;
+
+/// static methods exported to lua
+/// cRadarColorLoader* CreateRadarColorLoader (string type,int maph,string=
 file); for lua
+mixed cRadarColorLoader_L::CreateRadarColorLoader (...);
+
+/// object methods exported to lua
+mixed cRadarColorLoader_L::Destroy (...);
+
+class cHueLoader_L;
+
+/// static methods exported to lua
+/// cHueLoader* CreateHueLoader (string type,string file); for lua
+mixed cHueLoader_L::CreateHueLoader (...);
+
+/// object methods exported to lua
+mixed cHueLoader_L::Destroy (...);
+
+mixed cHueLoader_L::GetColor (...);
+
+class cAnimDataLoader_L;
+
+/// static methods exported to lua
+/// cAnimDataLoader* CreateAnimDataLoader (string type,string file); for l=
ua
+mixed cAnimDataLoader_L::CreateAnimDataLoader (...);
+
+/// object methods exported to lua
+mixed cAnimDataLoader_L::Destroy (...);
+
+mixed cAnimDataLoader_L::GetAnimDataType (...);
+
+class cTileTypeLoader_L;
+
+/// static methods exported to lua
+/// cTileTypeLoader* CreateTileTypeLoader (string type,string sDataFile); =
for lua
+mixed cTileTypeLoader_L::CreateTileTypeLoader (...);
+
+/// object methods exported to lua
+mixed cTileTypeLoader_L::Destroy (...);
+
+mixed cTileTypeLoader_L::GetGroundTileType (...);
+
+mixed cTileTypeLoader_L::GetGroundTileTexture (...);
+
+/// the returned id is not valid, some ids right before it might also be n=
ot valid
+mixed cTileTypeLoader_L::GetEndID (...);
+
+mixed cTileTypeLoader_L::GetStaticTileType (...);
+
+class cTexMapLoader_L;
+
+/// static methods exported to lua
+/// cTexMapLoader* CreateTexMapLoader (string type,string sIndexFile,strin=
g sDataFile); for lua
+mixed cTexMapLoader_L::CreateTexMapLoader (...);
+
+/// object methods exported to lua
+mixed cTexMapLoader_L::Destroy (...);
+
+mixed cTexMapLoader_L::CreateMaterial (...);
+
+class cAnimLoader_L;
+
+/// static methods exported to lua
+mixed cAnimLoader_L::CreateAnimLoader (...);
+
+/// object methods exported to lua
+mixed cAnimLoader_L::Destroy (...);
+
+mixed cAnimLoader_L::CreateBitMask (...);
+
+mixed cAnimLoader_L::CreateMaterial (...);
+
+mixed cAnimLoader_L::GetAnimType (...);
+
+class cArtMapLoader_L;
+
+/// static methods exported to lua
+/// cArtMapLoader* CreateArtMapLoader (string type,string sIndexFile,strin=
g sDataFile); for lua
+mixed cArtMapLoader_L::CreateArtMapLoader (...);
+
+/// object methods exported to lua
+mixed cArtMapLoader_L::Destroy (...);
+
+mixed cArtMapLoader_L::CreateBitMask (...);
+
+mixed cArtMapLoader_L::CreateMaterial (...);
+
+/// int gArtMapLoader:GetCount() for lua
+mixed cArtMapLoader_L::GetCount (...);
+
+/// void gArtMapLoader:Load(id) for lua
+mixed cArtMapLoader_L::Load (...);
+
+/// iWidth,iHeight =3D gArtMapLoader:GetSize() for last chunk loaded by Lo=
ad() for lua
+mixed cArtMapLoader_L::GetSize (...);
+
+/// iX,iY =3D gArtMapLoader:SearchCursorHotspot() for last chunk loaded by=
 Load() for lua
+mixed cArtMapLoader_L::SearchCursorHotspot (...);
+
+class cStaticBlockLoader_L;
+
+/// static methods exported to lua
+/// cStaticBlockLoader* CreateStaticBlockLoader (string type,int maph,stri=
ng sIndexFile,string sDataFile); for lua
+mixed cStaticBlockLoader_L::CreateStaticBlockLoader (...);
+
+/// cStaticBlockLoader* CreateStaticBlockLoaderWithDiff (string type,int m=
aph,string sIndexFile,string sDataFile, string sDiffLookup, sDiffIndex, sDi=
ffData); for lua
+mixed cStaticBlockLoader_L::CreateStaticBlockLoaderWithDiff (...);
+
+/// object methods exported to lua
+mixed cStaticBlockLoader_L::Destroy (...);
+
+mixed cStaticBlockLoader_L::GetMapW (...);
+
+mixed cStaticBlockLoader_L::GetMapH (...);
+
+/// void gStaticBlockLoader:Load(x,y) for lua
+mixed cStaticBlockLoader_L::Load (...);
+
+/// iStaticCount =3D gStaticBlockLoader:Count() for last block loaded by L=
oad() for lua
+mixed cStaticBlockLoader_L::Count (...);
+
+/// iTileID,iX,iY,iZ,iHue =3D gStaticBlockLoader:GetStatic(i) for last blo=
ck loaded by Load() for lua
+mixed cStaticBlockLoader_L::GetStatic (...);
+
+class cGumpLoader_L;
+
+/// static methods exported to lua
+/// cGumpLoader* CreateGumpLoader (string type,string sIndexFile,string sD=
ataFile); for lua
+mixed cGumpLoader_L::CreateGumpLoader (...);
+
+/// object methods exported to lua
+mixed cGumpLoader_L::Destroy (...);
+
+mixed cGumpLoader_L::CreateBitMask (...);
+
+mixed cGumpLoader_L::CreateMaterial (...);
+
+/// void gGumpLoader:Load(id) for lua
+mixed cGumpLoader_L::Load (...);
+
+/// iWidth,iHeight =3D gGumpLoader:GetSize() for last chunk loaded by Load=
() for lua
+mixed cGumpLoader_L::GetSize (...);
+
+class cSoundLoader_L;
+
+/// static methods exported to lua
+/// cSoundLoader* CreateSoundLoader (string type,string sFile); for lua
+mixed cSoundLoader_L::CreateSoundLoader (...);
+
+/// object methods exported to lua
+mixed cSoundLoader_L::Destroy (...);
+
+mixed cSoundLoader_L::CreateSoundSource (...);
+
+class cMultiLoader_L;
+
+/// static methods exported to lua
+/// cMultiLoader* CreateMultiLoader (string type,string sIndexFile,string =
sDataFile); for lua
+mixed cMultiLoader_L::CreateMultiLoader (...);
+
+/// object methods exported to lua
+mixed cMultiLoader_L::Destroy (...);
+
+/// number of parts the multi with id has
+mixed cMultiLoader_L::CountMultiParts (...);
+
+/// read out the part of the given multi, (blocknum,x,y,z,flags)
+mixed cMultiLoader_L::GetMultiParts (...);



From no-reply at zwischenwelt.org  Fri Nov 23 22:12:12 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 21:12:12 -0000
Subject: [Iris-commit] [IRIS] r1521 - in /trunk: generate_lua_api.php
	lua_api_pseudo_code.cpp
Message-ID: <20071123211217.2BF531C182C6@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 22:12:11 2007
New Revision: 1521

Log:
improved lua doc generator

Modified:
    trunk/generate_lua_api.php
    trunk/lua_api_pseudo_code.cpp

Modified: trunk/generate_lua_api.php
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/generate_lua_api.php (original)
+++ trunk/generate_lua_api.php Fri Nov 23 22:12:11 2007
@@ -31,7 +31,7 @@
 			=

 			if (eregi("^[ \t]*---?[ \t]*(.+)",$line,$r)) { $description[] =3D $r[1]=
; continue; } // comment line
 			=

-			if (eregi('^function ([^:]+[:.])?([^ (]+)[ ]*\(([^\)]+)',$line,$r)) {
+			if (eregi('^function ([^:\)]+[:.])?([^ (]+)[ ]*\(([^\)]+)',$line,$r)) {
 				$classprefix =3D $r[1];
 				$funname =3D $r[2];
 				$params2 =3D split("[ ]*,[ ]*",$r[3]);

Modified: trunk/lua_api_pseudo_code.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua_api_pseudo_code.cpp (original)
+++ trunk/lua_api_pseudo_code.cpp Fri Nov 23 22:12:11 2007
@@ -351,6 +351,12 @@
 /// this is normally in lugre - just a bit modified - should be removed so=
metimes
 mixed	GetMeshPreviewX	(mixed meshname,mixed res,mixed angh,mixed angv,mixe=
d pixelformat,mixed r,mixed g,mixed b,mixed a) {}
 =

+mixed	GumpButtonSetOver	(mixed widget) {}
+
+mixed	GumpButtonSetNormal	(mixed widget) {}
+
+mixed	GumpButtonSetPressed	(mixed widget) {}
+
 /// creates a button with mouseover and pressed effect
 /// w,h can be left out to determine automatically
 mixed	MakeGumpButton	(mixed parent,mixed gumpid_normal,mixed gumpid_over,m=
ixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefaul=
t) {}
@@ -386,6 +392,8 @@
 =

 mixed	ShowJournalPage	(mixed pagenum) {}
 =

+mixed	DebugStacktraceFunctionName	(mixed level) {}
+
 mixed	DebugStacktraceFunctionDescr	(mixed level) {}
 =

 mixed	DebugHook_CallPrint	(mixed event) {}
@@ -405,6 +413,8 @@
 =

 /// note : according to packetguides, the order of the key-use is not impo=
rtant
 mixed	FastWalk_Init	(mixed keyarr) {}
+
+mixed	FastWalk_PushKey	(mixed key) {}
 =

 /// fulldir CAN include runflag
 mixed	SetPlayerPos	(mixed xloc,mixed yloc,mixed zloc,mixed fulldir) {}
@@ -911,6 +921,8 @@
 /// called from c
 mixed	NotifyMainWindowResized	(mixed w,mixed h) {}
 =

+mixed	GetMobileEquipmentItem	(mixed mobile,mixed layer) {}
+
 mixed	GetMobileEquipmentList	(mixed mobile) {}
 =

 mixed	GetContainerContentList	(mixed container) {}
@@ -2733,50 +2745,6 @@
 mixed	SetState	(mixed bMoving,mixed bTurning,mixed bWarMode,mixed bRunFlag=
) {}
 };
 =

-class GumpButtonSetOver (widget) widget.gfx { public:
-
-mixed	SetMaterial	(mixed widget.mat_over) {}
-};
-
-class GumpButtonSetNormal (widget) widget.gfx { public:
-
-mixed	SetMaterial	(mixed widget.mat_normal) {}
-};
-
-class GumpButtonSetPressed (widget) widget.gfx { public:
-
-mixed	SetMaterial	(mixed widget.mat_pressed) {}
-};
-
-class DebugStartFunctionLog () debug { public:
-
-static mixed	sethook	(mixed DebugHook_CallPrint,mixed "cr") {}
-};
-
-class DebugStacktraceFunctionName (level) return debug { public:
-
-static mixed	getinfo	(mixed level+1,mixed "n") {}
-};
-
-class (widget,mousebutton) dialog { public:
-
-mixed	SetSkillLevelState	(mixed skill.skillid,mixed 1) {}
-
-mixed	SetSkillLevelState	(mixed skill.skillid,mixed 2) {}
-
-mixed	SetSkillLevelState	(mixed skill.skillid,mixed 0) {}
-};
-
-class FastWalk_PushKey (key) WalkLog("FastWalk_PushKey",key) table { publi=
c:
-
-static mixed	insert	(mixed gFastwalkStack,mixed key) {}
-};
-
-class FastWalk_CountKeys () return table { public:
-
-static mixed	getn	(mixed gFastwalkStack) {}
-};
-
 class gTileFreeWalk { public:
 =

 /// ##### ##### ##### ##### ##### collision
@@ -2974,11 +2942,6 @@
 static mixed	_GumpAddTiledImage	(mixed  gump,mixed x,mixed y,mixed w,mixed=
 h,mixed id,mixed hue,mixed page ) {}
 =

 static mixed	_GumpAddTilePic	(mixed  gump,mixed x,mixed y,mixed id,mixed h=
ue,mixed page ) {}
-};
-
-class GetMobileEquipmentItem (mobile,layer) return mobile { public:
-
-mixed	GetEquipmentAtLayer	(mixed layer) {}
 };
 =

 class gMobilePrototype { public:



From no-reply at zwischenwelt.org  Fri Nov 23 22:35:44 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 21:35:44 -0000
Subject: [Iris-commit] [IRIS] r1522 - in /trunk: generate_lua_api.php
	lua_api_pseudo_code.cpp
Message-ID: <20071123213545.315E01C182C6@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 22:35:44 2007
New Revision: 1522

Log:
improved lua doc generator

Modified:
    trunk/generate_lua_api.php
    trunk/lua_api_pseudo_code.cpp

Modified: trunk/generate_lua_api.php
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/generate_lua_api.php (original)
+++ trunk/generate_lua_api.php Fri Nov 23 22:35:44 2007
@@ -2,15 +2,18 @@
 <?php
 	include("roblib.php");
 	=

+	=

 	$files_lua =3D array();
 	$files_cpp =3D array();
-	$files_lua	=3D ExecGetLines('find data/lua/ ! -type d ! -wholename "*/.sv=
n*"');
-	$files_cpp	=3D ExecGetLines('find src/		-name "*_L.cpp" ! -type d ! -whol=
ename "*/.svn*"');
-	$files_cpp2	=3D ExecGetLines('find lugre/src/	-name "*_L.cpp" ! -type d !=
 -wholename "*/.svn*"'); foreach ($files_cpp2 as $o) $files_cpp[] =3D $o;
-	$files_cpp2	=3D ExecGetLines('find src/		-name "*script*.cpp" ! -type d !=
 -wholename "*/.svn*"'); foreach ($files_cpp2 as $o) $files_cpp[] =3D $o;
-	$files_cpp2	=3D ExecGetLines('find lugre/src/	-name "*script*.cpp" ! -typ=
e d ! -wholename "*/.svn*"'); foreach ($files_cpp2 as $o) $files_cpp[] =3D =
$o;
+	$basepath =3D "";
+	$files_lua =3D array_merge($files_lua,ExecGetLines('find '.$basepath.'dat=
a/lua/	! -type d ! -wholename "*/.svn*"'));
+	$files_lua =3D array_merge($files_lua,ExecGetLines('find '.$basepath.'lug=
re/lua/	! -type d ! -wholename "*/.svn*"'));
+	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'src=
/		-name "*_L.cpp" ! -type d ! -wholename "*/.svn*"'));
+	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'lug=
re/src/	-name "*_L.cpp" ! -type d ! -wholename "*/.svn*"'));
+	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'src=
/		-name "*script*.cpp" ! -type d ! -wholename "*/.svn*"'));
+	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'lug=
re/src/	-name "*script*.cpp" ! -type d ! -wholename "*/.svn*"'));
+	=

 	//~ $files_lua =3D array("data/lua/obj/obj.mobile.lua");
-	=

 	//~ $files_cpp =3D array("lugre/src/lugre_net_L.cpp");
 	//~ $files_cpp =3D array("src/data_L.cpp");
 	=


Modified: trunk/lua_api_pseudo_code.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua_api_pseudo_code.cpp (original)
+++ trunk/lua_api_pseudo_code.cpp Fri Nov 23 22:35:44 2007
@@ -91,6 +91,40 @@
 // ##### data/lua/lib.3d.mobile.lua
 // ##### data/lua/lib.3d.dynamic.lua
 // ##### data/lua/lib.3d.walksmooth.lua
+// ##### lugre/lua/lib.preview.lua
+// ##### lugre/lua/lib.fadelines.lua
+// ##### lugre/lua/lib.edittext.lua
+// ##### lugre/lua/lib.prism.lua
+// ##### lugre/lua/lib.tooltip.lua
+// ##### lugre/lua/lib.netmessage.lua
+// ##### lugre/lua/lib.voxel.lua
+// ##### lugre/lua/lib.material.lua
+// ##### lugre/lua/lib.plugin.lua
+// ##### lugre/lua/lib.time.lua
+// ##### lugre/lua/lib.input.lua
+// ##### lugre/lua/lib.cam.lua
+// ##### lugre/lua/lib.guimaker.lua
+// ##### lugre/lua/lib.beam.lua
+// ##### lugre/lua/lib.types.lua
+// ##### lugre/lua/lib.guiutils.lua
+// ##### lugre/lua/lib.plaingui.lua
+// ##### lugre/lua/lib.primitive.lua
+// ##### lugre/lua/lib.contextmenu.lua
+// ##### lugre/lua/lugre.lua
+// ##### lugre/lua/lib.irc.lua
+// ##### lugre/lua/lib.cursor.lua
+// ##### lugre/lua/lib.util.lua
+// ##### lugre/lua/lib.gui.lua
+// ##### lugre/lua/lib.listener.lua
+// ##### lugre/lua/lib.movedialog.lua
+// ##### lugre/lua/lib.chatline.lua
+// ##### lugre/lua/lib.box.lua
+// ##### lugre/lua/lib.sound.lua
+// ##### lugre/lua/udata.lua
+// ##### lugre/lua/lib.http.lua
+// ##### lugre/lua/lib.filebrowser.lua
+// ##### lugre/lua/lib.ode.lua
+// ##### lugre/lua/lib.thread.lua
 // ##### src/data_L.cpp
 // ##### src/builder_L.cpp
 // ##### src/granny_L.cpp
@@ -1020,6 +1054,752 @@
 /// called from obj.mobile.lua
 mixed	UpdateMobileModel	(mixed mobile) {}
 =

+/// generate preview of meshes using rtt
+/// todo : cache(resolution) ? store in tmp dir ?
+/// TODO : (background options : starfield, black, certain color, some oth=
er material or texture)
+/// res (res x res) is the resulting texture resolution, must be 2^n
+/// angh,angv are the angles from which the preview is generated, defaults=
 to 30=C2=B0,45=C2=B0
+/// returns matname ? todo : better texturename ?
+mixed	GetMeshPreview	(mixed meshname,mixed res,mixed angh,mixed angv,mixed=
 pixelformat) {}
+
+/// show all lines (without) transparency
+mixed	FadeLinesUpdateAll	(mixed useAlpha) {}
+
+/// shows thg fadeline without transparency
+mixed	FadeLineShowLine	(mixed fadeline) {}
+
+mixed	AddFadeLines	(mixed text,mixed color) {}
+
+mixed	AddSingleFadeLine	(mixed text,mixed color) {}
+
+mixed	DestroyFadeLine	(mixed fadeline) {}
+
+mixed	PushUpFadeLine	(mixed fadeline) {}
+
+mixed	StepFadeLine	(mixed fadeline) {}
+
+mixed	ActivateEditText	(mixed widget) {}
+
+mixed	DeactivateEditText	(mixed widget) {}
+
+/// called by lib.gui.lua on keydown
+/// returns true if the event was consumed/handled
+mixed	EditTextKeyDown	(mixed key,mixed char) {}
+
+mixed	CreatePlainEditText	(mixed parent,mixed x,mixed y,mixed w,mixed h,mi=
xed textcol,mixed bPassWordStyle,mixed stylesetname) {}
+
+/// utils for mousepicking and mesh construction of prisms
+/// segments=3D23,xrad=3D1,yrad=3D1,startang=3D0,endang=3Dpi
+/// returns zero-based table with segments+1 entries
+mixed	GenerateEllipse	(mixed segments,mixed xrad,mixed yrad,mixed startang=
) {}
+
+/// for n<2 returns zero-based-array of points where element at index 0 is=
 the middle
+/// for n>=3D2 returns x1,y1,z1, x2,y2,z2, x3,y3,z3, x4,y4,z4
+/// circledata is optional to increase performance by only generating it o=
nce
+mixed	GetNGonSideCoords	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
+
+/// returns nx,ny,nz
+mixed	GetNGonSideNormal	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
+
+mixed	GetNGonSideMiddle	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
+
+/// only works correctly for even n
+mixed	GetNGonOppositeSide	(mixed sidenum,mixed n) {}
+
+/// sides is an array containing sidenumbers to be drawn, defaults to all
+/// params gfx,n,h=3D1,rad1=3D1,rad2=3D1
+mixed	GfxSetNGonPrism	(mixed gfx,mixed n,mixed h,mixed rad1,mixed rad2) {}
+
+mixed	RayPickFace4	(mixed  x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
,mixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4,mixed x,mixed y,mixe=
d z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+mixed	RayPickNGonSide	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed rad2=
,mixed x,mixed y,mixed z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mix=
ed rvz,mixed circledata) {}
+
+/// 0,0,0 is top,left,front corner
+/// returns minside,dist , nil if not hit
+mixed	RayPickNGon	(mixed n,mixed h,mixed rad1,mixed rad2,mixed x,mixed y,m=
ixed z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+/// call this whenever the thing under the mouse changes
+mixed	SetToolTipSubject	(mixed subject) {}
+
+/// don't call this directly, called from ToolTipStep
+/// on_tooltip
+mixed	_StartToolTip	(mixed subject) {}
+
+/// creates a simple dialog just displaying text, and ignoring all mouse-o=
ver detection, can be used by on_tooltip
+mixed	CreatePlainToolTip	(mixed x,mixed y,mixed text,mixed charh,mixed bac=
kcol,mixed textcol) {}
+
+mixed	CreatePlainWidgetToolTip	(mixed widget,mixed text,mixed charh,mixed =
backcol,mixed textcol) {}
+
+mixed	RegisterNetMessageType	(mixed name,mixed paramformat,mixed forcedid)=
 {}
+
+/// use FALSE instead of NIL here, nil in the middle confuses the variable=
 argument syntax
+mixed	RegisterNetMessageFormatWrapper	(mixed letter_custom,mixed letter_re=
al,mixed custom2real,mixed real2custom) {}
+
+/// formattet pop
+/// paramformat is something like "iiifffffff"
+/// extracts data from fifo, and returns it as an array
+/// b byte(uint8)
+/// i int(uint32)
+/// f float(4 byte)
+/// s string(len_uint32,text_ascii)
+mixed	FPop	(mixed fifo,mixed paramformat) {}
+
+/// see also FPop
+mixed	FPush	(mixed fifo,mixed paramformat,mixed ...) {}
+
+/// WARNING ! returns nil for variable message length, e.g. string..., see=
 IsNetMessageComplete for those
+mixed	CalcNetMessageParamLength	(mixed paramformat) {}
+
+/// true if string or vararg or other data with not fixed length is contai=
ned
+mixed	IsNetMessageVariableLength	(mixed paramformat) {}
+
+mixed	IsNetMessageComplete	(mixed fifo,mixed paramformat,mixed startoffset=
) {}
+
+/// msgtype is an id like kNetMessage_Chat
+mixed	SendNetMessage	(mixed con,mixed msgtype,mixed ...) {}
+
+/// pops all complete messages from the fifo and calls callback for each o=
f them
+/// fifo should be individual for this connection, in case half messages a=
rrive
+/// usually mycon:Pop(fifo) is called right before this
+/// callback(msgtype,args...)
+mixed	RecvNetMessages	(mixed fifo,mixed callback) {}
+
+/// obsolete, or at least unused
+/// voxel-like mesh analysis, used for collision/interesection detection i=
n shipeditor
+/// fine grids generated from raw geometry
+/// superseeded by shipvoxelgrid.lua
+/// TODO : 2d voxel : 1,3, 1,5, 3,1, 3,7, 5,1, 5,7, 7,3, 7,5, *e , e=3D1/8=
 -- a circle of points that is not hit by lines on a 1/2 grid
+/// returns 3 dimensional array, zero based, [xi][yi][zi] =3D 0 means outs=
ide, =3D 1 means inside
+/// gfx must start at 0,0,0 and not go into negative coords
+/// WARNING ! only works on simple (convex) forms
+mixed	CalcVoxelGrid	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed gridsize) =
{}
+
+/// calls fun(voxelstate,x,y,z) with every voxel
+/// the process is aborted and returns the first value of what fun returns=
 if it is something other than nil
+mixed	ForEachVoxel	(mixed voxelgrid,mixed fun) {}
+
+/// returns a new voxel grid
+/// sx,sy,sz should be integers (e.g. mirrors, or scale by two)
+/// qw,qx,qy,qz should be an orthogonal rotation (e.g. 90 degrees to the r=
ight,...)
+mixed	TransformVoxelGrid	(mixed voxelgrid,mixed px,mixed py,mixed pz,mixed=
 qw,mixed qx,mixed qy,mixed qz,mixed sx,mixed sy,mixed sz,mixed gridsize) {}
+
+/// compares two voxel grids and returns true if they intersect
+mixed	VoxelGridIntersection	(mixed voxelgrid1,mixed voxelgrid2) {}
+
+/// creates and returns returns array of (green) billboard gfx for every v=
oxel "inside"
+mixed	DrawVoxelGrid	(mixed voxelgrid,mixed parentgfx,mixed gridsize) {}
+
+/// ray must be padded with gridsize at the start and at the end to avoid =
rounding errors
+/// returns voxel-cells along ray, arr[zi] (where 0 <=3D zi < numcells) (2=
 means border, 0 means outside, 1 means inside)
+mixed	GfxVoxelLine	(mixed gfx,mixed gridsize,mixed numcells,mixed rx,mixed=
 ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+/// some material utils
+mixed	GetBillBoardMat	(mixed texpath,mixed bAdditive) {}
+
+mixed	GetTexturedMat	(mixed base,mixed texpath) {}
+
+mixed	GetPlainTextureMat	(mixed texpath,mixed bHasAlpha) {}
+
+mixed	GetPlainColourMat	(mixed r,mixed g,mixed b,mixed a) {}
+
+mixed	GetHuedMat	(mixed basematname,mixed ar,mixed ag,mixed ab,mixed dr,mi=
xed dg,mixed db,mixed da) {}
+
+/// todo : place me in meshutils or something like that ?
+mixed	HueMeshEntity	(mixed gfx,mixed ar,mixed ag,mixed ab,mixed dr,mixed d=
g,mixed db,mixed da) {}
+
+/// handles plugin system
+/// lists all lua files in pluginDir and executes them
+mixed	LoadPlugins	(mixed pluginDir) {}
+
+/// stepper is destroyed if it returns something that evaluetes to true
+/// can savely be called registered during iteration
+mixed	RegisterStepper	(mixed fun,mixed param) {}
+
+/// calls the function fun after timout ms
+mixed	InvokeLater	(mixed timeout,mixed fun) {}
+
+mixed	BindUp	(mixed keyname,mixed fun,mixed arg) {}
+
+mixed	BindDown	(mixed keyname,mixed fun,mixed arg) {}
+
+mixed	BindUpDown	(mixed keyname,mixed upfun,mixed uparg,mixed downfun,mixe=
d downarg) {}
+
+mixed	BindUpDown	(mixed keyname,mixed downfun,mixed downarg,mixed upfun,mi=
xed uparg) {}
+
+mixed	Bind	(mixed keyname,mixed fun) {}
+
+mixed	UnBindArr	(mixed arr) {}
+
+mixed	UnBind	(mixed keyname) {}
+
+mixed	LoadBindSet	(mixed bindset) {}
+
+mixed	MouseEvent	(mixed eventname) {}
+
+/// called from c
+mixed	KeyDown	(mixed key,mixed char) {}
+
+/// called from c
+mixed	KeyUp	(mixed key) {}
+
+mixed	CamSetZoomLimit	(mixed minzoom,mixed maxzoom) {}
+
+mixed	CamChangeZoom	(mixed add) {}
+
+mixed	TurnCam	(mixed tw,mixed tx,mixed ty,mixed tz) {}
+
+/// get a normalizes vector with the view direction of the given camerea
+/// return x,y,z
+mixed	CamViewDirection	(mixed cam) {}
+
+/// return turn quaternion : w,x,y,z
+mixed	CamGetMouseTurn	(mixed speedfactor) {}
+
+/// +y is up ?
+mixed	CamSetFromTwoAngles	(mixed cam,mixed roth,mixed rotv) {}
+
+/// handles a turntable like camera that keeps upright
+mixed	StepTableCam	(mixed cam,mixed bMoveCam,mixed speedfactor) {}
+
+/// enables third person view by keeping the cam at a distance to origin
+mixed	StepThirdPersonCam	(mixed cam,mixed dist,mixed ox,mixed oy,mixed oz)=
 {}
+
+/// [[
+/// h,v cam, todo : 2 variants
+mixed	SetMainMenuCam	(mixed roth,mixed rotv) {}
+
+mixed	WrapWidget	(mixed udata) {}
+
+/// returns left,top,width,height in ABSOLUTE(derived) coords
+mixed	WidgetGetLTWH	(mixed widget) {}
+
+/// returns left,top,right,bottom in ABSOLUTE coords
+mixed	WidgetGetLTRB	(mixed widget) {}
+
+/// returns left,top,right,bottom in ABSOLUTE(derived) coords
+/// arr must be an array containing the widgets to be considered
+mixed	WidgetArrGetLTRB	(mixed arr) {}
+
+/// returns left,top,right,bottom in ABSOLUTE(derived) coords
+mixed	DialogGetLTRB	(mixed dialog) {}
+
+/// returns left,top,width,height in ABSOLUTE(derived) coords
+/// arr must be an array containing the widgets to be considered
+mixed	WidgetArrGetLTWH	(mixed arr) {}
+
+/// returns left,top,width,height in ABSOLUTE(derived) coords
+mixed	DialogGetLTWH	(mixed dialog) {}
+
+/// self =3D widget
+mixed	WidgetHelper_Destroy	(mixed self) {}
+
+/// self =3D parent =3D widget
+mixed	WidgetHelper_CreateChild	(mixed self) {}
+
+/// self =3D parent =3D dialog
+mixed	WidgetHelper_CreateWidget	(mixed dialog) {}
+
+mixed	WidgetHelper_DestroyDialog	(mixed dialog) {}
+
+/// prepares a dialog for a resizing function, childs added after this cal=
l will not be considered
+/// TODO : won't work on nontrivial hierarchies
+mixed	DialogPrepareResize	(mixed dialog) {}
+
+/// set dialog size to dialog.resize_min_total_x,y
+mixed	DialogResizeMinimize	(mixed dialog) {}
+
+/// adds dx,dy to dialog size
+mixed	DialogResizeDelta	(mixed dialog,mixed dx,mixed dy) {}
+
+/// coordinates and sizes are in pixels
+mixed	WidgetHelper_UpdateClip	(mixed self,mixed L,mixed T,mixed R,mixed B)=
 {}
+
+/// coordinates and sizes are in pixels
+mixed	WidgetHelper_SetPartUVTile	(mixed self,mixed part,mixed texturesize,=
mixed x,mixed y,mixed cx,mixed cy) {}
+
+/// cx1+cx2+cx3 is total cx of the 3x3 matrix, coordinates and sizes are i=
n pixels
+mixed	WidgetHelper_SetUVBorderMatrix	(mixed self,mixed texturesize,mixed x=
,mixed y,mixed cx1,mixed cy1,mixed cx2,mixed cy2,mixed cx3,mixed cy3) {}
+
+/// TODO: transparency doesn't work right now - check why!
+mixed	SetDialogAlpha	(mixed dialog,mixed a) {}
+
+/// utils for working with beam
+mixed	MakeColourfulBeamCube	(mixed e,mixed h) {}
+
+mixed	SetBeamBox	(mixed gfx,mixed h,mixed cx,mixed cy,mixed cz,mixed r,mix=
ed g,mixed b,mixed a) {}
+
+mixed	BeamSingleLine	(mixed gfx,mixed x1,mixed y1,mixed z1,mixed x2,mixed =
y2,mixed z2,mixed h1,mixed h2,mixed h3,mixed h4,mixed u1,mixed u2,mixed u3,=
mixed u4,mixed v1,mixed v2,mixed v3,mixed v4,mixed r1,mixed g1,mixed b1,mix=
ed a1,mixed r2,mixed g2,mixed b2,mixed a2) {}
+
+mixed	BeamSingleLineStep	(mixed gfx,mixed ...) {}
+
+/// contains some utils used for gui
+/// see also lib.gui.lua and lib.guimaker.lua
+mixed	SetLogoVisible	(mixed bVisible) {}
+
+/// oldname =3D Client_SetBottomLine
+/// text-line at the bottom of screen (readonly, used for mousepicking deb=
ug text and for info during loading)
+mixed	SetBottomLine	(mixed text,mixed stylesetname,mixed stylename) {}
+
+mixed	DisplayFPS	(mixed fps,mixed stylename) {}
+
+/// common gui dialogs
+/// currently just a simple message box
+mixed	PlainMessageBox	(mixed text,mixed stylename_window,mixed stylename_b=
utton) {}
+
+mixed	HTMLMessageBox	(mixed text) {}
+
+/// TODO kGeomQTAdapter : quadratic base to triangle top, one side cut, 1+=
2 quads, 1+3 tris
+/// the facenum returned from gfx:RayPick,... is zero based, but can be us=
ed to determine the "side"
+/// returns one-based index in geom
+mixed	GeomFaceNumToSideNum	(mixed geom,mixed facenum) {}
+
+/// returns array of vertices, sidenum is one-based index
+mixed	GeomGetSide	(mixed geom,mixed sidenum) {}
+
+/// geomside =3D geom[one_based_index]
+mixed	GeomSideIsQuad	(mixed geomside) {}
+
+mixed	GeomSideGetIndexCount	(mixed geomside) {}
+
+mixed	GeomSideGetVertexCount	(mixed geomside) {}
+
+/// returns nx,ny,nz
+mixed	GeomSideGetNormal	(mixed geomside) {}
+
+/// checks if a side is parallel to a border of an axis aligned box
+mixed	GeomSideIsAxisAligned	(mixed geomside) {}
+
+mixed	GeomGetAxisAlignedSides	(mixed geom) {}
+
+/// returns w,h
+mixed	GeomSideCalcDim	(mixed geomside) {}
+
+/// returns surface area
+mixed	GeomSideCalcArea	(mixed geomside) {}
+
+/// changes the vertex order so that culling and normals are inverted
+mixed	GeomInvert	(mixed geom) {}
+
+mixed	MakeSphereMesh	(mixed steps_h,mixed steps_v,mixed cx,mixed cy,mixed =
cz,mixed r,mixed g,mixed b) {}
+
+/// creates a SimpleRenderable , a cylinder arount the z axis from 0,0,0 t=
o 0,0,h with radius r
+mixed	GfxSetCylinderZ	(mixed gfx,mixed r,mixed h,mixed steps) {}
+
+/// creates a SimpleRenderable
+mixed	GfxSetSphere	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed steps_h,mix=
ed steps_v) {}
+
+/// creates a SimpleRenderable
+mixed	GfxSetGeom	(mixed gfx,mixed geom,mixed texcoords,mixed cx,mixed cy,m=
ixed cz,mixed bDynamic) {}
+
+/// used as callback
+mixed	ContextMenuItemEnterButton	(mixed widget) {}
+
+/// used as callback
+mixed	ContextMenuItemSelect	(mixed widget) {}
+
+/// find the root menu if contextmenudialog is a submenu
+mixed	ContextMenu_GetRoot	(mixed contextmenudialog) {}
+
+/// closes all submenus
+mixed	ContextMenu_CloseActiveSubmenu	(mixed contextmenudialog) {}
+
+/// closes the menu and all submenus
+mixed	CloseContextMenu	(mixed contextmenudialog) {}
+
+/// creates a simple menu bar containing contextmenus (static or dynamic)
+/// menubardata : { {label,menudata}, {label,menudata}, {label,function() =
returns menudata end, ...}
+mixed	ShowMenuBar	(mixed menubardata,mixed x,mixed y,mixed stylesetname) {}
+
+/// opens a submenu in the menubar
+mixed	MenuBarOpenMenu	(mixed widget,mixed menudata,mixed stylesetname) {}
+
+mixed	ContextMenu_CloseOnOutside	(mixed contextmenudialog) {}
+
+mixed	ShowContextMenu	(mixed menudata,mixed x,mixed y,mixed stylesetname) =
{}
+
+mixed	lugre_include_libs	(mixed basepath) {}
+
+/// test if a name is following the convention for global variables and co=
nstants (e.g. giMyInt or gSomething or kBlub)
+mixed	LugreIsGlobalVarName	(mixed name) {}
+
+/// opens a connection to an irc server and returns the object handling th=
is connection
+mixed	CreateIRCConnection	(mixed host,mixed port,mixed nick,mixed password=
) {}
+
+/// [[
+/// http://tools.ietf.org/html/rfc1945
+mixed	HTTPGetEx	(mixed host,mixed port,mixed file) {}
+
+mixed	SetCursor	(mixed matname,mixed w,mixed h,mixed offx,mixed offy) {}
+
+mixed	SetCursorBaseOffset	(mixed offx,mixed offy) {}
+
+mixed	SetCursorOffset	(mixed offx,mixed offy) {}
+
+/// function printf(...) io.write(string.format("%d:",Client_GetTicks())..=
string.format(unpack(arg))) end
+/// protected call string fromatting, errors don't crash the program
+mixed	pformat	(mixed ...) {}
+
+mixed	printf	(mixed ...) {}
+
+mixed	sprintf	(mixed ...) {}
+
+mixed	beginswith	(mixed s,mixed begin) {}
+
+mixed	sign	(mixed x) {}
+
+/// executes command and returns output as array or lines with newline cha=
r removed (not tested on win)
+mixed	ExecGetLines	(mixed cmd) {}
+
+/// emulates lua 5.1 unpack behavior
+mixed	unpackex	(mixed arr,mixed i,mixed j) {}
+
+/// old : cOgreWrapper::GetSingleton().GetViewportWidth() , GetViewportHei=
ght : mViewport->getActualWidth()
+/// don't call before ogre is initialized !
+mixed	GetRenderingDistanceForPixelSize	(mixed r,mixed maxpixelsize,mixed v=
iewport,mixed cam) {}
+
+/// get extended error info
+mixed	lugrepcall	(mixed fun,mixed ...) {}
+
+mixed	printdebug	(mixed category,mixed ...) {}
+
+mixed	TestBit	(mixed mask1,mixed mask2) {}
+
+mixed	GetRandomArrayElement	(mixed array) {}
+
+/// returns key,value
+mixed	GetRandomTableElement	(mixed t) {}
+
+/// writes data to cachearr[cachename] and returns data
+mixed	WriteToCache	(mixed cachearr,mixed cachename,mixed data) {}
+
+mixed	TrimNewLines	(mixed line) {}
+
+mixed	round	(mixed x) {}
+
+mixed	roundmultiple	(mixed ...) {}
+
+/// draw a face with 4 edges and hard normal (calculated using crossproduc=
t)
+/// params: gfx,vc, pos:lt, rt, lb, rb, texcoords:lt, rt, lb, rb (texcoord=
s have default values [0,1])
+/// returns vc+4 for vc =3D DrawQuad(gfx,vc,....)
+mixed	DrawQuad	(mixed gfx,mixed vc,mixed x1,mixed y1,mixed z1,mixed x2,mix=
ed y2,mixed z2,mixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4,mixed =
u1,mixed v1,mixed u2,mixed v2,mixed u3,mixed v3,mixed u4,mixed v4) {}
+
+/// draw a triangle with hard normal (calculated using crossproduct)
+/// params: gfx,vc, pos:a,b,c texcoords:a,b,c
+/// returns vc+3 for vc =3D DrawTri(gfx,vc,....)
+mixed	DrawTri	(mixed gfx,mixed vc,mixed x1,mixed y1,mixed z1,mixed x2,mixe=
d y2,mixed z2,mixed x3,mixed y3,mixed z3,mixed u1,mixed v1,mixed u2,mixed v=
2,mixed u3,mixed v3) {}
+
+/// returns x1,y1,z1, x2,y2,z2, x3,y3,z3
+/// warning, rotation not corrected here, use gfx:GetDerivedOrientation() =
for that
+mixed	FaceGetVertices	(mixed gfx,mixed facenum) {}
+
+/// returns mx,my,mz
+mixed	FaceGetMiddle	(mixed gfx,mixed facenum) {}
+
+/// returns nx,ny,nz
+mixed	FaceGetNormal	(mixed gfx,mixed facenum) {}
+
+/// todo : place me in meshutils or something like that ?
+/// calculates the scale factor to get the mesh to have a given target rad=
ius
+mixed	CalcMeshScaleToRad	(mixed meshname,mixed targetrad) {}
+
+/// adds all fields from second to first, but does not overwrite fields th=
at are already set
+mixed	ArrayMergeToFirst	(mixed first,mixed second) {}
+
+/// overwrites fields in first by fields in second
+mixed	ArrayOverwrite	(mixed first,mixed second) {}
+
+/// shallow copy
+mixed	CopyArray	(mixed arr) {}
+
+mixed	countarr	(mixed arr) {}
+
+mixed	isempty	(mixed arr) {}
+
+mixed	notempty	(mixed arr) {}
+
+mixed	arrfirst	(mixed arr) {}
+
+/// creates an array with n entries equal to value (defaults to one-based =
indices)
+mixed	ArrayRepeat	(mixed value,mixed n,mixed startindex) {}
+
+mixed	MemProfile	(mixed part) {}
+
+mixed	sqdist3	(mixed ax,mixed ay,mixed az,mixed bx,mixed by,mixed bz) {}
+
+mixed	dist3	(mixed ax,mixed ay,mixed az,mixed bx,mixed by,mixed bz) {}
+
+mixed	dist2	(mixed ax,mixed ay,mixed bx,mixed by) {}
+
+/// returns true if the needle(value) is in the haystack-array
+mixed	in_array	(mixed needle,mixed haystack) {}
+
+/// basename("\\some\path\filename.tga") =3D "filename.tga"
+mixed	basename	(mixed path) {}
+
+mixed	fileextension	(mixed path) {}
+
+/// returns a string representation of the variable, mostly used for array=
s : {field1=3Dvalue1,field2=3Dvalue2,...}
+mixed	vardump	(mixed x,mixed aux) {}
+
+mixed	arrdump	(mixed arr) {}
+
+/// returns a (sorted) list of the keys used in arr
+mixed	keys	(mixed arr) {}
+
+/// returns a copy of the array, sorted by key, original keys are lost, ne=
w array is indexed one-based
+mixed	ksort	(mixed arr) {}
+
+/// returns a string representation of the variable (recursive), mostly us=
ed for arrays : {field1=3Dvalue1,field2=3Dvalue2,...}
+mixed	vardump_rec	(mixed x,mixed aux,mixed maxdepth) {}
+
+/// vardump2 : no hexadecimal display of numbers
+mixed	vardump2	(mixed x) {}
+
+/// non recursive ! would result in infinite recursion for double linked t=
hings (dialog.uoContainer.dialog.uoContainer...)
+mixed	vardump_aux	(mixed x) {}
+
+/// returns r,g,b in [0,1] each from html like hex-colors "b16a00" or "0xb=
16a00" or "#b16a00"
+mixed	hex2rgb	(mixed hex) {}
+
+mixed	hex2num	(mixed s) {}
+
+/// interprets a binary string (e.g. from file:read(number)) as integer
+mixed	bin2num	(mixed bin) {}
+
+mixed	robmod	(mixed a,mixed b) {}
+
+/// changes size to 2^n where n>=3D4
+mixed	texsize	(mixed i) {}
+
+/// Concat the contents of the parameter list,
+/// separated by the string delimiter (just like in perl)
+/// example: strjoin(", ", {"Anna", "Bob", "Charlie", "Dolores"})
+mixed	strjoin	(mixed delimiter,mixed list) {}
+
+/// Split text into a list consisting of the strings in text,
+/// separated by strings matching delimiter (which may be a pattern).
+/// example: strsplit(",%s*", "Anna, Bob, Charlie,Dolores")
+mixed	strsplit	(mixed delimiter,mixed text) {}
+
+/// returns a new string without the non visible chars at the beginning an=
d end
+mixed	trim	(mixed s,mixed pattern) {}
+
+/// returns x,y,z
+mixed	GetRandomPositionAtDist	(mixed dist,mixed x,mixed y,mixed z) {}
+
+mixed	dot2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
+
+mixed	add2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
+
+mixed	sub2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
+
+mixed	sqlen2	(mixed x,mixed y) {}
+
+mixed	len2	(mixed x,mixed y) {}
+
+mixed	scale2	(mixed x,mixed y,mixed s) {}
+
+mixed	norm2	(mixed x,mixed y) {}
+
+mixed	tolen2	(mixed x,mixed y,mixed l) {}
+
+/// returns qw,qx,qy,qz , input comma seperated list QuaternionFromString(=
"x:90,y:90,z:30")
+mixed	QuaternionFromString	(mixed txt) {}
+
+mixed	BBoxIntersectPoint	(mixed x,mixed y,mixed z,mixed minx,mixed miny,mi=
xed minz,mixed maxx,mixed maxy,mixed maxz) {}
+
+/// returns x,y,z (unit-length), dir [0,5] means {x,y,z,-x,-y,-z}
+mixed	DirToVector	(mixed dir) {}
+
+/// returns dir in [0,5]
+/// only works on normalised vectors that are very close to being aligned =
to an axis
+mixed	VectorToDir	(mixed x,mixed y,mixed z) {}
+
+/// gets the opposite direction
+mixed	InverseDir	(mixed a) {}
+
+/// rotation around axis VectorToDir(axisdir) with ang =3D ang90 * 90 degr=
ees
+mixed	GetRot90	(mixed ang90,mixed axisdir) {}
+
+/// returns mx,my,mz, e.g. (-1,1,1) for (1,0,0) , normal must be ortho
+mixed	AxisAlignedNormalToMirror	(mixed nx,mixed ny,mixed nz) {}
+
+mixed	ScaleToMirror	(mixed sx,mixed sy,mixed sz) {}
+
+/// mirror around origin, defaults to 0,0,0
+/// warning! beware of rounding errors due to addition and substraction
+/// e.g. ox,oy,oz should be rounded if you are working on a grid
+mixed	MirrorPoint	(mixed x,mixed y,mixed z,mixed mx,mixed my,mixed mz,mixe=
d ox,mixed oy,mixed oz) {}
+
+/// returns x1,y1,z1, x2,y2,z2, corrected after mirroring so that 1:min 2:=
max
+mixed	CorrectBounds	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
) {}
+
+/// returns true if normal is nearly axisaligned
+mixed	NormalIsAxisAligned	(mixed nx,mixed ny,mixed nz) {}
+
+/// returns x,y,z after applying rotation and mirror
+mixed	ApplyMirRotCombo	(mixed x,mixed y,mixed z,mixed qw,mixed qx,mixed qy=
,mixed qz,mixed mx,mixed my,mixed mz) {}
+
+/// returns "012" or something like that, the numbers have the same meanin=
g as dir in DirToVector
+mixed	GetMirRotComboName	(mixed qw,mixed qx,mixed qy,mixed qz,mixed mx,mix=
ed my,mixed mz) {}
+
+/// returns true if the file exists else false
+mixed	file_exists	(mixed filename) {}
+
+mixed	Clamp	(mixed x,mixed v1,mixed v2) {}
+
+mixed	GUI_TriggerWidgetCallback	(mixed widget,mixed callback_name,mixed di=
alogparam,mixed ...) {}
+
+mixed	GUI_TriggerWidgetCallback_BackwardComp	(mixed widget,mixed callback_=
name,mixed dialogparam,mixed ...) {}
+
+/// if the parameter widget is nil, the gLastMouseDownWidget is used
+/// called from lib.input.lua, eventname is one of
+/// mouse_left_down,mouse_left_up
+/// mouse_right_down,mouse_right_up
+/// mouse_left_click,mouse_left_click_double,mouse_left_click_single,
+/// mouse_left_drag_start,mouse_left_drag_step,mouse_left_drag_stop
+/// called from GUIStep, eventname is one of
+/// mouse_enter,mouse_leave
+/// generates button_click event from mouse_left_click when the mouse is s=
till inside gLastMouseDownWidget
+mixed	GUIEvent	(mixed sEventName,mixed widget) {}
+
+/// returns true if the event was consumed/handled
+mixed	GuiKeyDown	(mixed key,mixed char) {}
+
+mixed	RegisterListener	(mixed eventname,mixed listenerfunc) {}
+
+mixed	UnregisterListener	(mixed eventname,mixed listenerfunc) {}
+
+/// all additional arguments are passed to the callback
+/// callback can return true if it wants to be removed
+mixed	NotifyListener	(mixed eventname,mixed ...) {}
+
+/// oldname : HistoryUpDown
+mixed	ChatLine_HistoryUpDown	(mixed x) {}
+
+/// returns x1,y1,z1, x2,y2,z2, x3,y3,z3, x4,y4,z4
+mixed	GetBoxSideCoords	(mixed sidenum,mixed cx,mixed cy,mixed cz) {}
+
+/// returns nx,ny,nz
+mixed	GetBoxSideNormal	(mixed sidenum) {}
+
+mixed	DrawBoxSide	(mixed sidenum,mixed gfx,mixed cx,mixed cy,mixed cz,mixe=
d vc,mixed texcoords) {}
+
+/// sides is an array containing sidenumbers to be drawn, defaults to all
+/// param sides defaults to {0,1,2,3,4,5} =3D all sides
+/// param texcoords defaults to { {0,0, 0,1, 1,0, 1,1} repeated 6 times }
+/// param texcoords is one based
+mixed	GfxSetBox	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed sides,mixed te=
xcoords) {}
+
+/// 0,0,0 is top,left,front corner
+mixed	RayPickAABoxSide	(mixed sidenum,mixed x,mixed y,mixed z,mixed cx,mix=
ed cy,mixed cz,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+/// 0,0,0 is top,left,front corner
+/// returns minside,dist , nil if not hit
+mixed	RayPickAABox	(mixed x,mixed y,mixed z,mixed cx,mixed cy,mixed cz,mix=
ed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+mixed	SoundInit	(mixed name,mixed frequency) {}
+
+mixed	SoundSetListenerPosition	(mixed x,mixed y,mixed z) {}
+
+/// just adds a sound effect to the global effect list
+mixed	AddSound	(mixed effect) {}
+
+/// removes a sound by table key
+mixed	RemoveSound	(mixed effectkey) {}
+
+mixed	SoundPlayOmniEffect	(mixed file) {}
+
+mixed	SoundPlayEffect	(mixed x,mixed y,mixed z,mixed file) {}
+
+mixed	SoundPlayMusic	(mixed file) {}
+
+/// called by c when registering a udata type
+mixed	RegisterUDataType	(mixed name,mixed metatable) {}
+
+/// called by c after creating a udata
+mixed	WrapUData	(mixed myudata) {}
+
+/// instance must be the udata itself, as it should be possible to call my=
instance:MethodFromC(param2,..) which expects a udata as implicit param
+/// or rewrite all functions taking udata as one of their parameters to do=
 a lookup for key "udata" in case they get an array
+/// instance can be used as array
+/// instance can have luaclass
+/// instance created via WrapUData() (called automatically by luabind.h : =
CreateUData()
+/// udata has metatable udatatype (not changeable from lua)
+/// udatatype has methods
+/// udatatype get and set functions to access c membervars
+/// NO : store something in the udata besides a smartpointer ? cannot stor=
e lua types =3D(
+/// YES : checkudata in luabind.h anpassen, so dass es entweder udata dire=
kt oder array-feld mit titel udata nimmt
+/// getter, first looks in instance, if nothing is found there methods.Get=
 is used
+mixed	UData_index	(mixed myinstance,mixed key) {}
+
+/// setter, also for setting variables with set. if the vars don't exist, =
use shadow
+/// but if they are readonly print an error
+mixed	UData_newindex	(mixed myinstance,mixed key,mixed value) {}
+
+mixed	URLEncodeChar	(mixed c) {}
+
+mixed	URLEncode	(mixed s) {}
+
+mixed	FIFO_PushPlainText	(mixed fifo,mixed s) {}
+
+mixed	URLEncodeArr	(mixed arr) {}
+
+/// search first double-newline and return everything after that
+mixed	HTTP_GetResponseContent	(mixed response) {}
+
+mixed	HTTP_MakeRequest	(mixed sHost,mixed sPath) {}
+
+/// http://tools.ietf.org/html/rfc1945
+/// if bIgnoreReturnForSpeed is true, then it returns without waiting for =
an answer
+/// this version is blocking, see also Threaded_HTTPRequest in lib.thread.=
lua for an asynchronous version
+mixed	HTTPGetEx	(mixed sHost,mixed iPort,mixed sPath,mixed bIgnoreReturnFo=
rSpeed) {}
+
+/// load/save dialogs that can be used to browse the filesystem
+mixed	OpenOverwriteConfirmDialog	(mixed path,mixed completionfunc) {}
+
+/// removes ./ and ../ without modifying the meaning
+mixed	ShortPath	(mixed path) {}
+
+mixed	FileBrowse_GetStartDir	(mixed default_startdir) {}
+
+mixed	FileBrowse_SetStartDir	(mixed default_startdir,mixed dir) {}
+
+mixed	OpenFileBrowseDialog	(mixed title,mixed buttontext,mixed default_sta=
rtdir,mixed defaultfilename,mixed completionfunc,mixed folderpath) {}
+
+mixed	FileBrowse_Load	(mixed title,mixed default_startdir,mixed loadfun) {}
+
+mixed	FileBrowse_Save	(mixed title,mixed default_startdir,mixed default_na=
me,mixed savefun) {}
+
+mixed	InitOde	(mixed secondsByStep) {}
+
+/// a nice interface for threaded ops
+/// see also lugre_thread.cpp
+/// see also lib.http.lua
+/// callback(fifo,bError) is called once when the thread is finished, the =
fifo is already filled then
+/// creates a fifo for loading to and passes it to the callback (which is =
then responsible for the destruction)
+mixed	Threaded_LoadFullFileToFIFO	(mixed sFilePath,mixed callback) {}
+
+/// callback(fifo,bError) is called once when the thread is finished, the =
fifo is already filled then
+/// creates a fifo for loading to and passes it to the callback (which is =
then responsible for the destruction)
+mixed	Threaded_LoadFileToFIFO	(mixed sFilePath,mixed iStart,mixed iLength,=
mixed callback) {}
+
+/// see also HTTPGetEx
+/// callback(answertext,bError) : answer header is dropped, 404 is not det=
ectable, just results in an empty answertext
+mixed	Threaded_HTTPRequest	(mixed sHost,mixed iPort,mixed sPath,mixed bIgn=
oreReturnForSpeed,mixed callback) {}
+
+/// ##### ##### ##### ##### ##### LOW LEVEL functions, use with caution
+/// thread_netr CreateThread_NetRequest (sHost,iPort,fifo_SendData=3Dnil,f=
ifo_pAnswerBuffer=3Dnil)
+/// thread_loadf CreateThread_LoadFile (sFilePath,fifo_answerbuffer,iStart=
=3D0,iLength=3D-1)
+/// callback(bError) is called once when the thread is finished
+/// fifo_SendData is used by the thread, DO NOT USE OR RELEASE IT UNTIL TH=
E THREAD IS FINISHED
+/// fifo_AnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTI=
L THE THREAD IS FINISHED
+mixed	Threaded_NetRequest	(mixed sHost,mixed iPort,mixed fifo_SendData,mix=
ed fifo_AnswerBuffer,mixed callback) {}
+
+/// callback(bError) is called once when the thread is finished
+/// fifo_AnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTI=
L THE THREAD IS FINISHED
+mixed	Threaded_LoadFile	(mixed sFilePath,mixed fifo_AnswerBuffer,mixed iSt=
art,mixed iLength,mixed callback) {}
+
 	/// string SaveTextureToFile (sTexName,sFilePath)
 	mixed SaveTextureToFile (...) {}
 =

@@ -2581,6 +3361,8 @@
 =

 /// ***** ***** ***** ***** ***** CreateContainer
 static mixed	_CreateWidget_Container	(mixed parent,mixed x,mixed y) {}
+
+static mixed	StartMoveDialog	(mixed widget) {}
 };
 =

 class Renderer3D { public:
@@ -2987,6 +3769,159 @@
 mixed	AddContentObject	(mixed object) {}
 };
 =

+class guimaker { public:
+
+/// sorted overlay container (keeps zorder from beeing optimized away by r=
ender-state sorting)
+static mixed	MakeSOC	(mixed parent,mixed x,mixed y) {}
+
+/// robrenderable
+static mixed	MakeRROC	(mixed parent,mixed matname) {}
+
+/// ----------------------------------------
+/// ----- table layout
+/// ----------------------------------------
+/// constructs a widget as child of "parent" from paramter array "arr", th=
e content of "arr" is copyed to the widget
+static mixed	MakeWidgetFromArr	(mixed parent,mixed arr,mixed stylesetname)=
 {}
+
+/// constructs a dialog from a "rows" array, each row is an array of "cols=
", each col is a paramter array for guimaker.MakeWidgetFromArr
+static mixed	MakeTableDlg	(mixed rows,mixed x,mixed y,mixed bClosable,mixe=
d bCellsAlwaysHaveMaxW,mixed stylesetname,mixed stylename) {}
+
+/// recalculates widget positions in table
+static mixed	LayoutTableDlg	(mixed dialog,mixed rootwidget) {}
+
+static mixed	MakeBorderPanel	(mixed parent,mixed x,mixed y,mixed cx,mixed =
cy,mixed col,mixed stylesetname,mixed stylename) {}
+
+/// function guimaker.Button_HilightOn (widget) widget:SetUVBorderMatrix(3=
2, 0,16, 2,2, 12,12, 2,2) end
+/// function guimaker.Button_HilightOff (widget) widget:SetUVBorderMatrix(=
32, 0, 0, 2,2, 12,12, 2,2) end
+static mixed	Button_HilightOn	(mixed widget) {}
+
+static mixed	Button_HilightOff	(mixed widget) {}
+
+static mixed	MakeButton	(mixed parent,mixed x,mixed y,mixed cx,mixed cy,mi=
xed col,mixed stylesetname) {}
+
+static mixed	MakeText	(mixed parent,mixed x,mixed y,mixed text,mixed charh=
,mixed col,mixed fontname) {}
+
+static mixed	MakeWrappedClippedText	(mixed parent,mixed x,mixed y,mixed wi=
dth,mixed height,mixed text,mixed charh,mixed col,mixed center,mixed div,mi=
xed fontname) {}
+
+static mixed	MakeClippedText	(mixed parent,mixed x,mixed y,mixed width,mix=
ed height,mixed text,mixed charh,mixed col,mixed center,mixed div,mixed fon=
tname) {}
+
+static mixed	MakeAutoScaledButton	(mixed parent,mixed x,mixed y,mixed text=
,mixed charh,mixed backcol,mixed textcol,mixed stylesetname) {}
+
+static mixed	RescaleAutoScaledButton	(mixed widget,mixed forcew) {}
+
+static mixed	SetAutoScaledButtonText	(mixed widget,mixed text) {}
+
+static mixed	SetAutoScaledButtonBackCol	(mixed widget,mixed backcol) {}
+
+static mixed	MakePlane	(mixed parent,mixed mat,mixed x,mixed y,mixed cx,mi=
xed cy) {}
+
+/// Creates a new Gumppage
+static mixed	MakePage	(mixed pagenum) {}
+};
+
+class gTypeListPrototype { public:
+
+mixed	RegisterType	(mixed name,mixed parenttype_or_name,mixed arr,mixed ab=
stract) {}
+
+mixed	Get	(mixed type_or_name_or_id) {}
+
+mixed	GetList	(mixed filterfun) {}
+};
+
+class Vector { public:
+
+static mixed	random2	(mixed minx,mixed miny,mixed minz,mixed maxx,mixed ma=
xy,mixed maxz) {}
+
+static mixed	random3	(mixed v) {}
+
+static mixed	len	(mixed x,mixed y,mixed z) {}
+
+/// returns true if equal
+static mixed	compare	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z=
2) {}
+
+/// returns vector with length =3D 1.0
+static mixed	normalise	(mixed x,mixed y,mixed z) {}
+
+static mixed	normalise_to_len	(mixed x,mixed y,mixed z,mixed normlen) {}
+
+/// returns Ogre::v1.crossProduct(v2)
+static mixed	cross	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2)=
 {}
+
+/// returns Ogre::v1.dotProduct(v2)
+static mixed	dot	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) {}
+
+/// returns vec * scal
+static mixed	scalarmult	(mixed x,mixed y,mixed z,mixed f) {}
+
+static mixed	scale1	(mixed f,mixed x,mixed y,mixed z) {}
+
+static mixed	sub	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) {}
+
+static mixed	add	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) {}
+
+static mixed	addscaled	(mixed s,mixed x1,mixed y1,mixed z1,mixed x2,mixed =
y2,mixed z2) {}
+
+static mixed	scale	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2)=
 {}
+
+static mixed	add3	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2,m=
ixed x3,mixed y3,mixed z3) {}
+
+static mixed	add4	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2,m=
ixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4) {}
+
+static mixed	add4v	(mixed v1,mixed v2,mixed v3,mixed v4) {}
+
+/// project 1 onto 2
+static mixed	project_on_vector	(mixed x1,mixed y1,mixed z1,mixed x2,mixed =
y2,mixed z2) {}
+
+/// project x,y,z on the plane with normal nx,,ny,nz
+static mixed	project_on_plane	(mixed x,mixed y,mixed z,mixed nx,mixed ny,m=
ixed nz) {}
+
+static mixed	create	(mixed  x,mixed y,mixed z ) {}
+
+/// returns true if the length is almost zero, inspired by ogre
+static mixed	isZeroLength	(mixed x,mixed y,mixed z) {}
+};
+
+class Quaternion { public:
+
+/// x,y,z must be normalized, see Vector.normalise
+static mixed	fromAngleAxis	(mixed ang,mixed x,mixed y,mixed z) {}
+
+static mixed	inverse	(mixed w,mixed x,mixed y,mixed z) {}
+
+static mixed	norm	(mixed w,mixed x,mixed y,mixed z) {}
+
+static mixed	normalise	(mixed w,mixed x,mixed y,mixed z) {}
+
+/// returns a rotation with length=3Dang around a random axis, ang default=
s to random
+/// returns qw,qx,qy,qz
+static mixed	random	(mixed ang) {}
+
+/// returns the shortest arc quaternion to rotate vector1 to vector2
+/// returns qw,qx,qy,qz
+static mixed	getRotation	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mix=
ed z2) {}
+
+/// returns x,y,z
+static mixed	ApplyToVector	(mixed x,mixed y,mixed z,mixed qw,mixed qx,mixe=
d qy,mixed qz) {}
+
+/// Mul(a,b) =3D a*b, multiplies two quaternions, generally not commutativ=
e (a*b !=3D b*a)
+/// returns qw,qx,qy,qz
+static mixed	Mul	(mixed aw,mixed ax,mixed ay,mixed az,mixed bw,mixed bx,mi=
xed by,mixed bz) {}
+
+/// reduces a turn-quaternions angle, t=3D1 =3D no change
+/// returns qw,qx,qy,qz
+static mixed	reduce	(mixed qw,mixed qx,mixed qy,mixed qz,mixed t) {}
+
+/// changes the rotation angle while leaving the axis
+/// returns qw,qx,qy,qz
+static mixed	setAngle	(mixed qw,mixed qx,mixed qy,mixed qz,mixed newang) {}
+
+/// returns rotation angle in radians
+static mixed	getAngle	(mixed qw,mixed qx,mixed qy,mixed qz) {}
+
+/// returns qw,qx,qy,qz
+static mixed	lookAt	(mixed x,mixed y,mixed z) {}
+};
+
 class cGroundBlockLoader_L { public:
 =

 	/// static methods exported to lua



From no-reply at zwischenwelt.org  Fri Nov 23 22:50:56 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 21:50:56 -0000
Subject: [Iris-commit] [IRIS] r1523 - /trunk/generate_lua_api.php
Message-ID: <20071123215056.ED6F71C182C6@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 22:50:55 2007
New Revision: 1523

Log:
lua-doc-gen : static constructor methods for c++-lua bindings recognized an=
d added as static methods

Modified:
    trunk/generate_lua_api.php

Modified: trunk/generate_lua_api.php
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/generate_lua_api.php (original)
+++ trunk/generate_lua_api.php Fri Nov 23 22:50:55 2007
@@ -13,9 +13,11 @@
 	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'src=
/		-name "*script*.cpp" ! -type d ! -wholename "*/.svn*"'));
 	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'lug=
re/src/	-name "*script*.cpp" ! -type d ! -wholename "*/.svn*"'));
 	=

+	$files_lua =3D array();
+	$files_cpp =3D array();
 	//~ $files_lua =3D array("data/lua/obj/obj.mobile.lua");
 	//~ $files_cpp =3D array("lugre/src/lugre_net_L.cpp");
-	//~ $files_cpp =3D array("src/data_L.cpp");
+	$files_cpp =3D array("src/data_L.cpp");
 	=

 	$methods_global =3D array();
 	$methods_byclass =3D array();
@@ -36,6 +38,7 @@
 			=

 			if (eregi('^function ([^:\)]+[:.])?([^ (]+)[ ]*\(([^\)]+)',$line,$r)) {
 				$classprefix =3D $r[1];
+				$p =3D ($classprefix =3D=3D "") ? "" : "	"; // indention
 				$funname =3D $r[2];
 				$params2 =3D split("[ ]*,[ ]*",$r[3]);
 				$params =3D array();
@@ -43,14 +46,15 @@
 				//~ echo "fun #".$r[1]."###".$r[2]."##".$r[3]."#   :  ".rtrim($line,"\=
n")."\n";
 				=

 				$infotext =3D "";
-				foreach ($description as $dline) $infotext .=3D "/// ".$dline."\n";
+				foreach ($description as $dline) $infotext .=3D $p."/// ".$dline."\n";
 				=

 				if ($classprefix =3D=3D "") { // global
-					$infotext .=3D "mixed	".$funname."	(".implode(",",$params).") {}\n";
+					$infotext .=3D $p."mixed	".$funname."	(".implode(",",$params).") {}\n=
";
 					$methods_global[] =3D $infotext;
 				} else {
 					$classname =3D substr($classprefix,0,-1);
 					=

+					$infotext .=3D $p;
 					if (substr($classprefix,-1) =3D=3D ".") $infotext .=3D "static "; // =
static method
 					$infotext .=3D "mixed	".$funname."	(".implode(",",$params).") {}\n";
 					=

@@ -112,18 +116,20 @@
 			// static int				CreateGroundBlockLoader		(lua_State *L) { PROFILE
 			if (eregi('int ([^ \(]+)[ ]*\(.*lua_State',$line,$r)) {
 				$methodname =3D trim($r[1]);
-				$methodbinds[$methodname] =3D true;
+				$bIsGlobal =3D false;
+				$bIsStatic =3D !isset($methodbinds[$methodname]);
+				$p =3D ($classname =3D=3D "" || $bIsGlobal) ? "" : "	"; // indention
 				=

 				$infotext =3D "";
-				foreach ($description as $dline) $infotext .=3D "	/// ".$dline."\n";
+				foreach ($description as $dline) $infotext .=3D $p."/// ".$dline."\n";
 				=

 				//~ if ($luasyntax) {
 					//~ echo $luasyntax."\n"; // TODO : transform to c++ syntax ?
 				//~ } else {
-				$infotext .=3D "	mixed $methodname (...) {}\n";
+				$infotext .=3D $p.($bIsStatic?"static ":"")."mixed $methodname (...) {=
}\n";
 				//~ }
 				=

-				if ($classname =3D=3D "") { // global
+				if ($classname =3D=3D "" || $bIsGlobal) { // global
 					$methods_global[] =3D $infotext;
 				} else {
 					if (!isset($methods_byclass[$classname])) $methods_byclass[$classname=
] =3D array();



From no-reply at zwischenwelt.org  Fri Nov 23 22:57:10 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 21:57:10 -0000
Subject: [Iris-commit] [IRIS] r1526 - in /trunk: doc/ doc/Makefile
 doc/cpp.doxygen doc/generate_lua_api.php doc/lua.doxygen doc/roblib.php
 generate_lua_api.php lua_api_pseudo_code.cpp roblib.php
Message-ID: <20071123215710.1B2C21C182C6@zwischenwelt.org>

Author: hagish
Date: Fri Nov 23 22:57:09 2007
New Revision: 1526

Log:
new doc system

Added:
    trunk/doc/
    trunk/doc/Makefile
    trunk/doc/cpp.doxygen
    trunk/doc/generate_lua_api.php
    trunk/doc/lua.doxygen
    trunk/doc/roblib.php
Removed:
    trunk/generate_lua_api.php
    trunk/lua_api_pseudo_code.cpp
    trunk/roblib.php



From no-reply at zwischenwelt.org  Fri Nov 23 23:15:14 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 22:15:14 -0000
Subject: [Iris-commit] [IRIS] r1527 - /trunk/doc/generate_lua_api.php
Message-ID: <20071123221514.B2DAE1C182C6@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 23:15:14 2007
New Revision: 1527

Log:
luadoc : wrapper for global/classless functions

Modified:
    trunk/doc/generate_lua_api.php

Modified: trunk/doc/generate_lua_api.php
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/doc/generate_lua_api.php (original)
+++ trunk/doc/generate_lua_api.php Fri Nov 23 23:15:14 2007
@@ -143,7 +143,10 @@
 	}
 	=

 	// output =

-	foreach ($methods_global as $infotext) echo "\n".$infotext;
+	//~ foreach ($methods_global as $infotext) echo "\n".$infotext;
+	$classname_global =3D "GLOBAL";
+	$methods_byclass[$classname_global] =3D $methods_global;
+	$class_descriptions[$classname_global] =3D "/// this is not really a clas=
s, just a wrapper for making documentation for global functions more access=
ible\n";
 	foreach ($methods_byclass as $classname =3D> $infotext_arr) {
 		echo "\n";
 		if (isset($class_descriptions[$classname])) echo $class_descriptions[$cl=
assname];



From no-reply at zwischenwelt.org  Fri Nov 23 23:54:37 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 22:54:37 -0000
Subject: [Iris-commit] [IRIS] r1528 - in /trunk: data/lua/lib.gui.iris.lua
 linuxbin/ vc7/ vc8/ vs7/ vs8/
Message-ID: <20071123225438.177581C1829E@zwischenwelt.org>

Author: sience
Date: Fri Nov 23 23:54:37 2007
New Revision: 1528

Log:
-small reorganisation vc7, vc8 renamed to vs7 and vs8
-obsolete linuxbin deleted

Added:
    trunk/vs7/
      - copied from r1527, trunk/vc7/
    trunk/vs8/
      - copied from r1527, trunk/vc8/
Removed:
    trunk/linuxbin/
    trunk/vc7/
    trunk/vc8/
Modified:
    trunk/data/lua/lib.gui.iris.lua

Modified: trunk/data/lua/lib.gui.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gui.iris.lua (original)
+++ trunk/data/lua/lib.gui.iris.lua Fri Nov 23 23:54:37 2007
@@ -180,4 +180,5 @@
 	gStatusDialogs[mobile.serial] =3D nil
 end
 =

+-- function is called by Lugre (lib.chatline.lua) from ChatLine_RepeatLast=
 and ChatLine_Init
 function SendChat (curtext) Send_UnicodeSpeech(curtext) end



From no-reply at zwischenwelt.org  Fri Nov 23 22:04:44 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 21:04:44 -0000
Subject: [Iris-commit] [IRIS] r1520 - in /trunk: generate_lua_api.php
	lua_api_pseudo_code.cpp
Message-ID: <20071123210446.6C8EC1C1829E@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 22:04:43 2007
New Revision: 1520

Log:
improved lua doc generator

Modified:
    trunk/generate_lua_api.php
    trunk/lua_api_pseudo_code.cpp

Modified: trunk/generate_lua_api.php
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/generate_lua_api.php (original)
+++ trunk/generate_lua_api.php Fri Nov 23 22:04:43 2007
@@ -11,6 +11,12 @@
 	$files_cpp2	=3D ExecGetLines('find lugre/src/	-name "*script*.cpp" ! -typ=
e d ! -wholename "*/.svn*"'); foreach ($files_cpp2 as $o) $files_cpp[] =3D =
$o;
 	//~ $files_lua =3D array("data/lua/obj/obj.mobile.lua");
 	=

+	//~ $files_cpp =3D array("lugre/src/lugre_net_L.cpp");
+	//~ $files_cpp =3D array("src/data_L.cpp");
+	=

+	$methods_global =3D array();
+	$methods_byclass =3D array();
+	$class_descriptions =3D array();
 	=

 	foreach ($files_lua as $o) {
 		$lines =3D file($o);
@@ -33,15 +39,20 @@
 				foreach ($params2 as $param) $params[] =3D "mixed ".$param;
 				//~ echo "fun #".$r[1]."###".$r[2]."##".$r[3]."#   :  ".rtrim($line,"\=
n")."\n";
 				=

-				echo "\n";
-				foreach ($description as $dline) echo "/// ".$dline."\n";
+				$infotext =3D "";
+				foreach ($description as $dline) $infotext .=3D "/// ".$dline."\n";
 				=

 				if ($classprefix =3D=3D "") { // global
-					echo "mixed	".$funname."	(".implode(",",$params).");\n";
+					$infotext .=3D "mixed	".$funname."	(".implode(",",$params).") {}\n";
+					$methods_global[] =3D $infotext;
 				} else {
 					$classname =3D substr($classprefix,0,-1);
-					if (substr($classprefix,-1) =3D=3D ".") echo "static "; // static met=
hod
-					echo "mixed	".$classname."::".$funname."	(".implode(",",$params).");\=
n";
+					=

+					if (substr($classprefix,-1) =3D=3D ".") $infotext .=3D "static "; // =
static method
+					$infotext .=3D "mixed	".$funname."	(".implode(",",$params).") {}\n";
+					=

+					if (!isset($methods_byclass[$classname])) $methods_byclass[$classname=
] =3D array();
+					$methods_byclass[$classname][] =3D $infotext;
 				}
 			}
 			=

@@ -58,6 +69,7 @@
 		$description =3D array();
 		$classname =3D "";
 		$methodbinds =3D array();
+		$luasyntax =3D "";
 		=

 		echo "// ##### ".$o."\n";
 		for ($i=3D0;$i<$numlines;++$i) {
@@ -65,15 +77,24 @@
 			if ($line =3D=3D "") continue;
 			=

 			// comments
-			if (eregi("^[ \t]*///?[ \t]*(.+)",$line,$r)) { $description[] =3D $r[1]=
; continue; } // comment line
+			if (eregi("^[ \t]*///?[ \t]*(.+)",$line,$r)) { =

+				$comment =3D $r[1];
+				if (eregi('for lua[ :]+(.*)',$comment,$r)) { =

+					$luasyntax =3D $r[1];
+					//~ continue;
+				}
+				$description[] =3D $comment; =

+				continue;
+			}
 			=

 			// class cGroundBlockLoader_L : public cLuaBind<cGroundBlockLoader>
 			if (eregi('^class ([^ :]+).*cLuaBind.*',$line,$r)) {
 				$classname =3D $r[1];
 				$methodbinds =3D array();
-				echo "\n";
-				foreach ($description as $dline) echo "/// ".$dline."\n";
-				echo "class $classname;\n";
+				=

+				$class_description =3D "";
+				foreach ($description as $dline) $class_description .=3D "/// ".$dline=
."\n";
+				$class_descriptions[$classname] =3D $class_description;
 			}
 			=

 			// REGISTER_METHOD(Destroy);
@@ -83,45 +104,43 @@
 				//~ echo "// method $methodname\n";
 			}
 			=

+			// TODO : static methods : lua_register(L,"CreateGroundBlockLoader",	&c=
GroundBlockLoader_L::CreateGroundBlockLoader);  =

+			=

 			// static int				CreateGroundBlockLoader		(lua_State *L) { PROFILE
 			if (eregi('int ([^ \(]+)[ ]*\(.*lua_State',$line,$r)) {
 				$methodname =3D trim($r[1]);
 				$methodbinds[$methodname] =3D true;
 				=

-				echo "\n";
-				foreach ($description as $dline) echo "/// ".$dline."\n";
-				=

-				if ($classname)
-						echo "mixed $classname::$methodname (...);\n";
-				else	echo "mixed $methodname (...);\n";
-			}
-			=

-			=

-			/*
-			if (eregi('^function ([^:]+[:.])?([^ (]+)[ ]*\(([^\)]+)',$line,$r)) {
-				$classprefix =3D $r[1];
-				$funname =3D $r[2];
-				$params2 =3D split("[ ]*,[ ]*",$r[3]);
-				$params =3D array();
-				foreach ($params2 as $param) $params[] =3D "mixed ".$param;
-				//~ echo "fun #".$r[1]."###".$r[2]."##".$r[3]."#   :  ".rtrim($line,"\=
n")."\n";
-				=

-				echo "\n";
-				foreach ($description as $dline) echo "/// ".$dline."\n";
-				=

-				if ($classprefix =3D=3D "") { // global
-					echo "mixed	".$funname."	(".implode(",",$params).");\n";
+				$infotext =3D "";
+				foreach ($description as $dline) $infotext .=3D "	/// ".$dline."\n";
+				=

+				//~ if ($luasyntax) {
+					//~ echo $luasyntax."\n"; // TODO : transform to c++ syntax ?
+				//~ } else {
+				$infotext .=3D "	mixed $methodname (...) {}\n";
+				//~ }
+				=

+				if ($classname =3D=3D "") { // global
+					$methods_global[] =3D $infotext;
 				} else {
-					$classname =3D substr($classprefix,0,-1);
-					if (substr($classprefix,-1) =3D=3D ".") echo "static "; // static met=
hod
-					echo "mixed	".$classname."::".$funname."	(".implode(",",$params).");\=
n";
+					if (!isset($methods_byclass[$classname])) $methods_byclass[$classname=
] =3D array();
+					$methods_byclass[$classname][] =3D $infotext;
 				}
 			}
-			*/
 			=

 			$description =3D array();
 		}
-		break;
+		//~ break;
+	}
+	=

+	// output =

+	foreach ($methods_global as $infotext) echo "\n".$infotext;
+	foreach ($methods_byclass as $classname =3D> $infotext_arr) {
+		echo "\n";
+		if (isset($class_descriptions[$classname])) echo $class_descriptions[$cl=
assname];
+		echo "class $classname { public:\n";
+		foreach ($infotext_arr as $infotext) echo "\n".$infotext;
+		echo "};\n";
 	}
 	=

 	/*

Modified: trunk/lua_api_pseudo_code.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua_api_pseudo_code.cpp (original)
+++ trunk/lua_api_pseudo_code.cpp Fri Nov 23 22:04:43 2007
@@ -1,1065 +1,784 @@
 // ##### data/lua/lib.loading.lua
+// ##### data/lua/lib.gui.iris.lua
+// ##### data/lua/lib.uoids.lua
+// ##### data/lua/lib.3d.mousepick.lua
+// ##### data/lua/filter/filter.map.lua
+// ##### data/lua/filter/filter.granny.lua
+// ##### data/lua/filter/filter.art.lua
+// ##### data/lua/lib.mousepick.lua
+// ##### data/lua/lib.xml.lua
+// ##### data/lua/lib.protocol.lua
+// ##### data/lua/lib.keybinds.lua
+// ##### data/lua/lib.terrain.lua
+// ##### data/lua/lib.bodygfx.lua
+// ##### data/lua/lib.cliloc.lua
+// ##### data/lua/lib.3d.cam.lua
+// ##### data/lua/lib.compass.lua
+// ##### data/lua/lib.speech.lua
+// ##### data/lua/lib.granny.lua
+// ##### data/lua/lib.data.lua
+// ##### data/lua/lib.gfm.lua
+// ##### data/lua/lib.journal.lua
+// ##### data/lua/lib.debug.lua
+// ##### data/lua/lib.skill.lua
+// ##### data/lua/net.walk.lua
+// ##### data/lua/lib.walking2.lua
+// ##### data/lua/net.popup.lua
+// ##### data/lua/lib.gumpparser.lua
+// ##### data/lua/lib.3d.map.lua
+// ##### data/lua/lib.static.lua
+// ##### data/lua/lib.oldwalk.lua
+// ##### data/lua/lib.season.lua
+// ##### data/lua/lib.tilefreewalk.lua
+// ##### data/lua/net.cursor.lua
+// ##### data/lua/lib.test.lua
+// ##### data/lua/net.other.lua
+// ##### data/lua/lib.uodragdrop.lua
+// ##### data/lua/lib.packet.lua
+// ##### data/lua/lib.sound.iris.lua
+// ##### data/lua/lib.spellbooks.lua
+// ##### data/lua/main.lua
+// ##### data/lua/net.trade.lua
+// ##### data/lua/lib.net.lua
+// ##### data/lua/lib.3d.combat.lua
+// ##### data/lua/lib.3d.renderer.lua
+// ##### data/lua/lib.filepath.lua
+// ##### data/lua/2d/lib.2d.renderer.luac
+// ##### data/lua/2d/lib.2d.config.lua
+// ##### data/lua/lib.renderer.lua
+// ##### data/lua/lib.mainmenu.lua
+// ##### data/lua/lib.pagedialog.lua
+// ##### data/lua/lib.stitchin.lua
+// ##### data/lua/lib.debugmenu.lua
+// ##### data/lua/lib.fallback.lua
+// ##### data/lua/gui/gui.main.lua
+// ##### data/lua/gui/gui.paperdoll.lua
+// ##### data/lua/gui/gui.container.lua
+// ##### data/lua/gui/gui.status.lua
+// ##### data/lua/gui/gui.widget.lua
+// ##### data/lua/gui/gui.quit.lua
+// ##### data/lua/gui/gui.journal.lua
+// ##### data/lua/gui/gui.gumpmanager.lua
+// ##### data/lua/gui/gui.styles.lua
+// ##### data/lua/lib.diff.lua
+// ##### data/lua/lib.deffileparser.lua
+// ##### data/lua/lib.charcreate.lua
+// ##### data/lua/lib.devtool.lua
+// ##### data/lua/lib.corpse.lua
+// ##### data/lua/net/net.main.lua
+// ##### data/lua/net/net.object.lua
+// ##### data/lua/net/net.dynamic.lua
+// ##### data/lua/net/net.effect.lua
+// ##### data/lua/net/net.uodragdrop.lua
+// ##### data/lua/net/net.multi.lua
+// ##### data/lua/net/net.mobile.lua
+// ##### data/lua/net/net.packethandlers.lua
+// ##### data/lua/net/net.corpse.lua
+// ##### data/lua/net/net.skill.lua
+// ##### data/lua/net/net.world.lua
+// ##### data/lua/net/net.login.lua
+// ##### data/lua/net/net.sound.lua
+// ##### data/lua/lib.mount.lua
+// ##### data/lua/net.securetrade.lua
+// ##### data/lua/lib.input.iris.lua
+// ##### data/lua/obj/obj.main.lua
+// ##### data/lua/obj/obj.player.lua
+// ##### data/lua/obj/obj.mobile.lua
+// ##### data/lua/obj/obj.dynamic.lua
+// ##### data/lua/obj/obj.container.lua
+// ##### data/lua/lib.plaingui.iris.lua
+// ##### data/lua/lib.bugreport.lua
+// ##### data/lua/lib.3d.mobile.lua
+// ##### data/lua/lib.3d.dynamic.lua
+// ##### data/lua/lib.3d.walksmooth.lua
+// ##### src/data_L.cpp
+// ##### src/builder_L.cpp
+// ##### src/granny_L.cpp
+// ##### src/spritemanager_L.cpp
+// ##### src/ogremanualloader_L.cpp
+// ##### src/radar_L.cpp
+// ##### lugre/src/lugre_rendertexture_L.cpp
+// ##### lugre/src/lugre_sound_L.cpp
+// ##### lugre/src/lugre_bitmask_L.cpp
+// ##### lugre/src/lugre_material_L.cpp
+// ##### lugre/src/lugre_gfx3D_L.cpp
+// ##### lugre/src/lugre_ode_L.cpp
+// ##### lugre/src/lugre_viewport_L.cpp
+// ##### lugre/src/lugre_random_L.cpp
+// ##### lugre/src/lugre_fifo_L.cpp
+// ##### lugre/src/lugre_net_L.cpp
+// ##### lugre/src/lugre_camera_L.cpp
+// ##### lugre/src/lugre_beam_L.cpp
+// ##### lugre/src/lugre_gfx2D_L.cpp
+// ##### lugre/src/lugre_widget_L.cpp
+// ##### lugre/src/lugre_thread_L.cpp
+// ##### src/scripting.iris.cpp
+// ##### lugre/src/lugre_scripting.cpp
+// ##### lugre/src/lugre_scripting.general.cpp
+// ##### lugre/src/lugre_scripting.ogre.cpp
 =

 /// profiles the time took by the different loading phases, and displays a=
 text about what is currently being loaded
-mixed	LoadingProfile	(mixed sCurAction,mixed bIsPreOgre);
+mixed	LoadingProfile	(mixed sCurAction,mixed bIsPreOgre) {}
 =

 /// create a ogre font from a uo unifont file
 /// name =3D resourcename
 /// filename =3D unifont filename
-mixed	CreateUniFont	(mixed filename,mixed name);
+mixed	CreateUniFont	(mixed filename,mixed name) {}
 =

 /// don't load new map immediately, several mapchanges might be sent at lo=
gin quickly
-mixed	MapChangeRequest	(mixed iMaxNewIndex);
+mixed	MapChangeRequest	(mixed iMaxNewIndex) {}
 =

 /// Loads Maps+Statics+Diff Files (only pre 6.0.0)
-mixed	LoadMap	(mixed index);
-// ##### data/lua/lib.gui.iris.lua
+mixed	LoadMap	(mixed index) {}
 =

 /// text-line at the bottom of screen (readonly, used for mousepicking deb=
ug text and for info during loading)
-mixed	Client_SetBottomLine	(mixed text);
-
-mixed	DisplayMemoryUsage	(mixed memoryusage);
-
-/// sets the current stats bar in %, dont use this directly
-static mixed	gui::SetStatsBar	(mixed name,mixed x);
-
-/// sets the warmode visual on statsbar
-static mixed	gui::SetWarmode	(mixed warmode);
-
-/// sets the current hitpoints (in %), x is between 0.0 and 1.0
-static mixed	gui::SetHitpoints	(mixed x);
-
-/// sets the current hitpoints (in %), x is between 0.0 and 1.0
-static mixed	gui::SetMana	(mixed x);
-
-/// sets the current hitpoints (in %), x is between 0.0 and 1.0
-static mixed	gui::SetStamina	(mixed x);
+mixed	Client_SetBottomLine	(mixed text) {}
+
+mixed	DisplayMemoryUsage	(mixed memoryusage) {}
 =

 /// sets the hitpoints in percentage if the mobile npc dialog is opened
-mixed	SetNpcStatusHitpoints	(mixed mobile,mixed hitpoints);
+mixed	SetNpcStatusHitpoints	(mixed mobile,mixed hitpoints) {}
 =

 /// Open Status Gump
-mixed	OpenStatus	(mixed mobile,mixed x,mixed y);
+mixed	OpenStatus	(mixed mobile,mixed x,mixed y) {}
 =

 /// Close Status Gump
-mixed	CloseStatus	(mixed mobile);
-
-mixed	SendChat	(mixed curtext);
-// ##### data/lua/lib.uoids.lua
-// ##### data/lua/lib.3d.mousepick.lua
+mixed	CloseStatus	(mixed mobile) {}
+
+mixed	SendChat	(mixed curtext) {}
+
+/// returns mapped grannyid or nil
+mixed	FilterMap	(mixed iTranslatedTileTypeID) {}
+
+/// FILTER: Grannys
+mixed	GrannyOverride	(mixed mobileartid) {}
+
+/// FILTER: map Mesh to other Mesh
+mixed	FilterMesh	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterOrientation	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterPositionX	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterPositionY	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterPositionZ	(mixed iTranslatedTileTypeID) {}
+
+/// FILTER: static water and map to extra material (one for shaders and on=
e for normal mode (because we dont have coastline models))
+mixed	FilterStaticWater	(mixed iTranslatedTileTypeID,mixed iHue) {}
 =

 /// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
-mixed	Renderer3D::TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletyp=
e,mixed hit_dist,mixed minz,mixed maxz);
-
-/// excecutes mousepick by default
-mixed	Renderer3D::GetMouseHitSerial	(mixed bExecuteMousePick);
-
-mixed	Renderer3D::DestroyMousePickItemBySerial	(mixed serial);
-// ##### data/lua/filter/filter.map.lua
-
-/// returns mapped grannyid or nil
-mixed	FilterMap	(mixed iTranslatedTileTypeID);
-// ##### data/lua/filter/filter.granny.lua
-
-/// FILTER: Grannys
-mixed	GrannyOverride	(mixed mobileartid);
-// ##### data/lua/filter/filter.art.lua
-
-/// FILTER: map Mesh to other Mesh
-mixed	FilterMesh	(mixed iTranslatedTileTypeID);
-
-mixed	FilterOrientation	(mixed iTranslatedTileTypeID);
-
-mixed	FilterPositionX	(mixed iTranslatedTileTypeID);
-
-mixed	FilterPositionY	(mixed iTranslatedTileTypeID);
-
-mixed	FilterPositionZ	(mixed iTranslatedTileTypeID);
-
-/// FILTER: static water and map to extra material (one for shaders and on=
e for normal mode (because we dont have coastline models))
-mixed	FilterStaticWater	(mixed iTranslatedTileTypeID,mixed iHue);
-// ##### data/lua/lib.mousepick.lua
-
-/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
-mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit_=
dist,mixed minz,mixed maxz);
-// ##### data/lua/lib.xml.lua
+mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit_=
dist,mixed minz,mixed maxz) {}
 =

 /// utilities for xml
 /// finds the first (or index'th) child with child.name=3Dname
 /// index : one-based indices default =3D one =3D first
-mixed	xmlchild	(mixed xmlnode,mixed name,mixed index);
+mixed	xmlchild	(mixed xmlnode,mixed name,mixed index) {}
 =

 /// recieves a value from a child or nil on error
 /// shortcut for xmlchild (xmlnode,name,index)[1] with error handling
-mixed	xmlvalue	(mixed xmlnode,mixed name,mixed index);
-
-mixed	xmldump	(mixed o,mixed L);
-// ##### data/lua/lib.protocol.lua
-
-mixed	DirWrap	(mixed iDir);
-
-mixed	DirFromLocalDxDy	(mixed dx,mixed dy);
-
-mixed	DirFromUODxDy	(mixed dx,mixed dy);
+mixed	xmlvalue	(mixed xmlnode,mixed name,mixed index) {}
+
+mixed	xmldump	(mixed o,mixed L) {}
+
+mixed	DirWrap	(mixed iDir) {}
+
+mixed	DirFromLocalDxDy	(mixed dx,mixed dy) {}
+
+mixed	DirFromUODxDy	(mixed dx,mixed dy) {}
 =

 /// interpret dircode in ogre coordinate system
-mixed	GetDirXLocal	(mixed dir);
-
-mixed	GetDirYLocal	(mixed dir);
+mixed	GetDirXLocal	(mixed dir) {}
+
+mixed	GetDirYLocal	(mixed dir) {}
 =

 /// interpret dircode in uo coordinate system uneven numbers (1,3,5,7) are=
 diagonal
-mixed	DirisDiagonal	(mixed dir);
-
-mixed	GetDirX	(mixed dir);
-
-mixed	GetDirY	(mixed dir);
-
-mixed	LogOutgoingPacket	(mixed fifo,mixed len);
-
-mixed	LogIncomingPacket	(mixed fifo,mixed len);
-
-mixed	LogPacket	(mixed fifo,mixed len,mixed direction);
+mixed	DirisDiagonal	(mixed dir) {}
+
+mixed	GetDirX	(mixed dir) {}
+
+mixed	GetDirY	(mixed dir) {}
+
+mixed	LogOutgoingPacket	(mixed fifo,mixed len) {}
+
+mixed	LogIncomingPacket	(mixed fifo,mixed len) {}
+
+mixed	LogPacket	(mixed fifo,mixed len,mixed direction) {}
 =

 /// request profile
-mixed	Send_RequestProfile	(mixed  serial );
-// ##### data/lua/lib.keybinds.lua
-// ##### data/lua/lib.terrain.lua
+mixed	Send_RequestProfile	(mixed  serial ) {}
 =

 /// called by the c function BuildTerrainEntity_Shaded, has to return a ma=
terial name for a tiletypeid, used for terrain
-mixed	BuildTerrainEntity_Shaded_GetMaterial	(mixed iTileTypeID);
+mixed	BuildTerrainEntity_Shaded_GetMaterial	(mixed iTileTypeID) {}
 =

 /// called by the c function BuildTerrainEntity_Simple, has to return a ma=
terial name for a tiletypeid, used for terrain
-mixed	BuildTerrainEntity_Simple_GetMaterial	(mixed iTileTypeID);
-
-mixed	GetTerrainMaterial	(mixed iTileTypeID,mixed bLighting);
-// ##### data/lua/lib.bodygfx.lua
+mixed	BuildTerrainEntity_Simple_GetMaterial	(mixed iTileTypeID) {}
+
+mixed	GetTerrainMaterial	(mixed iTileTypeID,mixed bLighting) {}
 =

 /// see config.lua.dist for kMountZAdd
 /// ##### ##### ##### ##### ##### construction,destruction
-mixed	CreateBodyGfx	(mixed ...);
-
-mixed	gBodyGfxPrototype::Init	(mixed parentgfx);
-
-mixed	gBodyGfxPrototype::GetEquipmentAtLayer	(mixed layer);
-
-mixed	gBodyGfxPrototype::SetVisible	(mixed bVisible);
-
-mixed	BodyGfxGetStateAnimID	(mixed bodyid,mixed bWalk,mixed bRun,mixed bId=
le,mixed bHasMount,mixed bWarMode,mixed bHasStaff);
-
-/// ##### ##### ##### ##### ##### update (model change)
-mixed	gBodyGfxPrototype::MarkForUpdate	(mixed artid,mixed hue,mixed equipm=
entlist);
+mixed	CreateBodyGfx	(mixed ...) {}
+
+mixed	BodyGfxGetStateAnimID	(mixed bodyid,mixed bWalk,mixed bRun,mixed bId=
le,mixed bHasMount,mixed bWarMode,mixed bHasStaff) {}
 =

 /// ##### ##### ##### ##### ##### generating gfx
-mixed	MakeBodyPartGfx	(mixed modelid,mixed meshname,mixed partgfx,mixed fo=
rcescalex,mixed forcescaley,mixed forcescalez);
+mixed	MakeBodyPartGfx	(mixed modelid,mixed meshname,mixed partgfx,mixed fo=
rcescalex,mixed forcescaley,mixed forcescalez) {}
 =

 /// creates childnodes of parentgfx and adds inserts them into the partsar=
r table
-mixed	CreateBodyGfxPartsFromModelIDArray	(mixed bodyid,mixed parentgfx,mix=
ed partsarr,mixed modelidarr,mixed iPrimaryHandItem,mixed iSecondaryHandIte=
m);
-
-mixed	gBodyGfxPrototype::StartAnimLoop	(mixed animid);
-
-/// stops the previous anim and starts playing this one
-/// iRepeatCount =3D -1 : loop infinitely
-/// iRepeatCount =3D 0 : play anim once (default)
-/// iRepeatCount =3D 1 : play anim twice ....
-mixed	gBodyGfxPrototype::StartAnim	(mixed animid,mixed iRepeatCount);
-
-/// ##### ##### ##### ##### ##### state (run,walk,idle,combat...)
-/// interrupt serverside anim on movement, and init anim if not set
-mixed	gBodyGfxPrototype::SetState	(mixed bMoving,mixed bTurning,mixed bWar=
Mode,mixed bRunFlag);
-// ##### data/lua/lib.cliloc.lua
+mixed	CreateBodyGfxPartsFromModelIDArray	(mixed bodyid,mixed parentgfx,mix=
ed partsarr,mixed modelidarr,mixed iPrimaryHandItem,mixed iSecondaryHandIte=
m) {}
 =

 /// done reading cliloc uo/Cliloc.enu, index range from 500000 to 3011032
-mixed	GetIntLocText	(mixed intlocid,mixed textid);
-
-mixed	CreateClilocLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile);
+mixed	GetIntLocText	(mixed intlocid,mixed textid) {}
+
+mixed	CreateClilocLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile) {}
 =

 /// override_file can be nil
-mixed	CreateClilocLoaderFullFile	(mixed base_file,mixed override_file,mixe=
d bWarnOnMissingFile);
-// ##### data/lua/lib.3d.cam.lua
-
-mixed	Renderer3D::CamKeyUp	(mixed key);
-
-mixed	Renderer3D::CamKeyDown	(mixed key);
-
-mixed	Renderer3D::InitLocalCam	(mixed x,mixed y,mixed z);
-
-mixed	Renderer3D::CamChangeZoom	(mixed add);
-
-/// targetmode can be nil, then the current mode is simply increased
-mixed	Renderer3D::ChangeCamMode	(mixed targetmode);
-// ##### data/lua/lib.compass.lua
-
-mixed	SetCompassMapIndex	(mixed iMapIndex);
+mixed	CreateClilocLoaderFullFile	(mixed base_file,mixed override_file,mixe=
d bWarnOnMissingFile) {}
+
+mixed	SetCompassMapIndex	(mixed iMapIndex) {}
 =

 /// factor > 1 increases sight radius
 /// zoom map in compass, called from lib.input.lua on keypress (,.)
-mixed	ZoomCompass	(mixed factor);
+mixed	ZoomCompass	(mixed factor) {}
 =

 /// show/hide compass, called from lib.input.lua on keypress (n)
-mixed	ToggleCompass	(mixed bKeyIsDown);
-// ##### data/lua/lib.speech.lua
+mixed	ToggleCompass	(mixed bKeyIsDown) {}
 =

 /// speech.mul loader
 /// Keywords detected from client-chat, converted back to index id and sen=
d to server
 /// see also http://doc.wpdev.org/formats/speech.html
-mixed	GetSpeechID	(mixed text);
-
-mixed	CreateSpeechLoader	(mixed loadertype,mixed base_file,mixed bWarnOnMi=
ssingFile);
+mixed	GetSpeechID	(mixed text) {}
+
+mixed	CreateSpeechLoader	(mixed loadertype,mixed base_file,mixed bWarnOnMi=
ssingFile) {}
 =

 /// TODO : Unicode ?
 /// speech.mul values (index,length) are BigEndian
-mixed	CreateSpeechLoaderFullFile	(mixed base_file,mixed bWarnOnMissingFile=
);
-// ##### data/lua/lib.granny.lua
-
-mixed	CreateGrannyLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile);
+mixed	CreateSpeechLoaderFullFile	(mixed base_file,mixed bWarnOnMissingFile=
) {}
+
+mixed	CreateGrannyLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile) {}
 =

 /// retrieves or creates a skeleton and fills it with bones from the first=
 animation
 /// local skeleton =3D GetOrCreateSkeleton(bodyid)
 /// create the skeleton before creating any entities of this bodyid
-mixed	GetOrCreateSkeleton	(mixed bodyid);
+mixed	GetOrCreateSkeleton	(mixed bodyid) {}
 =

 /// retrieves or creates a granny animation and loads it into the skeleton=
 used for this bodytype
-mixed	LoadGrannyAnim	(mixed bodyid,mixed animid,mixed skeleton,mixed bodyp=
artsamples);
+mixed	LoadGrannyAnim	(mixed bodyid,mixed animid,mixed skeleton,mixed bodyp=
artsamples) {}
 =

 /// GetAnimPath(234,0) returns something like "uo/Models/Animals/Deer_Stag=
_Walk.grn"
 /// Models.txt : 234 2 0 FFFFFFFF 0 1.3 1.3 1.3 deer_stag
 /// Animal.lst : 0 Walk
-mixed	GetAnimPath	(mixed mobileartid,mixed animid);
+mixed	GetAnimPath	(mixed mobileartid,mixed animid) {}
 =

 /// GetAnimName(400,23) looks in Human.lst for animid 23 and returns "Hors=
e_Walk_01"
 /// determines "type" (human,animal,monster,sea,other) from the second col=
umn in the Models.txt
 /// Human.lst : 23 Horse_Walk_01
-mixed	GetAnimName	(mixed mobileartid,mixed animid);
+mixed	GetAnimName	(mixed mobileartid,mixed animid) {}
 =

 /// loads an anim info file, like Monster.lst
-mixed	LoadGrannyAnimInfo	(mixed filepath);
+mixed	LoadGrannyAnimInfo	(mixed filepath) {}
 =

 /// ##### ##### ##### ##### ##### rest
 /// returns true if female
-mixed	IsBodyIDFemale	(mixed bodyid);
-
-mixed	IsBodyIDHuman	(mixed bodyid);
-
-mixed	GrannyTextureHook	(mixed x);
+mixed	IsBodyIDFemale	(mixed bodyid) {}
+
+mixed	IsBodyIDHuman	(mixed bodyid) {}
+
+mixed	GrannyTextureHook	(mixed x) {}
 =

 /// takes the result of GetGrannyTextureName as paramter
 /// transforms Ut128_Hat_Wide_Brim.tga into Ut128_Hat_Wide_Brim_M.tga
 /// assumes suffixlength =3D 4 (.tga)
-mixed	GetGrannyTextureMaskName	(mixed texname);
-
-mixed	GetGrannyMat	(mixed modelid,mixed hue,mixed mygranny);
+mixed	GetGrannyTextureMaskName	(mixed texname) {}
+
+mixed	GetGrannyMat	(mixed modelid,mixed hue,mixed mygranny) {}
 =

 /// some tests if the granny model format is as expected (for models, not =
for anims)
-mixed	CheckGrannyModel	(mixed granny);
-
-mixed	GetGrannyParamGroups	(mixed granny);
+mixed	CheckGrannyModel	(mixed granny) {}
+
+mixed	GetGrannyParamGroups	(mixed granny) {}
 =

 /// index is 0 by default, more than one texture per granny is currently n=
ot supported
-mixed	GetGrannyTextureName	(mixed granny,mixed index);
-
-mixed	GetGrannyMeshName	(mixed modelid,mixed skeletonname,mixed hue);
-
-mixed	GetGrannyModelLoader	(mixed modelid);
-
-mixed	LoadGrannyModelInfo	(mixed filepath);
-
-mixed	GetGrannyModelInfo	(mixed modelid);
-
-mixed	TestGranny	(mixed modelid);
-// ##### data/lua/lib.data.lua
+mixed	GetGrannyTextureName	(mixed granny,mixed index) {}
+
+mixed	GetGrannyMeshName	(mixed modelid,mixed skeletonname,mixed hue) {}
+
+mixed	GetGrannyModelLoader	(mixed modelid) {}
+
+mixed	LoadGrannyModelInfo	(mixed filepath) {}
+
+mixed	GetGrannyModelInfo	(mixed modelid) {}
+
+mixed	TestGranny	(mixed modelid) {}
 =

 /// nil if not wearable
-mixed	GetPaperdollLayerFromTileType	(mixed iTileTypeID);
-
-mixed	GetStaticTileTypeName	(mixed iTileTypeID);
-
-mixed	GetStaticTileTypeFlags	(mixed iTileTypeID);
+mixed	GetPaperdollLayerFromTileType	(mixed iTileTypeID) {}
+
+mixed	GetStaticTileTypeName	(mixed iTileTypeID) {}
+
+mixed	GetStaticTileTypeFlags	(mixed iTileTypeID) {}
 =

 /// info on statics, dynamics, items in containers, wearables etc (everyth=
ing except terrain)
-mixed	GetStaticTileType	(mixed iTileTypeID);
-
-mixed	GetArtBitMask	(mixed iArtID);
+mixed	GetStaticTileType	(mixed iTileTypeID) {}
+
+mixed	GetArtBitMask	(mixed iArtID) {}
 =

 /// [[
-mixed	old_GetArtMat	(mixed iArtID,mixed iHue);
-
-mixed	SaveUOModelImageToFile	(mixed rtt,mixed texname);
+mixed	old_GetArtMat	(mixed iArtID,mixed iHue) {}
+
+mixed	SaveUOModelImageToFile	(mixed rtt,mixed texname) {}
 =

 /// New GetArtMat with RTT support
-mixed	GetArtMat	(mixed iArtID,mixed iHue);
-
-mixed	GetArtBillBoardMat	(mixed iArtID,mixed iHue);
+mixed	GetArtMat	(mixed iArtID,mixed iHue) {}
+
+mixed	GetArtBillBoardMat	(mixed iArtID,mixed iHue) {}
 =

 /// GetArtSize from gArtMatCache or generateSize
-mixed	GetArtSize	(mixed iArtID,mixed iHue);
-
-mixed	GetGumpBitMask	(mixed iGumpID);
-
-mixed	GetGumpMat	(mixed iGumpID,mixed iHue);
-
-mixed	GetGumpSize	(mixed iGumpID);
-
-mixed	GetTexMapMat	(mixed iTexMapID);
-
-mixed	GetTexMapSize	(mixed iTexMapID);
+mixed	GetArtSize	(mixed iArtID,mixed iHue) {}
+
+mixed	GetGumpBitMask	(mixed iGumpID) {}
+
+mixed	GetGumpMat	(mixed iGumpID,mixed iHue) {}
+
+mixed	GetGumpSize	(mixed iGumpID) {}
+
+mixed	GetTexMapMat	(mixed iTexMapID) {}
+
+mixed	GetTexMapSize	(mixed iTexMapID) {}
 =

 /// --------------------------------------- the following parts are copied=
 from lugre and modified, should be merged into lugre ---------------------=
----------------------
 /// this is normally in lugre - just a bit modified - should be removed so=
metimes
-mixed	GetMeshPreviewX	(mixed meshname,mixed res,mixed angh,mixed angv,mixe=
d pixelformat,mixed r,mixed g,mixed b,mixed a);
-// ##### data/lua/lib.gfm.lua
-
-mixed	GumpButtonSetOver (widget) widget.gfx::SetMaterial	(mixed widget.mat=
_over);
-
-mixed	GumpButtonSetNormal (widget) widget.gfx::SetMaterial	(mixed widget.m=
at_normal);
-
-mixed	GumpButtonSetPressed (widget) widget.gfx::SetMaterial	(mixed widget.=
mat_pressed);
+mixed	GetMeshPreviewX	(mixed meshname,mixed res,mixed angh,mixed angv,mixe=
d pixelformat,mixed r,mixed g,mixed b,mixed a) {}
 =

 /// creates a button with mouseover and pressed effect
 /// w,h can be left out to determine automatically
-mixed	MakeGumpButton	(mixed parent,mixed gumpid_normal,mixed gumpid_over,m=
ixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefaul=
t);
+mixed	MakeGumpButton	(mixed parent,mixed gumpid_normal,mixed gumpid_over,m=
ixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefaul=
t) {}
 =

 /// creates a checkbox-button with automatic normal/checked graphic
 /// w,h can be left out to determine automatically
-mixed	MakeGumpCheckBox	(mixed parent,mixed bChecked,mixed gumpid_normal,mi=
xed gumpid_checked,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefault=
);
+mixed	MakeGumpCheckBox	(mixed parent,mixed bChecked,mixed gumpid_normal,mi=
xed gumpid_checked,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefault=
) {}
 =

 /// creates a button with mouseover and pressed effect, onClickFunction ge=
ts called onclick :)
 /// onClickFunction(widget,mousebutton)
 /// w,h can be left out to determine automatically
-mixed	MakeGumpButtonFunctionOnClick	(mixed parent,mixed gumpid_normal,mixe=
d gumpid_over,mixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed on=
ClickFunction);
-
-mixed	MakeBorderGump	(mixed parent,mixed iBaseID,mixed x,mixed y,mixed cx,=
mixed cy);
+mixed	MakeGumpButtonFunctionOnClick	(mixed parent,mixed gumpid_normal,mixe=
d gumpid_over,mixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed on=
ClickFunction) {}
+
+mixed	MakeBorderGump	(mixed parent,mixed iBaseID,mixed x,mixed y,mixed cx,=
mixed cy) {}
 =

 /// sPart is an index of gBorderGumpIndexAdd, eg "LT", "M" ,...
-mixed	MakeBorderGumpPart	(mixed parent,mixed iGumpID,mixed x,mixed y,mixed=
 cx,mixed cy,mixed skip_rows_from_top,mixed hueid);
+mixed	MakeBorderGumpPart	(mixed parent,mixed iGumpID,mixed x,mixed y,mixed=
 cx,mixed cy,mixed skip_rows_from_top,mixed hueid) {}
 =

 /// Art image for Gumps
-mixed	MakeArtGumpPart	(mixed parent,mixed iArtID,mixed x,mixed y,mixed cx,=
mixed cy,mixed skip_rows_from_top,mixed hueid);
-
-mixed	GumpTestAdd	(mixed i);
-
-mixed	CreateGumpDlgFromGfm	(mixed path);
-
-mixed	GumpDlgAddGfmControlNode	(mixed dialog,mixed node);
-
-mixed	GfmDump	(mixed path);
-// ##### data/lua/lib.journal.lua
-
-mixed	RegisterJournalEntryType	(mixed name);
-
-mixed	JournalAddEntry	(mixed entrytype,mixed ...);
-
-mixed	ShowJournalPage	(mixed pagenum);
-// ##### data/lua/lib.debug.lua
-
-static mixed	DebugStartFunctionLog () debug::sethook	(mixed DebugHook_Call=
Print,mixed "cr");
-
-static mixed	DebugStacktraceFunctionName (level) return debug::getinfo	(mi=
xed level+1,mixed "n");
-
-mixed	DebugStacktraceFunctionDescr	(mixed level);
-
-mixed	DebugHook_CallPrint	(mixed event);
-
-mixed	DebugPrintCallCountTopX	(mixed title,mixed fun,mixed minval);
-// ##### data/lua/lib.skill.lua
+mixed	MakeArtGumpPart	(mixed parent,mixed iArtID,mixed x,mixed y,mixed cx,=
mixed cy,mixed skip_rows_from_top,mixed hueid) {}
+
+mixed	GumpTestAdd	(mixed i) {}
+
+mixed	CreateGumpDlgFromGfm	(mixed path) {}
+
+mixed	GumpDlgAddGfmControlNode	(mixed dialog,mixed node) {}
+
+mixed	GfmDump	(mixed path) {}
+
+mixed	RegisterJournalEntryType	(mixed name) {}
+
+mixed	JournalAddEntry	(mixed entrytype,mixed ...) {}
+
+mixed	ShowJournalPage	(mixed pagenum) {}
+
+mixed	DebugStacktraceFunctionDescr	(mixed level) {}
+
+mixed	DebugHook_CallPrint	(mixed event) {}
+
+mixed	DebugPrintCallCountTopX	(mixed title,mixed fun,mixed minval) {}
 =

 /// sets a skill value and lock state
 /// lockstate: (0=3Dup, 1=3Ddown, 2=3Dlocked)
-mixed	SkillUpdate	(mixed skillid,mixed value,mixed base_value,mixed lockst=
ate);
-
-mixed	(widget,mousebutton) dialog::SetSkillLevelState	(mixed skill.skillid=
,mixed 1);
-
-mixed	(widget,mousebutton) dialog::SetSkillLevelState	(mixed skill.skillid=
,mixed 2);
-
-mixed	(widget,mousebutton) dialog::SetSkillLevelState	(mixed skill.skillid=
,mixed 0);
+mixed	SkillUpdate	(mixed skillid,mixed value,mixed base_value,mixed lockst=
ate) {}
 =

 /// creates a quickcast button at the given position
-mixed	CreateQuickCastButton	(mixed x,mixed y,mixed name,mixed fun);
-// ##### data/lua/net.walk.lua
-
-mixed	Request_Movement	(mixed iDir,mixed bRunning);
-
-mixed	WalkLog	(mixed ...);
+mixed	CreateQuickCastButton	(mixed x,mixed y,mixed name,mixed fun) {}
+
+mixed	Request_Movement	(mixed iDir,mixed bRunning) {}
+
+mixed	WalkLog	(mixed ...) {}
 =

 /// note : according to packetguides, the order of the key-use is not impo=
rtant
-mixed	FastWalk_Init	(mixed keyarr);
-
-static mixed	FastWalk_PushKey (key) WalkLog("FastWalk_PushKey",key) table:=
:insert	(mixed gFastwalkStack,mixed key);
-
-static mixed	FastWalk_CountKeys () return table::getn	(mixed gFastwalkStac=
k);
+mixed	FastWalk_Init	(mixed keyarr) {}
 =

 /// fulldir CAN include runflag
-mixed	SetPlayerPos	(mixed xloc,mixed yloc,mixed zloc,mixed fulldir);
+mixed	SetPlayerPos	(mixed xloc,mixed yloc,mixed zloc,mixed fulldir) {}
 =

 /// just look in dir, don't start walking, doesn't need clientside collisi=
on detection
-mixed	WalkStep_TurnToDir	(mixed iDir);
+mixed	WalkStep_TurnToDir	(mixed iDir) {}
 =

 /// clientside collision check, returns true if passable
-mixed	WalkStep_CanWalkInDir	(mixed iDir);
+mixed	WalkStep_CanWalkInDir	(mixed iDir) {}
 =

 /// does collision detection, tries neighboring dirs if direct walk is blo=
cked
-mixed	WalkStep_WalkInDir	(mixed iDir,mixed bRunFlag,mixed bTrySides);
-
-mixed	WalkStep_WalkToPosSimple	(mixed xloc,mixed yloc,mixed bRunFlag,mixed=
 bTrySides);
-
-mixed	WalkGetInterval	(mixed bRunFlag);
+mixed	WalkStep_WalkInDir	(mixed iDir,mixed bRunFlag,mixed bTrySides) {}
+
+mixed	WalkStep_WalkToPosSimple	(mixed xloc,mixed yloc,mixed bRunFlag,mixed=
 bTrySides) {}
+
+mixed	WalkGetInterval	(mixed bRunFlag) {}
 =

 /// internal, don't call directly, no check for walkable, only checks for =
time
-mixed	ExecWalkRequestIfPossible	(mixed iDir,mixed bRunFlag);
+mixed	ExecWalkRequestIfPossible	(mixed iDir,mixed bRunFlag) {}
 =

 /// internal, don't call directly
-mixed	SendWalkRequest	(mixed iFullDir,mixed iSeqNum,mixed iFastKey);
+mixed	SendWalkRequest	(mixed iFullDir,mixed iSeqNum,mixed iFastKey) {}
 =

 /// TODO : is this the same as Send_Movement_Resync_Request ?
-mixed	Send_Accept_Block_Movement	(mixed seqnumber);
+mixed	Send_Accept_Block_Movement	(mixed seqnumber) {}
 =

 /// called from kPacket_Teleport
-mixed	NotifyTeleport	(mixed mobiledata);
-// ##### data/lua/lib.walking2.lua
-
-mixed	printwalkdebug	(mixed ...);
+mixed	NotifyTeleport	(mixed mobiledata) {}
+
+mixed	printwalkdebug	(mixed ...) {}
 =

 /// returns tiletype,zloc
-mixed	GetAbsTile	(mixed xloc,mixed yloc);
+mixed	GetAbsTile	(mixed xloc,mixed yloc) {}
 =

 /// Calc the average Z Value for the new Player pos (don't use this for ca=
lculations)
-mixed	AverageGroundHeight	(mixed bx,mixed by,mixed tx,mixed ty);
-
-mixed	isBridge	(mixed flag);
-
-mixed	isSurface	(mixed flag);
-
-mixed	isImpassable	(mixed flag);
+mixed	AverageGroundHeight	(mixed bx,mixed by,mixed tx,mixed ty) {}
+
+mixed	isBridge	(mixed flag) {}
+
+mixed	isSurface	(mixed flag) {}
+
+mixed	isImpassable	(mixed flag) {}
 =

 /// a little helper for GetWalkingBlockFlags(...)
-mixed	GetWalkingBlockFlagsHelper	(mixed zloc,mixed artid,mixed flaglist);
+mixed	GetWalkingBlockFlagsHelper	(mixed zloc,mixed artid,mixed flaglist) {}
 =

 /// returns an array of flags (impassable, surface, maptile)
 /// array might contain empty entries (meaning on the specific z level is =
neither something blocking nor a surface/maptile)
-mixed	GetWalkingBlockFlags	(mixed bx,mixed by,mixed tx,mixed ty);
+mixed	GetWalkingBlockFlags	(mixed bx,mixed by,mixed tx,mixed ty) {}
 =

 /// check for free space (!impassable), char is 15 zlevels tall
 /// if diagonalCheck is true land tiles above zloc+gMaxZ_Climb (resp. +5 f=
or maptiles) are blocking, underneath they are ignored
 /// returns true or false
-mixed	CheckZSpace	(mixed flaglist,mixed zloc,mixed diagonalCheck,mixed hei=
ght);
+mixed	CheckZSpace	(mixed flaglist,mixed zloc,mixed diagonalCheck,mixed hei=
ght) {}
 =

 /// check adjacent coordinates when walking diagonally
 /// OSI is not looking for a surface on those tiles, it only checks that t=
here is nothing blocking
 /// OSI takes the current z level to check for that, not the z level of th=
e target tile
 /// returns true or false
-mixed	CheckAdjacentTiles	(mixed bx,mixed by,mixed tx,mixed ty,mixed iDir,m=
ixed iStartZ);
+mixed	CheckAdjacentTiles	(mixed bx,mixed by,mixed tx,mixed ty,mixed iDir,m=
ixed iStartZ) {}
 =

 /// Can walk the tile, the tile's height and if the tile's a stair
 /// (about 30 in int, or 3.0 in float (*0.1) is the height of a door)
 /// two values are returned: is walkable, new Z Level
-mixed	GetNearestGroundLevel	(mixed xloc,mixed yloc,mixed iStartZ,mixed iDi=
r);
-// ##### data/lua/net.popup.lua
+mixed	GetNearestGroundLevel	(mixed xloc,mixed yloc,mixed iStartZ,mixed iDi=
r) {}
 =

 /// triggers -- which came from kPacket_Generic_SubCommand_DisplayPopup
-mixed	Send_PopupRequest	(mixed serial);
+mixed	Send_PopupRequest	(mixed serial) {}
 =

 /// sends kPacket_Generic_SubCommand_PopupEntrySelect after the user has c=
hoosen an answer to the popup
 /// which came from kPacket_Generic_SubCommand_DisplayPopup
 /// see also SendPopupChoice() from old iris
-mixed	Send_PopupAnswer	(mixed popupserial,mixed entrytag);
+mixed	Send_PopupAnswer	(mixed popupserial,mixed entrytag) {}
 =

 /// close global unique popup, for left-click-close-popup
-mixed	ClosePopUpMenu	(mixed widget);
+mixed	ClosePopUpMenu	(mixed widget) {}
 =

 /// TODO : check if popupmenu is already opened for this mobile ! (otherwi=
se it would be opened twice)
-mixed	DisplayPopupMenu	(mixed popupmenu);
-
-mixed	GetPopupEntryText	(mixed textid);
-// ##### data/lua/lib.gumpparser.lua
-
-mixed	ServerSideGump_GetParams	(mixed dialogId);
-
-mixed	CloseServerSideGump	(mixed playerId,mixed dialogId,mixed buttonId);
+mixed	DisplayPopupMenu	(mixed popupmenu) {}
+
+mixed	GetPopupEntryText	(mixed textid) {}
+
+mixed	ServerSideGump_GetParams	(mixed dialogId) {}
+
+mixed	CloseServerSideGump	(mixed playerId,mixed dialogId,mixed buttonId) {}
 =

 /// gGumpPositions[serial] =3D { x=3Dwidget.gfx:GetDerivedLeft() , y=3Dwid=
get.gfx:GetDerivedTop() } z.b.
-mixed	GumpParser	(mixed Gumpdata);
+mixed	GumpParser	(mixed Gumpdata) {}
 =

 /// [[
 /// Support for BR,B,I,U,BODY,DIV,COLOR,BASEFONT,CENTER needed
-mixed	HtmlParser	(mixed htmlstring);
+mixed	HtmlParser	(mixed htmlstring) {}
 =

 /// simple html parser (only center,basefont,br and color tags yep realize=
d)
 /// TODO : BODY, <A HREF=3D"HTTP://www.polserver.com">This is a link</A>
-mixed	HtmlParser	(mixed textstring);
-// ##### data/lua/lib.3d.map.lua
-
-/// these coordinates are in absolute map-blocks, all others are in chunks
-mixed	Renderer3D::UpdateMapCache	(mixed iMidX,mixed iMidY,mixed iRad);
-
-/// coords in chunks
-mixed	Renderer3D::LoadMapChunk	(mixed x,mixed y);
-
-/// coords in chunks
-mixed	Renderer3D::CreateMapChunk	(mixed x,mixed y);
-
-mixed	Renderer3D::IsZLayerVisible	(mixed layerZ);
-
-mixed	Renderer3D::UpdateStaticVisibility	(mixed entity);
-
-mixed	Renderer3D::UpdateDynamicVisibility	(mixed dynamic);
-
-mixed	Renderer3D::UpdateMobileVisibility	(mixed mobile);
-
-/// coords in chunks
-/// TODO : release anything else that was allocated in CreateMapChunk
-mixed	Renderer3D::DestroyMapChunk	(mixed x,mixed y,mixed chunk);
-// ##### data/lua/lib.static.lua
+mixed	HtmlParser	(mixed textstring) {}
 =

 /// used by lib.map.lua
 /// handles static models (walls, trees...)
 /// returns the model name with the given id
 /// TODO handle custom stuff?
-mixed	GetModelName	(mixed id);
-
-mixed	GetModelPath	(mixed id);
-
-mixed	HasModelOnlyOneUoArt_Cached	(mixed iTileTypeID);
+mixed	GetModelName	(mixed id) {}
+
+mixed	GetModelPath	(mixed id) {}
+
+mixed	HasModelOnlyOneUoArt_Cached	(mixed iTileTypeID) {}
 =

 /// returns true if the model has only one different material that is a uo=
art
-mixed	HasModelOnlyOneUoArt	(mixed iTileTypeID);
-
-mixed	GetStaticMeshName	(mixed iTileTypeID,mixed iHue);
-
-mixed	GetStaticMeshOrientation	(mixed iTileTypeID);
-// ##### data/lua/lib.oldwalk.lua
-
-mixed	OldWalkWarn	(mixed fname);
+mixed	HasModelOnlyOneUoArt	(mixed iTileTypeID) {}
+
+mixed	GetStaticMeshName	(mixed iTileTypeID,mixed iHue) {}
+
+mixed	GetStaticMeshOrientation	(mixed iTileTypeID) {}
+
+mixed	OldWalkWarn	(mixed fname) {}
 =

 /// sets the given tile coordinates as walk target
 /// bHaltBefore : if true, stop one field before the target
-mixed	SetAutoWalkTo	(mixed x,mixed y,mixed bHaltBefore);
+mixed	SetAutoWalkTo	(mixed x,mixed y,mixed bHaltBefore) {}
 =

 /// will follow a given mobile
-mixed	SetFollowMobile	(mixed serial);
-// ##### data/lua/lib.season.lua
-
-mixed	ParseHex2HexArray	(mixed arr);
+mixed	SetFollowMobile	(mixed serial) {}
+
+mixed	ParseHex2HexArray	(mixed arr) {}
 =

 /// Seasonal Ground Art/Map Translation (raw tiles)
-mixed	SeasonalMapTranslation	(mixed iTileTypeID,mixed iSeasonID);
+mixed	SeasonalMapTranslation	(mixed iTileTypeID,mixed iSeasonID) {}
 =

 /// Seasonal Dynamic & Static Art Translation (run tiles)
 /// eventuell (iTileTypeID + 16384)
-mixed	SeasonalStaticTranslation	(mixed iTileTypeID,mixed iSeasonID);
-// ##### data/lua/lib.tilefreewalk.lua
+mixed	SeasonalStaticTranslation	(mixed iTileTypeID,mixed iSeasonID) {}
 =

 /// ##### ##### ##### ##### ##### step
-mixed	InterpolateSquare	(mixed z00,mixed z10,mixed z01,mixed z11,mixed fx,=
mixed fy);
-
-/// ##### ##### ##### ##### ##### collision
-mixed	gTileFreeWalk::CollideWithWallMid	(mixed x,mixed y);
-
-mixed	gTileFreeWalk::CollideWithWallEdge	(mixed x,mixed y);
-
-/// scans the ground if clientpos entered a new tile, calculates walls
-mixed	gTileFreeWalk::ScanGroundIfNeeded	(mixed rx,mixed ry,mixed rz);
-
-mixed	GetGround	(mixed x,mixed y);
-
-/// returns the movement speed, dx,dy,dz is the direction of the movement
-/// the speed is dependant on the distance of the current pos to the last =
confirmed pos
-/// and on the direction of the movement
-mixed	gTileFreeWalk::GetClientSideSpeed	(mixed dx,mixed dy,mixed dz);
-
-/// ##### ##### ##### ##### ##### implementation (currently uo specific, w=
ill later be inserted from extern)
-mixed	gTileFreeWalk::NotifyPlayerMobileTeleport	(mixed mobile);
-
-mixed	gTileFreeWalk::NotifyPlayerMobileUpdate	(mixed mobile);
-
-mixed	gTileFreeWalk::Impl_SetLastRequestedUOPos	(mixed xloc,mixed yloc,mix=
ed zloc);
-
-mixed	gTileFreeWalk::Impl_SetLastConfirmedUOPos	(mixed xloc,mixed yloc,mix=
ed zloc);
-
-mixed	gTileFreeWalk::Impl_SetToPlayerPos	(mixed mobile);
-
-mixed	gTileFreeWalk::UOPosToLocal	(mixed xloc,mixed yloc,mixed zloc);
-
-mixed	gTileFreeWalk::LocalToUOPos	(mixed x,mixed y,mixed z);
-
-mixed	WalkLog2	(mixed ...);
-
-mixed	gTileFreeWalk::Impl_WalkRequestStep	(mixed bRunRequested);
-
-mixed	gTileFreeWalk::StuckFix	(mixed lx,mixed ly,mixed lz);
-
-mixed	gTileFreeWalk::SetViewDir	(mixed dx,mixed dy);
-
-/// fRequestedSpeed is the speed requested by the mousepos/keyboard, might=
 not be reached, e.g. when walking against a wall
-mixed	gTileFreeWalk::Impl_StepPlayer	(mixed fRequestedSpeed,mixed bRunRequ=
ested);
-
-/// input : rounded
-/// read new surrounding height info
-mixed	gTileFreeWalk::Impl_ScanGround	(mixed rx,mixed ry,mixed rz,mixed ox,=
mixed oy);
-
-mixed	RegisterZ	(mixed ldx,mixed ldy,mixed iNewZ);
-
-mixed	CheckDir	(mixed iDir);
-
-mixed	gTileFreeWalk::Impl_CalcWalkStep	(mixed xloc,mixed yloc,mixed zloc,m=
ixed iDir);
-
-/// ##### ##### ##### ##### ##### pathpoints
-/// the system remembers which path was walked clientside, and approximate=
s it for sending to the walk requests
-/// note : pathpoints can be impassable, happens during diagonal walk, don=
't send walk requests to those
-/// mark position as "reached", consuming neighboring pathpoints
-mixed	gTileFreeWalk::PathPoint_ReachPos	(mixed x,mixed y,mixed z);
-
-mixed	gTileFreeWalk::PathPoint_GetNth	(mixed n);
-
-mixed	gTileFreeWalk::PathPoint_Has	(mixed n);
-
-mixed	gTileFreeWalk::PathPoint_Push	(mixed x,mixed y,mixed z);
-
-mixed	gTileFreeWalk::RoundPos	(mixed x,mixed y,mixed z);
-
-mixed	gTileFreeWalk::SetPos_ClientSide	(mixed x,mixed y,mixed z);
-
-mixed	gTileFreeWalk::SetPos_LastConfirmed	(mixed x,mixed y,mixed z);
-
-mixed	gTileFreeWalk::SetPos_LastRequested	(mixed x,mixed y,mixed z);
-
-/// used for teleport and init
-mixed	gTileFreeWalk::SetPos_All	(mixed x,mixed y,mixed z);
-
-mixed	gTileFreeWalk::DebugMarkerGroup_Clear	(mixed groupname);
-
-mixed	gTileFreeWalk::DebugMarkerGroup_AddGfx	(mixed groupname,mixed gfx);
-
-mixed	gTileFreeWalk::DebugMarkerGroup_AddSphere	(mixed groupname,mixed x,m=
ixed y,mixed z,mixed fRad,mixed r,mixed g,mixed b);
-
-mixed	gTileFreeWalk::DebugMarkerGroup_AddCylinder	(mixed groupname,mixed x=
,mixed y,mixed z,mixed fRad,mixed fHeight,mixed r,mixed g,mixed b);
-
-/// up=3D+z
-mixed	gTileFreeWalk::DebugMarkerGroup_AddWall	(mixed groupname,mixed x1,mi=
xed y1,mixed z1,mixed x2,mixed y2,mixed z2,mixed h,mixed r,mixed g,mixed b);
-
-mixed	gTileFreeWalk::DelDebugMarker	(mixed markername);
-
-mixed	gTileFreeWalk::SetDebugMarker	(mixed markername,mixed x,mixed y,mixe=
d z,mixed dx,mixed dy,mixed dz,mixed r,mixed g,mixed b);
-
-mixed	gTileFreeWalk::UpdateDebugMarker	(mixed mymarker,mixed matname);
-// ##### data/lua/net.cursor.lua
-
-mixed	SetUOCursor	(mixed iIndex);
+mixed	InterpolateSquare	(mixed z00,mixed z10,mixed z01,mixed z11,mixed fx,=
mixed fy) {}
+
+mixed	GetGround	(mixed x,mixed y) {}
+
+mixed	WalkLog2	(mixed ...) {}
+
+mixed	RegisterZ	(mixed ldx,mixed ldy,mixed iNewZ) {}
+
+mixed	CheckDir	(mixed iDir) {}
+
+mixed	SetUOCursor	(mixed iIndex) {}
 =

 /// automatic texture correction
 /// TODO : add gumpart
-mixed	SetDragIcon	(mixed matname,mixed w,mixed h,mixed offx,mixed offy);
-
-mixed	Send_Target_Ground	(mixed x,mixed y,mixed z);
-
-mixed	Send_Target_Static	(mixed x,mixed y,mixed z,mixed entity);
-
-mixed	Send_Target_Item	(mixed item);
-
-mixed	Send_Target_Mobile	(mixed mobile);
-
-mixed	Send_Target_Dynamic	(mixed dynamic);
+mixed	SetDragIcon	(mixed matname,mixed w,mixed h,mixed offx,mixed offy) {}
+
+mixed	Send_Target_Ground	(mixed x,mixed y,mixed z) {}
+
+mixed	Send_Target_Static	(mixed x,mixed y,mixed z,mixed entity) {}
+
+mixed	Send_Target_Item	(mixed item) {}
+
+mixed	Send_Target_Mobile	(mixed mobile) {}
+
+mixed	Send_Target_Dynamic	(mixed dynamic) {}
 =

 /// Send Targetcursor (0x6c)
-mixed	Send_Target	(mixed bIsPos,mixed flag,mixed serial,mixed x,mixed y,mi=
xed z,mixed model);
-// ##### data/lua/lib.test.lua
+mixed	Send_Target	(mixed bIsPos,mixed flag,mixed serial,mixed x,mixed y,mi=
xed z,mixed model) {}
 =

 /// count how often every type of static occurs on the map
-mixed	AnalyseStatics	(mixed index);
-
-mixed	LuaBitwiseTest_FIFO	(mixed a);
-
-mixed	LuaBitwiseTest_Hex2Num	(mixed a);
+mixed	AnalyseStatics	(mixed index) {}
+
+mixed	LuaBitwiseTest_FIFO	(mixed a) {}
+
+mixed	LuaBitwiseTest_Hex2Num	(mixed a) {}
 =

 /// assert(a & b =3D b), pass arguments as strings
-mixed	LuaBitwiseTest_Pair	(mixed a,mixed b);
+mixed	LuaBitwiseTest_Pair	(mixed a,mixed b) {}
 =

 /// assert(a & b =3D b), pass arguments as strings
-mixed	LuaBitwiseTest_Pair2	(mixed a,mixed b);
+mixed	LuaBitwiseTest_Pair2	(mixed a,mixed b) {}
 =

 /// expression test
-mixed	TestExpr	(mixed code);
-// ##### data/lua/net.other.lua
+mixed	TestExpr	(mixed code) {}
 =

 /// TODO : readout checkboxes,radiobuttons and edit text fields
-mixed	GumpReturnMsg	(mixed playerserial,mixed gumpserial,mixed ret_value,m=
ixed params,mixed switchcount,mixed textcount);
+mixed	GumpReturnMsg	(mixed playerserial,mixed gumpserial,mixed ret_value,m=
ixed params,mixed switchcount,mixed textcount) {}
 =

 /// send combat request to server, triggers kPacket_SetPlayerWarmode
-mixed	Send_CombatMode	(mixed iWarMode);
+mixed	Send_CombatMode	(mixed iWarMode) {}
 =

 /// Request Attack to Serial
-mixed	Send_AttackReq	(mixed mobile_serial);
+mixed	Send_AttackReq	(mixed mobile_serial) {}
 =

 /// BYTE[2] unknown, always 2
 /// BYTE[2] selected spell(0-indexed)+scroll offset from sub 0x1b
-mixed	Send_Spell	(mixed spellid,mixed expansionflag);
+mixed	Send_Spell	(mixed spellid,mixed expansionflag) {}
 =

 /// TODO : at first check speech.mul keywords and send them to server
-mixed	Send_Speech	(mixed speech);
+mixed	Send_Speech	(mixed speech) {}
 =

 /// kPacket_Speech_Unicode
-mixed	Send_UnicodeSpeech	(mixed ascistr,mixed mode,mixed huecolor,mixed fo=
nt);
-// ##### data/lua/lib.uodragdrop.lua
-
-mixed	SetDragItem	(mixed  item,mixed offx,mixed offy );
-
-mixed	PrepareDragPaperdollItem	(mixed item);
-
-mixed	PrepareDragContainerItem	(mixed item);
+mixed	Send_UnicodeSpeech	(mixed ascistr,mixed mode,mixed huecolor,mixed fo=
nt) {}
+
+mixed	SetDragItem	(mixed  item,mixed offx,mixed offy ) {}
+
+mixed	PrepareDragPaperdollItem	(mixed item) {}
+
+mixed	PrepareDragContainerItem	(mixed item) {}
 =

 /// SiENcE: just skip Multis here
 /// Todo: Multi support
-mixed	PrepareDragDynamic	(mixed dynamic);
-
-mixed	PrepareUODragDrop	(mixed item,mixed widget,mixed matname,mixed w,mix=
ed h,mixed offx,mixed offy);
-
-mixed	DestroyDragDropItemBySerial	(mixed serial);
-// ##### data/lua/lib.packet.lua
-// ##### data/lua/lib.sound.iris.lua
+mixed	PrepareDragDynamic	(mixed dynamic) {}
+
+mixed	PrepareUODragDrop	(mixed item,mixed widget,mixed matname,mixed w,mix=
ed h,mixed offx,mixed offy) {}
+
+mixed	DestroyDragDropItemBySerial	(mixed serial) {}
 =

 /// same like lugre:SoundPlayEffect but written for UO specific sound.mul
-mixed	SoundPlayEffect_UO	(mixed x,mixed y,mixed z,mixed effect);
-
-mixed	SoundPlayMusicById	(mixed musicid);
-// ##### data/lua/lib.spellbooks.lua
-
-mixed	Convert_Spellbookcontainer	(mixed matrix,mixed container);
-
-mixed	Open_Spellbook	(mixed spellbook);
-// ##### data/lua/main.lua
-
-mixed	CommandLineArgument	(mixed i,mixed s);
-// ##### data/lua/net.trade.lua
-
-mixed	CompareSerialAsc	(mixed a,mixed b);
-
-mixed	CompareSerialDesc	(mixed a,mixed b);
+mixed	SoundPlayEffect_UO	(mixed x,mixed y,mixed z,mixed effect) {}
+
+mixed	SoundPlayMusicById	(mixed musicid) {}
+
+mixed	Convert_Spellbookcontainer	(mixed matrix,mixed container) {}
+
+mixed	Open_Spellbook	(mixed spellbook) {}
+
+mixed	CommandLineArgument	(mixed i,mixed s) {}
+
+mixed	CompareSerialAsc	(mixed a,mixed b) {}
+
+mixed	CompareSerialDesc	(mixed a,mixed b) {}
 =

 /// common initialisation for kPacket_Shop_Data(buy) and kPacket_Shop_Sell
-mixed	ShopCommonInit	(mixed shop);
+mixed	ShopCommonInit	(mixed shop) {}
 =

 /// empty dummy placeholder, might be interesting to remember prices and g=
oods later =3D)
-mixed	RememberShop	(mixed shop);
+mixed	RememberShop	(mixed shop) {}
 =

 /// npc trading
 /// see also old iris trade.csl : net_buywindow
 /// used for both buy and sell npc-shop
-mixed	OpenShopDialog	(mixed shop);
+mixed	OpenShopDialog	(mixed shop) {}
 =

 /// build one page for shop inventor dialog
-mixed	ShopListShowPage	(mixed dialog,mixed pagenum);
+mixed	ShopListShowPage	(mixed dialog,mixed pagenum) {}
 =

 /// build one page for bill dialog
 /// see also trade.csl handler_onartmousedown from old iris
-mixed	ShopBillShowPage	(mixed dialog,mixed pagenum);
-
-mixed	ShopListRebuildCurrentPage	(mixed dialog);
-
-mixed	ShopBillRebuildCurrentPage	(mixed dialog);
-
-mixed	ShopAddToBill	(mixed shop,mixed good,mixed amount);
-
-mixed	GetShopMobileID	(mixed shop);
+mixed	ShopBillShowPage	(mixed dialog,mixed pagenum) {}
+
+mixed	ShopListRebuildCurrentPage	(mixed dialog) {}
+
+mixed	ShopBillRebuildCurrentPage	(mixed dialog) {}
+
+mixed	ShopAddToBill	(mixed shop,mixed good,mixed amount) {}
+
+mixed	GetShopMobileID	(mixed shop) {}
 =

 /// This is sent by the client to buy items from a vendor.
 /// TODO : This is sent by the server to remove the list.
 /// see also old iris handler_buyaccept
 /// the serial sent must be the serial of the mobile where the shop-contai=
ner-item is equipped (usually on kLayer_NPCBuyRestock)
-mixed	SendBuyAccept	(mixed shop,mixed goods);
+mixed	SendBuyAccept	(mixed shop,mixed goods) {}
 =

 /// send to finish the npc-sell shop
 /// similar to SendBuyAccept, but there are a few differences
-mixed	SendSellAccept	(mixed shop,mixed goods);
-
-mixed	ShopAccept	(mixed shop);
-// ##### data/lua/lib.net.lua
+mixed	SendSellAccept	(mixed shop,mixed goods) {}
+
+mixed	ShopAccept	(mixed shop) {}
 =

 /// TODO : return false on failure! handle socket creation failed!!
 /// function with key is used for both logins (loginserver/gameserver)
-mixed	NetConnectWithKey	(mixed host,mixed port,mixed key);
-// ##### data/lua/lib.3d.combat.lua
-
-/// creates a moving and disapearing damage text at the given tile positio=
n (x,y,z) (lifetime in sec, speed in ?)
-mixed	Renderer3D::CombatCreateDamageText	(mixed text,mixed x,mixed y,mixed=
 z,mixed r,mixed g,mixed b,mixed a,mixed size,mixed speed,mixed lifetime);
-
-/// helper to plop hp adds and damage
-mixed	Renderer3D::NotifyHPChange	(mixed serial,mixed oldhp,mixed newhp);
-// ##### data/lua/lib.3d.renderer.lua
-
-/// warning !you still have to do 0.1 z factor seperately
-mixed	Renderer3D::UOPosToLocal	(mixed xloc,mixed yloc,mixed z);
-
-/// warning ! you still have to do 0.1 z factor seperately
-mixed	Renderer3D::LocalToUOPos	(mixed xlocal,mixed ylocal,mixed zlocal);
-
-/// param and result in DEGREES
-mixed	Renderer3D::TranslateOsiWalkAngle	(mixed x);
-
-mixed	Renderer3D::SetMapEnvironment	(mixed bUnderGround);
-
-/// warning ! this gets called a lot while user resizes window
-mixed	Renderer3D::NotifyMainWindowResized	(mixed w,mixed h);
-
-mixed	Renderer3D::CorrectAspectRatio	(mixed w,mixed h);
-
-/// TODO: manage particle effects, esp. huedfx, decide between effecttypes
-mixed	Renderer3D::AddEffect	(mixed  effect );
-
-mixed	Renderer3D::AddHuedEffect	(mixed  effect,mixed relx,mixed rely,mixed=
 relz );
-
-mixed	Renderer3D::RemoveHuedEffect	(mixed  effect );
-
-/// TODO : check particle before
-mixed	Renderer3D::AddParticleEffect	(mixed  effect,mixed particlename,mixe=
d relx,mixed rely,mixed relz,mixed scalex,mixed scaley,mixed scalez);
-
-mixed	Renderer3D::ShowQuestArrow	(mixed  active,mixed x,mixed y );
-// ##### data/lua/lib.filepath.lua
-
-mixed	CorrectPath	(mixed path);
+mixed	NetConnectWithKey	(mixed host,mixed port,mixed key) {}
+
+mixed	CorrectPath	(mixed path) {}
 =

 /// dann machs doch so, dass gUOPath nur dran gehaengt wird, wenn
-mixed	Addfilepath	(mixed filepath);
-
-mixed	CorrectGrannyPath	(mixed filename);
-// ##### data/lua/2d/lib.2d.renderer.luac
-// ##### data/lua/2d/lib.2d.config.lua
-// ##### data/lua/lib.renderer.lua
+mixed	Addfilepath	(mixed filepath) {}
+
+mixed	CorrectGrannyPath	(mixed filename) {}
 =

 /// common utils for all renderers
-mixed	GetRendererName	(mixed renderer);
-
-mixed	ActivateRenderer	(mixed newrenderer);
-// ##### data/lua/lib.mainmenu.lua
-
-mixed	MainMenuConnectToShard	(mixed shard,mixed shardname,mixed loginname,=
mixed loginpass);
+mixed	GetRendererName	(mixed renderer) {}
+
+mixed	ActivateRenderer	(mixed newrenderer) {}
+
+mixed	MainMenuConnectToShard	(mixed shard,mixed shardname,mixed loginname,=
mixed loginpass) {}
 =

 /// gameserverlist selection
-mixed	MainMenuShowServerList	(mixed serverlist);
-
-mixed	MainMenuShowCharList	(mixed charlist);
-
-mixed	MainMenuShowCharCreationDialog	(mixed template,mixed slot);
-
-mixed	MainMenuShowLoginDialog	(mixed shard,mixed shardname);
-
-mixed	GetShardButtonText	(mixed shard,mixed shardname);
-
-mixed	SetMainMenuCam	(mixed roth,mixed rotv);
-// ##### data/lua/lib.pagedialog.lua
-// ##### data/lua/lib.stitchin.lua
-
-mixed	CreateStitchinLoader	(mixed loadertype,mixed filepath);
+mixed	MainMenuShowServerList	(mixed serverlist) {}
+
+mixed	MainMenuShowCharList	(mixed charlist) {}
+
+mixed	MainMenuShowCharCreationDialog	(mixed template,mixed slot) {}
+
+mixed	MainMenuShowLoginDialog	(mixed shard,mixed shardname) {}
+
+mixed	GetShardButtonText	(mixed shard,mixed shardname) {}
+
+mixed	SetMainMenuCam	(mixed roth,mixed rotv) {}
+
+mixed	CreateStitchinLoader	(mixed loadertype,mixed filepath) {}
 =

 /// changes old based on newinfo, returns nil if removed
-mixed	DoStitchinSingle	(mixed newinfo,mixed oldinfo,mixed oldid);
+mixed	DoStitchinSingle	(mixed newinfo,mixed oldinfo,mixed oldid) {}
 =

 /// takes an array of modelids and returns an array of modelids, does some=
 dark magic in between
 /// ORDER IS IMPORTANT
 /// elements of modelidarr have the form {hue=3D123,modelid=3D123}
-mixed	DoStitchin	(mixed gStitchinLoader,mixed modelidarr);
-// ##### data/lua/lib.debugmenu.lua
-
-mixed	RepairEquipIndex	(mixed arr);
-
-mixed	DebugMenuSetParam1	(mixed value);
-
-mixed	DebugMenuChangeParam1	(mixed delta);
-
-mixed	DebugMenuJumpToArtID	(mixed iArtID);
+mixed	DoStitchin	(mixed gStitchinLoader,mixed modelidarr) {}
+
+mixed	RepairEquipIndex	(mixed arr) {}
+
+mixed	DebugMenuSetParam1	(mixed value) {}
+
+mixed	DebugMenuChangeParam1	(mixed delta) {}
+
+mixed	DebugMenuJumpToArtID	(mixed iArtID) {}
 =

 /// iMaxW,iMaxH : can be nil for unlimited size
-mixed	MakeUOArtImageForDialog	(mixed iTileTypeID,mixed iHue,mixed iMaxW,mi=
xed iMaxH);
-
-mixed	ShowDebugMenuArtList	(mixed iStart);
-// ##### data/lua/lib.fallback.lua
-
-mixed	IsArtBillboardFallBackSkipped	(mixed iTranslatedTileTypeID);
+mixed	MakeUOArtImageForDialog	(mixed iTileTypeID,mixed iHue,mixed iMaxW,mi=
xed iMaxH) {}
+
+mixed	ShowDebugMenuArtList	(mixed iStart) {}
+
+mixed	IsArtBillboardFallBackSkipped	(mixed iTranslatedTileTypeID) {}
 =

 /// called from gSkippedFallBackFilePath
-mixed	RegisterSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID);
-
-mixed	AddSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID);
-
-mixed	MeshIsPseudoBillBoard	(mixed iTranslatedTileTypeID);
-
-mixed	ShowFallBackTool	(mixed x,mixed y,mixed z,mixed radius);
-
-mixed	ListFallBackTypesNearPos	(mixed x,mixed y,mixed z,mixed radius);
-
-mixed	List3DStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius);
-
-mixed	List3DDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius);
-// ##### data/lua/gui/gui.main.lua
-// ##### data/lua/gui/gui.paperdoll.lua
+mixed	RegisterSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID) {}
+
+mixed	AddSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID) {}
+
+mixed	MeshIsPseudoBillBoard	(mixed iTranslatedTileTypeID) {}
+
+mixed	ShowFallBackTool	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	ListFallBackTypesNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	List3DStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	List3DDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
 =

 /// called from kPacket_Open_Paperdoll
-mixed	HandleOpenPaperdoll	(mixed paperdoll);
+mixed	HandleOpenPaperdoll	(mixed paperdoll) {}
 =

 /// rebuild needed on update to have correct layerorder
 /// paperdoll.bIsPlayer (check if is player or npc)
-mixed	RebuildPaperdoll	(mixed paperdoll);
+mixed	RebuildPaperdoll	(mixed paperdoll) {}
 =

 /// don't call this directly, use RebuildPaperdoll() instead (need to rebu=
ild completely on change because of layerorder)
-mixed	CreatePaperdollItemWidget	(mixed paperdoll,mixed item,mixed base_id);
+mixed	CreatePaperdollItemWidget	(mixed paperdoll,mixed item,mixed base_id)=
 {}
 =

 /// destroys old widgets if neccessary
-mixed	DestroyPaperdollItemWidgets	(mixed paperdoll);
+mixed	DestroyPaperdollItemWidgets	(mixed paperdoll) {}
 =

 /// triggered by mobile destruction
-mixed	DestroyPaperdollByMobileSerial	(mixed serial);
+mixed	DestroyPaperdollByMobileSerial	(mixed serial) {}
 =

 /// close dialog and destroys all widgets
-mixed	ClosePaperdoll	(mixed paperdoll);
+mixed	ClosePaperdoll	(mixed paperdoll) {}
 =

 /// Send Quest, Guild Button req. to Server -> Server returns a Serverside=
 Gump
-mixed	Send_AOSCommand	(mixed subcmd,mixed player_serial);
+mixed	Send_AOSCommand	(mixed subcmd,mixed player_serial) {}
 =

 /// from old iris code, src/gui/Paperdoll.cpp, returns bodygumpid,base_id
 /// base_id is usually 50000 for male and 60000 for female models
 /// TODO : we should put this in a seperate file for easy editing
 /// TODO : maybe this comes from Models.txt
-mixed	GetPaperdollBodyAndBaseID	(mixed bodyid);
-// ##### data/lua/gui/gui.container.lua
-// ##### data/lua/gui/gui.status.lua
-// ##### data/lua/gui/gui.widget.lua
-
-/// TODO : z resort : insert between two widgets
-/// ***** ***** ***** ***** ***** dialog
-static mixed	gui::CreateDialog	(mixed x,mixed y);
-
-mixed	gGuiDialogPrototype::SetPos	(mixed x,mixed y);
-
-mixed	gGuiDialogPrototype::SetVisible	(mixed bVis);
-
-/// ***** ***** ***** ***** ***** widget Utils
-static mixed	gui::_WrapWidget	(mixed widget,mixed parent);
-
-mixed	gGuiWidgetPrototype::SetVisible	(mixed bVisible);
-
-mixed	gGuiWidgetPrototype::SetPos	(mixed x,mixed y);
-
-mixed	gGuiWidgetPrototype::SetDimensions	(mixed w,mixed h);
-
-mixed	gGuiWidgetPrototype::SetMaterial	(mixed matname);
-
-mixed	gGuiWidgetPrototype::SetTexUV	(mixed u1,mixed v1,mixed u2,mixed v2);
-
-mixed	gGuiWidgetPrototype::SetTexXYWH	(mixed tx,mixed ty,mixed tw,mixed th=
);
-
-mixed	gGuiWidgetPrototype::SetColour	(mixed r,mixed g,mixed b,mixed a);
-
-mixed	gGuiWidgetPrototype::SetText	(mixed text);
-
-mixed	gGuiWidgetPrototype::SetFont	(mixed fontname);
-
-mixed	gGuiWidgetPrototype::SetFontSize	(mixed fontsize);
-
-mixed	gGuiWidgetPrototype::SetAutoWrap	(mixed width);
-
-mixed	gGuiWidgetPrototype::SetBitMask	(mixed bitmask);
-
-mixed	gGuiWidgetPrototype::SetColours	(mixed r1,mixed g1,mixed b1,mixed a1=
,mixed r2,mixed g2,mixed b2,mixed a2,mixed r3,mixed g3,mixed b3,mixed a3,mi=
xed r4,mixed g4,mixed b4,mixed a4);
-
-mixed	gGuiWidgetPrototype::SetUVBorderMatrix	(mixed texturesize,mixed x,mi=
xed y,mixed cx1,mixed cy1,mixed cx2,mixed cy2,mixed cx3,mixed cy3);
-
-mixed	gGuiWidgetPrototype::SetClipAbsolute	(mixed l,mixed t,mixed w,mixed =
h);
-
-mixed	gGuiWidgetPrototype::SetClipRelative	(mixed l,mixed t,mixed w,mixed =
h);
-
-mixed	gGuiWidgetPrototype::SetPositionAfterWidget	(mixed otherwidget);
-
-mixed	gGuiWidgetPrototype::SetPositionBeforeWidget	(mixed otherwidget);
-
-static mixed	gui::_SecureGetMaterial	(mixed matname);
-
-/// ***** ***** ***** ***** ***** CreateImage
-static mixed	gui::_CreateWidget_Image	(mixed parent,mixed matname,mixed x,=
mixed y,mixed w,mixed h,mixed tx,mixed ty,mixed tw,mixed th,mixed bitmask);
-
-/// ***** ***** ***** ***** ***** CreateText
-static mixed	gui::_CreateWidget_Text	(mixed parent,mixed text,mixed x,mixe=
d y,mixed fontname,mixed fontsize,mixed r,mixed g,mixed b,mixed a);
-
-/// ***** ***** ***** ***** ***** CreateContainer
-static mixed	gui::_CreateWidget_Container	(mixed parent,mixed x,mixed y);
-// ##### data/lua/gui/gui.quit.lua
-// ##### data/lua/gui/gui.journal.lua
-// ##### data/lua/gui/gui.gumpmanager.lua
-
-/// ######################################################################=
######
-/// ###### global gumpmanger functions #######
-/// ######################################################################=
######
-static mixed	gGumpmanager::GetGumpsByProperty	(mixed  property,mixed value=
 );
-
-static mixed	gGumpmanager::GetGumpsByName	(mixed  name );
-
-/// ######################################################################=
######
-/// ###### gump and gumpobject constructors #######
-/// ######################################################################=
######
-static mixed	gGumpmanager::CreateGump	(mixed  x,mixed y );
-
-static mixed	gGumpmanager::InitGumpObject	(mixed  gumpobject );
-
-/// ######################################################################=
######
-/// ###### gump member functions #######
-/// ######################################################################=
######
-static mixed	gGumpmanager::RegisterGump	(mixed  gump );
-
-static mixed	gGumpmanager::DeregisterGump	(mixed  gump );
-
-static mixed	gGumpmanager::_GumpRegisterGumpObject	(mixed  gump,mixed gump=
object );
-
-static mixed	gGumpmanager::_GumpDeregisterGumpObject	(mixed  gump,mixed gu=
mpobject );
-
-static mixed	gGumpmanager::_GumpDestroy	(mixed  gump );
-
-static mixed	gGumpmanager::_SetPage	(mixed  gump,mixed page );
-
-static mixed	gGumpmanager::_SetPosition	(mixed  gump,mixed x,mixed y );
-
-static mixed	gGumpmanager::_SetVisible	(mixed  gump,mixed visible );
-
-/// ######################################################################=
######
-/// ###### functions to add gumpobjects in alphabetical order #######
-/// ######################################################################=
######
-static mixed	gGumpmanager::_GumpAddBackground	(mixed  gump,mixed x,mixed y=
,mixed w,mixed h,mixed id,mixed hue,mixed page,mixed onlyborder );
-
-static mixed	gGumpmanager::_GumpAddButton	(mixed  gump,mixed x,mixed y,mix=
ed upid,mixed downid,mixed moveoverid,mixed buttonid,mixed page,mixed check=
completerectangle );
-
-static mixed	gGumpmanager::_GumpAddCheckbox	(mixed  gump,mixed x,mixed y,m=
ixed trueid,mixed falseid,mixed checked,mixed checkboxid,mixed page );
-
-static mixed	gGumpmanager::_GumpAddCroppedText	(mixed  gump,mixed x,mixed =
y,mixed w,mixed h,mixed text,mixed font,mixed hue,mixed page,mixed border );
-
-static mixed	gGumpmanager::_GumpAddImage	(mixed  gump,mixed x,mixed y,mixe=
d id,mixed hue,mixed page );
-
-static mixed	gGumpmanager::_GumpAddGumpItem	(mixed  gump,mixed x,mixed y,m=
ixed serial,mixed page,mixed female );
-
-static mixed	gGumpmanager::_GumpAddItem	(mixed  gump,mixed x,mixed y,mixed=
 serial,mixed page,mixed useitempos );
-
-static mixed	gGumpmanager::_GumpAddGroundTilePic	(mixed  gump,mixed x,mixe=
d y,mixed id,mixed hue,mixed page );
-
-static mixed	gGumpmanager::_GumpAddPageButton	(mixed  gump,mixed x,mixed y=
,mixed upid,mixed downid,mixed pageid,mixed page );
-
-static mixed	gGumpmanager::_GumpAddRadiobutton	(mixed  gump,mixed x,mixed =
y,mixed trueid,mixed falseid,mixed checked,mixed buttonid,mixed group,mixed=
 page );
-
-static mixed	gGumpmanager::_GumpAddScrollbar	(mixed  gump,mixed x,mixed y,=
mixed horizontal,mixed length,mixed upid,mixed moveoverid,mixed scrollbarid=
,mixed page,mixed promille );
-
-static mixed	gGumpmanager::_GumpAddText	(mixed  gump,mixed x,mixed y,mixed=
 text,mixed font,mixed hue,mixed page,mixed border );
-
-static mixed	gGumpmanager::_GumpAddTiledImage	(mixed  gump,mixed x,mixed y=
,mixed w,mixed h,mixed id,mixed hue,mixed page );
-
-static mixed	gGumpmanager::_GumpAddTilePic	(mixed  gump,mixed x,mixed y,mi=
xed id,mixed hue,mixed page );
-// ##### data/lua/gui/gui.styles.lua
-// ##### data/lua/lib.diff.lua
-
-mixed	EnableDiff	(mixed enablediff);
-// ##### data/lua/lib.deffileparser.lua
+mixed	GetPaperdollBodyAndBaseID	(mixed bodyid) {}
+
+mixed	EnableDiff	(mixed enablediff) {}
 =

 /// parses a def file
 /// format: INDEX SPACE DATA1 SPACE DATA2 ...
 /// will return table with entries like: table[INDEX] =3D {0=3DINDEX,1=3DD=
ATA1,2=3DDATA2,...}
-mixed	ParseDefFile	(mixed filename);
+mixed	ParseDefFile	(mixed filename) {}
 =

 /// returns a list (max 5 kes) of the values from one line of the deffile.=
 to select the line
 /// key0-4 are used as column0-4 search-for-values. if a key is nil, it wi=
ll be ignored, the not nil keys are combined using AND
 /// ie. GetListFromDefTable(defTable, 10, 20, nil, 30, nil), to get the li=
ne where col0=3D10 and col1=3D20 and col3=3D30
-mixed	GetListFromDefTable	(mixed defTable,mixed key0,mixed key1,mixed key2=
,mixed key3,mixed key4);
+mixed	GetListFromDefTable	(mixed defTable,mixed key0,mixed key1,mixed key2=
,mixed key3,mixed key4) {}
 =

 /// equivconv.def
 /// returns new values for
@@ -1067,8 +786,7 @@
 /// if bodytype and equipment id are given
 /// all values are nil if there is no replacement data
 /// TODO untested
-mixed	GetReplacementFromEquipconvDef	(mixed defTable,mixed bodyType,mixed =
equipmentID);
-// ##### data/lua/lib.charcreate.lua
+mixed	GetReplacementFromEquipconvDef	(mixed defTable,mixed bodyType,mixed =
equipmentID) {}
 =

 /// handles char creation, and loading of char templates from uo/Prof.txt
 /// see also MainMenuShowCharList in lib.mainmenu.lua
@@ -1082,237 +800,178 @@
 /// ?? kPacket_Character_Profile ?
 /// kPacket_Character_Transfer_Log ?
 /// template is one element from the array of GetCharCreationTemplates
-mixed	CreateCharFromTemplate	(mixed template,mixed iSlotIndex,mixed name,m=
ixed pass);
+mixed	CreateCharFromTemplate	(mixed template,mixed iSlotIndex,mixed name,m=
ixed pass) {}
 =

 /// loads an Prof.txt info file with character creation templates
-mixed	LoadProfInfo	(mixed filepath);
+mixed	LoadProfInfo	(mixed filepath) {}
 =

 /// send characterselect to gameserver
-mixed	SendCharCreate	(mixed chardata);
-// ##### data/lua/lib.devtool.lua
+mixed	SendCharCreate	(mixed chardata) {}
 =

 /// searches for a model with a given texture on the map
-mixed	DevToolSearchTexture	(mixed iTextureID);
+mixed	DevToolSearchTexture	(mixed iTextureID) {}
 =

 /// searches for a static tiletype and teleports the cam there
-mixed	DevToolSearchStatic	(mixed iSearchTileTypeID);
-
-mixed	DevToolTeleportCam	(mixed xloc,mixed yloc,mixed zloc);
-
-mixed	DevToolListStuffUnderMouse	(mixed x,mixed y,mixed z,mixed radius);
+mixed	DevToolSearchStatic	(mixed iSearchTileTypeID) {}
+
+mixed	DevToolTeleportCam	(mixed xloc,mixed yloc,mixed zloc) {}
+
+mixed	DevToolListStuffUnderMouse	(mixed x,mixed y,mixed z,mixed radius) {}
 =

 /// returns xloc,yloc,zloc or nil
-mixed	SearchStaticType	(mixed iSearchTileTypeID);
-
-mixed	GetStaticMeshTextureListString	(mixed iTileTypeID);
-
-mixed	ListStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius);
-
-mixed	ListDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius);
-// ##### data/lua/lib.corpse.lua
+mixed	SearchStaticType	(mixed iSearchTileTypeID) {}
+
+mixed	GetStaticMeshTextureListString	(mixed iTileTypeID) {}
+
+mixed	ListStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	ListDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
 =

 /// [[
-mixed	Update_CorpseContainer	(mixed container_serial);
-// ##### data/lua/net/net.main.lua
-// ##### data/lua/net/net.object.lua
+mixed	Update_CorpseContainer	(mixed container_serial) {}
 =

 /// packet handlers for receiving creating and updating game-objects (dyna=
mics, statics, multis...)
 /// see also lib.packet.lua and lib.protocol.lua
-mixed	Send_DoubleClick	(mixed iSerial);
-
-mixed	Send_SingleClick	(mixed iSerial);
-// ##### data/lua/net/net.dynamic.lua
-// ##### data/lua/net/net.effect.lua
-// ##### data/lua/net/net.uodragdrop.lua
+mixed	Send_DoubleClick	(mixed iSerial) {}
+
+mixed	Send_SingleClick	(mixed iSerial) {}
 =

 /// Equip Item Request (answer is 0x2E, see also 0x78). 0x13
-mixed	Send_Equip_Item_Request	(mixed serial,mixed layer,mixed player_seria=
l);
+mixed	Send_Equip_Item_Request	(mixed serial,mixed layer,mixed player_seria=
l) {}
 =

 /// This is sent by the client when the player picks up an item. 0x07
-mixed	Send_Take_Object	(mixed serial,mixed amount);
+mixed	Send_Take_Object	(mixed serial,mixed amount) {}
 =

 /// This is sent by the client when the player drops an item. 0x08
 /// containerid =3D 0xFFFFFFFF when the container is the ground
-mixed	Send_Drop_Object	(mixed serial,mixed x,mixed y,mixed z,mixed contain=
erid);
-// ##### data/lua/net/net.multi.lua
+mixed	Send_Drop_Object	(mixed serial,mixed x,mixed y,mixed z,mixed contain=
erid) {}
 =

 /// Send CustomHouseSerial to Upadte the CustomHouseCLientCache for this H=
ouse, Server sends CustomHouse in response
-mixed	Send_CustomHouseRevision	(mixed customhouseserial);
+mixed	Send_CustomHouseRevision	(mixed customhouseserial) {}
 =

 /// this checks if the given numbers a possible custom house values
 /// retuns true if they are ok
-mixed	CustomHouseCheckSizeValidity	(mixed w,mixed h);
-// ##### data/lua/net/net.mobile.lua
+mixed	CustomHouseCheckSizeValidity	(mixed w,mixed h) {}
 =

 /// returns nil if there are enough bytes left =3D> the "or" clause gets e=
xecuted
-mixed	MySave_Prepare	(mixed needed);
-// ##### data/lua/net/net.packethandlers.lua
-// ##### data/lua/net/net.corpse.lua
-// ##### data/lua/net/net.skill.lua
+mixed	MySave_Prepare	(mixed needed) {}
 =

 /// see also net.mobile.lua
 /// stuff for skills
 /// Request SkillUse
-mixed	Send_Request_SkillUse	(mixed skillid);
+mixed	Send_Request_SkillUse	(mixed skillid) {}
 =

 /// sends the server the lock state of one skill (more skills are possible=
 but not used in this function)
 /// lockstate (0=3Dup, 1=3Ddown, 2=3Dlocked)
-mixed	Send_SkillLockState	(mixed skillid,mixed lockstate);
-// ##### data/lua/net/net.world.lua
-// ##### data/lua/net/net.login.lua
+mixed	Send_SkillLockState	(mixed skillid,mixed lockstate) {}
 =

 /// Send Packets ---------------------------------------------------------=
--
 /// send login server request 0x80
 /// answered by 0xA8 kPacket_Server_List which calls MainMenuShowServerList
-mixed	ProtocolSend_Account_Login_Request	(mixed sName,mixed sPassword,mixe=
d iSeed);
+mixed	ProtocolSend_Account_Login_Request	(mixed sName,mixed sPassword,mixe=
d iSeed) {}
 =

 /// send gameserverselect to loginserver : kPacket_Server_Select 0xA0
 /// answered by kPacket_Server_Redirect 0x8C
 /// which calls ProtocolSend_GameServer_PostLogin kPacket_Post_Login 0x91
-mixed	ProtocolSend_GameServer_Select	(mixed iGameServerID);
+mixed	ProtocolSend_GameServer_Select	(mixed iGameServerID) {}
 =

 /// send postlogin to gameserver kPacket_Post_Login 0x91
 /// something is wrong...runuo & wolfpack detects invalid client
 /// answered by kPacket_Features 0xB9 (gClientFeatures) and kPacket_Charac=
ter_List 0xA9
-mixed	ProtocolSend_GameServer_PostLogin	(mixed sName,mixed sPassword,mixed=
 iAccount);
+mixed	ProtocolSend_GameServer_PostLogin	(mixed sName,mixed sPassword,mixed=
 iAccount) {}
 =

 /// send characterselect to gameserver
-mixed	ProtocolSend_Character_Select	(mixed iCharacterID,mixed iAccount);
+mixed	ProtocolSend_Character_Select	(mixed iCharacterID,mixed iAccount) {}
 =

 /// client identification
-mixed	Send_ClientQuery	(mixed iMode,mixed iCharacterID);
+mixed	Send_ClientQuery	(mixed iMode,mixed iCharacterID) {}
 =

 /// Submits ClientVersion to Server
-mixed	Send_ClientVersion	(mixed sClientVersion);
+mixed	Send_ClientVersion	(mixed sClientVersion) {}
 =

 /// Submits Client Language to Server
-mixed	Send_ClientLanguage	(mixed lang);
-// ##### data/lua/net/net.sound.lua
-// ##### data/lua/lib.mount.lua
-// ##### data/lua/net.securetrade.lua
-
-mixed	SecureTradeRebuildContainerWidgets	(mixed mysectrade,mixed container=
,mixed bIsMyStuff);
+mixed	Send_ClientLanguage	(mixed lang) {}
+
+mixed	SecureTradeRebuildContainerWidgets	(mixed mysectrade,mixed container=
,mixed bIsMyStuff) {}
 =

 /// triggered when anything is changed,added or removed in/from a container
 /// kPacket_Container_Contents kPacket_Object_to_Object
-mixed	SecureTradeRebuildContainerHook	(mixed container);
-
-mixed	SecureTradeRebuildContainers	(mixed mysectrade);
-
-mixed	RecvSecureTrade	(mixed sectrade);
+mixed	SecureTradeRebuildContainerHook	(mixed container) {}
+
+mixed	SecureTradeRebuildContainers	(mixed mysectrade) {}
+
+mixed	RecvSecureTrade	(mixed sectrade) {}
 =

 /// if both players agree the trade is finished automatically
 /// s1 : containerid , s2 : 0 for no, 1 for yes
-mixed	Send_SecureTrade_ChangeAgree	(mixed s1,mixed s2);
-
-mixed	Send_SecureTrade_Cancel	(mixed s1);
-// ##### data/lua/lib.input.iris.lua
+mixed	Send_SecureTrade_ChangeAgree	(mixed s1,mixed s2) {}
+
+mixed	Send_SecureTrade_Cancel	(mixed s1) {}
 =

 /// called from c
-mixed	NotifyMainWindowResized	(mixed w,mixed h);
-// ##### data/lua/obj/obj.main.lua
-
-mixed	GetMobileEquipmentItem (mobile,layer) return mobile::GetEquipmentAtL=
ayer	(mixed layer);
-
-mixed	GetMobileEquipmentList	(mixed mobile);
-
-mixed	GetContainerContentList	(mixed container);
-
-mixed	GetObjectBySerial	(mixed serial);
-
-mixed	GetObject	(mixed object_or_serial);
-
-mixed	DynamicIsInWorld	(mixed dynamic);
-
-mixed	InitializeObject	(mixed serial);
+mixed	NotifyMainWindowResized	(mixed w,mixed h) {}
+
+mixed	GetMobileEquipmentList	(mixed mobile) {}
+
+mixed	GetContainerContentList	(mixed container) {}
+
+mixed	GetObjectBySerial	(mixed serial) {}
+
+mixed	GetObject	(mixed object_or_serial) {}
+
+mixed	DynamicIsInWorld	(mixed dynamic) {}
+
+mixed	InitializeObject	(mixed serial) {}
 =

 /// don't call directly, called from object:Destroy()
-mixed	CleanupObject	(mixed object);
-
-mixed	DestroyObjectBySerial	(mixed serial);
-// ##### data/lua/obj/obj.player.lua
-
-mixed	IsPlayerMobile	(mixed mobile);
+mixed	CleanupObject	(mixed object) {}
+
+mixed	DestroyObjectBySerial	(mixed serial) {}
+
+mixed	IsPlayerMobile	(mixed mobile) {}
 =

 /// TODO : move to obj.player.lua ?
 /// called from kPacket_SetPlayerWarmode
-mixed	NotifyWarmode	(mixed flag);
+mixed	NotifyWarmode	(mixed flag) {}
 =

 /// called from handlers of kPacket_Login_Confirm and kPacket_Teleport
-mixed	UpdatePlayerBodySerial	(mixed serial);
-
-mixed	IsObjectFarEnoughToDestroy	(mixed xloc,mixed yloc,mixed player_xloc,=
mixed player_yloc);
+mixed	UpdatePlayerBodySerial	(mixed serial) {}
+
+mixed	IsObjectFarEnoughToDestroy	(mixed xloc,mixed yloc,mixed player_xloc,=
mixed player_yloc) {}
 =

 /// destroy objects outside view range
-mixed	DestroyObjectsFarFromPlayer	(mixed player_xloc,mixed player_yloc);
-// ##### data/lua/obj/obj.mobile.lua
-
-mixed	GetMobile	(mixed mobile_or_serial);
+mixed	DestroyObjectsFarFromPlayer	(mixed player_xloc,mixed player_yloc) {}
+
+mixed	GetMobile	(mixed mobile_or_serial) {}
 =

 /// constructor, don't call directly, use CreateOrUpdateMobile() instead
-mixed	InitializeMobile	(mixed serial);
+mixed	InitializeMobile	(mixed serial) {}
 =

 /// called from kPacket_Naked_MOB kPacket_Equipped_MOB kPacket_Teleport
-mixed	CreateOrUpdateMobile	(mixed mobiledata,mixed equipmentdata);
-
-mixed	gMobilePrototype::NotifyListener	(mixed eventname);
-
-/// updates mobile status, and the position of the graphical representatio=
n and other things
-mixed	gMobilePrototype::Update	(mixed mobiledata,mixed equipmentdata);
-
-mixed	gMobilePrototype::UpdateStats	(mixed stats);
-
-mixed	gMobilePrototype::UpdateHealth	(mixed curvalue,mixed maxvalue);
-
-mixed	gMobilePrototype::UpdateMana	(mixed curvalue,mixed maxvalue);
-
-mixed	gMobilePrototype::UpdateStamina	(mixed curvalue,mixed maxvalue);
-
-/// triggered from kPacket_Text kPacket_Text_Unicode
-mixed	gMobilePrototype::NameHint	(mixed model,mixed charname,mixed message=
);
-
-/// ##### ##### ##### ##### ##### the rest
-mixed	gMobilePrototype::GetEquipmentAtLayer	(mixed layer);
-
-/// TODO: displays the chat text over the head of the mobile, color is 16b=
it uo color
-mixed	gMobilePrototype::DisplayTextOverHead	(mixed message,mixed r,mixed g=
,mixed b);
+mixed	CreateOrUpdateMobile	(mixed mobiledata,mixed equipmentdata) {}
 =

 /// return r,g,b
-mixed	GetNotorietyColor	(mixed n);
-// ##### data/lua/obj/obj.dynamic.lua
-
-mixed	GetDynamic	(mixed dynamic_or_serial);
+mixed	GetNotorietyColor	(mixed n) {}
+
+mixed	GetDynamic	(mixed dynamic_or_serial) {}
 =

 /// constructor, don't call directly, use CreateOrUpdateDynamic() instead
-mixed	InitializeDynamic	(mixed serial);
+mixed	InitializeDynamic	(mixed serial) {}
 =

 /// called from kPacket_Show_Item,kPacket_Object_to_Object,kPacket_Contain=
er_Contents
 /// mobile is only set if called from mobile:Update with equipmentdata , e=
.g. from kPacket_Equipped_MOB or kPacket_Equip_Item
-mixed	CreateOrUpdateDynamic	(mixed dynamicdata,mixed mobile);
-
-/// see also CreateOrUpdateDynamic
-mixed	gDynamicPrototype::Update	(mixed dynamicdata,mixed mobile);
-
-/// updates widgets automatically through old,new:UpdateContent() message
-mixed	gDynamicPrototype::SetContainer	(mixed newcontainer_or_serial);
-
-mixed	gDynamicPrototype::NotifyListener	(mixed eventname);
-// ##### data/lua/obj/obj.container.lua
-
-mixed	GetContainer	(mixed container_or_serial);
-
-mixed	gContainerPrototype::RemoveContentObject	(mixed object);
-
-mixed	gContainerPrototype::AddContentObject	(mixed object);
+mixed	CreateOrUpdateDynamic	(mixed dynamicdata,mixed mobile) {}
+
+mixed	GetContainer	(mixed container_or_serial) {}
 =

 /// called from kPacket_Equip_Item
-mixed	HandleEquipItem	(mixed dynamicdata);
+mixed	HandleEquipItem	(mixed dynamicdata) {}
 =

 /// called from kPacket_Open_Container
-mixed	IsContainerAlreadyOpen	(mixed container_or_serial);
+mixed	IsContainerAlreadyOpen	(mixed container_or_serial) {}
 =

 /// called from kPacket_Open_Container
-mixed	HandleOpenContainer	(mixed containerdata);
+mixed	HandleOpenContainer	(mixed containerdata) {}
 =

 /// packet handlers for containers (chests, drawers, inventory..)
 /// see also lib.packet.lua and lib.protocol.lua
@@ -1321,55 +980,1691 @@
 /// dialog is only created when it is displayed, on kPacket_Open_Container
 /// TODO : check if iContainerSerial is secure trade serial
 /// TODO : check if spellbook
-mixed	CloseContainer	(mixed serial);
+mixed	CloseContainer	(mixed serial) {}
 =

 /// creates if necessary
-mixed	GetOrCreateContainer	(mixed serial);
+mixed	GetOrCreateContainer	(mixed serial) {}
 =

 /// destroys old widgets if neccessary
-mixed	DestroyContainerItemWidgets	(mixed container);
+mixed	DestroyContainerItemWidgets	(mixed container) {}
 =

 /// destroys old widgets and creates new ones from contents
-mixed	RefreshContainerItemWidgets	(mixed container);
+mixed	RefreshContainerItemWidgets	(mixed container) {}
 =

 /// TODO use lib.gfm.lua : MakeArtGumpPart ?
 /// create graphical representation (use only if container dialog is alrea=
dy visible)
-mixed	MakeContainerItemWidget	(mixed item);
-// ##### data/lua/lib.plaingui.iris.lua
-
-mixed	TeleportFunc	(mixed widget,mixed buttonid);
-// ##### data/lua/lib.bugreport.lua
-
-mixed	SendMyProjectBugReport	(mixed report,mixed note);
-
-mixed	MasterServer_Get	(mixed command,mixed params,mixed bIgnoreReturnForS=
peed);
-
-mixed	MasterServer_BugReport	(mixed report,mixed note);
-// ##### data/lua/lib.3d.mobile.lua
+mixed	MakeContainerItemWidget	(mixed item) {}
+
+mixed	TeleportFunc	(mixed widget,mixed buttonid) {}
+
+mixed	SendMyProjectBugReport	(mixed report,mixed note) {}
+
+mixed	MasterServer_Get	(mixed command,mixed params,mixed bIgnoreReturnForS=
peed) {}
+
+mixed	MasterServer_BugReport	(mixed report,mixed note) {}
 =

 /// see also lib.3d.renderer.lua
 /// manages all visual things for mobiles : body,energybar,aura,selection =
marker,name, text over head...
 /// called from obj.mobile.lua
-mixed	UpdateMobileModel	(mixed mobile);
-
-mixed	Renderer3D::UpdateMobile	(mixed  mobile );
-
-mixed	Renderer3D::UpdateMobilePos	(mixed mobile,mixed x,mixed y,mixed z,mi=
xed qw,mixed qx,mixed qy,mixed qz);
+mixed	UpdateMobileModel	(mixed mobile) {}
+
+	/// string SaveTextureToFile (sTexName,sFilePath)
+	mixed SaveTextureToFile (...) {}
+
+	/// string CloneMaterial (sOldMatName,sNewMatName=3Duniquename())
+	mixed CloneMaterial (...) {}
+
+	/// string CreateMaterial (sMatName=3Duniquename())
+	mixed CreateMaterial (...) {}
+
+	/// void SetAmbient (sMatName,iTech,iPass,r,g,b)
+	mixed SetAmbient (...) {}
+
+	/// void SetDiffuse (sMatName,iTech,iPass,r,g,b,a)
+	mixed SetDiffuse (...) {}
+
+	/// void SetSceneBlend (sMatName,iSceneBlendMode)
+	mixed SetSceneBlend (...) {}
+
+	/// void SetDepthWriteEnabled (sMatName,iTech,iPass,iSceneBlendMode)
+	mixed SetDepthWriteEnabled (...) {}
+
+	/// void SetHardwareCulling (sMatName,iTech,iPass,iCullMode)
+	/// iCullMode 0=3DCULL_NONE 1=3DCULL_CLOCKWISE 2=3DCULL_ANTICLOCKWISE
+	mixed SetHardwareCulling (...) {}
+
+	/// void SetSoftwareCulling (sMatName,iTech,iPass,iCullMode)
+	/// iCullMode 0=3DMANUAL_CULL_NONE 1=3DMANUAL_CULL_BACK 2=3DMANUAL_CULL_F=
RONT
+	mixed SetSoftwareCulling (...) {}
+
+	/// old : CreateTextureUnitState (sMatName,iTech,iPass,sTextureName)
+	/// void SetTexture (sMatName,sTextureName,iTech=3D0,iPass=3D0,iTextureUn=
it=3D0)
+	mixed SetTexture (...) {}
+
+	/// lua : void OdeGeomSetData(dGeomID geom, void* data) [ from ode ]
+	mixed l_OdeGeomSetData (...) {}
+
+	/// lua : udata OdedGeomGetData(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomGetData (...) {}
+
+	/// lua : void OdeGeomSetBody(dGeomID geom, dBodyID body) [ from ode ]
+	mixed l_OdeGeomSetBody (...) {}
+
+	/// lua : dBodyID OdeGeomGetBody(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomGetBody (...) {}
+
+	/// lua : void OdeGeomSetPosition(dGeomID geom, dReal x, dReal y, dReal z=
) [ from ode ]
+	mixed l_OdeGeomSetPosition (...) {}
+
+	/// lua : void OdeGeomSetQuaternion(dGeomID geom, const dQuaternion Q) [ =
from ode ]
+	mixed l_OdeGeomSetQuaternion (...) {}
+
+	/// lua : x,y,z OdeGeomGetPosition(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomGetPosition (...) {}
+
+	/// lua : w,x,y,z OdeGeomGetQuaternion(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomGetQuaternion (...) {}
+
+	/// lua : ax,ay,az,bx,by,bz OdeGeomGetAABB(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomGetAABB (...) {}
+
+	/// lua : int OdeGeomIsSpace(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomIsSpace (...) {}
+
+	/// lua : dSpaceID OdeGeomGetSpace(dGeomID) [ from ode ]
+	mixed l_OdeGeomGetSpace (...) {}
+
+	/// lua : int OdeGeomGetClass(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomGetClass (...) {}
+
+	/// lua : void OdeGeomSetCategoryBits(dGeomID geom, unsigned long bits) [=
 from ode ]
+	mixed l_OdeGeomSetCategoryBits (...) {}
+
+	/// lua : void OdeGeomSetCollideBits(dGeomID geom, unsigned long bits) [ =
from ode ]
+	mixed l_OdeGeomSetCollideBits (...) {}
+
+	/// lua : long OdeGeomGetCategoryBits(dGeomID) [ from ode ]
+	mixed l_OdeGeomGetCategoryBits (...) {}
+
+	/// lua : long OdeGeomGetCollideBits(dGeomID) [ from ode ]
+	mixed l_OdeGeomGetCollideBits (...) {}
+
+	/// lua : void OdeGeomEnable(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomEnable (...) {}
+
+	/// lua : void OdeGeomDisable(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomDisable (...) {}
+
+	/// lua : int OdeGeomIsEnabled(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomIsEnabled (...) {}
+
+	/// lua : void OdeGeomSetOffsetPosition(dGeomID geom, dReal x, dReal y, d=
Real z) [ from ode ]
+	mixed l_OdeGeomSetOffsetPosition (...) {}
+
+	/// lua : void OdeGeomSetOffsetQuaternion(dGeomID geom, const dQuaternion=
 Q) [ from ode ]
+	mixed l_OdeGeomSetOffsetQuaternion (...) {}
+
+	/// lua : void OdeGeomSetOffsetWorldPosition(dGeomID geom, dReal x, dReal=
 y, dReal z) [ from ode ]
+	mixed l_OdeGeomSetOffsetWorldPosition (...) {}
+
+	/// lua : void OdeGeomSetOffsetWorldQuaternion(dGeomID geom, const dQuate=
rnion) [ from ode ]
+	mixed l_OdeGeomSetOffsetWorldQuaternion (...) {}
+
+	/// lua : void OdeGeomClearOffset(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomClearOffset (...) {}
+
+	/// lua : int OdeGeomIsOffset(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomIsOffset (...) {}
+
+	/// lua : x,y,z OdeGeomGetOffsetPosition(dGeomID geom) [ from ode ]
+	mixed l_OdeGeomGetOffsetPosition (...) {}
+
+	/// lua : w,x,y,z OdeGeomGetOffsetQuaternion(dGeomID geom, dQuaternion re=
sult) [ from ode ]
+	mixed l_OdeGeomGetOffsetQuaternion (...) {}
+
+	/// lua : int OdeCollide(dGeomID o1, dGeomID o2, int flags, dContactGeom =
*contact,int skip) [ from ode ]
+	mixed l_OdeCollide (...) {}
+
+	/// lua : px,py,pz, nx,ny,nz, depth, g1,g2, side1, side2 OdeContactGeomCr=
eate(contactgeomid)
+	mixed l_OdeContactGeomGetParams (...) {}
+
+	mixed l_OdeContactGeomCreate (...) {}
+
+	mixed l_OdeContactGeomDestroy (...) {}
+
+	/// lua : {contact,...} OdeCollide(dGeomID o1, dGeomID o2,count)
+	mixed l_OdeCollide (...) {}
+
+	/// lua : mode,mu,mu2,bounce,bounce_vel,soft_erp,soft_cfm,motion1,motion2=
,slip1,slip2 OdeGetContactSurface(dContact *p)
+	mixed l_OdeGetContactSurface (...) {}
+
+	/// lua : OdeSetContactSurface(dContact *p,mode,mu,mu2,bounce,bounce_vel,=
soft_erp,soft_cfm,motion1,motion2,slip1,slip2)
+	mixed l_OdeSetContactSurface (...) {}
+
+	/// lua : OdeSetContactGeom(dContact *p,mode,mu,mu2,bounce,bounce_vel,sof=
t_erp,soft_cfm,motion1,motion2,slip1,slip2)
+	mixed l_OdeSetContactGeom (...) {}
+
+	/// lua : posx,posy,posz,normalx,normaly,normalz,depth,g1,g2,side1,side2 =
OdeGetContactGeom(dContact *p)
+	mixed l_OdeGetContactGeom (...) {}
+
+	/// lua : void OdeSpaceCollide(dSpaceID space,fun(o0,o1))
+	mixed l_OdeSpaceCollide (...) {}
+
+	/// like OdeSpaceCollide but with an additional callback function
+	/// fun() : function to create the collision feedback joints
+	/// function callback(o0,o1,posx,posy,posz,normalx,normaly,normalz,depth,=
g1,g2,side1,side2)
+	/// return mode,mu,mu2,bounce,bounce_vel,soft_erp,soft_cfm,motion1,motion=
2,slip1,slip2
+	/// end
+	/// lua : void OdeSpaceCollideWithCallback(dWorldID, dJointGroupID, dSpac=
eID space,fun())
+	mixed l_OdeSpaceCollideWithCallback (...) {}
+
+	/// lua : void OdeSpaceCollide2(dGeomID space1, dGeomID space2, fun(o0,o1=
))
+	mixed l_OdeSpaceCollide2 (...) {}
+
+	/// lua : dGeomID OdeCreateSphere(dSpaceID space, dReal radius) [ from od=
e ]
+	mixed l_OdeCreateSphere (...) {}
+
+	/// lua : void OdeGeomSphereSetRadius(dGeomID sphere, dReal radius) [ fro=
m ode ]
+	mixed l_OdeGeomSphereSetRadius (...) {}
+
+	/// lua : dReal OdeGeomSphereGetRadius(dGeomID sphere) [ from ode ]
+	mixed l_OdeGeomSphereGetRadius (...) {}
+
+	/// lua : dReal OdeGeomSpherePointDepth(dGeomID sphere, dReal x, dReal y,=
 dReal z) [ from ode ]
+	mixed l_OdeGeomSpherePointDepth (...) {}
+
+	/// --> Convex Functions
+	/// lua : dGeomID OdeCreateConvex(dSpaceID space,dReal *_planes,unsigned =
int _planecount,dReal *_points,unsigned int _pointcount,unsigned int *_poly=
gons) [ from ode ]
+	mixed l_OdeCreateConvex (...) {}
+
+	/// lua : void OdeGeomSetConvex(dGeomID g,dReal *_planes,unsigned int _co=
unt,dReal *_points,unsigned int _pointcount,unsigned int *_polygons) [ from=
 ode ]
+	mixed l_OdeGeomSetConvex (...) {}
+
+	/// lua : dGeomID OdeCreateBox(dSpaceID space, dReal lx, dReal ly, dReal =
lz) [ from ode ]
+	mixed l_OdeCreateBox (...) {}
+
+	/// lua : void OdeGeomBoxSetLengths(dGeomID box, dReal lx, dReal ly, dRea=
l lz) [ from ode ]
+	mixed l_OdeGeomBoxSetLengths (...) {}
+
+	/// lua : lx,ly,lz OdeGeomBoxGetLengths(dGeomID box, dVector3 result) [ f=
rom ode ]
+	mixed l_OdeGeomBoxGetLengths (...) {}
+
+	/// lua : dReal OdeGeomBoxPointDepth(dGeomID box, dReal x, dReal y, dReal=
 z) [ from ode ]
+	mixed l_OdeGeomBoxPointDepth (...) {}
+
+	/// lua : dGeomID OdeCreatePlane(dSpaceID space, dReal a, dReal b, dReal =
c, dReal d) [ from ode ]
+	mixed l_OdeCreatePlane (...) {}
+
+	/// lua : void OdeGeomPlaneSetParams(dGeomID plane, dReal a, dReal b, dRe=
al c, dReal d) [ from ode ]
+	mixed l_OdeGeomPlaneSetParams (...) {}
+
+	/// lua : a,b,c,d OdeGeomPlaneGetParams(dGeomID plane, dVector4 result) [=
 from ode ]
+	mixed l_OdeGeomPlaneGetParams (...) {}
+
+	/// lua : dReal OdeGeomPlanePointDepth(dGeomID plane, dReal x, dReal y, d=
Real z) [ from ode ]
+	mixed l_OdeGeomPlanePointDepth (...) {}
+
+	/// lua : dGeomID OdeCreateCapsule(dSpaceID space, dReal radius, dReal le=
ngth) [ from ode ]
+	mixed l_OdeCreateCapsule (...) {}
+
+	/// lua : void OdeGeomCapsuleSetParams(dGeomID ccylinder, dReal radius, d=
Real length) [ from ode ]
+	mixed l_OdeGeomCapsuleSetParams (...) {}
+
+	/// lua : r,l OdeGeomCapsuleGetParams(dGeomID ccylinder, dReal *radius, d=
Real *length) [ from ode ]
+	mixed l_OdeGeomCapsuleGetParams (...) {}
+
+	/// lua : dReal OdeGeomCapsulePointDepth(dGeomID ccylinder, dReal x, dRea=
l y, dReal z) [ from ode ]
+	mixed l_OdeGeomCapsulePointDepth (...) {}
+
+	/// lua : void OdeGeomCylinderSetParams(dGeomID cylinder, dReal radius, d=
Real length) [ from ode ]
+	mixed l_OdeGeomCylinderSetParams (...) {}
+
+	/// lua : r,l OdeGeomCylinderGetParams(dGeomID cylinder, dReal *radius, d=
Real *length) [ from ode ]
+	mixed l_OdeGeomCylinderGetParams (...) {}
+
+	/// lua : dGeomID OdeCreateRay(dSpaceID space, dReal length) [ from ode ]
+	mixed l_OdeCreateRay (...) {}
+
+	/// lua : void OdeGeomRaySetLength(dGeomID ray, dReal length) [ from ode ]
+	mixed l_OdeGeomRaySetLength (...) {}
+
+	/// lua : dReal OdeGeomRayGetLength(dGeomID ray) [ from ode ]
+	mixed l_OdeGeomRayGetLength (...) {}
+
+	/// lua : void OdeGeomRaySet(dGeomID ray, dReal px, dReal py, dReal pz,dR=
eal dx, dReal dy, dReal dz) [ from ode ]
+	mixed l_OdeGeomRaySet (...) {}
+
+	/// lua : void OdeGeomDestroy(dGeomID)
+	mixed l_OdeGeomDestroy (...) {}
+
+	/// lua : px,py,pz, dx,dy,dz OdeGeomRayGet(dGeomID ray, dVector3 start, d=
Vector3 dir) [ from ode ]
+	mixed l_OdeGeomRayGet (...) {}
+
+	/// lua : void OdeGeomRaySetParams(dGeomID g, int FirstContact, int Backf=
aceCull) [ from ode ]
+	mixed l_OdeGeomRaySetParams (...) {}
+
+	/// lua : FirstContact, BackfaceCull OdeGeomRayGetParams(dGeomID g, int *=
FirstContact, int *BackfaceCull) [ from ode ]
+	mixed l_OdeGeomRayGetParams (...) {}
+
+	/// lua : void OdeGeomRaySetClosestHit(dGeomID g, int closestHit) [ from =
ode ]
+	mixed l_OdeGeomRaySetClosestHit (...) {}
+
+	/// lua : int OdeGeomRayGetClosestHit(dGeomID g) [ from ode ]
+	mixed l_OdeGeomRayGetClosestHit (...) {}
+
+	/// lua : void OdeGeomTransformSetGeom(dGeomID g, dGeomID obj) [ from ode=
 ]
+	mixed l_OdeGeomTransformSetGeom (...) {}
+
+	/// lua : dGeomID OdeGeomTransformGetGeom(dGeomID g) [ from ode ]
+	mixed l_OdeGeomTransformGetGeom (...) {}
+
+	/// lua : void OdeGeomTransformSetCleanup(dGeomID g, int mode) [ from ode=
 ]
+	mixed l_OdeGeomTransformSetCleanup (...) {}
+
+	/// lua : int OdeGeomTransformGetCleanup(dGeomID g) [ from ode ]
+	mixed l_OdeGeomTransformGetCleanup (...) {}
+
+	/// lua : void OdeGeomTransformSetInfo(dGeomID g, int mode) [ from ode ]
+	mixed l_OdeGeomTransformSetInfo (...) {}
+
+	/// lua : int OdeGeomTransformGetInfo(dGeomID g) [ from ode ]
+	mixed l_OdeGeomTransformGetInfo (...) {}
+
+	/// lua : dGeomID OdeCreateHeightfield( dSpaceID space,dHeightfieldDataID=
 data, int bPlaceable ) [ from ode ]
+	mixed l_OdeCreateHeightfield (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataDestroy( dHeightfieldDataID d ) [ fr=
om ode ]
+	mixed l_OdeGeomHeightfieldDataDestroy (...) {}
+
+	/// lua : dHeightfieldDataID OdeGeomHeightfieldDataCreate() [ from ode ]
+	mixed l_OdeGeomHeightfieldDataCreate (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataBuildCallback( dHeightfieldDataID d,=
void* pUserData, dHeightfieldGetHeight* pCallback,dReal width, dReal depth,=
 int widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickn=
ess, int bWrap ) [ from ode ]
+	mixed l_OdeGeomHeightfieldDataBuildCallback (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataBuildFromFun( dHeightfieldDataID d,w=
idth,height,dx,dz,float fun(x,z))
+	mixed l_OdeGeomHeightfieldDataBuildFromFun (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataBuildByte( dHeightfieldDataID d,cons=
t unsigned char* pHeightData, int bCopyHeightData,dReal width, dReal depth,=
 int widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickn=
ess, int bWrap ) [ from ode ]
+	mixed l_OdeGeomHeightfieldDataBuildByte (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataBuildShort( dHeightfieldDataID d,con=
st short* pHeightData, int bCopyHeightData,dReal width, dReal depth, int wi=
dthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, in=
t bWrap ) [ from ode ]
+	mixed l_OdeGeomHeightfieldDataBuildShort (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataBuildSingle( dHeightfieldDataID d,co=
nst float* pHeightData, int bCopyHeightData,dReal width, dReal depth, int w=
idthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, i=
nt bWrap ) [ from ode ]
+	mixed l_OdeGeomHeightfieldDataBuildSingle (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataBuildDouble( dHeightfieldDataID d,co=
nst double* pHeightData, int bCopyHeightData,dReal width, dReal depth, int =
widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, =
int bWrap ) [ from ode ]
+	mixed l_OdeGeomHeightfieldDataBuildDouble (...) {}
+
+	/// lua : void OdeGeomHeightfieldDataSetBounds( dHeightfieldDataID d,dRea=
l minHeight, dReal maxHeight ) [ from ode ]
+	mixed l_OdeGeomHeightfieldDataSetBounds (...) {}
+
+	/// lua : void OdeGeomHeightfieldSetHeightfieldData( dGeomID g, dHeightfi=
eldDataID d ) [ from ode ]
+	mixed l_OdeGeomHeightfieldSetHeightfieldData (...) {}
+
+	/// lua : dHeightfieldDataID OdeGeomHeightfieldGetHeightfieldData( dGeomI=
D g ) [ from ode ]
+	mixed l_OdeGeomHeightfieldGetHeightfieldData (...) {}
+
+	/// lua : cp1x,cp1y,cp1z,cp2x,cp2y,cp2z OdeClosestLineSegmentPoints(const=
 dVector3 a1, const dVector3 a2,const dVector3 b1, const dVector3 b2) [ fro=
m ode ]
+	mixed l_OdeClosestLineSegmentPoints (...) {}
+
+	/// lua : int OdeBoxTouchesBox(const dVector3 _p1, const dMatrix3 R1,cons=
t dVector3 side1, const dVector3 _p2,const dMatrix3 R2, const dVector3 side=
2) [ from ode ]
+	mixed l_OdeBoxTouchesBox (...) {}
+
+	/// lua : ax,ay,az, bx,by,bz OdeInfiniteAABB(dGeomID geom, dReal aabb[6])=
 [ from ode ]
+	mixed l_OdeInfiniteAABB (...) {}
+
+	/// lua : void OdeInitODE(void) [ from ode ]
+	mixed l_OdeInitODE (...) {}
+
+	/// lua : void OdeCloseODE(void) [ from ode ]
+	mixed l_OdeCloseODE (...) {}
+
+	/// lua : int OdeCreateGeomClass(const dGeomClass *classptr) [ from ode ]
+	mixed l_OdeCreateGeomClass (...) {}
+
+	/// lua : * OdeGeomGetClassData(dGeomID) [ from ode ]
+	mixed l_OdeGeomGetClassData (...) {}
+
+	/// lua : dGeomID OdeCreateGeom(int classnum) [ from ode ]
+	mixed l_OdeCreateGeom (...) {}
+
+	/// lua : dSpaceID OdeSimpleSpaceCreate(dSpaceID space) [ from ode ]
+	mixed l_OdeSimpleSpaceCreate (...) {}
+
+	/// lua : dSpaceID OdeHashSpaceCreate(dSpaceID space) [ from ode ]
+	mixed l_OdeHashSpaceCreate (...) {}
+
+	/// lua : dSpaceID OdeQuadTreeSpaceCreate(dSpaceID space, dVector3 Center=
, dVector3 Extents, int Depth) [ from ode ]
+	mixed l_OdeQuadTreeSpaceCreate (...) {}
+
+	/// lua : void OdeSpaceDestroy(dSpaceID) [ from ode ]
+	mixed l_OdeSpaceDestroy (...) {}
+
+	/// lua : void OdeHashSpaceSetLevels(dSpaceID space, int minlevel, int ma=
xlevel) [ from ode ]
+	mixed l_OdeHashSpaceSetLevels (...) {}
+
+	/// lua : minlevel,maxlevel OdeHashSpaceGetLevels(dSpaceID space, int *mi=
nlevel, int *maxlevel) [ from ode ]
+	mixed l_OdeHashSpaceGetLevels (...) {}
+
+	/// lua : void OdeSpaceSetCleanup(dSpaceID space, int mode) [ from ode ]
+	mixed l_OdeSpaceSetCleanup (...) {}
+
+	/// lua : int OdeSpaceGetCleanup(dSpaceID space) [ from ode ]
+	mixed l_OdeSpaceGetCleanup (...) {}
+
+	/// lua : void OdeSpaceAdd(dSpaceID, dGeomID) [ from ode ]
+	mixed l_OdeSpaceAdd (...) {}
+
+	/// lua : void OdeSpaceRemove(dSpaceID, dGeomID) [ from ode ]
+	mixed l_OdeSpaceRemove (...) {}
+
+	/// lua : int OdeSpaceQuery(dSpaceID, dGeomID) [ from ode ]
+	mixed l_OdeSpaceQuery (...) {}
+
+	/// lua : void OdeSpaceClean(dSpaceID) [ from ode ]
+	mixed l_OdeSpaceClean (...) {}
+
+	/// lua : int OdeSpaceGetNumGeoms(dSpaceID) [ from ode ]
+	mixed l_OdeSpaceGetNumGeoms (...) {}
+
+	/// lua : dGeomID OdeSpaceGetGeom(dSpaceID, int i) [ from ode ]
+	mixed l_OdeSpaceGetGeom (...) {}
+
+	/// lua : cTriangleMeshRawData OdeTriMeshRawDataCreate(fifo)
+	mixed l_OdeTriMeshRawDataCreate (...) {}
+
+	/// lua : void OdeTriMeshRawDataDestroy(cTriangleMeshRawData)
+	mixed l_OdeTriMeshRawDataDestroy (...) {}
+
+	/// lua : void OdeTriMeshRawDataPrint(cTriangleMeshRawData)
+	mixed l_OdeTriMeshRawDataPrint (...) {}
+
+	/// lua : dTriMeshDataID OdeGeomTriMeshDataCreate(void) [ from ode ]
+	mixed l_OdeGeomTriMeshDataCreate (...) {}
+
+	/// lua : void OdeGeomTriMeshDataDestroy(dTriMeshDataID g) [ from ode ]
+	mixed l_OdeGeomTriMeshDataDestroy (...) {}
+
+	/// lua : void OdeGeomTriMeshDataSet(dTriMeshDataID g, int data_id, void*=
 in_data) [ from ode ]
+	mixed l_OdeGeomTriMeshDataSet (...) {}
+
+	/// lua : void* OdeGeomTriMeshDataGet(dTriMeshDataID g, int data_id) [ fr=
om ode ]
+	mixed l_OdeGeomTriMeshDataGet (...) {}
+
+	/// lua : void OdeGeomTriMeshSetLastTransform( dGeomID g, dMatrix4 last_t=
rans ) [ from ode ]
+	mixed l_OdeGeomTriMeshSetLastTransform (...) {}
+
+	/// lua : dReal* OdeGeomTriMeshGetLastTransform( dGeomID g ) [ from ode ]
+	mixed l_OdeGeomTriMeshGetLastTransform (...) {}
+
+	/// lua : void OdeGeomTriMeshDataBuildSingle(dTriMeshDataID g,const void*=
 Vertices, int VertexStride, int VertexCount,const void* Indices, int Index=
Count, int TriStride) [ from ode ]
+	mixed l_OdeGeomTriMeshDataBuildSingle (...) {}
+
+	/// lua : void OdeGeomTriMeshDataBuildSingle1(dTriMeshDataID g,const void=
* Vertices, int VertexStride, int VertexCount,const void* Indices, int Inde=
xCount, int TriStride,const void* Normals) [ from ode ]
+	mixed l_OdeGeomTriMeshDataBuildSingle1 (...) {}
+
+	/// lua : void OdeGeomTriMeshDataBuildDouble(dTriMeshDataID g,const void*=
 Vertices, int VertexStride, int VertexCount,const void* Indices, int Index=
Count, int TriStride) [ from ode ]
+	mixed l_OdeGeomTriMeshDataBuildDouble (...) {}
+
+	/// lua : void OdeGeomTriMeshDataBuildDouble1(dTriMeshDataID g,const void=
* Vertices, int VertexStride, int VertexCount,const void* Indices, int Inde=
xCount, int TriStride,const void* Normals) [ from ode ]
+	mixed l_OdeGeomTriMeshDataBuildDouble1 (...) {}
+
+	/// lua : void OdeGeomTriMeshDataBuildFromRaw(dTriMeshDataID g,cTriangleM=
eshRawData)
+	mixed l_OdeGeomTriMeshDataBuildFromRaw (...) {}
+
+	/// lua : void OdeGeomTriMeshDataBuildSimple1(dTriMeshDataID g,const dRea=
l* Vertices, int VertexCount,const int* Indices, int IndexCount,const int* =
Normals) [ from ode ]
+	mixed l_OdeGeomTriMeshDataBuildSimple1 (...) {}
+
+	/// lua : void OdeGeomTriMeshDataPreprocess(dTriMeshDataID g) [ from ode ]
+	mixed l_OdeGeomTriMeshDataPreprocess (...) {}
+
+	/// lua : void OdeGeomTriMeshDataGetBuffer(dTriMeshDataID g, unsigned cha=
r** buf, int* bufLen) [ from ode ]
+	mixed l_OdeGeomTriMeshDataGetBuffer (...) {}
+
+	/// lua : void OdeGeomTriMeshDataSetBuffer(dTriMeshDataID g, unsigned cha=
r* buf) [ from ode ]
+	mixed l_OdeGeomTriMeshDataSetBuffer (...) {}
+
+	/// lua : void OdeGeomTriMeshSetCallback(dGeomID g, dTriCallback* Callbac=
k) [ from ode ]
+	mixed l_OdeGeomTriMeshSetCallback (...) {}
+
+	/// lua : dTriCallback* OdeGeomTriMeshGetCallback(dGeomID g) [ from ode ]
+	mixed l_OdeGeomTriMeshGetCallback (...) {}
+
+	/// lua : void OdeGeomTriMeshSetArrayCallback(dGeomID g, dTriArrayCallbac=
k* ArrayCallback) [ from ode ]
+	mixed l_OdeGeomTriMeshSetArrayCallback (...) {}
+
+	/// lua : dTriArrayCallback* OdeGeomTriMeshGetArrayCallback(dGeomID g) [ =
from ode ]
+	mixed l_OdeGeomTriMeshGetArrayCallback (...) {}
+
+	/// lua : void OdeGeomTriMeshSetRayCallback(dGeomID g, dTriRayCallback* C=
allback) [ from ode ]
+	mixed l_OdeGeomTriMeshSetRayCallback (...) {}
+
+	/// lua : dTriRayCallback* OdeGeomTriMeshGetRayCallback(dGeomID g) [ from=
 ode ]
+	mixed l_OdeGeomTriMeshGetRayCallback (...) {}
+
+	/// lua : dGeomID OdeCreateTriMesh(dSpaceID space, dTriMeshDataID Data)
+	/// UNUSED, dTriCallback* Callback, dTriArrayCallback* ArrayCallback, dTr=
iRayCallback* RayCallback) [ from ode ]
+	mixed l_OdeCreateTriMesh (...) {}
+
+	/// lua : void OdeGeomTriMeshSetData(dGeomID g, dTriMeshDataID Data) [ fr=
om ode ]
+	mixed l_OdeGeomTriMeshSetData (...) {}
+
+	/// lua : dTriMeshDataID OdeGeomTriMeshGetData(dGeomID g) [ from ode ]
+	mixed l_OdeGeomTriMeshGetData (...) {}
+
+	/// enable/disable/check temporal coherence
+	/// lua : void OdeGeomTriMeshEnableTC(dGeomID g, int geomClass, int enabl=
e) [ from ode ]
+	mixed l_OdeGeomTriMeshEnableTC (...) {}
+
+	/// lua : int OdeGeomTriMeshIsTCEnabled(dGeomID g, int geomClass) [ from =
ode ]
+	mixed l_OdeGeomTriMeshIsTCEnabled (...) {}
+
+	/// lua : void OdeGeomTriMeshClearTCCache(dGeomID g) [ from ode ]
+	mixed l_OdeGeomTriMeshClearTCCache (...) {}
+
+	/// lua : dTriMeshDataID OdeGeomTriMeshGetTriMeshDataID(dGeomID g) [ from=
 ode ]
+	mixed l_OdeGeomTriMeshGetTriMeshDataID (...) {}
+
+	/// lua : void OdeGeomTriMeshGetTriangle(dGeomID g, int Index, dVector3* =
v0, dVector3* v1, dVector3* v2) [ from ode ]
+	mixed l_OdeGeomTriMeshGetTriangle (...) {}
+
+	/// lua : void OdeGeomTriMeshGetPoint(dGeomID g, int Index, dReal u, dRea=
l v, dVector3 Out) [ from ode ]
+	mixed l_OdeGeomTriMeshGetPoint (...) {}
+
+	/// lua : int OdeGeomTriMeshGetTriangleCount(dGeomID g) [ from ode ]
+	mixed l_OdeGeomTriMeshGetTriangleCount (...) {}
+
+	/// lua : void OdeGeomTriMeshDataUpdate(dTriMeshDataID g) [ from ode ]
+	mixed l_OdeGeomTriMeshDataUpdate (...) {}
+
+	/// lua : udata OdeMassCreate()
+	mixed l_OdeMassCreate (...) {}
+
+	/// lua : void OdeMassDestroy(udata)
+	mixed l_OdeMassDestroy (...) {}
+
+	/// lua : int OdeMassCheck(const dMass *m) [ from ode ]
+	mixed l_OdeMassCheck (...) {}
+
+	/// lua : void OdeMassSetZero(dMass *) [ from ode ]
+	mixed l_OdeMassSetZero (...) {}
+
+	/// lua : void OdeMassSetParameters(dMass *, dReal themass,dReal cgx, dRe=
al cgy, dReal cgz,dReal I11, dReal I22, dReal I33,dReal I12, dReal I13, dRe=
al I23) [ from ode ]
+	mixed l_OdeMassSetParameters (...) {}
+
+	/// lua : void OdeMassSetSphere(dMass *, dReal density, dReal radius) [ f=
rom ode ]
+	mixed l_OdeMassSetSphere (...) {}
+
+	/// lua : void OdeMassSetSphereTotal(dMass *, dReal total_mass, dReal rad=
ius) [ from ode ]
+	mixed l_OdeMassSetSphereTotal (...) {}
+
+	/// lua : void OdeMassSetCapsule(dMass *, dReal density, int direction,dR=
eal radius, dReal length) [ from ode ]
+	mixed l_OdeMassSetCapsule (...) {}
+
+	/// lua : void OdeMassSetCapsuleTotal(dMass *, dReal total_mass, int dire=
ction,dReal radius, dReal length) [ from ode ]
+	mixed l_OdeMassSetCapsuleTotal (...) {}
+
+	/// lua : void OdeMassSetCylinder(dMass *, dReal density, int direction,d=
Real radius, dReal length) [ from ode ]
+	mixed l_OdeMassSetCylinder (...) {}
+
+	/// lua : void OdeMassSetCylinderTotal(dMass *, dReal total_mass, int dir=
ection,dReal radius, dReal length) [ from ode ]
+	mixed l_OdeMassSetCylinderTotal (...) {}
+
+	/// lua : void OdeMassSetBox(dMass *, dReal density,dReal lx, dReal ly, d=
Real lz) [ from ode ]
+	mixed l_OdeMassSetBox (...) {}
+
+	/// lua : void OdeMassSetBoxTotal(dMass *, dReal total_mass,dReal lx, dRe=
al ly, dReal lz) [ from ode ]
+	mixed l_OdeMassSetBoxTotal (...) {}
+
+	/// lua : void OdeMassSetTrimesh(dMass *, dReal density, dGeomID g) [ fro=
m ode ]
+	mixed l_OdeMassSetTrimesh (...) {}
+
+	/// lua : void OdeMassAdjust(dMass *, dReal newmass) [ from ode ]
+	mixed l_OdeMassAdjust (...) {}
+
+	/// lua : void OdeMassTranslate(dMass *, dReal x, dReal y, dReal z) [ fro=
m ode ]
+	mixed l_OdeMassTranslate (...) {}
+
+	/// lua : void OdeMassAdd(dMass *a, const dMass *b) [ from ode ]
+	mixed l_OdeMassAdd (...) {}
+
+	/// lua : udata l_OdeWorldCreate() [ from ode ]
+	mixed l_OdeWorldCreate (...) {}
+
+	/// lua : void OdeWorldDestroy(dWorldID world) [ from ode ]
+	mixed l_OdeWorldDestroy (...) {}
+
+	/// lua : void OdeWorldSetGravity(dWorldID, dReal x, dReal y, dReal z) [ =
from ode ]
+	mixed l_OdeWorldSetGravity (...) {}
+
+	/// lua : void OdeWorldGetGravity(dWorldID, dVector3 gravity) [ from ode ]
+	mixed l_OdeWorldGetGravity (...) {}
+
+	/// lua : void OdeWorldSetERP(dWorldID, dReal erp) [ from ode ]
+	mixed l_OdeWorldSetERP (...) {}
+
+	/// lua : dReal OdeWorldGetERP(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetERP (...) {}
+
+	/// lua : void OdeWorldSetCFM(dWorldID, dReal cfm) [ from ode ]
+	mixed l_OdeWorldSetCFM (...) {}
+
+	/// lua : dReal OdeWorldGetCFM(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetCFM (...) {}
+
+	/// lua : void OdeWorldStep(dWorldID, dReal stepsize) [ from ode ]
+	mixed l_OdeWorldStep (...) {}
+
+	/// lua : void OdeWorldImpulseToForce(dWorldID, dReal stepsize,dReal ix, =
dReal iy, dReal iz, dVector3 force) [ from ode ]
+	mixed l_OdeWorldImpulseToForce (...) {}
+
+	/// lua : void OdeWorldQuickStep(dWorldID w, dReal stepsize) [ from ode ]
+	mixed l_OdeWorldQuickStep (...) {}
+
+	/// lua : void OdeWorldSetQuickStepNumIterations(dWorldID, int num) [ fro=
m ode ]
+	mixed l_OdeWorldSetQuickStepNumIterations (...) {}
+
+	/// lua : int OdeWorldGetQuickStepNumIterations(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetQuickStepNumIterations (...) {}
+
+	/// lua : void OdeWorldSetQuickStepW(dWorldID, dReal over_relaxation) [ f=
rom ode ]
+	mixed l_OdeWorldSetQuickStepW (...) {}
+
+	/// lua : dReal OdeWorldGetQuickStepW(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetQuickStepW (...) {}
+
+	/// lua : void OdeWorldSetContactMaxCorrectingVel(dWorldID, dReal vel) [ =
from ode ]
+	mixed l_OdeWorldSetContactMaxCorrectingVel (...) {}
+
+	/// lua : dReal OdeWorldGetContactMaxCorrectingVel(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetContactMaxCorrectingVel (...) {}
+
+	/// lua : void OdeWorldSetContactSurfaceLayer(dWorldID, dReal depth) [ fr=
om ode ]
+	mixed l_OdeWorldSetContactSurfaceLayer (...) {}
+
+	/// lua : dReal OdeWorldGetContactSurfaceLayer(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetContactSurfaceLayer (...) {}
+
+	/// lua : void OdeWorldStepFast1(dWorldID, dReal stepsize, int maxiterati=
ons) [ from ode ]
+	mixed l_OdeWorldStepFast1 (...) {}
+
+	/// lua : void OdeWorldSetAutoEnableDepthSF1(dWorldID, int autoEnableDept=
h) [ from ode ]
+	mixed l_OdeWorldSetAutoEnableDepthSF1 (...) {}
+
+	/// lua : int OdeWorldGetAutoEnableDepthSF1(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetAutoEnableDepthSF1 (...) {}
+
+	/// lua : dReal OdeWorldGetAutoDisableLinearThreshold(dWorldID) [ from od=
e ]
+	mixed l_OdeWorldGetAutoDisableLinearThreshold (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableLinearThreshold(dWorldID, dReal line=
ar_threshold) [ from ode ]
+	mixed l_OdeWorldSetAutoDisableLinearThreshold (...) {}
+
+	/// lua : dReal OdeWorldGetAutoDisableAngularThreshold(dWorldID) [ from o=
de ]
+	mixed l_OdeWorldGetAutoDisableAngularThreshold (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableAngularThreshold(dWorldID, dReal ang=
ular_threshold) [ from ode ]
+	mixed l_OdeWorldSetAutoDisableAngularThreshold (...) {}
+
+	/// lua : dReal OdeWorldGetAutoDisableLinearAverageThreshold(dWorldID) [ =
from ode ]
+	mixed l_OdeWorldGetAutoDisableLinearAverageThreshold (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableLinearAverageThreshold(dWorldID, dRe=
al linear_average_threshold) [ from ode ]
+	mixed l_OdeWorldSetAutoDisableLinearAverageThreshold (...) {}
+
+	/// lua : dReal OdeWorldGetAutoDisableAngularAverageThreshold(dWorldID) [=
 from ode ]
+	mixed l_OdeWorldGetAutoDisableAngularAverageThreshold (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableAngularAverageThreshold(dWorldID, dR=
eal angular_average_threshold) [ from ode ]
+	mixed l_OdeWorldSetAutoDisableAngularAverageThreshold (...) {}
+
+	/// lua : int OdeWorldGetAutoDisableAverageSamplesCount(dWorldID) [ from =
ode ]
+	mixed l_OdeWorldGetAutoDisableAverageSamplesCount (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableAverageSamplesCount(dWorldID, unsign=
ed int average_samples_count ) [ from ode ]
+	mixed l_OdeWorldSetAutoDisableAverageSamplesCount (...) {}
+
+	/// lua : int OdeWorldGetAutoDisableSteps(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetAutoDisableSteps (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableSteps(dWorldID, int steps) [ from od=
e ]
+	mixed l_OdeWorldSetAutoDisableSteps (...) {}
+
+	/// lua : dReal OdeWorldGetAutoDisableTime(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetAutoDisableTime (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableTime(dWorldID, dReal time) [ from od=
e ]
+	mixed l_OdeWorldSetAutoDisableTime (...) {}
+
+	/// lua : int OdeWorldGetAutoDisableFlag(dWorldID) [ from ode ]
+	mixed l_OdeWorldGetAutoDisableFlag (...) {}
+
+	/// lua : void OdeWorldSetAutoDisableFlag(dWorldID, int do_auto_disable) =
[ from ode ]
+	mixed l_OdeWorldSetAutoDisableFlag (...) {}
+
+	/// lua : dReal OdeBodyGetAutoDisableLinearThreshold(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetAutoDisableLinearThreshold (...) {}
+
+	/// lua : void OdeBodySetAutoDisableLinearThreshold(dBodyID, dReal linear=
_average_threshold) [ from ode ]
+	mixed l_OdeBodySetAutoDisableLinearThreshold (...) {}
+
+	/// lua : dReal OdeBodyGetAutoDisableAngularThreshold(dBodyID) [ from ode=
 ]
+	mixed l_OdeBodyGetAutoDisableAngularThreshold (...) {}
+
+	/// lua : void OdeBodySetAutoDisableAngularThreshold(dBodyID, dReal angul=
ar_average_threshold) [ from ode ]
+	mixed l_OdeBodySetAutoDisableAngularThreshold (...) {}
+
+	/// lua : int OdeBodyGetAutoDisableAverageSamplesCount(dBodyID) [ from od=
e ]
+	mixed l_OdeBodyGetAutoDisableAverageSamplesCount (...) {}
+
+	/// lua : void OdeBodySetAutoDisableAverageSamplesCount(dBodyID, unsigned=
 int average_samples_count) [ from ode ]
+	mixed l_OdeBodySetAutoDisableAverageSamplesCount (...) {}
+
+	/// lua : int OdeBodyGetAutoDisableSteps(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetAutoDisableSteps (...) {}
+
+	/// lua : void OdeBodySetAutoDisableSteps(dBodyID, int steps) [ from ode ]
+	mixed l_OdeBodySetAutoDisableSteps (...) {}
+
+	/// lua : dReal OdeBodyGetAutoDisableTime(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetAutoDisableTime (...) {}
+
+	/// lua : void OdeBodySetAutoDisableTime(dBodyID, dReal time) [ from ode ]
+	mixed l_OdeBodySetAutoDisableTime (...) {}
+
+	/// lua : int OdeBodyGetAutoDisableFlag(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetAutoDisableFlag (...) {}
+
+	/// lua : void OdeBodySetAutoDisableFlag(dBodyID, int do_auto_disable) [ =
from ode ]
+	mixed l_OdeBodySetAutoDisableFlag (...) {}
+
+	/// lua : void OdeBodySetAutoDisableDefaults(dBodyID) [ from ode ]
+	mixed l_OdeBodySetAutoDisableDefaults (...) {}
+
+	/// lua : dWorldID OdeBodyGetWorld(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetWorld (...) {}
+
+	/// lua : dBodyID OdeBodyCreate(dWorldID) [ from ode ]
+	mixed l_OdeBodyCreate (...) {}
+
+	/// lua : void OdeBodyDestroy(dBodyID) [ from ode ]
+	mixed l_OdeBodyDestroy (...) {}
+
+	/// lua : void OdeBodySetData(dBodyID, void *data) [ from ode ]
+	mixed l_OdeBodySetData (...) {}
+
+	/// lua : void OdeBodyGetData(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetData (...) {}
+
+	/// lua : void OdeBodySetPosition(dBodyID, dReal x, dReal y, dReal z) [ f=
rom ode ]
+	mixed l_OdeBodySetPosition (...) {}
+
+	/// lua : void OdeBodySetQuaternion(dBodyID, const dQuaternion q) [ from =
ode ]
+	mixed l_OdeBodySetQuaternion (...) {}
+
+	/// lua : void OdeBodySetLinearVel(dBodyID, dReal x, dReal y, dReal z) [ =
from ode ]
+	mixed l_OdeBodySetLinearVel (...) {}
+
+	/// lua : void OdeBodySetAngularVel(dBodyID, dReal x, dReal y, dReal z) [=
 from ode ]
+	mixed l_OdeBodySetAngularVel (...) {}
+
+	/// lua : x,y,z OdeBodyGetPosition(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetPosition (...) {}
+
+	/// lua : w,x,y,z OdeBodyGetQuaternion(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetQuaternion (...) {}
+
+	/// lua : * OdeBodyGetLinearVel(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetLinearVel (...) {}
+
+	/// lua : * OdeBodyGetAngularVel(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetAngularVel (...) {}
+
+	/// lua : void OdeBodySetMass(dBodyID, const dMass *mass) [ from ode ]
+	mixed l_OdeBodySetMass (...) {}
+
+	/// lua : void OdeBodyGetMass(dBodyID, dMass *mass) [ from ode ]
+	mixed l_OdeBodyGetMass (...) {}
+
+	/// lua : void OdeBodyAddForce(dBodyID, dReal fx, dReal fy, dReal fz) [ f=
rom ode ]
+	mixed l_OdeBodyAddForce (...) {}
+
+	/// lua : void OdeBodyAddTorque(dBodyID, dReal fx, dReal fy, dReal fz) [ =
from ode ]
+	mixed l_OdeBodyAddTorque (...) {}
+
+	/// lua : void OdeBodyAddRelForce(dBodyID, dReal fx, dReal fy, dReal fz) =
[ from ode ]
+	mixed l_OdeBodyAddRelForce (...) {}
+
+	/// lua : void OdeBodyAddRelTorque(dBodyID, dReal fx, dReal fy, dReal fz)=
 [ from ode ]
+	mixed l_OdeBodyAddRelTorque (...) {}
+
+	/// lua : void OdeBodyAddForceAtPos(dBodyID, dReal fx, dReal fy, dReal fz=
,dReal px, dReal py, dReal pz) [ from ode ]
+	mixed l_OdeBodyAddForceAtPos (...) {}
+
+	/// lua : void OdeBodyAddForceAtRelPos(dBodyID, dReal fx, dReal fy, dReal=
 fz,dReal px, dReal py, dReal pz) [ from ode ]
+	mixed l_OdeBodyAddForceAtRelPos (...) {}
+
+	/// lua : void OdeBodyAddRelForceAtPos(dBodyID, dReal fx, dReal fy, dReal=
 fz,dReal px, dReal py, dReal pz) [ from ode ]
+	mixed l_OdeBodyAddRelForceAtPos (...) {}
+
+	/// lua : void OdeBodyAddRelForceAtRelPos(dBodyID, dReal fx, dReal fy, dR=
eal fz,dReal px, dReal py, dReal pz) [ from ode ]
+	mixed l_OdeBodyAddRelForceAtRelPos (...) {}
+
+	/// lua : fx,fy,fz OdeBodyGetForce(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetForce (...) {}
+
+	/// lua : x,y,z OdeBodyGetTorque(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetTorque (...) {}
+
+	/// lua : void OdeBodySetForce(dBodyID b, dReal x, dReal y, dReal z) [ fr=
om ode ]
+	mixed l_OdeBodySetForce (...) {}
+
+	/// lua : void OdeBodySetTorque(dBodyID b, dReal x, dReal y, dReal z) [ f=
rom ode ]
+	mixed l_OdeBodySetTorque (...) {}
+
+	/// lua : x,y,z OdeBodyGetRelPointPos(dBodyID, dReal px, dReal py, dReal =
pz,dVector3 result) [ from ode ]
+	mixed l_OdeBodyGetRelPointPos (...) {}
+
+	/// lua : x,y,z OdeBodyGetRelPointVel(dBodyID, dReal px, dReal py, dReal =
pz,dVector3 result) [ from ode ]
+	mixed l_OdeBodyGetRelPointVel (...) {}
+
+	/// lua : x,y,z OdeBodyGetPointVel(dBodyID, dReal px, dReal py, dReal pz,=
dVector3 result) [ from ode ]
+	mixed l_OdeBodyGetPointVel (...) {}
+
+	/// lua : x,y,z OdeBodyGetPosRelPoint(dBodyID, dReal px, dReal py, dReal =
pz,dVector3 result) [ from ode ]
+	mixed l_OdeBodyGetPosRelPoint (...) {}
+
+	/// lua : x,y,z OdeBodyVectorToWorld(dBodyID, dReal px, dReal py, dReal p=
z,dVector3 result) [ from ode ]
+	mixed l_OdeBodyVectorToWorld (...) {}
+
+	/// lua : x,y,z OdeBodyVectorFromWorld(dBodyID, dReal px, dReal py, dReal=
 pz,dVector3 result) [ from ode ]
+	mixed l_OdeBodyVectorFromWorld (...) {}
+
+	/// lua : void OdeBodySetFiniteRotationMode(dBodyID, int mode) [ from ode=
 ]
+	mixed l_OdeBodySetFiniteRotationMode (...) {}
+
+	/// lua : void OdeBodySetFiniteRotationAxis(dBodyID, dReal x, dReal y, dR=
eal z) [ from ode ]
+	mixed l_OdeBodySetFiniteRotationAxis (...) {}
+
+	/// lua : int OdeBodyGetFiniteRotationMode(dBodyID) [ from ode ]
+	mixed l_OdeBodyGetFiniteRotationMode (...) {}
+
+	/// lua : x,y,z OdeBodyGetFiniteRotationAxis(dBodyID, dVector3 result) [ =
from ode ]
+	mixed l_OdeBodyGetFiniteRotationAxis (...) {}
+
+	/// lua : int OdeBodyGetNumJoints(dBodyID b) [ from ode ]
+	mixed l_OdeBodyGetNumJoints (...) {}
+
+	/// lua : dJointID OdeBodyGetJoint(dBodyID, int index) [ from ode ]
+	mixed l_OdeBodyGetJoint (...) {}
+
+	/// lua : void OdeBodyEnable(dBodyID) [ from ode ]
+	mixed l_OdeBodyEnable (...) {}
+
+	/// lua : void OdeBodyDisable(dBodyID) [ from ode ]
+	mixed l_OdeBodyDisable (...) {}
+
+	/// lua : int OdeBodyIsEnabled(dBodyID) [ from ode ]
+	mixed l_OdeBodyIsEnabled (...) {}
+
+	/// lua : void OdeBodySetGravityMode(dBodyID b, int mode) [ from ode ]
+	mixed l_OdeBodySetGravityMode (...) {}
+
+	/// lua : int OdeBodyGetGravityMode(dBodyID b) [ from ode ]
+	mixed l_OdeBodyGetGravityMode (...) {}
+
+	/// lua : dJointID OdeJointCreateBall(dWorldID, dJointGroupID) [ from ode=
 ]
+	mixed l_OdeJointCreateBall (...) {}
+
+	/// lua : dJointID OdeJointCreateHinge(dWorldID, dJointGroupID) [ from od=
e ]
+	mixed l_OdeJointCreateHinge (...) {}
+
+	/// lua : dJointID OdeJointCreateSlider(dWorldID, dJointGroupID) [ from o=
de ]
+	mixed l_OdeJointCreateSlider (...) {}
+
+	/// lua : dJointID OdeJointCreateContact(dWorldID, dJointGroupID, const d=
Contact *) [ from ode ]
+	mixed l_OdeJointCreateContact (...) {}
+
+	/// lua : dJointID OdeJointCreateHinge2(dWorldID, dJointGroupID) [ from o=
de ]
+	mixed l_OdeJointCreateHinge2 (...) {}
+
+	/// lua : dJointID OdeJointCreateUniversal(dWorldID, dJointGroupID) [ fro=
m ode ]
+	mixed l_OdeJointCreateUniversal (...) {}
+
+	/// lua : dJointID OdeJointCreatePR(dWorldID, dJointGroupID) [ from ode ]
+	mixed l_OdeJointCreatePR (...) {}
+
+	/// lua : dJointID OdeJointCreateFixed(dWorldID, dJointGroupID) [ from od=
e ]
+	mixed l_OdeJointCreateFixed (...) {}
+
+	/// lua : dJointID OdeJointCreateNull(dWorldID, dJointGroupID) [ from ode=
 ]
+	mixed l_OdeJointCreateNull (...) {}
+
+	/// lua : dJointID OdeJointCreateAMotor(dWorldID, dJointGroupID) [ from o=
de ]
+	mixed l_OdeJointCreateAMotor (...) {}
+
+	/// lua : dJointID OdeJointCreateLMotor(dWorldID, dJointGroupID) [ from o=
de ]
+	mixed l_OdeJointCreateLMotor (...) {}
+
+	/// lua : dJointID OdeJointCreatePlane2D(dWorldID, dJointGroupID) [ from =
ode ]
+	mixed l_OdeJointCreatePlane2D (...) {}
+
+	/// lua : void OdeJointDestroy(dJointID) [ from ode ]
+	mixed l_OdeJointDestroy (...) {}
+
+	/// lua : dJointGroupID OdeJointGroupCreate(int max_size) [ from ode ]
+	mixed l_OdeJointGroupCreate (...) {}
+
+	/// lua : void OdeJointGroupDestroy(dJointGroupID) [ from ode ]
+	mixed l_OdeJointGroupDestroy (...) {}
+
+	/// lua : void OdeJointGroupEmpty(dJointGroupID) [ from ode ]
+	mixed l_OdeJointGroupEmpty (...) {}
+
+	/// lua : void OdeJointAttach(dJointID, dBodyID body1, dBodyID body2) [ f=
rom ode ]
+	mixed l_OdeJointAttach (...) {}
+
+	/// lua : void OdeJointSetData(dJointID, void *data) [ from ode ]
+	mixed l_OdeJointSetData (...) {}
+
+	/// lua : void OdedJointGetData(dJointID) [ from ode ]
+	mixed l_OdedJointGetData (...) {}
+
+	/// lua : int OdeJointGetType(dJointID) [ from ode ]
+	mixed l_OdeJointGetType (...) {}
+
+	/// lua : dBodyID OdeJointGetBody(dJointID, int index) [ from ode ]
+	mixed l_OdeJointGetBody (...) {}
+
+	/// lua : void OdeJointFeedbackCreate(udata)
+	mixed l_OdeJointFeedbackDestroy (...) {}
+
+	/// lua : udata OdeJointFeedbackCreate()
+	mixed l_OdeJointFeedbackCreate (...) {}
+
+	/// lua : void OdeJointSetFeedback(dJointID, dJointFeedback *) [ from ode=
 ]
+	mixed l_OdeJointSetFeedback (...) {}
+
+	/// lua : dJointFeedback OdeJointGetFeedback(dJointID) [ from ode ]
+	mixed l_OdeJointGetFeedback (...) {}
+
+	/// lua : void OdeJointSetBallAnchor(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
+	mixed l_OdeJointSetBallAnchor (...) {}
+
+	/// lua : void OdeJointSetBallAnchor2(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
+	mixed l_OdeJointSetBallAnchor2 (...) {}
+
+	/// lua : void OdeJointSetHingeAnchor(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
+	mixed l_OdeJointSetHingeAnchor (...) {}
+
+	/// lua : void OdeJointSetHingeAnchorDelta(dJointID, dReal x, dReal y, dR=
eal z, dReal ax, dReal ay, dReal az) [ from ode ]
+	mixed l_OdeJointSetHingeAnchorDelta (...) {}
+
+	/// lua : void OdeJointSetHingeAxis(dJointID, dReal x, dReal y, dReal z) =
[ from ode ]
+	mixed l_OdeJointSetHingeAxis (...) {}
+
+	/// lua : void OdeJointSetHingeParam(dJointID, int parameter, dReal value=
) [ from ode ]
+	mixed l_OdeJointSetHingeParam (...) {}
+
+	/// lua : void OdeJointAddHingeTorque(dJointID joint, dReal torque) [ fro=
m ode ]
+	mixed l_OdeJointAddHingeTorque (...) {}
+
+	/// lua : void OdeJointSetSliderAxis(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
+	mixed l_OdeJointSetSliderAxis (...) {}
+
+	/// lua : void OdeJointSetSliderAxisDelta(dJointID, dReal x, dReal y, dRe=
al z, dReal ax, dReal ay, dReal az) [ from ode ]
+	mixed l_OdeJointSetSliderAxisDelta (...) {}
+
+	/// lua : void OdeJointSetSliderParam(dJointID, int parameter, dReal valu=
e) [ from ode ]
+	mixed l_OdeJointSetSliderParam (...) {}
+
+	/// lua : void OdeJointAddSliderForce(dJointID joint, dReal force) [ from=
 ode ]
+	mixed l_OdeJointAddSliderForce (...) {}
+
+	/// lua : void OdeJointSetHinge2Anchor(dJointID, dReal x, dReal y, dReal =
z) [ from ode ]
+	mixed l_OdeJointSetHinge2Anchor (...) {}
+
+	/// lua : void OdeJointSetHinge2Axis1(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
+	mixed l_OdeJointSetHinge2Axis1 (...) {}
+
+	/// lua : void OdeJointSetHinge2Axis2(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
+	mixed l_OdeJointSetHinge2Axis2 (...) {}
+
+	/// lua : void OdeJointSetHinge2Param(dJointID, int parameter, dReal valu=
e) [ from ode ]
+	mixed l_OdeJointSetHinge2Param (...) {}
+
+	/// lua : void OdeJointAddHinge2Torques(dJointID joint, dReal torque1, dR=
eal torque2) [ from ode ]
+	mixed l_OdeJointAddHinge2Torques (...) {}
+
+	/// lua : void OdeJointSetUniversalAnchor(dJointID, dReal x, dReal y, dRe=
al z) [ from ode ]
+	mixed l_OdeJointSetUniversalAnchor (...) {}
+
+	/// lua : void OdeJointSetUniversalAxis1(dJointID, dReal x, dReal y, dRea=
l z) [ from ode ]
+	mixed l_OdeJointSetUniversalAxis1 (...) {}
+
+	/// lua : void OdeJointSetUniversalAxis2(dJointID, dReal x, dReal y, dRea=
l z) [ from ode ]
+	mixed l_OdeJointSetUniversalAxis2 (...) {}
+
+	/// lua : void OdeJointSetUniversalParam(dJointID, int parameter, dReal v=
alue) [ from ode ]
+	mixed l_OdeJointSetUniversalParam (...) {}
+
+	/// lua : void OdeJointAddUniversalTorques(dJointID joint, dReal torque1,=
 dReal torque2) [ from ode ]
+	mixed l_OdeJointAddUniversalTorques (...) {}
+
+	/// lua : void OdeJointSetPRAnchor(dJointID, dReal x, dReal y, dReal z) [=
 from ode ]
+	mixed l_OdeJointSetPRAnchor (...) {}
+
+	/// lua : void OdeJointSetPRAxis1(dJointID, dReal x, dReal y, dReal z) [ =
from ode ]
+	mixed l_OdeJointSetPRAxis1 (...) {}
+
+	/// lua : void OdeJointSetPRAxis2(dJointID, dReal x, dReal y, dReal z) [ =
from ode ]
+	mixed l_OdeJointSetPRAxis2 (...) {}
+
+	/// lua : void OdeJointSetPRParam(dJointID, int parameter, dReal value) [=
 from ode ]
+	mixed l_OdeJointSetPRParam (...) {}
+
+	/// lua : void OdeJointAddPRTorque(dJointID j, dReal torque) [ from ode ]
+	mixed l_OdeJointAddPRTorque (...) {}
+
+	/// lua : void OdeJointSetFixed(dJointID) [ from ode ]
+	mixed l_OdeJointSetFixed (...) {}
+
+	/// lua : void OdeJointSetAMotorNumAxes(dJointID, int num) [ from ode ]
+	mixed l_OdeJointSetAMotorNumAxes (...) {}
+
+	/// lua : void OdeJointSetAMotorAxis(dJointID, int anum, int rel,dReal x,=
 dReal y, dReal z) [ from ode ]
+	mixed l_OdeJointSetAMotorAxis (...) {}
+
+	/// lua : void OdeJointSetAMotorAngle(dJointID, int anum, dReal angle) [ =
from ode ]
+	mixed l_OdeJointSetAMotorAngle (...) {}
+
+	/// lua : void OdeJointSetAMotorParam(dJointID, int parameter, dReal valu=
e) [ from ode ]
+	mixed l_OdeJointSetAMotorParam (...) {}
+
+	/// lua : void OdeJointSetAMotorMode(dJointID, int mode) [ from ode ]
+	mixed l_OdeJointSetAMotorMode (...) {}
+
+	/// lua : void OdeJointAddAMotorTorques(dJointID, dReal torque1, dReal to=
rque2, dReal torque3) [ from ode ]
+	mixed l_OdeJointAddAMotorTorques (...) {}
+
+	/// lua : void OdeJointSetLMotorNumAxes(dJointID, int num) [ from ode ]
+	mixed l_OdeJointSetLMotorNumAxes (...) {}
+
+	/// lua : void OdeJointSetLMotorAxis(dJointID, int anum, int rel, dReal x=
, dReal y, dReal z) [ from ode ]
+	mixed l_OdeJointSetLMotorAxis (...) {}
+
+	/// lua : void OdeJointSetLMotorParam(dJointID, int parameter, dReal valu=
e) [ from ode ]
+	mixed l_OdeJointSetLMotorParam (...) {}
+
+	/// lua : void OdeJointSetPlane2DXParam(dJointID, int parameter, dReal va=
lue) [ from ode ]
+	mixed l_OdeJointSetPlane2DXParam (...) {}
+
+	/// lua : void OdeJointSetPlane2DYParam(dJointID, int parameter, dReal va=
lue) [ from ode ]
+	mixed l_OdeJointSetPlane2DYParam (...) {}
+
+	/// lua : void OdeJointSetPlane2DAngleParam(dJointID, int parameter, dRea=
l value) [ from ode ]
+	mixed l_OdeJointSetPlane2DAngleParam (...) {}
+
+	/// lua : void OdeJointGetBallAnchor(dJointID, dVector3 result) [ from od=
e ]
+	mixed l_OdeJointGetBallAnchor (...) {}
+
+	/// lua : void OdeJointGetBallAnchor2(dJointID, dVector3 result) [ from o=
de ]
+	mixed l_OdeJointGetBallAnchor2 (...) {}
+
+	/// lua : void OdeJointGetHingeAnchor(dJointID, dVector3 result) [ from o=
de ]
+	mixed l_OdeJointGetHingeAnchor (...) {}
+
+	/// lua : void OdeJointGetHingeAnchor2(dJointID, dVector3 result) [ from =
ode ]
+	mixed l_OdeJointGetHingeAnchor2 (...) {}
+
+	/// lua : void OdeJointGetHingeAxis(dJointID, dVector3 result) [ from ode=
 ]
+	mixed l_OdeJointGetHingeAxis (...) {}
+
+	/// lua : dReal OdeJointGetHingeParam(dJointID, int parameter) [ from ode=
 ]
+	mixed l_OdeJointGetHingeParam (...) {}
+
+	/// lua : dReal OdeJointGetHingeAngle(dJointID) [ from ode ]
+	mixed l_OdeJointGetHingeAngle (...) {}
+
+	/// lua : dReal OdeJointGetHingeAngleRate(dJointID) [ from ode ]
+	mixed l_OdeJointGetHingeAngleRate (...) {}
+
+	/// lua : dReal OdeJointGetSliderPosition(dJointID) [ from ode ]
+	mixed l_OdeJointGetSliderPosition (...) {}
+
+	/// lua : dReal OdeJointGetSliderPositionRate(dJointID) [ from ode ]
+	mixed l_OdeJointGetSliderPositionRate (...) {}
+
+	/// lua : void OdeJointGetSliderAxis(dJointID, dVector3 result) [ from od=
e ]
+	mixed l_OdeJointGetSliderAxis (...) {}
+
+	/// lua : dReal OdeJointGetSliderParam(dJointID, int parameter) [ from od=
e ]
+	mixed l_OdeJointGetSliderParam (...) {}
+
+	/// lua : void OdeJointGetHinge2Anchor(dJointID, dVector3 result) [ from =
ode ]
+	mixed l_OdeJointGetHinge2Anchor (...) {}
+
+	/// lua : void OdeJointGetHinge2Anchor2(dJointID, dVector3 result) [ from=
 ode ]
+	mixed l_OdeJointGetHinge2Anchor2 (...) {}
+
+	/// lua : void OdeJointGetHinge2Axis1(dJointID, dVector3 result) [ from o=
de ]
+	mixed l_OdeJointGetHinge2Axis1 (...) {}
+
+	/// lua : void OdeJointGetHinge2Axis2(dJointID, dVector3 result) [ from o=
de ]
+	mixed l_OdeJointGetHinge2Axis2 (...) {}
+
+	/// lua : dReal OdeJointGetHinge2Param(dJointID, int parameter) [ from od=
e ]
+	mixed l_OdeJointGetHinge2Param (...) {}
+
+	/// lua : dReal OdeJointGetHinge2Angle1(dJointID) [ from ode ]
+	mixed l_OdeJointGetHinge2Angle1 (...) {}
+
+	/// lua : dReal OdeJointGetHinge2Angle1Rate(dJointID) [ from ode ]
+	mixed l_OdeJointGetHinge2Angle1Rate (...) {}
+
+	/// lua : dReal OdeJointGetHinge2Angle2Rate(dJointID) [ from ode ]
+	mixed l_OdeJointGetHinge2Angle2Rate (...) {}
+
+	/// lua : void OdeJointGetUniversalAnchor(dJointID, dVector3 result) [ fr=
om ode ]
+	mixed l_OdeJointGetUniversalAnchor (...) {}
+
+	/// lua : void OdeJointGetUniversalAnchor2(dJointID, dVector3 result) [ f=
rom ode ]
+	mixed l_OdeJointGetUniversalAnchor2 (...) {}
+
+	/// lua : void OdeJointGetUniversalAxis1(dJointID, dVector3 result) [ fro=
m ode ]
+	mixed l_OdeJointGetUniversalAxis1 (...) {}
+
+	/// lua : void OdeJointGetUniversalAxis2(dJointID, dVector3 result) [ fro=
m ode ]
+	mixed l_OdeJointGetUniversalAxis2 (...) {}
+
+	/// lua : dReal OdeJointGetUniversalParam(dJointID, int parameter) [ from=
 ode ]
+	mixed l_OdeJointGetUniversalParam (...) {}
+
+	/// lua : angle1,angle2 OdeJointGetUniversalAngles(dJointID, dReal *angle=
1, dReal *angle2) [ from ode ]
+	mixed l_OdeJointGetUniversalAngles (...) {}
+
+	/// lua : dReal OdeJointGetUniversalAngle1(dJointID) [ from ode ]
+	mixed l_OdeJointGetUniversalAngle1 (...) {}
+
+	/// lua : dReal OdeJointGetUniversalAngle2(dJointID) [ from ode ]
+	mixed l_OdeJointGetUniversalAngle2 (...) {}
+
+	/// lua : dReal OdeJointGetUniversalAngle1Rate(dJointID) [ from ode ]
+	mixed l_OdeJointGetUniversalAngle1Rate (...) {}
+
+	/// lua : dReal OdeJointGetUniversalAngle2Rate(dJointID) [ from ode ]
+	mixed l_OdeJointGetUniversalAngle2Rate (...) {}
+
+	/// lua : void OdeJointGetPRAnchor(dJointID, dVector3 result) [ from ode ]
+	mixed l_OdeJointGetPRAnchor (...) {}
+
+	/// lua : dReal OdeJointGetPRPosition(dJointID) [ from ode ]
+	mixed l_OdeJointGetPRPosition (...) {}
+
+	/// lua : dReal OdeJointGetPRPositionRate(dJointID) [ from ode ]
+	mixed l_OdeJointGetPRPositionRate (...) {}
+
+	/// lua : void OdeJointGetPRAxis1(dJointID, dVector3 result) [ from ode ]
+	mixed l_OdeJointGetPRAxis1 (...) {}
+
+	/// lua : void OdeJointGetPRAxis2(dJointID, dVector3 result) [ from ode ]
+	mixed l_OdeJointGetPRAxis2 (...) {}
+
+	/// lua : dReal OdeJointGetPRParam(dJointID, int parameter) [ from ode ]
+	mixed l_OdeJointGetPRParam (...) {}
+
+	/// lua : int OdeJointGetAMotorNumAxes(dJointID) [ from ode ]
+	mixed l_OdeJointGetAMotorNumAxes (...) {}
+
+	/// lua : void OdeJointGetAMotorAxis(dJointID, int anum, dVector3 result)=
 [ from ode ]
+	mixed l_OdeJointGetAMotorAxis (...) {}
+
+	/// lua : int OdeJointGetAMotorAxisRel(dJointID, int anum) [ from ode ]
+	mixed l_OdeJointGetAMotorAxisRel (...) {}
+
+	/// lua : dReal OdeJointGetAMotorAngle(dJointID, int anum) [ from ode ]
+	mixed l_OdeJointGetAMotorAngle (...) {}
+
+	/// lua : dReal OdeJointGetAMotorAngleRate(dJointID, int anum) [ from ode=
 ]
+	mixed l_OdeJointGetAMotorAngleRate (...) {}
+
+	/// lua : dReal OdeJointGetAMotorParam(dJointID, int parameter) [ from od=
e ]
+	mixed l_OdeJointGetAMotorParam (...) {}
+
+	/// lua : int OdeJointGetAMotorMode(dJointID) [ from ode ]
+	mixed l_OdeJointGetAMotorMode (...) {}
+
+	/// lua : int OdeJointGetLMotorNumAxes(dJointID) [ from ode ]
+	mixed l_OdeJointGetLMotorNumAxes (...) {}
+
+	/// lua : void OdeJointGetLMotorAxis(dJointID, int anum, dVector3 result)=
 [ from ode ]
+	mixed l_OdeJointGetLMotorAxis (...) {}
+
+	/// lua : dReal OdeJointGetLMotorParam(dJointID, int parameter) [ from od=
e ]
+	mixed l_OdeJointGetLMotorParam (...) {}
+
+	/// lua : dJointID OdeConnectingJoint(dBodyID, dBodyID) [ from ode ]
+	mixed l_OdeConnectingJoint (...) {}
+
+	/// lua : int OdeConnectingJointList(dBodyID, dBodyID, dJointID*) [ from =
ode ]
+	mixed l_OdeConnectingJointList (...) {}
+
+	/// lua : int OdeAreConnected(dBodyID, dBodyID) [ from ode ]
+	mixed l_OdeAreConnected (...) {}
+
+	/// lua : int OdeAreConnectedExcluding(dBodyID body1, dBodyID body2, int =
joint_type) [ from ode ]
+	mixed l_OdeAreConnectedExcluding (...) {}
+
+	/// lua : dStopwatch * l_OdeStopwatchCreate() [ from ode ]
+	mixed l_OdeStopwatchCreate (...) {}
+
+	/// lua : void l_OdeStopwatchDestroy(dStopwatch *) [ from ode ]
+	mixed l_OdeStopwatchDestroy (...) {}
+
+	/// lua : void OdeStopwatchReset(dStopwatch *) [ from ode ]
+	mixed l_OdeStopwatchReset (...) {}
+
+	/// lua : void OdeStopwatchStart(dStopwatch *) [ from ode ]
+	mixed l_OdeStopwatchStart (...) {}
+
+	/// lua : void OdeStopwatchStop(dStopwatch *) [ from ode ]
+	mixed l_OdeStopwatchStop (...) {}
+
+	/// lua : double OdeStopwatchTime(dStopwatch *) [ from ode ]
+	mixed l_OdeStopwatchTime (...) {}
+
+	/// lua : void OdeTimerStart(const char *description) [ from ode ]
+	mixed l_OdeTimerStart (...) {}
+
+	/// lua : void OdeTimerNow(const char *description) [ from ode ]
+	mixed l_OdeTimerNow (...) {}
+
+	/// lua : void OdeTimerEnd(void) [ from ode ]
+	mixed l_OdeTimerEnd (...) {}
+
+	/// lua : double OdeTimerTicksPerSecond(void) [ from ode ]
+	mixed l_OdeTimerTicksPerSecond (...) {}
+
+	/// lua : double OdeTimerResolution(void) [ from ode ]
+	mixed l_OdeTimerResolution (...) {}
+
+	/// CreateGrannyHuedTexture(GrannyTextureHook(texturepath),GrannyTextureH=
ook(texturepath),gHueLoader,hue)
+	mixed l_CreateGrannyHuedTexture (...) {}
+
+	/// void HueMesh(meshname, hueloader, hue)
+	mixed l_HueMesh (...) {}
+
+	/// create a lua lookup table based on the given file
+	/// usage: lookup[id] =3D new_id
+	mixed l_CreateLookupTableFromFile (...) {}
+
+	mixed l_BuildTerrainEntity_Simple (...) {}
+
+	mixed l_BuildTerrainEntity_Shaded (...) {}
+
+	/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix
+	/// for lua : TerrainRayPick(GroundBlockLoader,blockx,blocky,vBlockPosX,v=
BlockPosY,vBlockPosZ,rx,ry,rz,rvx,rvy,rvz) -- mainly for mousepicking
+	mixed l_TerrainRayPick (...) {}
+
+	mixed l_getUOPath (...) {}
+
+	/// attempts to correct case-sensitivity for filepaths
+	mixed l_PathSearch (...) {}
+
+	/// void HuffmanCompress (fifo in,fifo out)
+	mixed l_HuffmanCompress (...) {}
+
+	/// void HuffmanDecompress (fifo in,fifo out)
+	mixed l_HuffmanDecompress (...) {}
+
+	/// CreateSoundSource3DFromEffect(SoundSystem,loader,x,y,z,effectid)
+	mixed l_CreateSoundSource3DFromEffect (...) {}
+
+	mixed l_TRACEBACK (...) {}
+
+	/// ***** ***** utilities and error handling ***** *****
+	/// also adds a traceback to the error message in case of an error
+	/// nret=3D-1 for unlimited
+	/// don't use directly, used by LuaCall
+	mixed PCallWithErrFuncWrapper (...) {}
+
+	/// lua: string_array GetAllKeyNames ()
+	mixed l_GetAllKeyNames (...) {}
+
+	/// called from lua : string keyname
+	mixed l_GetNamedKey (...) {}
+
+	/// called from lua : int keycode
+	mixed l_GetKeyName (...) {}
+
+	/// terminates the application
+	mixed l_Terminate (...) {}
+
+	mixed l_GetPointerSize (...) {}
+
+	/// only call this once at startup
+	mixed l_Client_IsAlive (...) {}
+
+	/// called from lua : no params, returns mousex,mousey,4xmousewheel info.=
..
+	mixed l_PollInput (...) {}
+
+	mixed l_ProfileDumpCallCount (...) {}
+
+	mixed l_Client_GetCurFPS (...) {}
+
+	mixed l_Client_GetFrameNum (...) {}
+
+	mixed l_Client_GetTicks (...) {}
+
+	/// r,g,b =3D Uo16Color2Rgb(color)
+	mixed l_Uo16Color2Rgb (...) {}
+
+	/// just do nothing for x seconds
+	mixed l_Client_Sleep (...) {}
+
+	/// just do nothing for x milliseconds (1000msec =3D 1sec)
+	mixed l_Client_USleep (...) {}
+
+	mixed l_Client_GetPhysStepTime (...) {}
+
+	mixed l_file_exists (...) {}
+
+	mixed l_file_size (...) {}
+
+	/// table=3D{filename,...} dirlist (dirpath,bDirs,bFiles)
+	mixed l_dirlist (...) {}
+
+	/// for testing bitwise ops
+	mixed l_GetRandomHexString (...) {}
+
+	/// converts "0x1234" to a number
+	mixed l_Hex2Num (...) {}
+
+	/// bitwise operations, used for networking, packet manipulation etc
+	mixed l_BitwiseAND (...) {}
+
+	mixed l_BitwiseOR (...) {}
+
+	mixed l_BitwiseXOR (...) {}
+
+	/// bitwise operations, used for networking, packet manipulation etc
+	mixed l_BitwiseSHL (...) {}
+
+	/// bitwise operations, used for networking, packet manipulation etc
+	mixed l_BitwiseSHR (...) {}
+
+	mixed l_TestBit (...) {}
+
+	mixed l_SetBit (...) {}
+
+	mixed l_ClearBit (...) {}
+
+	mixed l_Exit (...) {}
+
+	mixed l_Crash (...) {}
+
+	/// triggers a segfault, for testing our segfault handlers lua stacktrace
+	mixed l_CrashSegFault (...) {}
+
+	mixed l_DisplayNotice (...) {}
+
+	mixed l_FatalErrorMessage (...) {}
+
+	mixed l_GetMainWorkingDir (...) {}
+
+	/// string CloneMesh (meshname)
+	mixed l_CloneMesh (...) {}
+
+	/// only call this once at startup
+	mixed l_InitOgre (...) {}
+
+	/// for lua : ang,x,y,z QuaternionToAngleAxis (qw,qx,qy,qz)
+	mixed l_QuaternionToAngleAxis (...) {}
+
+	/// for lua : w,x,y,z QuaternionSlerp (qw,qx,qy,qz, pw,px,py,pz, t, bShor=
testPath=3Dtrue)
+	mixed l_QuaternionSlerp (...) {}
+
+	/// void OgreAddCompositor(compositor script name)
+	mixed l_OgreAddCompositor (...) {}
+
+	/// void OgreRemoveCompositor(compositor script name)
+	mixed l_OgreRemoveCompositor (...) {}
+
+	/// int =3D OgreMemoryUsage(part)
+	/// part in {compositor,font,gpuprogram,highlevelgpuprogram,material,mesh=
,skeleton,texture,all}
+	/// returns memory usage in byte
+	mixed l_OgreMemoryUsage (...) {}
+
+	/// bool =3D OgreMeshAvailable(resourcename)
+	mixed l_OgreMeshAvailable (...) {}
+
+	/// see also OgreMaterialAvailable below
+	/// bool =3D OgreMaterialNameKnown(resourcename)
+	/// returns false if name is empty string or nil
+	mixed l_OgreMaterialNameKnown (...) {}
+
+	/// bool =3D OgreMaterialAvailable(resourcename)
+	mixed l_OgreMaterialAvailable (...) {}
+
+	/// bool =3D OgreTextureAvailable(resourcename)
+	mixed l_OgreTextureAvailable (...) {}
+
+	mixed l_Client_SetSkybox (...) {}
+
+	mixed l_Client_SetFog (...) {}
+
+	mixed l_Client_RenderOneFrame (...) {}
+
+	/// for lua : void Client_SetAmbientLight (r,g,b,a,scenemgr=3Dmain)
+	mixed l_Client_SetAmbientLight (...) {}
+
+	/// for lua : void Client_ClearLights (scenemgr=3Dmain)
+	mixed l_Client_ClearLights (...) {}
+
+	/// for lua : string l_Client_AddPointLight(x,y,z) -- x,y,z position
+	mixed l_Client_AddPointLight (...) {}
+
+	/// for lua : string Client_AddDirectionalLight(x,y,z,scenemgr=3Dmain) --=
 x,y,z direction
+	mixed l_Client_AddDirectionalLight (...) {}
+
+	/// for lua : void Client_SetLightPosition(name,x,y,z) -- name lightname,=
 x,y,z position
+	mixed l_Client_SetLightPosition (...) {}
+
+	/// for lua : void Client_SetLightDirection(name,x,y,z) -- name lightname=
, x,y,z direction
+	mixed l_Client_SetLightDirection (...) {}
+
+	/// for lua : void Client_RemoveLight(name) -- name lightname
+	mixed l_Client_RemoveLight (...) {}
+
+	mixed l_Client_DeleteLight (...) {}
+
+	/// for lua : void Client_SetLightSpecularColor(name,r,g,b) -- name light=
name, r,g,b spec color
+	mixed l_Client_SetLightSpecularColor (...) {}
+
+	/// for lua : void Client_SetLightPowerScale(name,fPowerScale) : used for=
 HDR rendering, in shaders
+	mixed l_Client_SetLightPowerScale (...) {}
+
+	/// for lua : void Client_SetLightDiffuseColor(name,r,g,b) -- name lightn=
ame, r,g,b diffuse color
+	mixed l_Client_SetLightDiffuseColor (...) {}
+
+	/// for lua : void Client_TakeGridScreenshot (sPrefix=3D"screenshots/")
+	mixed l_Client_TakeGridScreenshot (...) {}
+
+	/// for lua : void Client_TakeScreenshot (sPrefix=3D"screenshots/")
+	mixed l_Client_TakeScreenshot (...) {}
+
+	/// shows ogre config dialog
+	mixed l_Client_ShowOgreConfig (...) {}
+
+	/// for lua : dist =3D TriangleRayPick(ax,ay,az, bx,by,bz, cx,cy,cz, rx,r=
y,rz, rvx,rvy,rvz)
+	/// mainly for mousepicking, dist=3Dnil if not hit
+	mixed l_TriangleRayPick (...) {}
+
+	/// for lua : dist =3D SphereRayPick(x,y,z,rad,rx,ry,rz,rvx,rvy,rvz) -- m=
ainly for mousepicking, dist=3Dnil if not hit
+	mixed l_SphereRayPick (...) {}
+
+	/// for lua : dist =3D PlaneRayPick (x,y,z,nx,ny,nz,rx,ry,rz,rvx,rvy,rvz)=
 -- mainly for mousepicking, dist=3Dnil if not hit
+	mixed l_PlaneRayPick (...) {}
+
+	mixed l_UnloadMeshName (...) {}
+
+	mixed l_CountMeshTriangles (...) {}
+
+	/// for lua : x1,y1,z1,x2,y2,z2 MeshGetBounds (meshname)
+	mixed l_MeshGetBounds (...) {}
+
+	/// for lua : void MeshSetBounds (meshname,x1,y1,z1,x2,y2,z2)
+	mixed l_MeshSetBounds (...) {}
+
+	/// for lua : float MeshGetBoundRad (meshname)
+	mixed l_MeshGetBoundRad (...) {}
+
+	/// for lua : void MeshSetBoundRad (meshname,boundrad)
+	mixed l_MeshSetBoundRad (...) {}
+
+	/// for lua : void ExportMesh (meshname,filename)
+	mixed l_ExportMesh (...) {}
+
+	/// applies reposition, rescale and rotation to mesh vertex data
+	/// for lua : void TransformMesh (meshname, x,y,z, sx,sx,sz, qw,qx,qy,qz)
+	mixed l_TransformMesh (...) {}
+
+	/// for lua : x1,y1,z1,x2,y2,z2 MeshReadOutExactBounds (meshname)
+	mixed l_MeshReadOutExactBounds (...) {}
+
+	/// for lua : x,y,z,vx,vy,vz GetScreenRay (x,y) x,y in [0,1]
+	mixed l_GetScreenRay (...) {}
+
+	/// for lua : z GetMaxZ ()
+	mixed l_GetMaxZ (...) {}
+
+	/// for lua : bIsInFront,px,py ProjectPos (x,y,z)
+	mixed l_ProjectPos (...) {}
+
+	/// for lua : bIsInFront,px,py,cx,cy ProjectSizeAndPos (x,y,z,r)
+	mixed l_ProjectSizeAndPos (...) {}
+
+	/// for lua : px,py,pz,cx,cy,cz ProjectSizeAndPosEx (x,y,z,r)
+	mixed l_ProjectSizeAndPosEx (...) {}
+
+	/// for lua : void CreateSceneManager (sSceneManagerName)
+	mixed l_CreateSceneManager (...) {}
+
+	/// for lua : table[id=3Dtexname...] OgreMeshTextures (meshfile)
+	mixed l_OgreMeshTextures (...) {}
+
+	/// for lua : void OgreShadowTechnique (string techique)
+	mixed l_OgreShadowTechnique (...) {}
+
+	/// for lua : void OgreSetShadowTextureSize (int size)
+	mixed l_OgreSetShadowTextureSize (...) {}
+
+	/// for lua : void OgreSetShadowFarDistance (float x)
+	mixed l_OgreSetShadowFarDistance (...) {}
+
+	/// for lua : void OgreSetShadowDirLightTextureOffset (float x)
+	mixed l_OgreSetShadowDirLightTextureOffset (...) {}
+
+	/// for lua : void OgreSetShadowTextureFadeStart (float x)
+	mixed l_OgreSetShadowTextureFadeStart (...) {}
+
+	/// for lua : void OgreSetShadowTextureFadeEnd (float x)
+	mixed l_OgreSetShadowTextureFadeEnd (...) {}
+
+	/// for lua : void OgreSetShadowTexturePixelFormat ()
+	mixed l_OgreSetShadowTexturePixelFormat (...) {}
+
+	/// for lua : table OgrePixelFormatList ()
+	mixed l_OgrePixelFormatList (...) {}
+
+	/// for lua : void OgreSetShadowTextureSelfShadow (bool)
+	mixed l_OgreSetShadowTextureSelfShadow (...) {}
+
+	/// for lua : void OgreSetShadowTextureCasterMaterial (sMatName)
+	mixed l_OgreSetShadowTextureCasterMaterial (...) {}
+
+	/// for lua : void OgreSetShadowTextureReceiverMaterial (sMatName)
+	mixed l_OgreSetShadowTextureReceiverMaterial (...) {}
+
+	/// for lua : void OgreAmbientLight (r,g,b) [color value 0..1 each]
+	mixed l_OgreAmbientLight (...) {}
+
+	/// for lua : string GetUniqueName ()
+	mixed l_GetUniqueName (...) {}
+
+	/// for lua : number OgreLastFPS ()
+	mixed l_OgreLastFPS (...) {}
+
+	/// for lua : number OgreAvgFPS ()
+	mixed l_OgreAvgFPS (...) {}
+
+	/// for lua : number OgreBestFPS ()
+	mixed l_OgreBestFPS (...) {}
+
+	/// for lua : number OgreWorstFPS ()
+	mixed l_OgreWorstFPS (...) {}
+
+	/// for lua : number OgreBestFrameTime ()
+	mixed l_OgreBestFrameTime (...) {}
+
+	/// for lua : number OgreWorstFrameTime ()
+	mixed l_OgreWorstFrameTime (...) {}
+
+	/// for lua : number OgreTriangleCount ()
+	mixed l_OgreTriangleCount (...) {}
+
+	/// for lua : number OgreBatchCount ()
+	mixed l_OgreBatchCount (...) {}
+
+	/// adds a resource location to
+	/// example : OgreAddResLoc("./data/SomeZip.zip","Zip","General")
+	/// example : OgreAddResLoc("./data/base","FileSystem","General")
+	mixed l_OgreAddResLoc (...) {}
+
+	mixed l_OgreInitResLocs (...) {}
+
+	mixed l_Client_SetMouseSensitivity (...) {}
+
+	mixed l_Client_SetInvertMouse (...) {}
+
+	mixed l_Client_SetCamera (...) {}
+
+	mixed l_Client_ForceCamRot (...) {}
+
+	mixed l_Client_CameraLookAt (...) {}
+
+class gui { public:
+
+/// sets the current stats bar in %, dont use this directly
+static mixed	SetStatsBar	(mixed name,mixed x) {}
+
+/// sets the warmode visual on statsbar
+static mixed	SetWarmode	(mixed warmode) {}
+
+/// sets the current hitpoints (in %), x is between 0.0 and 1.0
+static mixed	SetHitpoints	(mixed x) {}
+
+/// sets the current hitpoints (in %), x is between 0.0 and 1.0
+static mixed	SetMana	(mixed x) {}
+
+/// sets the current hitpoints (in %), x is between 0.0 and 1.0
+static mixed	SetStamina	(mixed x) {}
+
+/// TODO : z resort : insert between two widgets
+/// ***** ***** ***** ***** ***** dialog
+static mixed	CreateDialog	(mixed x,mixed y) {}
+
+/// ***** ***** ***** ***** ***** widget Utils
+static mixed	_WrapWidget	(mixed widget,mixed parent) {}
+
+static mixed	_SecureGetMaterial	(mixed matname) {}
+
+/// ***** ***** ***** ***** ***** CreateImage
+static mixed	_CreateWidget_Image	(mixed parent,mixed matname,mixed x,mixed=
 y,mixed w,mixed h,mixed tx,mixed ty,mixed tw,mixed th,mixed bitmask) {}
+
+/// ***** ***** ***** ***** ***** CreateText
+static mixed	_CreateWidget_Text	(mixed parent,mixed text,mixed x,mixed y,m=
ixed fontname,mixed fontsize,mixed r,mixed g,mixed b,mixed a) {}
+
+/// ***** ***** ***** ***** ***** CreateContainer
+static mixed	_CreateWidget_Container	(mixed parent,mixed x,mixed y) {}
+};
+
+class Renderer3D { public:
+
+/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
+mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit_=
dist,mixed minz,mixed maxz) {}
+
+/// excecutes mousepick by default
+mixed	GetMouseHitSerial	(mixed bExecuteMousePick) {}
+
+mixed	DestroyMousePickItemBySerial	(mixed serial) {}
+
+mixed	CamKeyUp	(mixed key) {}
+
+mixed	CamKeyDown	(mixed key) {}
+
+mixed	InitLocalCam	(mixed x,mixed y,mixed z) {}
+
+mixed	CamChangeZoom	(mixed add) {}
+
+/// targetmode can be nil, then the current mode is simply increased
+mixed	ChangeCamMode	(mixed targetmode) {}
+
+/// these coordinates are in absolute map-blocks, all others are in chunks
+mixed	UpdateMapCache	(mixed iMidX,mixed iMidY,mixed iRad) {}
+
+/// coords in chunks
+mixed	LoadMapChunk	(mixed x,mixed y) {}
+
+/// coords in chunks
+mixed	CreateMapChunk	(mixed x,mixed y) {}
+
+mixed	IsZLayerVisible	(mixed layerZ) {}
+
+mixed	UpdateStaticVisibility	(mixed entity) {}
+
+mixed	UpdateDynamicVisibility	(mixed dynamic) {}
+
+mixed	UpdateMobileVisibility	(mixed mobile) {}
+
+/// coords in chunks
+/// TODO : release anything else that was allocated in CreateMapChunk
+mixed	DestroyMapChunk	(mixed x,mixed y,mixed chunk) {}
+
+/// creates a moving and disapearing damage text at the given tile positio=
n (x,y,z) (lifetime in sec, speed in ?)
+mixed	CombatCreateDamageText	(mixed text,mixed x,mixed y,mixed z,mixed r,m=
ixed g,mixed b,mixed a,mixed size,mixed speed,mixed lifetime) {}
+
+/// helper to plop hp adds and damage
+mixed	NotifyHPChange	(mixed serial,mixed oldhp,mixed newhp) {}
+
+/// warning !you still have to do 0.1 z factor seperately
+mixed	UOPosToLocal	(mixed xloc,mixed yloc,mixed z) {}
+
+/// warning ! you still have to do 0.1 z factor seperately
+mixed	LocalToUOPos	(mixed xlocal,mixed ylocal,mixed zlocal) {}
+
+/// param and result in DEGREES
+mixed	TranslateOsiWalkAngle	(mixed x) {}
+
+mixed	SetMapEnvironment	(mixed bUnderGround) {}
+
+/// warning ! this gets called a lot while user resizes window
+mixed	NotifyMainWindowResized	(mixed w,mixed h) {}
+
+mixed	CorrectAspectRatio	(mixed w,mixed h) {}
+
+/// TODO: manage particle effects, esp. huedfx, decide between effecttypes
+mixed	AddEffect	(mixed  effect ) {}
+
+mixed	AddHuedEffect	(mixed  effect,mixed relx,mixed rely,mixed relz ) {}
+
+mixed	RemoveHuedEffect	(mixed  effect ) {}
+
+/// TODO : check particle before
+mixed	AddParticleEffect	(mixed  effect,mixed particlename,mixed relx,mixed=
 rely,mixed relz,mixed scalex,mixed scaley,mixed scalez) {}
+
+mixed	ShowQuestArrow	(mixed  active,mixed x,mixed y ) {}
+
+mixed	UpdateMobile	(mixed  mobile ) {}
+
+mixed	UpdateMobilePos	(mixed mobile,mixed x,mixed y,mixed z,mixed qw,mixed=
 qx,mixed qy,mixed qz) {}
 =

 /// called every frame from mainloop : MobileAnimStep
 /// a every frame stepper for mobiles
-mixed	Renderer3D::StepMobile	(mixed mobile);
-
-mixed	Renderer3D::MobileSetVisible	(mixed mobile,mixed bVisible);
-
-mixed	Renderer3D::DestroyMobileField	(mixed  mobile,mixed fieldname );
-
-mixed	Renderer3D::DestroyMobileGfx	(mixed  mobile );
-
-mixed	Renderer3D::CreateMobileGfx	(mixed  mobile );
+mixed	StepMobile	(mixed mobile) {}
+
+mixed	MobileSetVisible	(mixed mobile,mixed bVisible) {}
+
+mixed	DestroyMobileField	(mixed  mobile,mixed fieldname ) {}
+
+mixed	DestroyMobileGfx	(mixed  mobile ) {}
+
+mixed	CreateMobileGfx	(mixed  mobile ) {}
 =

 /// select the given mobile
-mixed	Renderer3D::SelectMobile	(mixed iSerial);
+mixed	SelectMobile	(mixed iSerial) {}
 =

 /// ~ animdata.mobileserial =3D input:PopNetUint32()
 /// ~ animdata.m_animation =3D input:PopNetUint16()
@@ -1379,257 +2674,1749 @@
 /// ~ animdata.m_repeatFlag =3D input:PopNetUint8() --(0 - Don't repeat / =
1 repeat)
 /// ~ animdata.m_frameDelay =3D input:PopNetUint8() --(0x00 - fastest / 0x=
FF - Too slow to watch)
 /// todo : remaining anim options (m_animForward, m_frameDelay , m_frameco=
unt ?)
-mixed	Renderer3D::MobileStartServerSideAnim	(mixed animdata);
-// ##### data/lua/lib.3d.dynamic.lua
+mixed	MobileStartServerSideAnim	(mixed animdata) {}
 =

 /// see alos lib.3d.dynamic.lua
 /// [[
-mixed	Renderer3D::DynamicSetVisible	(mixed dynamic,mixed bVisible);
-
-mixed	Renderer3D::UpdateDynamicItemPos	(mixed  dynamic );
-
-mixed	Renderer3D::AddDynamicItem	(mixed  item );
+mixed	DynamicSetVisible	(mixed dynamic,mixed bVisible) {}
+
+mixed	UpdateDynamicItemPos	(mixed  dynamic ) {}
+
+mixed	AddDynamicItem	(mixed  item ) {}
 =

 /// TODO: Multis & Serversidemultis don't recognize kTileDataFlag_LightSou=
rce yet
-mixed	Renderer3D::CreateDynamicGfx	(mixed  item );
-
-mixed	Renderer3D::CreateArtBillBoard	(mixed  gfx,mixed iArtID,mixed iHue );
-
-mixed	Renderer3D::RemoveDynamicItem	(mixed  item );
+mixed	CreateDynamicGfx	(mixed  item ) {}
+
+mixed	CreateArtBillBoard	(mixed  gfx,mixed iArtID,mixed iHue ) {}
+
+mixed	RemoveDynamicItem	(mixed  item ) {}
 =

 /// handle child destroy of Multis
-mixed	Renderer3D::DestroyDynamicGfx	(mixed dynamic);
-// ##### data/lua/lib.3d.walksmooth.lua
+mixed	DestroyDynamicGfx	(mixed dynamic) {}
 =

 /// handles walk smoothing
 /// see also lib.granny.lua lib.bodygfx.lua
 /// see also net.walk.lua
 /// see also lib.tilefreewalk.lua
 /// called from Renderer3D:UpdateMobile, not every frame
-mixed	Renderer3D::WalkSmoothUpdate	(mixed mobile);
-
-mixed	Renderer3D::WalkSmoothStep	(mixed mobile);
+mixed	WalkSmoothUpdate	(mixed mobile) {}
+
+mixed	WalkSmoothStep	(mixed mobile) {}
 =

 /// used when teleported
-mixed	Renderer3D::WalkSmoothReset	(mixed mobile);
-
-mixed	Renderer3D::SetSimpleMobilePos	(mixed mobile);
-// ##### src/data_L.cpp
-
-class cGroundBlockLoader_L;
-
-/// static methods exported to lua
-/// cGroundBlockLoader* CreateGroundBlockLoader (string type,int maph,stri=
ng file); for lua
-mixed cGroundBlockLoader_L::CreateGroundBlockLoader (...);
-
-/// cGroundBlockLoader* CreateGroundBlockLoaderWithDiff (string type,int m=
aph,string file, string difflookup, string diffdata); for lua
-mixed cGroundBlockLoader_L::CreateGroundBlockLoaderWithDiff (...);
-
-/// object methods exported to lua
-mixed cGroundBlockLoader_L::Destroy (...);
-
-mixed cGroundBlockLoader_L::GetMapW (...);
-
-mixed cGroundBlockLoader_L::GetMapH (...);
-
-/// for lua tiletype,z GetTile (blockx, blocky, tilex, tiley)
-mixed cGroundBlockLoader_L::GetTile (...);
-
-/// void WriteMapImageToFile (radarcolorloader*,staticblockloader,string f=
ilepath,bool big) for lua
-mixed cGroundBlockLoader_L::WriteMapImageToFile (...);
-
-mixed cGroundBlockLoader_L::GetNormals (...);
-
-mixed cGroundBlockLoader_L::GetHeightMap (...);
-
-class cUniFontFileLoader_L;
-
-/// static methods exported to lua
-/// cUniFontFileLoader* CreateUniFontLoader (string file); for lua
-mixed cUniFontFileLoader_L::CreateUniFontLoader (...);
-
-/// object methods exported to lua
-mixed cUniFontFileLoader_L::Destroy (...);
-
-mixed cUniFontFileLoader_L::GetMaxWidth (...);
-
-mixed cUniFontFileLoader_L::GetMaxHeight (...);
-
-mixed cUniFontFileLoader_L::GetDefaultHeight (...);
-
-mixed cUniFontFileLoader_L::CountLetters (...);
-
-/// for lua xoffset,yoffset,w,h GetLetterHeader (code)
-mixed cUniFontFileLoader_L::GetLetterHeader (...);
-
-/// for lua CreateOgreFont(fontname)
-mixed cUniFontFileLoader_L::CreateOgreFont (...);
-
-class cRadarColorLoader_L;
-
-/// static methods exported to lua
-/// cRadarColorLoader* CreateRadarColorLoader (string type,int maph,string=
 file); for lua
-mixed cRadarColorLoader_L::CreateRadarColorLoader (...);
-
-/// object methods exported to lua
-mixed cRadarColorLoader_L::Destroy (...);
-
-class cHueLoader_L;
-
-/// static methods exported to lua
-/// cHueLoader* CreateHueLoader (string type,string file); for lua
-mixed cHueLoader_L::CreateHueLoader (...);
-
-/// object methods exported to lua
-mixed cHueLoader_L::Destroy (...);
-
-mixed cHueLoader_L::GetColor (...);
-
-class cAnimDataLoader_L;
-
-/// static methods exported to lua
-/// cAnimDataLoader* CreateAnimDataLoader (string type,string file); for l=
ua
-mixed cAnimDataLoader_L::CreateAnimDataLoader (...);
-
-/// object methods exported to lua
-mixed cAnimDataLoader_L::Destroy (...);
-
-mixed cAnimDataLoader_L::GetAnimDataType (...);
-
-class cTileTypeLoader_L;
-
-/// static methods exported to lua
-/// cTileTypeLoader* CreateTileTypeLoader (string type,string sDataFile); =
for lua
-mixed cTileTypeLoader_L::CreateTileTypeLoader (...);
-
-/// object methods exported to lua
-mixed cTileTypeLoader_L::Destroy (...);
-
-mixed cTileTypeLoader_L::GetGroundTileType (...);
-
-mixed cTileTypeLoader_L::GetGroundTileTexture (...);
-
-/// the returned id is not valid, some ids right before it might also be n=
ot valid
-mixed cTileTypeLoader_L::GetEndID (...);
-
-mixed cTileTypeLoader_L::GetStaticTileType (...);
-
-class cTexMapLoader_L;
-
-/// static methods exported to lua
-/// cTexMapLoader* CreateTexMapLoader (string type,string sIndexFile,strin=
g sDataFile); for lua
-mixed cTexMapLoader_L::CreateTexMapLoader (...);
-
-/// object methods exported to lua
-mixed cTexMapLoader_L::Destroy (...);
-
-mixed cTexMapLoader_L::CreateMaterial (...);
-
-class cAnimLoader_L;
-
-/// static methods exported to lua
-mixed cAnimLoader_L::CreateAnimLoader (...);
-
-/// object methods exported to lua
-mixed cAnimLoader_L::Destroy (...);
-
-mixed cAnimLoader_L::CreateBitMask (...);
-
-mixed cAnimLoader_L::CreateMaterial (...);
-
-mixed cAnimLoader_L::GetAnimType (...);
-
-class cArtMapLoader_L;
-
-/// static methods exported to lua
-/// cArtMapLoader* CreateArtMapLoader (string type,string sIndexFile,strin=
g sDataFile); for lua
-mixed cArtMapLoader_L::CreateArtMapLoader (...);
-
-/// object methods exported to lua
-mixed cArtMapLoader_L::Destroy (...);
-
-mixed cArtMapLoader_L::CreateBitMask (...);
-
-mixed cArtMapLoader_L::CreateMaterial (...);
-
-/// int gArtMapLoader:GetCount() for lua
-mixed cArtMapLoader_L::GetCount (...);
-
-/// void gArtMapLoader:Load(id) for lua
-mixed cArtMapLoader_L::Load (...);
-
-/// iWidth,iHeight =3D gArtMapLoader:GetSize() for last chunk loaded by Lo=
ad() for lua
-mixed cArtMapLoader_L::GetSize (...);
-
-/// iX,iY =3D gArtMapLoader:SearchCursorHotspot() for last chunk loaded by=
 Load() for lua
-mixed cArtMapLoader_L::SearchCursorHotspot (...);
-
-class cStaticBlockLoader_L;
-
-/// static methods exported to lua
-/// cStaticBlockLoader* CreateStaticBlockLoader (string type,int maph,stri=
ng sIndexFile,string sDataFile); for lua
-mixed cStaticBlockLoader_L::CreateStaticBlockLoader (...);
-
-/// cStaticBlockLoader* CreateStaticBlockLoaderWithDiff (string type,int m=
aph,string sIndexFile,string sDataFile, string sDiffLookup, sDiffIndex, sDi=
ffData); for lua
-mixed cStaticBlockLoader_L::CreateStaticBlockLoaderWithDiff (...);
-
-/// object methods exported to lua
-mixed cStaticBlockLoader_L::Destroy (...);
-
-mixed cStaticBlockLoader_L::GetMapW (...);
-
-mixed cStaticBlockLoader_L::GetMapH (...);
-
-/// void gStaticBlockLoader:Load(x,y) for lua
-mixed cStaticBlockLoader_L::Load (...);
-
-/// iStaticCount =3D gStaticBlockLoader:Count() for last block loaded by L=
oad() for lua
-mixed cStaticBlockLoader_L::Count (...);
-
-/// iTileID,iX,iY,iZ,iHue =3D gStaticBlockLoader:GetStatic(i) for last blo=
ck loaded by Load() for lua
-mixed cStaticBlockLoader_L::GetStatic (...);
-
-class cGumpLoader_L;
-
-/// static methods exported to lua
-/// cGumpLoader* CreateGumpLoader (string type,string sIndexFile,string sD=
ataFile); for lua
-mixed cGumpLoader_L::CreateGumpLoader (...);
-
-/// object methods exported to lua
-mixed cGumpLoader_L::Destroy (...);
-
-mixed cGumpLoader_L::CreateBitMask (...);
-
-mixed cGumpLoader_L::CreateMaterial (...);
-
-/// void gGumpLoader:Load(id) for lua
-mixed cGumpLoader_L::Load (...);
-
-/// iWidth,iHeight =3D gGumpLoader:GetSize() for last chunk loaded by Load=
() for lua
-mixed cGumpLoader_L::GetSize (...);
-
-class cSoundLoader_L;
-
-/// static methods exported to lua
-/// cSoundLoader* CreateSoundLoader (string type,string sFile); for lua
-mixed cSoundLoader_L::CreateSoundLoader (...);
-
-/// object methods exported to lua
-mixed cSoundLoader_L::Destroy (...);
-
-mixed cSoundLoader_L::CreateSoundSource (...);
-
-class cMultiLoader_L;
-
-/// static methods exported to lua
-/// cMultiLoader* CreateMultiLoader (string type,string sIndexFile,string =
sDataFile); for lua
-mixed cMultiLoader_L::CreateMultiLoader (...);
-
-/// object methods exported to lua
-mixed cMultiLoader_L::Destroy (...);
-
-/// number of parts the multi with id has
-mixed cMultiLoader_L::CountMultiParts (...);
-
-/// read out the part of the given multi, (blocknum,x,y,z,flags)
-mixed cMultiLoader_L::GetMultiParts (...);
+mixed	WalkSmoothReset	(mixed mobile) {}
+
+mixed	SetSimpleMobilePos	(mixed mobile) {}
+};
+
+class gBodyGfxPrototype { public:
+
+mixed	Init	(mixed parentgfx) {}
+
+mixed	GetEquipmentAtLayer	(mixed layer) {}
+
+mixed	SetVisible	(mixed bVisible) {}
+
+/// ##### ##### ##### ##### ##### update (model change)
+mixed	MarkForUpdate	(mixed artid,mixed hue,mixed equipmentlist) {}
+
+mixed	StartAnimLoop	(mixed animid) {}
+
+/// stops the previous anim and starts playing this one
+/// iRepeatCount =3D -1 : loop infinitely
+/// iRepeatCount =3D 0 : play anim once (default)
+/// iRepeatCount =3D 1 : play anim twice ....
+mixed	StartAnim	(mixed animid,mixed iRepeatCount) {}
+
+/// ##### ##### ##### ##### ##### state (run,walk,idle,combat...)
+/// interrupt serverside anim on movement, and init anim if not set
+mixed	SetState	(mixed bMoving,mixed bTurning,mixed bWarMode,mixed bRunFlag=
) {}
+};
+
+class GumpButtonSetOver (widget) widget.gfx { public:
+
+mixed	SetMaterial	(mixed widget.mat_over) {}
+};
+
+class GumpButtonSetNormal (widget) widget.gfx { public:
+
+mixed	SetMaterial	(mixed widget.mat_normal) {}
+};
+
+class GumpButtonSetPressed (widget) widget.gfx { public:
+
+mixed	SetMaterial	(mixed widget.mat_pressed) {}
+};
+
+class DebugStartFunctionLog () debug { public:
+
+static mixed	sethook	(mixed DebugHook_CallPrint,mixed "cr") {}
+};
+
+class DebugStacktraceFunctionName (level) return debug { public:
+
+static mixed	getinfo	(mixed level+1,mixed "n") {}
+};
+
+class (widget,mousebutton) dialog { public:
+
+mixed	SetSkillLevelState	(mixed skill.skillid,mixed 1) {}
+
+mixed	SetSkillLevelState	(mixed skill.skillid,mixed 2) {}
+
+mixed	SetSkillLevelState	(mixed skill.skillid,mixed 0) {}
+};
+
+class FastWalk_PushKey (key) WalkLog("FastWalk_PushKey",key) table { publi=
c:
+
+static mixed	insert	(mixed gFastwalkStack,mixed key) {}
+};
+
+class FastWalk_CountKeys () return table { public:
+
+static mixed	getn	(mixed gFastwalkStack) {}
+};
+
+class gTileFreeWalk { public:
+
+/// ##### ##### ##### ##### ##### collision
+mixed	CollideWithWallMid	(mixed x,mixed y) {}
+
+mixed	CollideWithWallEdge	(mixed x,mixed y) {}
+
+/// scans the ground if clientpos entered a new tile, calculates walls
+mixed	ScanGroundIfNeeded	(mixed rx,mixed ry,mixed rz) {}
+
+/// returns the movement speed, dx,dy,dz is the direction of the movement
+/// the speed is dependant on the distance of the current pos to the last =
confirmed pos
+/// and on the direction of the movement
+mixed	GetClientSideSpeed	(mixed dx,mixed dy,mixed dz) {}
+
+/// ##### ##### ##### ##### ##### implementation (currently uo specific, w=
ill later be inserted from extern)
+mixed	NotifyPlayerMobileTeleport	(mixed mobile) {}
+
+mixed	NotifyPlayerMobileUpdate	(mixed mobile) {}
+
+mixed	Impl_SetLastRequestedUOPos	(mixed xloc,mixed yloc,mixed zloc) {}
+
+mixed	Impl_SetLastConfirmedUOPos	(mixed xloc,mixed yloc,mixed zloc) {}
+
+mixed	Impl_SetToPlayerPos	(mixed mobile) {}
+
+mixed	UOPosToLocal	(mixed xloc,mixed yloc,mixed zloc) {}
+
+mixed	LocalToUOPos	(mixed x,mixed y,mixed z) {}
+
+mixed	Impl_WalkRequestStep	(mixed bRunRequested) {}
+
+mixed	StuckFix	(mixed lx,mixed ly,mixed lz) {}
+
+mixed	SetViewDir	(mixed dx,mixed dy) {}
+
+/// fRequestedSpeed is the speed requested by the mousepos/keyboard, might=
 not be reached, e.g. when walking against a wall
+mixed	Impl_StepPlayer	(mixed fRequestedSpeed,mixed bRunRequested) {}
+
+/// input : rounded
+/// read new surrounding height info
+mixed	Impl_ScanGround	(mixed rx,mixed ry,mixed rz,mixed ox,mixed oy) {}
+
+mixed	Impl_CalcWalkStep	(mixed xloc,mixed yloc,mixed zloc,mixed iDir) {}
+
+/// ##### ##### ##### ##### ##### pathpoints
+/// the system remembers which path was walked clientside, and approximate=
s it for sending to the walk requests
+/// note : pathpoints can be impassable, happens during diagonal walk, don=
't send walk requests to those
+/// mark position as "reached", consuming neighboring pathpoints
+mixed	PathPoint_ReachPos	(mixed x,mixed y,mixed z) {}
+
+mixed	PathPoint_GetNth	(mixed n) {}
+
+mixed	PathPoint_Has	(mixed n) {}
+
+mixed	PathPoint_Push	(mixed x,mixed y,mixed z) {}
+
+mixed	RoundPos	(mixed x,mixed y,mixed z) {}
+
+mixed	SetPos_ClientSide	(mixed x,mixed y,mixed z) {}
+
+mixed	SetPos_LastConfirmed	(mixed x,mixed y,mixed z) {}
+
+mixed	SetPos_LastRequested	(mixed x,mixed y,mixed z) {}
+
+/// used for teleport and init
+mixed	SetPos_All	(mixed x,mixed y,mixed z) {}
+
+mixed	DebugMarkerGroup_Clear	(mixed groupname) {}
+
+mixed	DebugMarkerGroup_AddGfx	(mixed groupname,mixed gfx) {}
+
+mixed	DebugMarkerGroup_AddSphere	(mixed groupname,mixed x,mixed y,mixed z,=
mixed fRad,mixed r,mixed g,mixed b) {}
+
+mixed	DebugMarkerGroup_AddCylinder	(mixed groupname,mixed x,mixed y,mixed =
z,mixed fRad,mixed fHeight,mixed r,mixed g,mixed b) {}
+
+/// up=3D+z
+mixed	DebugMarkerGroup_AddWall	(mixed groupname,mixed x1,mixed y1,mixed z1=
,mixed x2,mixed y2,mixed z2,mixed h,mixed r,mixed g,mixed b) {}
+
+mixed	DelDebugMarker	(mixed markername) {}
+
+mixed	SetDebugMarker	(mixed markername,mixed x,mixed y,mixed z,mixed dx,mi=
xed dy,mixed dz,mixed r,mixed g,mixed b) {}
+
+mixed	UpdateDebugMarker	(mixed mymarker,mixed matname) {}
+};
+
+class gGuiDialogPrototype { public:
+
+mixed	SetPos	(mixed x,mixed y) {}
+
+mixed	SetVisible	(mixed bVis) {}
+};
+
+class gGuiWidgetPrototype { public:
+
+mixed	SetVisible	(mixed bVisible) {}
+
+mixed	SetPos	(mixed x,mixed y) {}
+
+mixed	SetDimensions	(mixed w,mixed h) {}
+
+mixed	SetMaterial	(mixed matname) {}
+
+mixed	SetTexUV	(mixed u1,mixed v1,mixed u2,mixed v2) {}
+
+mixed	SetTexXYWH	(mixed tx,mixed ty,mixed tw,mixed th) {}
+
+mixed	SetColour	(mixed r,mixed g,mixed b,mixed a) {}
+
+mixed	SetText	(mixed text) {}
+
+mixed	SetFont	(mixed fontname) {}
+
+mixed	SetFontSize	(mixed fontsize) {}
+
+mixed	SetAutoWrap	(mixed width) {}
+
+mixed	SetBitMask	(mixed bitmask) {}
+
+mixed	SetColours	(mixed r1,mixed g1,mixed b1,mixed a1,mixed r2,mixed g2,mi=
xed b2,mixed a2,mixed r3,mixed g3,mixed b3,mixed a3,mixed r4,mixed g4,mixed=
 b4,mixed a4) {}
+
+mixed	SetUVBorderMatrix	(mixed texturesize,mixed x,mixed y,mixed cx1,mixed=
 cy1,mixed cx2,mixed cy2,mixed cx3,mixed cy3) {}
+
+mixed	SetClipAbsolute	(mixed l,mixed t,mixed w,mixed h) {}
+
+mixed	SetClipRelative	(mixed l,mixed t,mixed w,mixed h) {}
+
+mixed	SetPositionAfterWidget	(mixed otherwidget) {}
+
+mixed	SetPositionBeforeWidget	(mixed otherwidget) {}
+};
+
+class gGumpmanager { public:
+
+/// ######################################################################=
######
+/// ###### global gumpmanger functions #######
+/// ######################################################################=
######
+static mixed	GetGumpsByProperty	(mixed  property,mixed value ) {}
+
+static mixed	GetGumpsByName	(mixed  name ) {}
+
+/// ######################################################################=
######
+/// ###### gump and gumpobject constructors #######
+/// ######################################################################=
######
+static mixed	CreateGump	(mixed  x,mixed y ) {}
+
+static mixed	InitGumpObject	(mixed  gumpobject ) {}
+
+/// ######################################################################=
######
+/// ###### gump member functions #######
+/// ######################################################################=
######
+static mixed	RegisterGump	(mixed  gump ) {}
+
+static mixed	DeregisterGump	(mixed  gump ) {}
+
+static mixed	_GumpRegisterGumpObject	(mixed  gump,mixed gumpobject ) {}
+
+static mixed	_GumpDeregisterGumpObject	(mixed  gump,mixed gumpobject ) {}
+
+static mixed	_GumpDestroy	(mixed  gump ) {}
+
+static mixed	_SetPage	(mixed  gump,mixed page ) {}
+
+static mixed	_SetPosition	(mixed  gump,mixed x,mixed y ) {}
+
+static mixed	_SetVisible	(mixed  gump,mixed visible ) {}
+
+/// ######################################################################=
######
+/// ###### functions to add gumpobjects in alphabetical order #######
+/// ######################################################################=
######
+static mixed	_GumpAddBackground	(mixed  gump,mixed x,mixed y,mixed w,mixed=
 h,mixed id,mixed hue,mixed page,mixed onlyborder ) {}
+
+static mixed	_GumpAddButton	(mixed  gump,mixed x,mixed y,mixed upid,mixed =
downid,mixed moveoverid,mixed buttonid,mixed page,mixed checkcompleterectan=
gle ) {}
+
+static mixed	_GumpAddCheckbox	(mixed  gump,mixed x,mixed y,mixed trueid,mi=
xed falseid,mixed checked,mixed checkboxid,mixed page ) {}
+
+static mixed	_GumpAddCroppedText	(mixed  gump,mixed x,mixed y,mixed w,mixe=
d h,mixed text,mixed font,mixed hue,mixed page,mixed border ) {}
+
+static mixed	_GumpAddImage	(mixed  gump,mixed x,mixed y,mixed id,mixed hue=
,mixed page ) {}
+
+static mixed	_GumpAddGumpItem	(mixed  gump,mixed x,mixed y,mixed serial,mi=
xed page,mixed female ) {}
+
+static mixed	_GumpAddItem	(mixed  gump,mixed x,mixed y,mixed serial,mixed =
page,mixed useitempos ) {}
+
+static mixed	_GumpAddGroundTilePic	(mixed  gump,mixed x,mixed y,mixed id,m=
ixed hue,mixed page ) {}
+
+static mixed	_GumpAddPageButton	(mixed  gump,mixed x,mixed y,mixed upid,mi=
xed downid,mixed pageid,mixed page ) {}
+
+static mixed	_GumpAddRadiobutton	(mixed  gump,mixed x,mixed y,mixed trueid=
,mixed falseid,mixed checked,mixed buttonid,mixed group,mixed page ) {}
+
+static mixed	_GumpAddScrollbar	(mixed  gump,mixed x,mixed y,mixed horizont=
al,mixed length,mixed upid,mixed moveoverid,mixed scrollbarid,mixed page,mi=
xed promille ) {}
+
+static mixed	_GumpAddText	(mixed  gump,mixed x,mixed y,mixed text,mixed fo=
nt,mixed hue,mixed page,mixed border ) {}
+
+static mixed	_GumpAddTiledImage	(mixed  gump,mixed x,mixed y,mixed w,mixed=
 h,mixed id,mixed hue,mixed page ) {}
+
+static mixed	_GumpAddTilePic	(mixed  gump,mixed x,mixed y,mixed id,mixed h=
ue,mixed page ) {}
+};
+
+class GetMobileEquipmentItem (mobile,layer) return mobile { public:
+
+mixed	GetEquipmentAtLayer	(mixed layer) {}
+};
+
+class gMobilePrototype { public:
+
+mixed	NotifyListener	(mixed eventname) {}
+
+/// updates mobile status, and the position of the graphical representatio=
n and other things
+mixed	Update	(mixed mobiledata,mixed equipmentdata) {}
+
+mixed	UpdateStats	(mixed stats) {}
+
+mixed	UpdateHealth	(mixed curvalue,mixed maxvalue) {}
+
+mixed	UpdateMana	(mixed curvalue,mixed maxvalue) {}
+
+mixed	UpdateStamina	(mixed curvalue,mixed maxvalue) {}
+
+/// triggered from kPacket_Text kPacket_Text_Unicode
+mixed	NameHint	(mixed model,mixed charname,mixed message) {}
+
+/// ##### ##### ##### ##### ##### the rest
+mixed	GetEquipmentAtLayer	(mixed layer) {}
+
+/// TODO: displays the chat text over the head of the mobile, color is 16b=
it uo color
+mixed	DisplayTextOverHead	(mixed message,mixed r,mixed g,mixed b) {}
+};
+
+class gDynamicPrototype { public:
+
+/// see also CreateOrUpdateDynamic
+mixed	Update	(mixed dynamicdata,mixed mobile) {}
+
+/// updates widgets automatically through old,new:UpdateContent() message
+mixed	SetContainer	(mixed newcontainer_or_serial) {}
+
+mixed	NotifyListener	(mixed eventname) {}
+};
+
+class gContainerPrototype { public:
+
+mixed	RemoveContentObject	(mixed object) {}
+
+mixed	AddContentObject	(mixed object) {}
+};
+
+class cGroundBlockLoader_L { public:
+
+	/// static methods exported to lua
+	/// cGroundBlockLoader* CreateGroundBlockLoader (string type,int maph,str=
ing file); for lua
+	mixed CreateGroundBlockLoader (...) {}
+
+	/// cGroundBlockLoader* CreateGroundBlockLoaderWithDiff (string type,int =
maph,string file, string difflookup, string diffdata); for lua
+	mixed CreateGroundBlockLoaderWithDiff (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetMapW (...) {}
+
+	mixed GetMapH (...) {}
+
+	/// for lua tiletype,z GetTile (blockx, blocky, tilex, tiley)
+	mixed GetTile (...) {}
+
+	/// void WriteMapImageToFile (radarcolorloader*,staticblockloader,string =
filepath,bool big) for lua
+	mixed WriteMapImageToFile (...) {}
+
+	mixed GetNormals (...) {}
+
+	mixed GetHeightMap (...) {}
+};
+
+class cUniFontFileLoader_L { public:
+
+	/// static methods exported to lua
+	/// cUniFontFileLoader* CreateUniFontLoader (string file); for lua
+	mixed CreateUniFontLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetMaxWidth (...) {}
+
+	mixed GetMaxHeight (...) {}
+
+	mixed GetDefaultHeight (...) {}
+
+	mixed CountLetters (...) {}
+
+	/// for lua xoffset,yoffset,w,h GetLetterHeader (code)
+	mixed GetLetterHeader (...) {}
+
+	/// for lua CreateOgreFont(fontname)
+	mixed CreateOgreFont (...) {}
+};
+
+class cRadarColorLoader_L { public:
+
+	/// static methods exported to lua
+	/// cRadarColorLoader* CreateRadarColorLoader (string type,int maph,strin=
g file); for lua
+	mixed CreateRadarColorLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+};
+
+class cHueLoader_L { public:
+
+	/// static methods exported to lua
+	/// cHueLoader* CreateHueLoader (string type,string file); for lua
+	mixed CreateHueLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetColor (...) {}
+};
+
+class cAnimDataLoader_L { public:
+
+	/// static methods exported to lua
+	/// cAnimDataLoader* CreateAnimDataLoader (string type,string file); for =
lua
+	mixed CreateAnimDataLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetAnimDataType (...) {}
+};
+
+class cTileTypeLoader_L { public:
+
+	/// static methods exported to lua
+	/// cTileTypeLoader* CreateTileTypeLoader (string type,string sDataFile);=
 for lua
+	mixed CreateTileTypeLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetGroundTileType (...) {}
+
+	mixed GetGroundTileTexture (...) {}
+
+	/// the returned id is not valid, some ids right before it might also be =
not valid
+	mixed GetEndID (...) {}
+
+	mixed GetStaticTileType (...) {}
+};
+
+class cTexMapLoader_L { public:
+
+	/// static methods exported to lua
+	/// cTexMapLoader* CreateTexMapLoader (string type,string sIndexFile,stri=
ng sDataFile); for lua
+	mixed CreateTexMapLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed CreateMaterial (...) {}
+};
+
+class cAnimLoader_L { public:
+
+	/// static methods exported to lua
+	mixed CreateAnimLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed CreateBitMask (...) {}
+
+	mixed CreateMaterial (...) {}
+
+	mixed GetAnimType (...) {}
+};
+
+class cArtMapLoader_L { public:
+
+	/// static methods exported to lua
+	/// cArtMapLoader* CreateArtMapLoader (string type,string sIndexFile,stri=
ng sDataFile); for lua
+	mixed CreateArtMapLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed CreateBitMask (...) {}
+
+	mixed CreateMaterial (...) {}
+
+	/// int gArtMapLoader:GetCount() for lua
+	mixed GetCount (...) {}
+
+	/// void gArtMapLoader:Load(id) for lua
+	mixed Load (...) {}
+
+	/// iWidth,iHeight =3D gArtMapLoader:GetSize() for last chunk loaded by L=
oad() for lua
+	mixed GetSize (...) {}
+
+	/// iX,iY =3D gArtMapLoader:SearchCursorHotspot() for last chunk loaded b=
y Load() for lua
+	mixed SearchCursorHotspot (...) {}
+};
+
+class cStaticBlockLoader_L { public:
+
+	/// static methods exported to lua
+	/// cStaticBlockLoader* CreateStaticBlockLoader (string type,int maph,str=
ing sIndexFile,string sDataFile); for lua
+	mixed CreateStaticBlockLoader (...) {}
+
+	/// cStaticBlockLoader* CreateStaticBlockLoaderWithDiff (string type,int =
maph,string sIndexFile,string sDataFile, string sDiffLookup, sDiffIndex, sD=
iffData); for lua
+	mixed CreateStaticBlockLoaderWithDiff (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetMapW (...) {}
+
+	mixed GetMapH (...) {}
+
+	/// void gStaticBlockLoader:Load(x,y) for lua
+	mixed Load (...) {}
+
+	/// iStaticCount =3D gStaticBlockLoader:Count() for last block loaded by =
Load() for lua
+	mixed Count (...) {}
+
+	/// iTileID,iX,iY,iZ,iHue =3D gStaticBlockLoader:GetStatic(i) for last bl=
ock loaded by Load() for lua
+	mixed GetStatic (...) {}
+};
+
+class cGumpLoader_L { public:
+
+	/// static methods exported to lua
+	/// cGumpLoader* CreateGumpLoader (string type,string sIndexFile,string s=
DataFile); for lua
+	mixed CreateGumpLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed CreateBitMask (...) {}
+
+	mixed CreateMaterial (...) {}
+
+	/// void gGumpLoader:Load(id) for lua
+	mixed Load (...) {}
+
+	/// iWidth,iHeight =3D gGumpLoader:GetSize() for last chunk loaded by Loa=
d() for lua
+	mixed GetSize (...) {}
+};
+
+class cSoundLoader_L { public:
+
+	/// static methods exported to lua
+	/// cSoundLoader* CreateSoundLoader (string type,string sFile); for lua
+	mixed CreateSoundLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed CreateSoundSource (...) {}
+};
+
+class cMultiLoader_L { public:
+
+	/// static methods exported to lua
+	/// cMultiLoader* CreateMultiLoader (string type,string sIndexFile,string=
 sDataFile); for lua
+	mixed CreateMultiLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// number of parts the multi with id has
+	mixed CountMultiParts (...) {}
+
+	/// read out the part of the given multi, (blocknum,x,y,z,flags)
+	mixed GetMultiParts (...) {}
+};
+
+class cMeshEntity_L { public:
+
+	/// static methods exported to lua
+	/// cMeshEntity* CreateMeshEntity (); for lua
+	mixed CreateMeshEntity (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// bhit,bhitdist =3D meshentity:RayPick(rx,ry,rz, rvx,rvy,rvz, x,y,z, qw=
,qx,qy,qz, sx,sy,sz) -- mainly for mousepicking
+	mixed RayPick (...) {}
+
+	mixed SetUserObject (...) {}
+};
+
+class cStaticGeometry_L { public:
+
+	/// static methods exported to lua
+	/// cStaticGeometry* CreateStaticGeometry (); for lua
+	mixed CreateStaticGeometry (...) {}
+
+	/// object methods exported to lua
+	/// void SetCastShadows (bool shadow)
+	mixed SetCastShadows (...) {}
+
+	mixed Destroy (...) {}
+
+	mixed Build (...) {}
+
+	mixed SetVisible (...) {}
+
+	/// void AddEntity (cMeshEntity* pEntity, x,y,z, qw,qx,qy,qz, scalex,scal=
ey,scalez); for lua
+	mixed AddEntity (...) {}
+};
+
+class cGrannyLoader_i2_L { public:
+
+	/// static methods exported to lua
+	/// cGrannyLoader_i2* LoadGranny (string file); for lua
+	/// returns nil,errormsg on failure
+	mixed LoadGranny (...) {}
+
+	/// string CreateSkeleton (sName=3Duniquename())
+	mixed CreateSkeleton (...) {}
+
+	/// string SkeletonHasAnimation (sSkeletonName,sAnimName)
+	mixed SkeletonHasAnimation (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// sMeshName CreateOgreMesh (sMatName,sSkeletonName,sMeshName=3Duniquena=
me())
+	mixed CreateOgreMesh (...) {}
+
+	/// void AddAnimToSkeleton (sSkeletonName,sAnimName,table bodysamples)
+	/// as the granny format is rather perverted and has a different rest-pos=
ition for the bones in the anim-granny and in the model-granny,
+	/// we need a complete set of bodyparts to determine the correct rest pos=
ition for each bone (single body parts don't usually contain all bones)
+	/// all model-parts seem to have the same bone-rest-positions, only the a=
nims are different
+	mixed AddAnimToSkeleton (...) {}
+
+	/// int GetTextChunkCount ()
+	/// total number of different textchunk-blocks
+	mixed GetTextChunkCount (...) {}
+
+	/// int GetTextChunkSize (int chunkid)
+	/// number of strings in one textchunk-block
+	mixed GetTextChunkSize (...) {}
+
+	/// string GetText (int chunkid,int stringid)
+	/// retrieve a string from a textchunk-block
+	mixed GetText (...) {}
+
+	/// int GetParamGroupCount ()
+	/// total number of different paramgroups
+	mixed GetParamGroupCount (...) {}
+
+	/// int GetParamGroupSize (int groupid)
+	/// number of pairs in one paramgroup
+	mixed GetParamGroupSize (...) {}
+
+	/// iKey,iValue GetParam (int groupid,int paramid)
+	/// retrieve a string from a textchunk-block
+	mixed GetParam (...) {}
+
+	/// int GetSubMeshCount ()
+	/// total number of different submeshes (usually 1)
+	mixed GetSubMeshCount (...) {}
+
+	/// int GetTextureIDCount ()
+	/// number of TexureIDs
+	mixed GetTextureIDCount (...) {}
+
+	/// int GetTextureID (int index)
+	mixed GetTextureID (...) {}
+
+	/// void Print ()
+	/// extensive debug dump to stdout
+	mixed Print (...) {}
+
+	/// void PrintBones ()
+	/// extensive debug dump about bones to stdout
+	mixed PrintBones (...) {}
+};
+
+class cSpriteManager_L { public:
+
+	mixed Destroy (...) {}
+
+	mixed CreateSpriteManager (...) {}
+
+	mixed CreateSprite (...) {}
+
+	mixed RemoveSprite (...) {}
+
+	mixed Resorted (...) {}
+};
+
+class cSprite_L { public:
+
+	mixed ChangeTexture (...) {}
+
+	mixed SetPrio (...) {}
+
+	mixed GetPrio (...) {}
+
+	mixed GetPosition (...) {}
+
+	mixed ChangeCoords (...) {}
+
+	mixed ChangeTexCoords (...) {}
+
+	mixed SetNormals (...) {}
+
+	mixed SetVisible (...) {}
+
+	mixed IsVisible (...) {}
+};
+
+class cManualArtMaterialLoader_L { public:
+
+	/// object methods exported to lua
+	/// cManualArtMaterialLoader:Destroy()
+	mixed Destroy (...) {}
+
+	/// void CreateMatchingIfUnavailable(name)
+	mixed CreateMatchingIfUnavailable (...) {}
+
+	/// void IsMatching(name)
+	mixed IsMatching (...) {}
+
+	/// void CreateResource(name)
+	mixed CreateResource (...) {}
+
+	/// cx,cy =3D bitmask:GetSize()
+	mixed GetSize (...) {}
+
+	/// bool =3D bitmask:TestBit(x,y) : false if transparent
+	mixed TestBit (...) {}
+
+	/// cManualArtMaterialLoader* CreateManualArtMaterialLoader(format, loade=
r, pixelexact, invertx, inverty); for lua
+	mixed CreateManualArtMaterialLoader (...) {}
+};
+
+class cRadar_L { public:
+
+	/// static methods exported to lua
+	mixed CreateRadar (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed SetPosition (...) {}
+
+	mixed SetLocation (...) {}
+
+	mixed SetAngle (...) {}
+
+	mixed SetMirrorX (...) {}
+
+	mixed SetVisible (...) {}
+};
+
+class cRenderTexture_L { public:
+
+	/// object methods exported to lua
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// WARNING ! THE RETURNED NAME IS BROKEN ! (n0007 becomes n0007/0/0/0)
+	/// string GetName ()
+	mixed GetName (...) {}
+
+	/// void SetAutoUpdated ()
+	mixed SetAutoUpdated (...) {}
+
+	/// void Update ()
+	mixed Update (...) {}
+
+	/// void WriteContentsToFile (sFilePath)
+	mixed WriteContentsToFile (...) {}
+
+	/// static methods exported to lua
+	/// pixelformat : see l_OgrePixelFormatList in src/lugre_scripting.ogre.c=
pp
+	/// udata_rtt CreateRenderTexture (sRttName,cx,cy,pixelformat=3DPF_BYTE_R=
GBA)
+	mixed CreateRenderTexture (...) {}
+};
+
+class cSoundSource_L { public:
+
+	/// object methods exported to lua
+	/// SoundSource:SetMinMaxDistance(x)
+	mixed SetMinMaxDistance (...) {}
+
+	/// min,max =3D SoundSource:GetMinMaxDistance()
+	mixed GetMinMaxDistance (...) {}
+
+	/// SoundSource:SetVolume(x)
+	mixed SetVolume (...) {}
+
+	/// x =3D SoundSource:GetVolume()
+	mixed GetVolume (...) {}
+
+	/// SoundSource:SetPosition(x,y,z)
+	mixed SetPosition (...) {}
+
+	/// SoundSource:SetVelocity(x,y,z)
+	mixed SetVelocity (...) {}
+
+	/// x,y,z =3D SoundSource:GetPosition()
+	mixed GetPosition (...) {}
+
+	/// x,y,z =3D SoundSource:GetVelocity()
+	mixed GetVelocity (...) {}
+
+	/// bool =3D SoundSource:Is3D()
+	mixed Is3D (...) {}
+
+	/// bool =3D SoundSource:IsPlaying()
+	mixed IsPlaying (...) {}
+
+	/// bool =3D SoundSource:IsPaused()
+	mixed IsPaused (...) {}
+
+	/// SoundSource:Play()
+	mixed Play (...) {}
+
+	/// SoundSource:Pause()
+	mixed Pause (...) {}
+
+	/// SoundSource:Stop()
+	mixed Stop (...) {}
+
+	/// SoundSource:Destroy()
+	mixed Destroy (...) {}
+};
+
+class cSoundSystem_L { public:
+
+	/// object methods exported to lua
+	/// CreateSoundSystem(name,frequency)
+	mixed CreateSoundSystem (...) {}
+
+	/// SoundSystem:SetVolume(x)
+	mixed SetVolume (...) {}
+
+	/// x =3D SoundSystem:GetVolume()
+	mixed GetVolume (...) {}
+
+	/// SoundSystem:SetDistanceFactor(x)
+	mixed SetDistanceFactor (...) {}
+
+	/// SoundSystem:Step()
+	mixed Step (...) {}
+
+	/// x =3D SoundSystem:GetDistanceFactor()
+	mixed GetDistanceFactor (...) {}
+
+	/// SoundSystem:SetListenerPosition(x,y,z)
+	mixed SetListenerPosition (...) {}
+
+	/// SoundSystem:SetListenerVelocity(x,y,z)
+	mixed SetListenerVelocity (...) {}
+
+	/// x,y,z =3D SoundSystem:GetListenerPosition()
+	mixed GetListenerPosition (...) {}
+
+	/// x,y,z =3D SoundSystem:GetListenerVelocity()
+	mixed GetListenerVelocity (...) {}
+
+	/// cSoundSource* CreateSoundSource (string filename); for lua
+	mixed CreateSoundSource (...) {}
+
+	/// cSoundSource* CreateSoundSource3D (number x, number y, number z, stri=
ng filename); for lua
+	mixed CreateSoundSource3D (...) {}
+
+	/// SoundSystem:Destroy()
+	mixed Destroy (...) {}
+};
+
+class cBitMask_L { public:
+
+	/// object methods exported to lua
+	/// bitmask:Destroy()
+	mixed Destroy (...) {}
+
+	/// cx,cy =3D bitmask:GetSize()
+	mixed GetSize (...) {}
+
+	/// bool =3D bitmask:TestBit(x,y) : false if transparent
+	mixed TestBit (...) {}
+};
+
+class cGfx3D_L { public:
+
+	/// static methods exported to lua
+	mixed CreateGfx3D (...) {}
+
+	/// gfx3D:CreateChild()
+	mixed CreateChild (...) {}
+
+	/// gfx3D:CreateTagPoint(sBoneName,x,y,z,qw,qx,qy,qz)
+	mixed CreateTagPoint (...) {}
+
+	/// for lua : gfx3D CreateRootGfx3D (szSceneMgrName=3D"main")
+	mixed CreateRootGfx3D (...) {}
+
+	mixed CreateCamPosGfx3D (...) {}
+
+	mixed CreateCockpitGfx3D (...) {}
+
+	/// gfx3D:SetForcePosCam(cam or nil)
+	mixed SetForcePosCam (...) {}
+
+	/// gfx3D:SetForceRotCam(cam or nil)
+	mixed SetForceRotCam (...) {}
+
+	/// gfx3D:SetForceLookat(gfx3d or nil)
+	mixed SetForceLookat (...) {}
+
+	/// gfx3D:Destroy()
+	mixed Destroy (...) {}
+
+	/// determines the scenenode world bbox
+	/// x1,y1,z1, x2,y2,z2 GetWorldAABB ()
+	mixed GetWorldAABB (...) {}
+
+	/// x1,y1,z1, x2,y2,z2 GetEntityBounds ()
+	mixed GetEntityBounds (...) {}
+
+	/// r GetEntityBoundRad ()
+	mixed GetEntityBoundRad (...) {}
+
+	/// int GetEntityIndexCount ()
+	mixed GetEntityIndexCount (...) {}
+
+	/// x,y,z GetEntityVertex (iIndexIndex)
+	mixed GetEntityVertex (...) {}
+
+	/// r GetCustomBoundRad ()
+	mixed GetCustomBoundRad (...) {}
+
+	/// SetCustomBoundRad (float r)
+	mixed SetCustomBoundRad (...) {}
+
+	/// bhit,bhitdist,facenum,aabbhitfacenoirmalx,aabbhitfacenormaly =3D gfx3=
D:RayPick(rx,ry,rz,rvx,rvy,rvz) -- mainly for mousepicking
+	mixed RayPick (...) {}
+
+	/// returns a list of all hits
+	/// table{facenum=3Ddist,...} =3D gfx3D:RayPickList(rx,ry,rz,rvx,rvy,rvz)=
 -- mainly for mousepicking
+	mixed RayPickList (...) {}
+
+	/// gfx3D:SetParent(gfx3D_or_nil)
+	mixed SetParent (...) {}
+
+	/// gfx3D:SetRootAsParent(szSceneMgrName)
+	mixed SetRootAsParent (...) {}
+
+	/// gfx3D:SetVisible( bool)
+	mixed SetVisible (...) {}
+
+	/// gfx3D:SetDisplaySkeleton( bool)
+	mixed SetDisplaySkeleton (...) {}
+
+	/// gfx3D:SetRenderingDistance( float dist)
+	mixed SetRenderingDistance (...) {}
+
+	/// gfx3D:SetPrepareFrameStep( bool)
+	mixed SetPrepareFrameStep (...) {}
+
+	/// gfx3D:SetMaterial( string)
+	mixed SetMaterial (...) {}
+
+	/// x,y,z GetScale ()
+	mixed GetScale (...) {}
+
+	/// x,y,z GetPosition ()
+	mixed GetPosition (...) {}
+
+	/// x,y,z GetDerivedPosition ()
+	mixed GetDerivedPosition (...) {}
+
+	/// w,x,y,z GetOrientation ()
+	mixed GetOrientation (...) {}
+
+	/// w,x,y,z GetDerivedOrientation ()
+	mixed GetDerivedOrientation (...) {}
+
+	/// gfx3D:SetPosition( float x, float y, float z)
+	mixed SetPosition (...) {}
+
+	/// gfx3D:SetScale( float x, float y, float z)
+	mixed SetScale (...) {}
+
+	/// gfx3D:SetNormaliseNormals(bool bNormalise)
+	mixed SetNormaliseNormals (...) {}
+
+	/// gfx3D:SetOrientation( float w, float x, float y, float z)
+	mixed SetOrientation (...) {}
+
+	/// void SetBillboard (udata_obj obj,vPos,Real radius,string matname=3D"e=
xplosion")
+	mixed SetBillboard (...) {}
+
+	/// void SetRadar ()
+	mixed SetRadar (...) {}
+
+	/// void SetRadialGrid ()
+	mixed SetRadialGrid (...) {}
+
+	/// void SetWireBoundingBoxGfx3D ()
+	mixed SetWireBoundingBoxGfx3D (...) {}
+
+	/// void SetWireBoundingBoxMinMax ()
+	mixed SetWireBoundingBoxMinMax (...) {}
+
+	/// ~ /// void SetWireBoundingBoxMeshEntity ()
+	/// ~ static int SetWireBoundingBoxMeshEntity (lua_State *L) { PROFILE
+	/// ~ Ogre::Entity* pEntity =3D cLuaBind<cMeshEntity>::checkudata_alive(L=
,2)->mpOgreEntity;
+	/// ~ if (pEntity) checkudata_alive(L)->SetWireBoundingBox(*pEntity); els=
e printf("SetWireBoundingBoxMeshEntity failed, no entity\n");
+	/// ~ return 0;
+	/// ~ }
+	/// void SetTrail (udata_obj obj,vPos,Real length,Real elements, string m=
atname=3D"explosion")
+	mixed SetTrail (...) {}
+
+	/// void SetExplosion (udata_obj obj,Real radius,string matname=3D"explos=
ion")
+	mixed SetExplosion (...) {}
+
+	/// OBSOLETE
+	/// void SetTargetTracker (udata_obj obj,Real dist,Real size,colr,colg,co=
lb,string matname=3D"explosion")
+	mixed SetTargetTracker (...) {}
+
+	/// ***** ***** ***** ***** ***** Beam System
+	/// void SetBeam (bUseVertexColour)
+	mixed SetBeam (...) {}
+
+	/// int BeamCountLines ()
+	mixed BeamCountLines (...) {}
+
+	/// removes all lines
+	/// void BeamClearLines ()
+	mixed BeamClearLines (...) {}
+
+	/// int BeamAddLine ()
+	mixed BeamAddLine (...) {}
+
+	/// void BeamDeleteLine (iLine)
+	mixed BeamDeleteLine (...) {}
+
+	/// removes all points on this line
+	/// void BeamClearLine (iLine)
+	mixed BeamClearLine (...) {}
+
+	/// void BeamPopFront (iLine)
+	mixed BeamPopFront (...) {}
+
+	/// void BeamPopBack (iLine)
+	mixed BeamPopBack (...) {}
+
+	/// void BeamAddPoint (iLine,x,y,z,h1,h2,u1,u2,v1,v2,r1=3D1,g1=3D1,b1=3D1=
,r2=3D1,g2=3D1,b2=3D1)
+	mixed BeamAddPoint (...) {}
+
+	/// void BeamSetPoint (iLine,iPoint,x,y,z,h1,h2,u1,u2,v1,v2,r1=3D1,g1=3D1=
,b1=3D1,r2=3D1,g2=3D1,b2=3D1)
+	mixed BeamSetPoint (...) {}
+
+	/// call this after changing geometry
+	/// void BeamUpdateBounds ()
+	mixed BeamUpdateBounds (...) {}
+
+	/// ***** ***** ***** ***** ***** ParticleSystem
+	/// void SetParticleSystem (udata_obj obj, string templatename=3D"Example=
s/Fireworks")
+	mixed SetParticleSystem (...) {}
+
+	/// void ParticleSystem_FastForward (udata_obj obj, float time, float int=
erval)
+	mixed ParticleSystem_FastForward (...) {}
+
+	/// void ParticleSystem_SetNonVisibleUpdateTimeout (float time)
+	mixed ParticleSystem_SetNonVisibleUpdateTimeout (...) {}
+
+	/// void ParticleSystem_SetSpeedFactor (float time)
+	mixed ParticleSystem_SetSpeedFactor (...) {}
+
+	/// int ParticleSystem_GetNumParticles ()
+	mixed ParticleSystem_GetNumParticles (...) {}
+
+	/// void ParticleSystem_RemoveAllEmitters ()
+	mixed ParticleSystem_RemoveAllEmitters (...) {}
+
+	/// void ParticleSystem_SetEmitterRate (iEmitterIndex,fRate)
+	mixed ParticleSystem_SetEmitterRate (...) {}
+
+	/// void ParticleSystem_SetDefaultParticleSize (fW,fH)
+	mixed ParticleSystem_SetDefaultParticleSize (...) {}
+
+	/// void ParticleSystem_SetEmitterVelocityMinMax (fMin,fMax)
+	mixed ParticleSystem_SetEmitterVelocityMinMax (...) {}
+
+	/// ***** ***** ***** ***** ***** Mesh
+	/// void SetMesh (udata_obj obj, string meshname=3D"razor.mesh")
+	mixed SetMesh (...) {}
+
+	/// void CreateMergedMesh (udata_obj obj, string meshname)
+	mixed CreateMergedMesh (...) {}
+
+	/// int GetMeshSubEntityCount ()
+	mixed GetMeshSubEntityCount (...) {}
+
+	/// string GetMeshSubEntityMaterial (iSubEntityIndexZeroBased)
+	mixed GetMeshSubEntityMaterial (...) {}
+
+	/// void SetMeshSubEntityMaterial (iSubEntityIndexZeroBased,matname)
+	mixed SetMeshSubEntityMaterial (...) {}
+
+	/// void SetMeshSubEntityCustomParameter (iSubEntityIndexZeroBased,iParam=
,x,y,z,w)
+	mixed SetMeshSubEntityCustomParameter (...) {}
+
+	/// void SetAnim (sAnimName,bLoop)
+	mixed SetAnim (...) {}
+
+	/// float GetAnimLength (sAnimName)
+	mixed GetAnimLength (...) {}
+
+	/// float GetAnimTimePos ()
+	mixed GetAnimTimePos (...) {}
+
+	/// void SetAnimTimePos (float fTimeInSeconds)
+	mixed SetAnimTimePos (...) {}
+
+	/// void AnimAddTime (fTime) (loops automatically)
+	mixed AnimAddTime (...) {}
+
+	/// bool IsAnimLooped ()
+	mixed IsAnimLooped (...) {}
+
+	/// bool HasBone (sBoneName)
+	mixed HasBone (...) {}
+
+	/// bool HasSkeleton ()
+	mixed HasSkeleton (...) {}
+
+	/// ***** ***** ***** ***** ***** SimpleRenderable
+	/// void SetSimpleRenderable ()
+	mixed SetSimpleRenderable (...) {}
+
+	/// void RenderableBegin (iVertexCount,iIndexCount,bDynamic,bKeepOldIndic=
es,opType)
+	/// optype like OT_TRIANGLE_LIST
+	mixed RenderableBegin (...) {}
+
+	/// void RenderableVertex (x,y,z,nx,ny,nz,u,v, r,g,b,a)
+	mixed RenderableVertex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd
+	/// void RenderableIndex (iIndex)
+	mixed RenderableIndex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd, useful for =
triangles
+	/// void RenderableIndex3 (iIndex,iIndex,iIndex)
+	mixed RenderableIndex3 (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd, useful for =
lines
+	/// void RenderableIndex2 (iIndex,iIndex)
+	mixed RenderableIndex2 (...) {}
+
+	/// void RenderableSkipVertices ()
+	mixed RenderableSkipVertices (...) {}
+
+	/// void RenderableSkipIndices ()
+	mixed RenderableSkipIndices (...) {}
+
+	/// void RenderableEnd ()
+	mixed RenderableEnd (...) {}
+
+	/// sMeshName RenderableConvertToMesh (sMeshName=3DGetUniqueName())
+	mixed RenderableConvertToMesh (...) {}
+
+	/// void RenderableAddToMesh (sMeshName)
+	mixed RenderableAddToMesh (...) {}
+
+	/// ***** ***** ***** ***** ***** Rest
+	/// void SetStarfield (udata_obj obj, int numstars,float rad,float fColor=
ing, string matname=3D"explosion")
+	mixed SetStarfield (...) {}
+
+	/// void SetTextFont (sFontName)
+	mixed SetTextFont (...) {}
+
+	/// void SetCastShadows (bool shadow)
+	mixed SetCastShadows (...) {}
+
+	/// void SetText (sText,fSize,r,g,b,a,fWrapMaxW,align)
+	/// align : kGfx2DAlign_Left,kGfx2DAlign_Right,kGfx2DAlign_Center
+	mixed SetText (...) {}
+};
+
+class cViewport_L { public:
+
+	/// object methods exported to lua
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// void SetOverlaysEnabled (bEnabled) // TODO ! tobool
+	mixed SetOverlaysEnabled (...) {}
+
+	mixed GetActualWidth (...) {}
+
+	mixed GetActualHeight (...) {}
+
+	/// r,g,b,a
+	mixed SetBackCol (...) {}
+
+	/// todo : setClearEveryFrame setOverlaysEnabled
+	/// static methods exported to lua
+	/// udata_vp GetMainViewport ()
+	mixed GetMainViewport (...) {}
+
+	/// udata_vp CreateRTTViewport (udata_rtt,udata_cam) ... RTT =3D render t=
o texture
+	mixed CreateRTTViewport (...) {}
+};
+
+class cRandom_L { public:
+
+	/// object methods exported to lua
+	/// todo : rotation, position, aspect ratio, near/farclip...
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// void GetInt (max)
+	/// void GetInt (min,max)
+	mixed GetInt (...) {}
+
+	/// void GetFloat ()
+	mixed GetFloat (...) {}
+
+	/// static methods exported to lua
+	/// udata_rnd CreateRandom (iSeed) -- creates a new random number generat=
er with the specified seed
+	mixed CreateRandom (...) {}
+};
+
+class cFIFO_L { public:
+
+	/// static methods exported to lua
+	/// cFIFO* CreateFIFO (); for lua
+	mixed CreateFIFO (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// make empty
+	mixed Clear (...) {}
+
+	/// for debugging from lua
+	mixed HexDump (...) {}
+
+	/// for debugging from lua
+	mixed Size (...) {}
+
+	mixed GetTotalPopped (...) {}
+
+	/// drop a specific number of bytes
+	mixed PopRaw (...) {}
+
+	/// hack for bug-handling in network, try to restore previously popped da=
ta
+	mixed HackRestore (...) {}
+
+	/// pops [length] bytes from this fifo and appends them to targetfifo
+	/// for lua : void PopFIFO (targetfifo,length)
+	mixed PopFIFO (...) {}
+
+	/// push cluster
+	mixed PushC (...) {}
+
+	mixed PushI (...) {}
+
+	mixed PushU (...) {}
+
+	mixed PushF (...) {}
+
+	mixed PushS (...) {}
+
+	mixed PushFIFO (...) {}
+
+	mixed PushPlainText (...) {}
+
+	mixed PushFilledString (...) {}
+
+	/// for lua : void PushUnicodeString (ascistring,len)
+	/// converts a normal asci string to unicode and pushes it onto the fifo =
( pushed bytes =3D len * 2 )
+	/// ascistring will be padded with zero bytes to reach len
+	mixed PushFilledUnicodeString (...) {}
+
+	mixed PushUint8 (...) {}
+
+	mixed PushUint16 (...) {}
+
+	mixed PushUint32 (...) {}
+
+	mixed PushInt8 (...) {}
+
+	mixed PushInt16 (...) {}
+
+	mixed PushInt32 (...) {}
+
+	/// respecting network byte order
+	mixed PushNetUint8 (...) {}
+
+	mixed PushNetUint16 (...) {}
+
+	mixed PushNetUint32 (...) {}
+
+	/// pop cluster
+	mixed PopC (...) {}
+
+	mixed PopI (...) {}
+
+	mixed PopU (...) {}
+
+	mixed PopF (...) {}
+
+	mixed PopS (...) {}
+
+	mixed PopFilledString (...) {}
+
+	/// lua: o:PopTerminatedString(terminationstring)
+	/// returns nil if there is no terminationstring
+	mixed PopTerminatedString (...) {}
+
+	mixed PopUnicodeString (...) {}
+
+	mixed PopUnicodeLEString (...) {}
+
+	mixed PopUint32 (...) {}
+
+	mixed PopUint16 (...) {}
+
+	mixed PopUint8 (...) {}
+
+	mixed PopInt32 (...) {}
+
+	mixed PopInt16 (...) {}
+
+	mixed PopInt8 (...) {}
+
+	mixed PopNetUint32 (...) {}
+
+	mixed PopNetUint16 (...) {}
+
+	mixed PopNetUint8 (...) {}
+
+	mixed PopNetInt32 (...) {}
+
+	mixed PopNetInt16 (...) {}
+
+	mixed PopNetInt8 (...) {}
+
+	/// inline bool PeekDecompressIntoFifo (const unsigned int iLenCompressed=
, const unsigned int iLenDecompressed, cFIFO &dst) {
+	mixed PeekDecompressIntoFifo (...) {}
+
+	/// inline int PushCompressFromFifo(cFIFO &src) {
+	mixed PushCompressFromFifo (...) {}
+
+	/// peek cluster
+	mixed PeekNetUint32 (...) {}
+
+	mixed PeekNetUint16 (...) {}
+
+	mixed PeekNetUint8 (...) {}
+};
+
+class cConnection_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cConnection* NetConnect (string host,int port);
+	mixed NetConnect (...) {}
+
+	/// for lua : cConnection* NetLocalMaster ();
+	mixed NetLocalMaster (...) {}
+
+	/// for lua : cConnection* NetLocalSlave (localmaster);
+	mixed NetLocalSlave (...) {}
+
+	/// for lua : NetReadAndWrite ();
+	mixed NetReadAndWrite (...) {}
+
+	/// converts a numeric ip to a %s.%s.%s.%s ip
+	/// for lua : string NtoA (int numeric_ip)
+	mixed NtoA (...) {}
+
+	/// converts a hostname to a ip as string or nil on error
+	/// for lua : int GetHostByName (string hostname)
+	mixed GetHostByName (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetRemoteAddress (...) {}
+
+	mixed IsConnected (...) {}
+
+	/// for lua : void Push (fifo)
+	mixed Push (...) {}
+
+	/// ADDS data to fifo, doesn't clear fifo first
+	/// clears network outbuffer
+	/// for lua : void Pop (fifo)
+	mixed Pop (...) {}
+};
+
+class cNetListener_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cNetListener* NetListen (int port);
+	mixed NetListen (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed PopAccepted (...) {}
+};
+
+class cUDP_ReceiveSocket_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cUDP_ReceiveSocket* Create_UDP_ReceiveSocket (int port);
+	mixed Create_UDP_ReceiveSocket (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// for lua : resultcode,remoteaddr Receive (fifo);
+	mixed Receive (...) {}
+};
+
+class cUDP_SendSocket_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cUDP_SendSocket* Create_UDP_SendSocket ();
+	mixed Create_UDP_SendSocket (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// for lua : resultcode Send (addr,port,fifo,datalen=3Dfifosize);
+	/// if datalen is not specified, it defaults to the size of the entire fi=
fo
+	/// the data is NOT popped from the fifo
+	/// addr is a light userdata representing the ip address, e.g. from net_L=
.cpp : cConnection_L::GetRemoteAddress
+	mixed Send (...) {}
+};
+
+class cCamera_L { public:
+
+	/// object methods exported to lua
+	/// todo : rotation, position, aspect ratio, near/farclip...
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// void SetFOVy (float fAngInRadians)
+	mixed SetFOVy (...) {}
+
+	/// void SetNearClipDistance (float f)
+	mixed SetNearClipDistance (...) {}
+
+	/// void SetFarClipDistance (float f) : 0=3Dinfinite
+	mixed SetFarClipDistance (...) {}
+
+	/// void SetProjectionType (int mode) : 0=3DPT_PERSPECTIVE 1=3DPT_ORTHOGR=
APHIC
+	mixed SetProjectionType (...) {}
+
+	/// usually SetAspectRatio(Real(mViewport->getActualWidth()) / Real(mView=
port->getActualHeight()))
+	mixed SetAspectRatio (...) {}
+
+	mixed Move (...) {}
+
+	mixed SetPos (...) {}
+
+	mixed SetRot (...) {}
+
+	/// for lua : x,y,z GetPos ()
+	mixed GetPos (...) {}
+
+	/// for lua : w,x,y,z GetRot ()
+	mixed GetRot (...) {}
+
+	mixed LookAt (...) {}
+
+	mixed GetNearClipDistance (...) {}
+
+	mixed GetFarClipDistance (...) {}
+
+	/// returns cam rotation as euler angles
+	mixed GetEulerAng (...) {}
+
+	/// static methods exported to lua
+	/// udata_cam CreateCamera (sSceneMgrName=3D"main",sCamName=3Duniquename(=
))
+	mixed CreateCamera (...) {}
+
+	/// udata_cam GetMainCam ()
+	mixed GetMainCam (...) {}
+};
+
+class cBeamFilterComplex_L { public:
+
+	/// object methods exported to lua
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// static methods exported to lua
+	/// udata_cam CreateBeamFilter ()
+	mixed CreateBeamFilter (...) {}
+};
+
+class cGfx2D_L { public:
+
+	/// static methods exported to lua
+	mixed CreateGfx2D (...) {}
+
+	/// creates a gfx2d on kCursorOverlayZOrder, typically used for mouse cur=
sors
+	mixed CreateCursorGfx2D (...) {}
+
+	mixed Destroy (...) {}
+
+	mixed InitPanel (...) {}
+
+	mixed InitCompass (...) {}
+
+	mixed InitCCPO (...) {}
+
+	mixed InitCCTO (...) {}
+
+	mixed InitBCCPO (...) {}
+
+	mixed InitSOC (...) {}
+
+	mixed InitRROC (...) {}
+
+	mixed InitText (...) {}
+
+	mixed SetPrepareFrameStep (...) {}
+
+	mixed SetVisible (...) {}
+
+	/// for overlays
+	mixed SetTransparent (...) {}
+
+	mixed GetVisible (...) {}
+
+	mixed SetMaterial (...) {}
+
+	mixed SetBorderMaterial (...) {}
+
+	mixed SetPos (...) {}
+
+	mixed GetPos (...) {}
+
+	mixed SetDimensions (...) {}
+
+	mixed GetDimensions (...) {}
+
+	mixed SetAlignment (...) {}
+
+	mixed SetTextAlignment (...) {}
+
+	mixed SetUV (...) {}
+
+	mixed SetPartUV (...) {}
+
+	mixed SetClip (...) {}
+
+	mixed SetBorder (...) {}
+
+	mixed SetCharHeight (...) {}
+
+	mixed SetFont (...) {}
+
+	mixed SetText (...) {}
+
+	/// void SetAutoWrap (iMaxW) -- usually in pixels
+	mixed SetAutoWrap (...) {}
+
+	mixed SetColour (...) {}
+
+	/// lt:left top , rb:right bottom
+	/// for lua : void SetColours ((lt:)r,g,b,a, (rt:)r,g,b,a, (lb:)r,g,b,a, =
(rb:)r,g,b,a)
+	mixed SetColours (...) {}
+
+	/// lt:left top , rb:right bottom
+	/// for lua : void SetPartColours (partid, (lt:)r,g,b,a, (rt:)r,g,b,a, (l=
b:)r,g,b,a, (rb:)r,g,b,a)
+	mixed SetPartColours (...) {}
+
+	mixed SetRotate (...) {}
+
+	/// only for cColourClipTextOverlay
+	mixed GetTextBounds (...) {}
+
+	/// only for cColourClipTextOverlay
+	mixed GetGlyphAtPos (...) {}
+
+	/// only for cColourClipTextOverlay
+	mixed GetGlyphBounds (...) {}
+
+	mixed GetLeft (...) {}
+
+	mixed GetTop (...) {}
+
+	mixed GetDerivedLeft (...) {}
+
+	mixed GetDerivedTop (...) {}
+
+	mixed GetWidth (...) {}
+
+	mixed GetHeight (...) {}
+
+	/// void RenderableBegin (iVertexCount,iIndexCount,bDynamic,bKeepOldIndic=
es,opType)
+	/// optype like OT_TRIANGLE_LIST
+	mixed RenderableBegin (...) {}
+
+	/// void RenderableVertex ()
+	mixed RenderableVertex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd
+	/// void RenderableIndex (iIndex)
+	mixed RenderableIndex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd
+	/// void RenderableIndex3 (iIndex,iIndex,iIndex)
+	mixed RenderableIndex3 (...) {}
+
+	/// void RenderableSkipVertices ()
+	mixed RenderableSkipVertices (...) {}
+
+	/// void RenderableSkipIndices ()
+	mixed RenderableSkipIndices (...) {}
+
+	/// void RenderableEnd ()
+	mixed RenderableEnd (...) {}
+
+	/// ***** ***** ***** ***** ***** SortedOverlayContainer
+	/// void SOC_ChildBringToFront (child)
+	mixed SOC_ChildBringToFront (...) {}
+
+	/// void SOC_ChildSendToBack (child)
+	mixed SOC_ChildSendToBack (...) {}
+
+	/// void SOC_ChildInsertAfter (child,other)
+	mixed SOC_ChildInsertAfter (...) {}
+
+	/// void SOC_ChildInsertBefore (child,other)
+	mixed SOC_ChildInsertBefore (...) {}
+
+	/// ***** ***** ***** ***** ***** rest
+	/// only for cCompassOverlay
+	mixed SetUVMid (...) {}
+
+	/// only for cCompassOverlay
+	mixed SetUVRad (...) {}
+
+	/// only for cCompassOverlay
+	mixed SetAngBias (...) {}
+
+	/// only for cSortedOverlayContainer
+	mixed SetRankFactor (...) {}
+
+	/// gfx2D:SetTrackPosSceneNode(gfx3d or nil)
+	mixed SetTrackPosSceneNode (...) {}
+
+	/// gfx2D:SetTrackOffset(float x,float y)
+	mixed SetTrackOffset (...) {}
+
+	/// gfx2D:SetTrackMouse(bool bOn)
+	mixed SetTrackMouse (...) {}
+};
+
+class cDialog_L { public:
+
+	/// static methods exported to lua
+	mixed MyCreateDialog (...) {}
+
+	mixed Destroy (...) {}
+
+	/// cWidget* CreateWidget (cWidget* pParent=3D0,const char* sID=3D0); ///=
< parent and id cannot change, see also cWidget::CreateChild()
+	mixed CreateWidget (...) {}
+
+	/// void BringToFront ();
+	mixed BringToFront (...) {}
+
+	/// void SendToBack ();
+	mixed SendToBack (...) {}
+
+	/// void SetVisible (const bool bVisible);
+	mixed SetVisible (...) {}
+};
+
+class cWidget_L { public:
+
+	/// static methods exported to lua
+	/// lua: widgetid GetWidgetUnderPos (x,y)
+	mixed GetWidgetUnderPos (...) {}
+
+	/// object methods exported to lua
+	/// void Destroy (); ///< shortcut to cDialog::DestroyWidget(this)
+	mixed Destroy (...) {}
+
+	/// cWidget* CreateChild (const char* sID=3D0); ///< shortcut to cDialog:=
:CreateWidget(this,sID);
+	mixed CreateChild (...) {}
+
+	mixed UpdateClip (...) {}
+
+	mixed SetBitMask (...) {}
+
+	/// lua: bool IsUnderPos (x,y)
+	mixed IsUnderPos (...) {}
+};
+
+class cThread_NetRequest_L { public:
+
+	/// static methods exported to lua
+	/// pSendData is used by the thread, DO NOT USE OR RELEASE IT UNTIL THE T=
HREAD IS FINISHED
+	/// pAnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTIL T=
HE THREAD IS FINISHED
+	/// thread_netr CreateThread_NetRequest (sHost,iPort,fifo_SendData=3Dnil,=
fifo_pAnswerBuffer=3Dnil)
+	mixed CreateThread_NetRequest (...) {}
+
+	/// object methods exported to lua
+	/// Destroy()
+	mixed Destroy (...) {}
+
+	/// bool IsFinished ()
+	mixed IsFinished (...) {}
+
+	/// bool HasError ()
+	mixed HasError (...) {}
+};
+
+class cThread_LoadFile_L { public:
+
+	/// static methods exported to lua
+	/// pAnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTIL T=
HE THREAD IS FINISHED
+	/// thread_loadf CreateThread_LoadFile (sFilePath,fifo_answerbuffer,iStar=
t=3D0,iLength=3D-1)
+	mixed CreateThread_LoadFile (...) {}
+
+	/// object methods exported to lua
+	/// Destroy()
+	mixed Destroy (...) {}
+
+	/// bool IsFinished ()
+	mixed IsFinished (...) {}
+
+	/// bool HasError ()
+	mixed HasError (...) {}
+};



From no-reply at zwischenwelt.org  Fri Nov 23 22:51:41 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 21:51:41 -0000
Subject: [Iris-commit] [IRIS] r1524 - /trunk/lua_api_pseudo_code.cpp
Message-ID: <20071123215145.369451C182C6@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 22:51:40 2007
New Revision: 1524

Log:
lua-doc-gen : generated new pseudocode

Modified:
    trunk/lua_api_pseudo_code.cpp

Modified: trunk/lua_api_pseudo_code.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua_api_pseudo_code.cpp (original)
+++ trunk/lua_api_pseudo_code.cpp Fri Nov 23 22:51:40 2007
@@ -1,3935 +1,13 @@
-// ##### data/lua/lib.loading.lua
-// ##### data/lua/lib.gui.iris.lua
-// ##### data/lua/lib.uoids.lua
-// ##### data/lua/lib.3d.mousepick.lua
-// ##### data/lua/filter/filter.map.lua
-// ##### data/lua/filter/filter.granny.lua
-// ##### data/lua/filter/filter.art.lua
-// ##### data/lua/lib.mousepick.lua
-// ##### data/lua/lib.xml.lua
-// ##### data/lua/lib.protocol.lua
-// ##### data/lua/lib.keybinds.lua
-// ##### data/lua/lib.terrain.lua
-// ##### data/lua/lib.bodygfx.lua
-// ##### data/lua/lib.cliloc.lua
-// ##### data/lua/lib.3d.cam.lua
-// ##### data/lua/lib.compass.lua
-// ##### data/lua/lib.speech.lua
-// ##### data/lua/lib.granny.lua
-// ##### data/lua/lib.data.lua
-// ##### data/lua/lib.gfm.lua
-// ##### data/lua/lib.journal.lua
-// ##### data/lua/lib.debug.lua
-// ##### data/lua/lib.skill.lua
-// ##### data/lua/net.walk.lua
-// ##### data/lua/lib.walking2.lua
-// ##### data/lua/net.popup.lua
-// ##### data/lua/lib.gumpparser.lua
-// ##### data/lua/lib.3d.map.lua
-// ##### data/lua/lib.static.lua
-// ##### data/lua/lib.oldwalk.lua
-// ##### data/lua/lib.season.lua
-// ##### data/lua/lib.tilefreewalk.lua
-// ##### data/lua/net.cursor.lua
-// ##### data/lua/lib.test.lua
-// ##### data/lua/net.other.lua
-// ##### data/lua/lib.uodragdrop.lua
-// ##### data/lua/lib.packet.lua
-// ##### data/lua/lib.sound.iris.lua
-// ##### data/lua/lib.spellbooks.lua
-// ##### data/lua/main.lua
-// ##### data/lua/net.trade.lua
-// ##### data/lua/lib.net.lua
-// ##### data/lua/lib.3d.combat.lua
-// ##### data/lua/lib.3d.renderer.lua
-// ##### data/lua/lib.filepath.lua
-// ##### data/lua/2d/lib.2d.renderer.luac
-// ##### data/lua/2d/lib.2d.config.lua
-// ##### data/lua/lib.renderer.lua
-// ##### data/lua/lib.mainmenu.lua
-// ##### data/lua/lib.pagedialog.lua
-// ##### data/lua/lib.stitchin.lua
-// ##### data/lua/lib.debugmenu.lua
-// ##### data/lua/lib.fallback.lua
-// ##### data/lua/gui/gui.main.lua
-// ##### data/lua/gui/gui.paperdoll.lua
-// ##### data/lua/gui/gui.container.lua
-// ##### data/lua/gui/gui.status.lua
-// ##### data/lua/gui/gui.widget.lua
-// ##### data/lua/gui/gui.quit.lua
-// ##### data/lua/gui/gui.journal.lua
-// ##### data/lua/gui/gui.gumpmanager.lua
-// ##### data/lua/gui/gui.styles.lua
-// ##### data/lua/lib.diff.lua
-// ##### data/lua/lib.deffileparser.lua
-// ##### data/lua/lib.charcreate.lua
-// ##### data/lua/lib.devtool.lua
-// ##### data/lua/lib.corpse.lua
-// ##### data/lua/net/net.main.lua
-// ##### data/lua/net/net.object.lua
-// ##### data/lua/net/net.dynamic.lua
-// ##### data/lua/net/net.effect.lua
-// ##### data/lua/net/net.uodragdrop.lua
-// ##### data/lua/net/net.multi.lua
-// ##### data/lua/net/net.mobile.lua
-// ##### data/lua/net/net.packethandlers.lua
-// ##### data/lua/net/net.corpse.lua
-// ##### data/lua/net/net.skill.lua
-// ##### data/lua/net/net.world.lua
-// ##### data/lua/net/net.login.lua
-// ##### data/lua/net/net.sound.lua
-// ##### data/lua/lib.mount.lua
-// ##### data/lua/net.securetrade.lua
-// ##### data/lua/lib.input.iris.lua
-// ##### data/lua/obj/obj.main.lua
-// ##### data/lua/obj/obj.player.lua
-// ##### data/lua/obj/obj.mobile.lua
-// ##### data/lua/obj/obj.dynamic.lua
-// ##### data/lua/obj/obj.container.lua
-// ##### data/lua/lib.plaingui.iris.lua
-// ##### data/lua/lib.bugreport.lua
-// ##### data/lua/lib.3d.mobile.lua
-// ##### data/lua/lib.3d.dynamic.lua
-// ##### data/lua/lib.3d.walksmooth.lua
-// ##### lugre/lua/lib.preview.lua
-// ##### lugre/lua/lib.fadelines.lua
-// ##### lugre/lua/lib.edittext.lua
-// ##### lugre/lua/lib.prism.lua
-// ##### lugre/lua/lib.tooltip.lua
-// ##### lugre/lua/lib.netmessage.lua
-// ##### lugre/lua/lib.voxel.lua
-// ##### lugre/lua/lib.material.lua
-// ##### lugre/lua/lib.plugin.lua
-// ##### lugre/lua/lib.time.lua
-// ##### lugre/lua/lib.input.lua
-// ##### lugre/lua/lib.cam.lua
-// ##### lugre/lua/lib.guimaker.lua
-// ##### lugre/lua/lib.beam.lua
-// ##### lugre/lua/lib.types.lua
-// ##### lugre/lua/lib.guiutils.lua
-// ##### lugre/lua/lib.plaingui.lua
-// ##### lugre/lua/lib.primitive.lua
-// ##### lugre/lua/lib.contextmenu.lua
-// ##### lugre/lua/lugre.lua
-// ##### lugre/lua/lib.irc.lua
-// ##### lugre/lua/lib.cursor.lua
-// ##### lugre/lua/lib.util.lua
-// ##### lugre/lua/lib.gui.lua
-// ##### lugre/lua/lib.listener.lua
-// ##### lugre/lua/lib.movedialog.lua
-// ##### lugre/lua/lib.chatline.lua
-// ##### lugre/lua/lib.box.lua
-// ##### lugre/lua/lib.sound.lua
-// ##### lugre/lua/udata.lua
-// ##### lugre/lua/lib.http.lua
-// ##### lugre/lua/lib.filebrowser.lua
-// ##### lugre/lua/lib.ode.lua
-// ##### lugre/lua/lib.thread.lua
 // ##### src/data_L.cpp
-// ##### src/builder_L.cpp
-// ##### src/granny_L.cpp
-// ##### src/spritemanager_L.cpp
-// ##### src/ogremanualloader_L.cpp
-// ##### src/radar_L.cpp
-// ##### lugre/src/lugre_rendertexture_L.cpp
-// ##### lugre/src/lugre_sound_L.cpp
-// ##### lugre/src/lugre_bitmask_L.cpp
-// ##### lugre/src/lugre_material_L.cpp
-// ##### lugre/src/lugre_gfx3D_L.cpp
-// ##### lugre/src/lugre_ode_L.cpp
-// ##### lugre/src/lugre_viewport_L.cpp
-// ##### lugre/src/lugre_random_L.cpp
-// ##### lugre/src/lugre_fifo_L.cpp
-// ##### lugre/src/lugre_net_L.cpp
-// ##### lugre/src/lugre_camera_L.cpp
-// ##### lugre/src/lugre_beam_L.cpp
-// ##### lugre/src/lugre_gfx2D_L.cpp
-// ##### lugre/src/lugre_widget_L.cpp
-// ##### lugre/src/lugre_thread_L.cpp
-// ##### src/scripting.iris.cpp
-// ##### lugre/src/lugre_scripting.cpp
-// ##### lugre/src/lugre_scripting.general.cpp
-// ##### lugre/src/lugre_scripting.ogre.cpp
-
-/// profiles the time took by the different loading phases, and displays a=
 text about what is currently being loaded
-mixed	LoadingProfile	(mixed sCurAction,mixed bIsPreOgre) {}
-
-/// create a ogre font from a uo unifont file
-/// name =3D resourcename
-/// filename =3D unifont filename
-mixed	CreateUniFont	(mixed filename,mixed name) {}
-
-/// don't load new map immediately, several mapchanges might be sent at lo=
gin quickly
-mixed	MapChangeRequest	(mixed iMaxNewIndex) {}
-
-/// Loads Maps+Statics+Diff Files (only pre 6.0.0)
-mixed	LoadMap	(mixed index) {}
-
-/// text-line at the bottom of screen (readonly, used for mousepicking deb=
ug text and for info during loading)
-mixed	Client_SetBottomLine	(mixed text) {}
-
-mixed	DisplayMemoryUsage	(mixed memoryusage) {}
-
-/// sets the hitpoints in percentage if the mobile npc dialog is opened
-mixed	SetNpcStatusHitpoints	(mixed mobile,mixed hitpoints) {}
-
-/// Open Status Gump
-mixed	OpenStatus	(mixed mobile,mixed x,mixed y) {}
-
-/// Close Status Gump
-mixed	CloseStatus	(mixed mobile) {}
-
-mixed	SendChat	(mixed curtext) {}
-
-/// returns mapped grannyid or nil
-mixed	FilterMap	(mixed iTranslatedTileTypeID) {}
-
-/// FILTER: Grannys
-mixed	GrannyOverride	(mixed mobileartid) {}
-
-/// FILTER: map Mesh to other Mesh
-mixed	FilterMesh	(mixed iTranslatedTileTypeID) {}
-
-mixed	FilterOrientation	(mixed iTranslatedTileTypeID) {}
-
-mixed	FilterPositionX	(mixed iTranslatedTileTypeID) {}
-
-mixed	FilterPositionY	(mixed iTranslatedTileTypeID) {}
-
-mixed	FilterPositionZ	(mixed iTranslatedTileTypeID) {}
-
-/// FILTER: static water and map to extra material (one for shaders and on=
e for normal mode (because we dont have coastline models))
-mixed	FilterStaticWater	(mixed iTranslatedTileTypeID,mixed iHue) {}
-
-/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
-mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit_=
dist,mixed minz,mixed maxz) {}
-
-/// utilities for xml
-/// finds the first (or index'th) child with child.name=3Dname
-/// index : one-based indices default =3D one =3D first
-mixed	xmlchild	(mixed xmlnode,mixed name,mixed index) {}
-
-/// recieves a value from a child or nil on error
-/// shortcut for xmlchild (xmlnode,name,index)[1] with error handling
-mixed	xmlvalue	(mixed xmlnode,mixed name,mixed index) {}
-
-mixed	xmldump	(mixed o,mixed L) {}
-
-mixed	DirWrap	(mixed iDir) {}
-
-mixed	DirFromLocalDxDy	(mixed dx,mixed dy) {}
-
-mixed	DirFromUODxDy	(mixed dx,mixed dy) {}
-
-/// interpret dircode in ogre coordinate system
-mixed	GetDirXLocal	(mixed dir) {}
-
-mixed	GetDirYLocal	(mixed dir) {}
-
-/// interpret dircode in uo coordinate system uneven numbers (1,3,5,7) are=
 diagonal
-mixed	DirisDiagonal	(mixed dir) {}
-
-mixed	GetDirX	(mixed dir) {}
-
-mixed	GetDirY	(mixed dir) {}
-
-mixed	LogOutgoingPacket	(mixed fifo,mixed len) {}
-
-mixed	LogIncomingPacket	(mixed fifo,mixed len) {}
-
-mixed	LogPacket	(mixed fifo,mixed len,mixed direction) {}
-
-/// request profile
-mixed	Send_RequestProfile	(mixed  serial ) {}
-
-/// called by the c function BuildTerrainEntity_Shaded, has to return a ma=
terial name for a tiletypeid, used for terrain
-mixed	BuildTerrainEntity_Shaded_GetMaterial	(mixed iTileTypeID) {}
-
-/// called by the c function BuildTerrainEntity_Simple, has to return a ma=
terial name for a tiletypeid, used for terrain
-mixed	BuildTerrainEntity_Simple_GetMaterial	(mixed iTileTypeID) {}
-
-mixed	GetTerrainMaterial	(mixed iTileTypeID,mixed bLighting) {}
-
-/// see config.lua.dist for kMountZAdd
-/// ##### ##### ##### ##### ##### construction,destruction
-mixed	CreateBodyGfx	(mixed ...) {}
-
-mixed	BodyGfxGetStateAnimID	(mixed bodyid,mixed bWalk,mixed bRun,mixed bId=
le,mixed bHasMount,mixed bWarMode,mixed bHasStaff) {}
-
-/// ##### ##### ##### ##### ##### generating gfx
-mixed	MakeBodyPartGfx	(mixed modelid,mixed meshname,mixed partgfx,mixed fo=
rcescalex,mixed forcescaley,mixed forcescalez) {}
-
-/// creates childnodes of parentgfx and adds inserts them into the partsar=
r table
-mixed	CreateBodyGfxPartsFromModelIDArray	(mixed bodyid,mixed parentgfx,mix=
ed partsarr,mixed modelidarr,mixed iPrimaryHandItem,mixed iSecondaryHandIte=
m) {}
-
-/// done reading cliloc uo/Cliloc.enu, index range from 500000 to 3011032
-mixed	GetIntLocText	(mixed intlocid,mixed textid) {}
-
-mixed	CreateClilocLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile) {}
-
-/// override_file can be nil
-mixed	CreateClilocLoaderFullFile	(mixed base_file,mixed override_file,mixe=
d bWarnOnMissingFile) {}
-
-mixed	SetCompassMapIndex	(mixed iMapIndex) {}
-
-/// factor > 1 increases sight radius
-/// zoom map in compass, called from lib.input.lua on keypress (,.)
-mixed	ZoomCompass	(mixed factor) {}
-
-/// show/hide compass, called from lib.input.lua on keypress (n)
-mixed	ToggleCompass	(mixed bKeyIsDown) {}
-
-/// speech.mul loader
-/// Keywords detected from client-chat, converted back to index id and sen=
d to server
-/// see also http://doc.wpdev.org/formats/speech.html
-mixed	GetSpeechID	(mixed text) {}
-
-mixed	CreateSpeechLoader	(mixed loadertype,mixed base_file,mixed bWarnOnMi=
ssingFile) {}
-
-/// TODO : Unicode ?
-/// speech.mul values (index,length) are BigEndian
-mixed	CreateSpeechLoaderFullFile	(mixed base_file,mixed bWarnOnMissingFile=
) {}
-
-mixed	CreateGrannyLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile) {}
-
-/// retrieves or creates a skeleton and fills it with bones from the first=
 animation
-/// local skeleton =3D GetOrCreateSkeleton(bodyid)
-/// create the skeleton before creating any entities of this bodyid
-mixed	GetOrCreateSkeleton	(mixed bodyid) {}
-
-/// retrieves or creates a granny animation and loads it into the skeleton=
 used for this bodytype
-mixed	LoadGrannyAnim	(mixed bodyid,mixed animid,mixed skeleton,mixed bodyp=
artsamples) {}
-
-/// GetAnimPath(234,0) returns something like "uo/Models/Animals/Deer_Stag=
_Walk.grn"
-/// Models.txt : 234 2 0 FFFFFFFF 0 1.3 1.3 1.3 deer_stag
-/// Animal.lst : 0 Walk
-mixed	GetAnimPath	(mixed mobileartid,mixed animid) {}
-
-/// GetAnimName(400,23) looks in Human.lst for animid 23 and returns "Hors=
e_Walk_01"
-/// determines "type" (human,animal,monster,sea,other) from the second col=
umn in the Models.txt
-/// Human.lst : 23 Horse_Walk_01
-mixed	GetAnimName	(mixed mobileartid,mixed animid) {}
-
-/// loads an anim info file, like Monster.lst
-mixed	LoadGrannyAnimInfo	(mixed filepath) {}
-
-/// ##### ##### ##### ##### ##### rest
-/// returns true if female
-mixed	IsBodyIDFemale	(mixed bodyid) {}
-
-mixed	IsBodyIDHuman	(mixed bodyid) {}
-
-mixed	GrannyTextureHook	(mixed x) {}
-
-/// takes the result of GetGrannyTextureName as paramter
-/// transforms Ut128_Hat_Wide_Brim.tga into Ut128_Hat_Wide_Brim_M.tga
-/// assumes suffixlength =3D 4 (.tga)
-mixed	GetGrannyTextureMaskName	(mixed texname) {}
-
-mixed	GetGrannyMat	(mixed modelid,mixed hue,mixed mygranny) {}
-
-/// some tests if the granny model format is as expected (for models, not =
for anims)
-mixed	CheckGrannyModel	(mixed granny) {}
-
-mixed	GetGrannyParamGroups	(mixed granny) {}
-
-/// index is 0 by default, more than one texture per granny is currently n=
ot supported
-mixed	GetGrannyTextureName	(mixed granny,mixed index) {}
-
-mixed	GetGrannyMeshName	(mixed modelid,mixed skeletonname,mixed hue) {}
-
-mixed	GetGrannyModelLoader	(mixed modelid) {}
-
-mixed	LoadGrannyModelInfo	(mixed filepath) {}
-
-mixed	GetGrannyModelInfo	(mixed modelid) {}
-
-mixed	TestGranny	(mixed modelid) {}
-
-/// nil if not wearable
-mixed	GetPaperdollLayerFromTileType	(mixed iTileTypeID) {}
-
-mixed	GetStaticTileTypeName	(mixed iTileTypeID) {}
-
-mixed	GetStaticTileTypeFlags	(mixed iTileTypeID) {}
-
-/// info on statics, dynamics, items in containers, wearables etc (everyth=
ing except terrain)
-mixed	GetStaticTileType	(mixed iTileTypeID) {}
-
-mixed	GetArtBitMask	(mixed iArtID) {}
-
-/// [[
-mixed	old_GetArtMat	(mixed iArtID,mixed iHue) {}
-
-mixed	SaveUOModelImageToFile	(mixed rtt,mixed texname) {}
-
-/// New GetArtMat with RTT support
-mixed	GetArtMat	(mixed iArtID,mixed iHue) {}
-
-mixed	GetArtBillBoardMat	(mixed iArtID,mixed iHue) {}
-
-/// GetArtSize from gArtMatCache or generateSize
-mixed	GetArtSize	(mixed iArtID,mixed iHue) {}
-
-mixed	GetGumpBitMask	(mixed iGumpID) {}
-
-mixed	GetGumpMat	(mixed iGumpID,mixed iHue) {}
-
-mixed	GetGumpSize	(mixed iGumpID) {}
-
-mixed	GetTexMapMat	(mixed iTexMapID) {}
-
-mixed	GetTexMapSize	(mixed iTexMapID) {}
-
-/// --------------------------------------- the following parts are copied=
 from lugre and modified, should be merged into lugre ---------------------=
----------------------
-/// this is normally in lugre - just a bit modified - should be removed so=
metimes
-mixed	GetMeshPreviewX	(mixed meshname,mixed res,mixed angh,mixed angv,mixe=
d pixelformat,mixed r,mixed g,mixed b,mixed a) {}
-
-mixed	GumpButtonSetOver	(mixed widget) {}
-
-mixed	GumpButtonSetNormal	(mixed widget) {}
-
-mixed	GumpButtonSetPressed	(mixed widget) {}
-
-/// creates a button with mouseover and pressed effect
-/// w,h can be left out to determine automatically
-mixed	MakeGumpButton	(mixed parent,mixed gumpid_normal,mixed gumpid_over,m=
ixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefaul=
t) {}
-
-/// creates a checkbox-button with automatic normal/checked graphic
-/// w,h can be left out to determine automatically
-mixed	MakeGumpCheckBox	(mixed parent,mixed bChecked,mixed gumpid_normal,mi=
xed gumpid_checked,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefault=
) {}
-
-/// creates a button with mouseover and pressed effect, onClickFunction ge=
ts called onclick :)
-/// onClickFunction(widget,mousebutton)
-/// w,h can be left out to determine automatically
-mixed	MakeGumpButtonFunctionOnClick	(mixed parent,mixed gumpid_normal,mixe=
d gumpid_over,mixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed on=
ClickFunction) {}
-
-mixed	MakeBorderGump	(mixed parent,mixed iBaseID,mixed x,mixed y,mixed cx,=
mixed cy) {}
-
-/// sPart is an index of gBorderGumpIndexAdd, eg "LT", "M" ,...
-mixed	MakeBorderGumpPart	(mixed parent,mixed iGumpID,mixed x,mixed y,mixed=
 cx,mixed cy,mixed skip_rows_from_top,mixed hueid) {}
-
-/// Art image for Gumps
-mixed	MakeArtGumpPart	(mixed parent,mixed iArtID,mixed x,mixed y,mixed cx,=
mixed cy,mixed skip_rows_from_top,mixed hueid) {}
-
-mixed	GumpTestAdd	(mixed i) {}
-
-mixed	CreateGumpDlgFromGfm	(mixed path) {}
-
-mixed	GumpDlgAddGfmControlNode	(mixed dialog,mixed node) {}
-
-mixed	GfmDump	(mixed path) {}
-
-mixed	RegisterJournalEntryType	(mixed name) {}
-
-mixed	JournalAddEntry	(mixed entrytype,mixed ...) {}
-
-mixed	ShowJournalPage	(mixed pagenum) {}
-
-mixed	DebugStacktraceFunctionName	(mixed level) {}
-
-mixed	DebugStacktraceFunctionDescr	(mixed level) {}
-
-mixed	DebugHook_CallPrint	(mixed event) {}
-
-mixed	DebugPrintCallCountTopX	(mixed title,mixed fun,mixed minval) {}
-
-/// sets a skill value and lock state
-/// lockstate: (0=3Dup, 1=3Ddown, 2=3Dlocked)
-mixed	SkillUpdate	(mixed skillid,mixed value,mixed base_value,mixed lockst=
ate) {}
-
-/// creates a quickcast button at the given position
-mixed	CreateQuickCastButton	(mixed x,mixed y,mixed name,mixed fun) {}
-
-mixed	Request_Movement	(mixed iDir,mixed bRunning) {}
-
-mixed	WalkLog	(mixed ...) {}
-
-/// note : according to packetguides, the order of the key-use is not impo=
rtant
-mixed	FastWalk_Init	(mixed keyarr) {}
-
-mixed	FastWalk_PushKey	(mixed key) {}
-
-/// fulldir CAN include runflag
-mixed	SetPlayerPos	(mixed xloc,mixed yloc,mixed zloc,mixed fulldir) {}
-
-/// just look in dir, don't start walking, doesn't need clientside collisi=
on detection
-mixed	WalkStep_TurnToDir	(mixed iDir) {}
-
-/// clientside collision check, returns true if passable
-mixed	WalkStep_CanWalkInDir	(mixed iDir) {}
-
-/// does collision detection, tries neighboring dirs if direct walk is blo=
cked
-mixed	WalkStep_WalkInDir	(mixed iDir,mixed bRunFlag,mixed bTrySides) {}
-
-mixed	WalkStep_WalkToPosSimple	(mixed xloc,mixed yloc,mixed bRunFlag,mixed=
 bTrySides) {}
-
-mixed	WalkGetInterval	(mixed bRunFlag) {}
-
-/// internal, don't call directly, no check for walkable, only checks for =
time
-mixed	ExecWalkRequestIfPossible	(mixed iDir,mixed bRunFlag) {}
-
-/// internal, don't call directly
-mixed	SendWalkRequest	(mixed iFullDir,mixed iSeqNum,mixed iFastKey) {}
-
-/// TODO : is this the same as Send_Movement_Resync_Request ?
-mixed	Send_Accept_Block_Movement	(mixed seqnumber) {}
-
-/// called from kPacket_Teleport
-mixed	NotifyTeleport	(mixed mobiledata) {}
-
-mixed	printwalkdebug	(mixed ...) {}
-
-/// returns tiletype,zloc
-mixed	GetAbsTile	(mixed xloc,mixed yloc) {}
-
-/// Calc the average Z Value for the new Player pos (don't use this for ca=
lculations)
-mixed	AverageGroundHeight	(mixed bx,mixed by,mixed tx,mixed ty) {}
-
-mixed	isBridge	(mixed flag) {}
-
-mixed	isSurface	(mixed flag) {}
-
-mixed	isImpassable	(mixed flag) {}
-
-/// a little helper for GetWalkingBlockFlags(...)
-mixed	GetWalkingBlockFlagsHelper	(mixed zloc,mixed artid,mixed flaglist) {}
-
-/// returns an array of flags (impassable, surface, maptile)
-/// array might contain empty entries (meaning on the specific z level is =
neither something blocking nor a surface/maptile)
-mixed	GetWalkingBlockFlags	(mixed bx,mixed by,mixed tx,mixed ty) {}
-
-/// check for free space (!impassable), char is 15 zlevels tall
-/// if diagonalCheck is true land tiles above zloc+gMaxZ_Climb (resp. +5 f=
or maptiles) are blocking, underneath they are ignored
-/// returns true or false
-mixed	CheckZSpace	(mixed flaglist,mixed zloc,mixed diagonalCheck,mixed hei=
ght) {}
-
-/// check adjacent coordinates when walking diagonally
-/// OSI is not looking for a surface on those tiles, it only checks that t=
here is nothing blocking
-/// OSI takes the current z level to check for that, not the z level of th=
e target tile
-/// returns true or false
-mixed	CheckAdjacentTiles	(mixed bx,mixed by,mixed tx,mixed ty,mixed iDir,m=
ixed iStartZ) {}
-
-/// Can walk the tile, the tile's height and if the tile's a stair
-/// (about 30 in int, or 3.0 in float (*0.1) is the height of a door)
-/// two values are returned: is walkable, new Z Level
-mixed	GetNearestGroundLevel	(mixed xloc,mixed yloc,mixed iStartZ,mixed iDi=
r) {}
-
-/// triggers -- which came from kPacket_Generic_SubCommand_DisplayPopup
-mixed	Send_PopupRequest	(mixed serial) {}
-
-/// sends kPacket_Generic_SubCommand_PopupEntrySelect after the user has c=
hoosen an answer to the popup
-/// which came from kPacket_Generic_SubCommand_DisplayPopup
-/// see also SendPopupChoice() from old iris
-mixed	Send_PopupAnswer	(mixed popupserial,mixed entrytag) {}
-
-/// close global unique popup, for left-click-close-popup
-mixed	ClosePopUpMenu	(mixed widget) {}
-
-/// TODO : check if popupmenu is already opened for this mobile ! (otherwi=
se it would be opened twice)
-mixed	DisplayPopupMenu	(mixed popupmenu) {}
-
-mixed	GetPopupEntryText	(mixed textid) {}
-
-mixed	ServerSideGump_GetParams	(mixed dialogId) {}
-
-mixed	CloseServerSideGump	(mixed playerId,mixed dialogId,mixed buttonId) {}
-
-/// gGumpPositions[serial] =3D { x=3Dwidget.gfx:GetDerivedLeft() , y=3Dwid=
get.gfx:GetDerivedTop() } z.b.
-mixed	GumpParser	(mixed Gumpdata) {}
-
-/// [[
-/// Support for BR,B,I,U,BODY,DIV,COLOR,BASEFONT,CENTER needed
-mixed	HtmlParser	(mixed htmlstring) {}
-
-/// simple html parser (only center,basefont,br and color tags yep realize=
d)
-/// TODO : BODY, <A HREF=3D"HTTP://www.polserver.com">This is a link</A>
-mixed	HtmlParser	(mixed textstring) {}
-
-/// used by lib.map.lua
-/// handles static models (walls, trees...)
-/// returns the model name with the given id
-/// TODO handle custom stuff?
-mixed	GetModelName	(mixed id) {}
-
-mixed	GetModelPath	(mixed id) {}
-
-mixed	HasModelOnlyOneUoArt_Cached	(mixed iTileTypeID) {}
-
-/// returns true if the model has only one different material that is a uo=
art
-mixed	HasModelOnlyOneUoArt	(mixed iTileTypeID) {}
-
-mixed	GetStaticMeshName	(mixed iTileTypeID,mixed iHue) {}
-
-mixed	GetStaticMeshOrientation	(mixed iTileTypeID) {}
-
-mixed	OldWalkWarn	(mixed fname) {}
-
-/// sets the given tile coordinates as walk target
-/// bHaltBefore : if true, stop one field before the target
-mixed	SetAutoWalkTo	(mixed x,mixed y,mixed bHaltBefore) {}
-
-/// will follow a given mobile
-mixed	SetFollowMobile	(mixed serial) {}
-
-mixed	ParseHex2HexArray	(mixed arr) {}
-
-/// Seasonal Ground Art/Map Translation (raw tiles)
-mixed	SeasonalMapTranslation	(mixed iTileTypeID,mixed iSeasonID) {}
-
-/// Seasonal Dynamic & Static Art Translation (run tiles)
-/// eventuell (iTileTypeID + 16384)
-mixed	SeasonalStaticTranslation	(mixed iTileTypeID,mixed iSeasonID) {}
-
-/// ##### ##### ##### ##### ##### step
-mixed	InterpolateSquare	(mixed z00,mixed z10,mixed z01,mixed z11,mixed fx,=
mixed fy) {}
-
-mixed	GetGround	(mixed x,mixed y) {}
-
-mixed	WalkLog2	(mixed ...) {}
-
-mixed	RegisterZ	(mixed ldx,mixed ldy,mixed iNewZ) {}
-
-mixed	CheckDir	(mixed iDir) {}
-
-mixed	SetUOCursor	(mixed iIndex) {}
-
-/// automatic texture correction
-/// TODO : add gumpart
-mixed	SetDragIcon	(mixed matname,mixed w,mixed h,mixed offx,mixed offy) {}
-
-mixed	Send_Target_Ground	(mixed x,mixed y,mixed z) {}
-
-mixed	Send_Target_Static	(mixed x,mixed y,mixed z,mixed entity) {}
-
-mixed	Send_Target_Item	(mixed item) {}
-
-mixed	Send_Target_Mobile	(mixed mobile) {}
-
-mixed	Send_Target_Dynamic	(mixed dynamic) {}
-
-/// Send Targetcursor (0x6c)
-mixed	Send_Target	(mixed bIsPos,mixed flag,mixed serial,mixed x,mixed y,mi=
xed z,mixed model) {}
-
-/// count how often every type of static occurs on the map
-mixed	AnalyseStatics	(mixed index) {}
-
-mixed	LuaBitwiseTest_FIFO	(mixed a) {}
-
-mixed	LuaBitwiseTest_Hex2Num	(mixed a) {}
-
-/// assert(a & b =3D b), pass arguments as strings
-mixed	LuaBitwiseTest_Pair	(mixed a,mixed b) {}
-
-/// assert(a & b =3D b), pass arguments as strings
-mixed	LuaBitwiseTest_Pair2	(mixed a,mixed b) {}
-
-/// expression test
-mixed	TestExpr	(mixed code) {}
-
-/// TODO : readout checkboxes,radiobuttons and edit text fields
-mixed	GumpReturnMsg	(mixed playerserial,mixed gumpserial,mixed ret_value,m=
ixed params,mixed switchcount,mixed textcount) {}
-
-/// send combat request to server, triggers kPacket_SetPlayerWarmode
-mixed	Send_CombatMode	(mixed iWarMode) {}
-
-/// Request Attack to Serial
-mixed	Send_AttackReq	(mixed mobile_serial) {}
-
-/// BYTE[2] unknown, always 2
-/// BYTE[2] selected spell(0-indexed)+scroll offset from sub 0x1b
-mixed	Send_Spell	(mixed spellid,mixed expansionflag) {}
-
-/// TODO : at first check speech.mul keywords and send them to server
-mixed	Send_Speech	(mixed speech) {}
-
-/// kPacket_Speech_Unicode
-mixed	Send_UnicodeSpeech	(mixed ascistr,mixed mode,mixed huecolor,mixed fo=
nt) {}
-
-mixed	SetDragItem	(mixed  item,mixed offx,mixed offy ) {}
-
-mixed	PrepareDragPaperdollItem	(mixed item) {}
-
-mixed	PrepareDragContainerItem	(mixed item) {}
-
-/// SiENcE: just skip Multis here
-/// Todo: Multi support
-mixed	PrepareDragDynamic	(mixed dynamic) {}
-
-mixed	PrepareUODragDrop	(mixed item,mixed widget,mixed matname,mixed w,mix=
ed h,mixed offx,mixed offy) {}
-
-mixed	DestroyDragDropItemBySerial	(mixed serial) {}
-
-/// same like lugre:SoundPlayEffect but written for UO specific sound.mul
-mixed	SoundPlayEffect_UO	(mixed x,mixed y,mixed z,mixed effect) {}
-
-mixed	SoundPlayMusicById	(mixed musicid) {}
-
-mixed	Convert_Spellbookcontainer	(mixed matrix,mixed container) {}
-
-mixed	Open_Spellbook	(mixed spellbook) {}
-
-mixed	CommandLineArgument	(mixed i,mixed s) {}
-
-mixed	CompareSerialAsc	(mixed a,mixed b) {}
-
-mixed	CompareSerialDesc	(mixed a,mixed b) {}
-
-/// common initialisation for kPacket_Shop_Data(buy) and kPacket_Shop_Sell
-mixed	ShopCommonInit	(mixed shop) {}
-
-/// empty dummy placeholder, might be interesting to remember prices and g=
oods later =3D)
-mixed	RememberShop	(mixed shop) {}
-
-/// npc trading
-/// see also old iris trade.csl : net_buywindow
-/// used for both buy and sell npc-shop
-mixed	OpenShopDialog	(mixed shop) {}
-
-/// build one page for shop inventor dialog
-mixed	ShopListShowPage	(mixed dialog,mixed pagenum) {}
-
-/// build one page for bill dialog
-/// see also trade.csl handler_onartmousedown from old iris
-mixed	ShopBillShowPage	(mixed dialog,mixed pagenum) {}
-
-mixed	ShopListRebuildCurrentPage	(mixed dialog) {}
-
-mixed	ShopBillRebuildCurrentPage	(mixed dialog) {}
-
-mixed	ShopAddToBill	(mixed shop,mixed good,mixed amount) {}
-
-mixed	GetShopMobileID	(mixed shop) {}
-
-/// This is sent by the client to buy items from a vendor.
-/// TODO : This is sent by the server to remove the list.
-/// see also old iris handler_buyaccept
-/// the serial sent must be the serial of the mobile where the shop-contai=
ner-item is equipped (usually on kLayer_NPCBuyRestock)
-mixed	SendBuyAccept	(mixed shop,mixed goods) {}
-
-/// send to finish the npc-sell shop
-/// similar to SendBuyAccept, but there are a few differences
-mixed	SendSellAccept	(mixed shop,mixed goods) {}
-
-mixed	ShopAccept	(mixed shop) {}
-
-/// TODO : return false on failure! handle socket creation failed!!
-/// function with key is used for both logins (loginserver/gameserver)
-mixed	NetConnectWithKey	(mixed host,mixed port,mixed key) {}
-
-mixed	CorrectPath	(mixed path) {}
-
-/// dann machs doch so, dass gUOPath nur dran gehaengt wird, wenn
-mixed	Addfilepath	(mixed filepath) {}
-
-mixed	CorrectGrannyPath	(mixed filename) {}
-
-/// common utils for all renderers
-mixed	GetRendererName	(mixed renderer) {}
-
-mixed	ActivateRenderer	(mixed newrenderer) {}
-
-mixed	MainMenuConnectToShard	(mixed shard,mixed shardname,mixed loginname,=
mixed loginpass) {}
-
-/// gameserverlist selection
-mixed	MainMenuShowServerList	(mixed serverlist) {}
-
-mixed	MainMenuShowCharList	(mixed charlist) {}
-
-mixed	MainMenuShowCharCreationDialog	(mixed template,mixed slot) {}
-
-mixed	MainMenuShowLoginDialog	(mixed shard,mixed shardname) {}
-
-mixed	GetShardButtonText	(mixed shard,mixed shardname) {}
-
-mixed	SetMainMenuCam	(mixed roth,mixed rotv) {}
-
-mixed	CreateStitchinLoader	(mixed loadertype,mixed filepath) {}
-
-/// changes old based on newinfo, returns nil if removed
-mixed	DoStitchinSingle	(mixed newinfo,mixed oldinfo,mixed oldid) {}
-
-/// takes an array of modelids and returns an array of modelids, does some=
 dark magic in between
-/// ORDER IS IMPORTANT
-/// elements of modelidarr have the form {hue=3D123,modelid=3D123}
-mixed	DoStitchin	(mixed gStitchinLoader,mixed modelidarr) {}
-
-mixed	RepairEquipIndex	(mixed arr) {}
-
-mixed	DebugMenuSetParam1	(mixed value) {}
-
-mixed	DebugMenuChangeParam1	(mixed delta) {}
-
-mixed	DebugMenuJumpToArtID	(mixed iArtID) {}
-
-/// iMaxW,iMaxH : can be nil for unlimited size
-mixed	MakeUOArtImageForDialog	(mixed iTileTypeID,mixed iHue,mixed iMaxW,mi=
xed iMaxH) {}
-
-mixed	ShowDebugMenuArtList	(mixed iStart) {}
-
-mixed	IsArtBillboardFallBackSkipped	(mixed iTranslatedTileTypeID) {}
-
-/// called from gSkippedFallBackFilePath
-mixed	RegisterSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID) {}
-
-mixed	AddSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID) {}
-
-mixed	MeshIsPseudoBillBoard	(mixed iTranslatedTileTypeID) {}
-
-mixed	ShowFallBackTool	(mixed x,mixed y,mixed z,mixed radius) {}
-
-mixed	ListFallBackTypesNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
-
-mixed	List3DStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
-
-mixed	List3DDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
-
-/// called from kPacket_Open_Paperdoll
-mixed	HandleOpenPaperdoll	(mixed paperdoll) {}
-
-/// rebuild needed on update to have correct layerorder
-/// paperdoll.bIsPlayer (check if is player or npc)
-mixed	RebuildPaperdoll	(mixed paperdoll) {}
-
-/// don't call this directly, use RebuildPaperdoll() instead (need to rebu=
ild completely on change because of layerorder)
-mixed	CreatePaperdollItemWidget	(mixed paperdoll,mixed item,mixed base_id)=
 {}
-
-/// destroys old widgets if neccessary
-mixed	DestroyPaperdollItemWidgets	(mixed paperdoll) {}
-
-/// triggered by mobile destruction
-mixed	DestroyPaperdollByMobileSerial	(mixed serial) {}
-
-/// close dialog and destroys all widgets
-mixed	ClosePaperdoll	(mixed paperdoll) {}
-
-/// Send Quest, Guild Button req. to Server -> Server returns a Serverside=
 Gump
-mixed	Send_AOSCommand	(mixed subcmd,mixed player_serial) {}
-
-/// from old iris code, src/gui/Paperdoll.cpp, returns bodygumpid,base_id
-/// base_id is usually 50000 for male and 60000 for female models
-/// TODO : we should put this in a seperate file for easy editing
-/// TODO : maybe this comes from Models.txt
-mixed	GetPaperdollBodyAndBaseID	(mixed bodyid) {}
-
-mixed	EnableDiff	(mixed enablediff) {}
-
-/// parses a def file
-/// format: INDEX SPACE DATA1 SPACE DATA2 ...
-/// will return table with entries like: table[INDEX] =3D {0=3DINDEX,1=3DD=
ATA1,2=3DDATA2,...}
-mixed	ParseDefFile	(mixed filename) {}
-
-/// returns a list (max 5 kes) of the values from one line of the deffile.=
 to select the line
-/// key0-4 are used as column0-4 search-for-values. if a key is nil, it wi=
ll be ignored, the not nil keys are combined using AND
-/// ie. GetListFromDefTable(defTable, 10, 20, nil, 30, nil), to get the li=
ne where col0=3D10 and col1=3D20 and col3=3D30
-mixed	GetListFromDefTable	(mixed defTable,mixed key0,mixed key1,mixed key2=
,mixed key3,mixed key4) {}
-
-/// equivconv.def
-/// returns new values for
-/// #convertToID #GumpIDToUse #hue
-/// if bodytype and equipment id are given
-/// all values are nil if there is no replacement data
-/// TODO untested
-mixed	GetReplacementFromEquipconvDef	(mixed defTable,mixed bodyType,mixed =
equipmentID) {}
-
-/// handles char creation, and loading of char templates from uo/Prof.txt
-/// see also MainMenuShowCharList in lib.mainmenu.lua
-/// see also oldiris:startup.csl
-/// kPacket_CharacterCreation
-/// kPacket_Account_Delete_Character ?
-/// kPacket_Change_Character_Password ?
-/// kPacket_Delete_Character_Failed ?
-/// kPacket_All_Characters ?
-/// kPacket_Move_Character ?
-/// ?? kPacket_Character_Profile ?
-/// kPacket_Character_Transfer_Log ?
-/// template is one element from the array of GetCharCreationTemplates
-mixed	CreateCharFromTemplate	(mixed template,mixed iSlotIndex,mixed name,m=
ixed pass) {}
-
-/// loads an Prof.txt info file with character creation templates
-mixed	LoadProfInfo	(mixed filepath) {}
-
-/// send characterselect to gameserver
-mixed	SendCharCreate	(mixed chardata) {}
-
-/// searches for a model with a given texture on the map
-mixed	DevToolSearchTexture	(mixed iTextureID) {}
-
-/// searches for a static tiletype and teleports the cam there
-mixed	DevToolSearchStatic	(mixed iSearchTileTypeID) {}
-
-mixed	DevToolTeleportCam	(mixed xloc,mixed yloc,mixed zloc) {}
-
-mixed	DevToolListStuffUnderMouse	(mixed x,mixed y,mixed z,mixed radius) {}
-
-/// returns xloc,yloc,zloc or nil
-mixed	SearchStaticType	(mixed iSearchTileTypeID) {}
-
-mixed	GetStaticMeshTextureListString	(mixed iTileTypeID) {}
-
-mixed	ListStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
-
-mixed	ListDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
-
-/// [[
-mixed	Update_CorpseContainer	(mixed container_serial) {}
-
-/// packet handlers for receiving creating and updating game-objects (dyna=
mics, statics, multis...)
-/// see also lib.packet.lua and lib.protocol.lua
-mixed	Send_DoubleClick	(mixed iSerial) {}
-
-mixed	Send_SingleClick	(mixed iSerial) {}
-
-/// Equip Item Request (answer is 0x2E, see also 0x78). 0x13
-mixed	Send_Equip_Item_Request	(mixed serial,mixed layer,mixed player_seria=
l) {}
-
-/// This is sent by the client when the player picks up an item. 0x07
-mixed	Send_Take_Object	(mixed serial,mixed amount) {}
-
-/// This is sent by the client when the player drops an item. 0x08
-/// containerid =3D 0xFFFFFFFF when the container is the ground
-mixed	Send_Drop_Object	(mixed serial,mixed x,mixed y,mixed z,mixed contain=
erid) {}
-
-/// Send CustomHouseSerial to Upadte the CustomHouseCLientCache for this H=
ouse, Server sends CustomHouse in response
-mixed	Send_CustomHouseRevision	(mixed customhouseserial) {}
-
-/// this checks if the given numbers a possible custom house values
-/// retuns true if they are ok
-mixed	CustomHouseCheckSizeValidity	(mixed w,mixed h) {}
-
-/// returns nil if there are enough bytes left =3D> the "or" clause gets e=
xecuted
-mixed	MySave_Prepare	(mixed needed) {}
-
-/// see also net.mobile.lua
-/// stuff for skills
-/// Request SkillUse
-mixed	Send_Request_SkillUse	(mixed skillid) {}
-
-/// sends the server the lock state of one skill (more skills are possible=
 but not used in this function)
-/// lockstate (0=3Dup, 1=3Ddown, 2=3Dlocked)
-mixed	Send_SkillLockState	(mixed skillid,mixed lockstate) {}
-
-/// Send Packets ---------------------------------------------------------=
--
-/// send login server request 0x80
-/// answered by 0xA8 kPacket_Server_List which calls MainMenuShowServerList
-mixed	ProtocolSend_Account_Login_Request	(mixed sName,mixed sPassword,mixe=
d iSeed) {}
-
-/// send gameserverselect to loginserver : kPacket_Server_Select 0xA0
-/// answered by kPacket_Server_Redirect 0x8C
-/// which calls ProtocolSend_GameServer_PostLogin kPacket_Post_Login 0x91
-mixed	ProtocolSend_GameServer_Select	(mixed iGameServerID) {}
-
-/// send postlogin to gameserver kPacket_Post_Login 0x91
-/// something is wrong...runuo & wolfpack detects invalid client
-/// answered by kPacket_Features 0xB9 (gClientFeatures) and kPacket_Charac=
ter_List 0xA9
-mixed	ProtocolSend_GameServer_PostLogin	(mixed sName,mixed sPassword,mixed=
 iAccount) {}
-
-/// send characterselect to gameserver
-mixed	ProtocolSend_Character_Select	(mixed iCharacterID,mixed iAccount) {}
-
-/// client identification
-mixed	Send_ClientQuery	(mixed iMode,mixed iCharacterID) {}
-
-/// Submits ClientVersion to Server
-mixed	Send_ClientVersion	(mixed sClientVersion) {}
-
-/// Submits Client Language to Server
-mixed	Send_ClientLanguage	(mixed lang) {}
-
-mixed	SecureTradeRebuildContainerWidgets	(mixed mysectrade,mixed container=
,mixed bIsMyStuff) {}
-
-/// triggered when anything is changed,added or removed in/from a container
-/// kPacket_Container_Contents kPacket_Object_to_Object
-mixed	SecureTradeRebuildContainerHook	(mixed container) {}
-
-mixed	SecureTradeRebuildContainers	(mixed mysectrade) {}
-
-mixed	RecvSecureTrade	(mixed sectrade) {}
-
-/// if both players agree the trade is finished automatically
-/// s1 : containerid , s2 : 0 for no, 1 for yes
-mixed	Send_SecureTrade_ChangeAgree	(mixed s1,mixed s2) {}
-
-mixed	Send_SecureTrade_Cancel	(mixed s1) {}
-
-/// called from c
-mixed	NotifyMainWindowResized	(mixed w,mixed h) {}
-
-mixed	GetMobileEquipmentItem	(mixed mobile,mixed layer) {}
-
-mixed	GetMobileEquipmentList	(mixed mobile) {}
-
-mixed	GetContainerContentList	(mixed container) {}
-
-mixed	GetObjectBySerial	(mixed serial) {}
-
-mixed	GetObject	(mixed object_or_serial) {}
-
-mixed	DynamicIsInWorld	(mixed dynamic) {}
-
-mixed	InitializeObject	(mixed serial) {}
-
-/// don't call directly, called from object:Destroy()
-mixed	CleanupObject	(mixed object) {}
-
-mixed	DestroyObjectBySerial	(mixed serial) {}
-
-mixed	IsPlayerMobile	(mixed mobile) {}
-
-/// TODO : move to obj.player.lua ?
-/// called from kPacket_SetPlayerWarmode
-mixed	NotifyWarmode	(mixed flag) {}
-
-/// called from handlers of kPacket_Login_Confirm and kPacket_Teleport
-mixed	UpdatePlayerBodySerial	(mixed serial) {}
-
-mixed	IsObjectFarEnoughToDestroy	(mixed xloc,mixed yloc,mixed player_xloc,=
mixed player_yloc) {}
-
-/// destroy objects outside view range
-mixed	DestroyObjectsFarFromPlayer	(mixed player_xloc,mixed player_yloc) {}
-
-mixed	GetMobile	(mixed mobile_or_serial) {}
-
-/// constructor, don't call directly, use CreateOrUpdateMobile() instead
-mixed	InitializeMobile	(mixed serial) {}
-
-/// called from kPacket_Naked_MOB kPacket_Equipped_MOB kPacket_Teleport
-mixed	CreateOrUpdateMobile	(mixed mobiledata,mixed equipmentdata) {}
-
-/// return r,g,b
-mixed	GetNotorietyColor	(mixed n) {}
-
-mixed	GetDynamic	(mixed dynamic_or_serial) {}
-
-/// constructor, don't call directly, use CreateOrUpdateDynamic() instead
-mixed	InitializeDynamic	(mixed serial) {}
-
-/// called from kPacket_Show_Item,kPacket_Object_to_Object,kPacket_Contain=
er_Contents
-/// mobile is only set if called from mobile:Update with equipmentdata , e=
.g. from kPacket_Equipped_MOB or kPacket_Equip_Item
-mixed	CreateOrUpdateDynamic	(mixed dynamicdata,mixed mobile) {}
-
-mixed	GetContainer	(mixed container_or_serial) {}
-
-/// called from kPacket_Equip_Item
-mixed	HandleEquipItem	(mixed dynamicdata) {}
-
-/// called from kPacket_Open_Container
-mixed	IsContainerAlreadyOpen	(mixed container_or_serial) {}
-
-/// called from kPacket_Open_Container
-mixed	HandleOpenContainer	(mixed containerdata) {}
-
-/// packet handlers for containers (chests, drawers, inventory..)
-/// see also lib.packet.lua and lib.protocol.lua
-/// pols sends kPacket_Open_Container first and then kPacket_Container_Con=
tents , runuo the other way around
-/// every container (data structure) can have zero-or-one associated dialo=
g (graphical representation)
-/// dialog is only created when it is displayed, on kPacket_Open_Container
-/// TODO : check if iContainerSerial is secure trade serial
-/// TODO : check if spellbook
-mixed	CloseContainer	(mixed serial) {}
-
-/// creates if necessary
-mixed	GetOrCreateContainer	(mixed serial) {}
-
-/// destroys old widgets if neccessary
-mixed	DestroyContainerItemWidgets	(mixed container) {}
-
-/// destroys old widgets and creates new ones from contents
-mixed	RefreshContainerItemWidgets	(mixed container) {}
-
-/// TODO use lib.gfm.lua : MakeArtGumpPart ?
-/// create graphical representation (use only if container dialog is alrea=
dy visible)
-mixed	MakeContainerItemWidget	(mixed item) {}
-
-mixed	TeleportFunc	(mixed widget,mixed buttonid) {}
-
-mixed	SendMyProjectBugReport	(mixed report,mixed note) {}
-
-mixed	MasterServer_Get	(mixed command,mixed params,mixed bIgnoreReturnForS=
peed) {}
-
-mixed	MasterServer_BugReport	(mixed report,mixed note) {}
-
-/// see also lib.3d.renderer.lua
-/// manages all visual things for mobiles : body,energybar,aura,selection =
marker,name, text over head...
-/// called from obj.mobile.lua
-mixed	UpdateMobileModel	(mixed mobile) {}
-
-/// generate preview of meshes using rtt
-/// todo : cache(resolution) ? store in tmp dir ?
-/// TODO : (background options : starfield, black, certain color, some oth=
er material or texture)
-/// res (res x res) is the resulting texture resolution, must be 2^n
-/// angh,angv are the angles from which the preview is generated, defaults=
 to 30=C2=B0,45=C2=B0
-/// returns matname ? todo : better texturename ?
-mixed	GetMeshPreview	(mixed meshname,mixed res,mixed angh,mixed angv,mixed=
 pixelformat) {}
-
-/// show all lines (without) transparency
-mixed	FadeLinesUpdateAll	(mixed useAlpha) {}
-
-/// shows thg fadeline without transparency
-mixed	FadeLineShowLine	(mixed fadeline) {}
-
-mixed	AddFadeLines	(mixed text,mixed color) {}
-
-mixed	AddSingleFadeLine	(mixed text,mixed color) {}
-
-mixed	DestroyFadeLine	(mixed fadeline) {}
-
-mixed	PushUpFadeLine	(mixed fadeline) {}
-
-mixed	StepFadeLine	(mixed fadeline) {}
-
-mixed	ActivateEditText	(mixed widget) {}
-
-mixed	DeactivateEditText	(mixed widget) {}
-
-/// called by lib.gui.lua on keydown
-/// returns true if the event was consumed/handled
-mixed	EditTextKeyDown	(mixed key,mixed char) {}
-
-mixed	CreatePlainEditText	(mixed parent,mixed x,mixed y,mixed w,mixed h,mi=
xed textcol,mixed bPassWordStyle,mixed stylesetname) {}
-
-/// utils for mousepicking and mesh construction of prisms
-/// segments=3D23,xrad=3D1,yrad=3D1,startang=3D0,endang=3Dpi
-/// returns zero-based table with segments+1 entries
-mixed	GenerateEllipse	(mixed segments,mixed xrad,mixed yrad,mixed startang=
) {}
-
-/// for n<2 returns zero-based-array of points where element at index 0 is=
 the middle
-/// for n>=3D2 returns x1,y1,z1, x2,y2,z2, x3,y3,z3, x4,y4,z4
-/// circledata is optional to increase performance by only generating it o=
nce
-mixed	GetNGonSideCoords	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
-
-/// returns nx,ny,nz
-mixed	GetNGonSideNormal	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
-
-mixed	GetNGonSideMiddle	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
-
-/// only works correctly for even n
-mixed	GetNGonOppositeSide	(mixed sidenum,mixed n) {}
-
-/// sides is an array containing sidenumbers to be drawn, defaults to all
-/// params gfx,n,h=3D1,rad1=3D1,rad2=3D1
-mixed	GfxSetNGonPrism	(mixed gfx,mixed n,mixed h,mixed rad1,mixed rad2) {}
-
-mixed	RayPickFace4	(mixed  x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
,mixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4,mixed x,mixed y,mixe=
d z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
-
-mixed	RayPickNGonSide	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed rad2=
,mixed x,mixed y,mixed z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mix=
ed rvz,mixed circledata) {}
-
-/// 0,0,0 is top,left,front corner
-/// returns minside,dist , nil if not hit
-mixed	RayPickNGon	(mixed n,mixed h,mixed rad1,mixed rad2,mixed x,mixed y,m=
ixed z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
-
-/// call this whenever the thing under the mouse changes
-mixed	SetToolTipSubject	(mixed subject) {}
-
-/// don't call this directly, called from ToolTipStep
-/// on_tooltip
-mixed	_StartToolTip	(mixed subject) {}
-
-/// creates a simple dialog just displaying text, and ignoring all mouse-o=
ver detection, can be used by on_tooltip
-mixed	CreatePlainToolTip	(mixed x,mixed y,mixed text,mixed charh,mixed bac=
kcol,mixed textcol) {}
-
-mixed	CreatePlainWidgetToolTip	(mixed widget,mixed text,mixed charh,mixed =
backcol,mixed textcol) {}
-
-mixed	RegisterNetMessageType	(mixed name,mixed paramformat,mixed forcedid)=
 {}
-
-/// use FALSE instead of NIL here, nil in the middle confuses the variable=
 argument syntax
-mixed	RegisterNetMessageFormatWrapper	(mixed letter_custom,mixed letter_re=
al,mixed custom2real,mixed real2custom) {}
-
-/// formattet pop
-/// paramformat is something like "iiifffffff"
-/// extracts data from fifo, and returns it as an array
-/// b byte(uint8)
-/// i int(uint32)
-/// f float(4 byte)
-/// s string(len_uint32,text_ascii)
-mixed	FPop	(mixed fifo,mixed paramformat) {}
-
-/// see also FPop
-mixed	FPush	(mixed fifo,mixed paramformat,mixed ...) {}
-
-/// WARNING ! returns nil for variable message length, e.g. string..., see=
 IsNetMessageComplete for those
-mixed	CalcNetMessageParamLength	(mixed paramformat) {}
-
-/// true if string or vararg or other data with not fixed length is contai=
ned
-mixed	IsNetMessageVariableLength	(mixed paramformat) {}
-
-mixed	IsNetMessageComplete	(mixed fifo,mixed paramformat,mixed startoffset=
) {}
-
-/// msgtype is an id like kNetMessage_Chat
-mixed	SendNetMessage	(mixed con,mixed msgtype,mixed ...) {}
-
-/// pops all complete messages from the fifo and calls callback for each o=
f them
-/// fifo should be individual for this connection, in case half messages a=
rrive
-/// usually mycon:Pop(fifo) is called right before this
-/// callback(msgtype,args...)
-mixed	RecvNetMessages	(mixed fifo,mixed callback) {}
-
-/// obsolete, or at least unused
-/// voxel-like mesh analysis, used for collision/interesection detection i=
n shipeditor
-/// fine grids generated from raw geometry
-/// superseeded by shipvoxelgrid.lua
-/// TODO : 2d voxel : 1,3, 1,5, 3,1, 3,7, 5,1, 5,7, 7,3, 7,5, *e , e=3D1/8=
 -- a circle of points that is not hit by lines on a 1/2 grid
-/// returns 3 dimensional array, zero based, [xi][yi][zi] =3D 0 means outs=
ide, =3D 1 means inside
-/// gfx must start at 0,0,0 and not go into negative coords
-/// WARNING ! only works on simple (convex) forms
-mixed	CalcVoxelGrid	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed gridsize) =
{}
-
-/// calls fun(voxelstate,x,y,z) with every voxel
-/// the process is aborted and returns the first value of what fun returns=
 if it is something other than nil
-mixed	ForEachVoxel	(mixed voxelgrid,mixed fun) {}
-
-/// returns a new voxel grid
-/// sx,sy,sz should be integers (e.g. mirrors, or scale by two)
-/// qw,qx,qy,qz should be an orthogonal rotation (e.g. 90 degrees to the r=
ight,...)
-mixed	TransformVoxelGrid	(mixed voxelgrid,mixed px,mixed py,mixed pz,mixed=
 qw,mixed qx,mixed qy,mixed qz,mixed sx,mixed sy,mixed sz,mixed gridsize) {}
-
-/// compares two voxel grids and returns true if they intersect
-mixed	VoxelGridIntersection	(mixed voxelgrid1,mixed voxelgrid2) {}
-
-/// creates and returns returns array of (green) billboard gfx for every v=
oxel "inside"
-mixed	DrawVoxelGrid	(mixed voxelgrid,mixed parentgfx,mixed gridsize) {}
-
-/// ray must be padded with gridsize at the start and at the end to avoid =
rounding errors
-/// returns voxel-cells along ray, arr[zi] (where 0 <=3D zi < numcells) (2=
 means border, 0 means outside, 1 means inside)
-mixed	GfxVoxelLine	(mixed gfx,mixed gridsize,mixed numcells,mixed rx,mixed=
 ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
-
-/// some material utils
-mixed	GetBillBoardMat	(mixed texpath,mixed bAdditive) {}
-
-mixed	GetTexturedMat	(mixed base,mixed texpath) {}
-
-mixed	GetPlainTextureMat	(mixed texpath,mixed bHasAlpha) {}
-
-mixed	GetPlainColourMat	(mixed r,mixed g,mixed b,mixed a) {}
-
-mixed	GetHuedMat	(mixed basematname,mixed ar,mixed ag,mixed ab,mixed dr,mi=
xed dg,mixed db,mixed da) {}
-
-/// todo : place me in meshutils or something like that ?
-mixed	HueMeshEntity	(mixed gfx,mixed ar,mixed ag,mixed ab,mixed dr,mixed d=
g,mixed db,mixed da) {}
-
-/// handles plugin system
-/// lists all lua files in pluginDir and executes them
-mixed	LoadPlugins	(mixed pluginDir) {}
-
-/// stepper is destroyed if it returns something that evaluetes to true
-/// can savely be called registered during iteration
-mixed	RegisterStepper	(mixed fun,mixed param) {}
-
-/// calls the function fun after timout ms
-mixed	InvokeLater	(mixed timeout,mixed fun) {}
-
-mixed	BindUp	(mixed keyname,mixed fun,mixed arg) {}
-
-mixed	BindDown	(mixed keyname,mixed fun,mixed arg) {}
-
-mixed	BindUpDown	(mixed keyname,mixed upfun,mixed uparg,mixed downfun,mixe=
d downarg) {}
-
-mixed	BindUpDown	(mixed keyname,mixed downfun,mixed downarg,mixed upfun,mi=
xed uparg) {}
-
-mixed	Bind	(mixed keyname,mixed fun) {}
-
-mixed	UnBindArr	(mixed arr) {}
-
-mixed	UnBind	(mixed keyname) {}
-
-mixed	LoadBindSet	(mixed bindset) {}
-
-mixed	MouseEvent	(mixed eventname) {}
-
-/// called from c
-mixed	KeyDown	(mixed key,mixed char) {}
-
-/// called from c
-mixed	KeyUp	(mixed key) {}
-
-mixed	CamSetZoomLimit	(mixed minzoom,mixed maxzoom) {}
-
-mixed	CamChangeZoom	(mixed add) {}
-
-mixed	TurnCam	(mixed tw,mixed tx,mixed ty,mixed tz) {}
-
-/// get a normalizes vector with the view direction of the given camerea
-/// return x,y,z
-mixed	CamViewDirection	(mixed cam) {}
-
-/// return turn quaternion : w,x,y,z
-mixed	CamGetMouseTurn	(mixed speedfactor) {}
-
-/// +y is up ?
-mixed	CamSetFromTwoAngles	(mixed cam,mixed roth,mixed rotv) {}
-
-/// handles a turntable like camera that keeps upright
-mixed	StepTableCam	(mixed cam,mixed bMoveCam,mixed speedfactor) {}
-
-/// enables third person view by keeping the cam at a distance to origin
-mixed	StepThirdPersonCam	(mixed cam,mixed dist,mixed ox,mixed oy,mixed oz)=
 {}
-
-/// [[
-/// h,v cam, todo : 2 variants
-mixed	SetMainMenuCam	(mixed roth,mixed rotv) {}
-
-mixed	WrapWidget	(mixed udata) {}
-
-/// returns left,top,width,height in ABSOLUTE(derived) coords
-mixed	WidgetGetLTWH	(mixed widget) {}
-
-/// returns left,top,right,bottom in ABSOLUTE coords
-mixed	WidgetGetLTRB	(mixed widget) {}
-
-/// returns left,top,right,bottom in ABSOLUTE(derived) coords
-/// arr must be an array containing the widgets to be considered
-mixed	WidgetArrGetLTRB	(mixed arr) {}
-
-/// returns left,top,right,bottom in ABSOLUTE(derived) coords
-mixed	DialogGetLTRB	(mixed dialog) {}
-
-/// returns left,top,width,height in ABSOLUTE(derived) coords
-/// arr must be an array containing the widgets to be considered
-mixed	WidgetArrGetLTWH	(mixed arr) {}
-
-/// returns left,top,width,height in ABSOLUTE(derived) coords
-mixed	DialogGetLTWH	(mixed dialog) {}
-
-/// self =3D widget
-mixed	WidgetHelper_Destroy	(mixed self) {}
-
-/// self =3D parent =3D widget
-mixed	WidgetHelper_CreateChild	(mixed self) {}
-
-/// self =3D parent =3D dialog
-mixed	WidgetHelper_CreateWidget	(mixed dialog) {}
-
-mixed	WidgetHelper_DestroyDialog	(mixed dialog) {}
-
-/// prepares a dialog for a resizing function, childs added after this cal=
l will not be considered
-/// TODO : won't work on nontrivial hierarchies
-mixed	DialogPrepareResize	(mixed dialog) {}
-
-/// set dialog size to dialog.resize_min_total_x,y
-mixed	DialogResizeMinimize	(mixed dialog) {}
-
-/// adds dx,dy to dialog size
-mixed	DialogResizeDelta	(mixed dialog,mixed dx,mixed dy) {}
-
-/// coordinates and sizes are in pixels
-mixed	WidgetHelper_UpdateClip	(mixed self,mixed L,mixed T,mixed R,mixed B)=
 {}
-
-/// coordinates and sizes are in pixels
-mixed	WidgetHelper_SetPartUVTile	(mixed self,mixed part,mixed texturesize,=
mixed x,mixed y,mixed cx,mixed cy) {}
-
-/// cx1+cx2+cx3 is total cx of the 3x3 matrix, coordinates and sizes are i=
n pixels
-mixed	WidgetHelper_SetUVBorderMatrix	(mixed self,mixed texturesize,mixed x=
,mixed y,mixed cx1,mixed cy1,mixed cx2,mixed cy2,mixed cx3,mixed cy3) {}
-
-/// TODO: transparency doesn't work right now - check why!
-mixed	SetDialogAlpha	(mixed dialog,mixed a) {}
-
-/// utils for working with beam
-mixed	MakeColourfulBeamCube	(mixed e,mixed h) {}
-
-mixed	SetBeamBox	(mixed gfx,mixed h,mixed cx,mixed cy,mixed cz,mixed r,mix=
ed g,mixed b,mixed a) {}
-
-mixed	BeamSingleLine	(mixed gfx,mixed x1,mixed y1,mixed z1,mixed x2,mixed =
y2,mixed z2,mixed h1,mixed h2,mixed h3,mixed h4,mixed u1,mixed u2,mixed u3,=
mixed u4,mixed v1,mixed v2,mixed v3,mixed v4,mixed r1,mixed g1,mixed b1,mix=
ed a1,mixed r2,mixed g2,mixed b2,mixed a2) {}
-
-mixed	BeamSingleLineStep	(mixed gfx,mixed ...) {}
-
-/// contains some utils used for gui
-/// see also lib.gui.lua and lib.guimaker.lua
-mixed	SetLogoVisible	(mixed bVisible) {}
-
-/// oldname =3D Client_SetBottomLine
-/// text-line at the bottom of screen (readonly, used for mousepicking deb=
ug text and for info during loading)
-mixed	SetBottomLine	(mixed text,mixed stylesetname,mixed stylename) {}
-
-mixed	DisplayFPS	(mixed fps,mixed stylename) {}
-
-/// common gui dialogs
-/// currently just a simple message box
-mixed	PlainMessageBox	(mixed text,mixed stylename_window,mixed stylename_b=
utton) {}
-
-mixed	HTMLMessageBox	(mixed text) {}
-
-/// TODO kGeomQTAdapter : quadratic base to triangle top, one side cut, 1+=
2 quads, 1+3 tris
-/// the facenum returned from gfx:RayPick,... is zero based, but can be us=
ed to determine the "side"
-/// returns one-based index in geom
-mixed	GeomFaceNumToSideNum	(mixed geom,mixed facenum) {}
-
-/// returns array of vertices, sidenum is one-based index
-mixed	GeomGetSide	(mixed geom,mixed sidenum) {}
-
-/// geomside =3D geom[one_based_index]
-mixed	GeomSideIsQuad	(mixed geomside) {}
-
-mixed	GeomSideGetIndexCount	(mixed geomside) {}
-
-mixed	GeomSideGetVertexCount	(mixed geomside) {}
-
-/// returns nx,ny,nz
-mixed	GeomSideGetNormal	(mixed geomside) {}
-
-/// checks if a side is parallel to a border of an axis aligned box
-mixed	GeomSideIsAxisAligned	(mixed geomside) {}
-
-mixed	GeomGetAxisAlignedSides	(mixed geom) {}
-
-/// returns w,h
-mixed	GeomSideCalcDim	(mixed geomside) {}
-
-/// returns surface area
-mixed	GeomSideCalcArea	(mixed geomside) {}
-
-/// changes the vertex order so that culling and normals are inverted
-mixed	GeomInvert	(mixed geom) {}
-
-mixed	MakeSphereMesh	(mixed steps_h,mixed steps_v,mixed cx,mixed cy,mixed =
cz,mixed r,mixed g,mixed b) {}
-
-/// creates a SimpleRenderable , a cylinder arount the z axis from 0,0,0 t=
o 0,0,h with radius r
-mixed	GfxSetCylinderZ	(mixed gfx,mixed r,mixed h,mixed steps) {}
-
-/// creates a SimpleRenderable
-mixed	GfxSetSphere	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed steps_h,mix=
ed steps_v) {}
-
-/// creates a SimpleRenderable
-mixed	GfxSetGeom	(mixed gfx,mixed geom,mixed texcoords,mixed cx,mixed cy,m=
ixed cz,mixed bDynamic) {}
-
-/// used as callback
-mixed	ContextMenuItemEnterButton	(mixed widget) {}
-
-/// used as callback
-mixed	ContextMenuItemSelect	(mixed widget) {}
-
-/// find the root menu if contextmenudialog is a submenu
-mixed	ContextMenu_GetRoot	(mixed contextmenudialog) {}
-
-/// closes all submenus
-mixed	ContextMenu_CloseActiveSubmenu	(mixed contextmenudialog) {}
-
-/// closes the menu and all submenus
-mixed	CloseContextMenu	(mixed contextmenudialog) {}
-
-/// creates a simple menu bar containing contextmenus (static or dynamic)
-/// menubardata : { {label,menudata}, {label,menudata}, {label,function() =
returns menudata end, ...}
-mixed	ShowMenuBar	(mixed menubardata,mixed x,mixed y,mixed stylesetname) {}
-
-/// opens a submenu in the menubar
-mixed	MenuBarOpenMenu	(mixed widget,mixed menudata,mixed stylesetname) {}
-
-mixed	ContextMenu_CloseOnOutside	(mixed contextmenudialog) {}
-
-mixed	ShowContextMenu	(mixed menudata,mixed x,mixed y,mixed stylesetname) =
{}
-
-mixed	lugre_include_libs	(mixed basepath) {}
-
-/// test if a name is following the convention for global variables and co=
nstants (e.g. giMyInt or gSomething or kBlub)
-mixed	LugreIsGlobalVarName	(mixed name) {}
-
-/// opens a connection to an irc server and returns the object handling th=
is connection
-mixed	CreateIRCConnection	(mixed host,mixed port,mixed nick,mixed password=
) {}
-
-/// [[
-/// http://tools.ietf.org/html/rfc1945
-mixed	HTTPGetEx	(mixed host,mixed port,mixed file) {}
-
-mixed	SetCursor	(mixed matname,mixed w,mixed h,mixed offx,mixed offy) {}
-
-mixed	SetCursorBaseOffset	(mixed offx,mixed offy) {}
-
-mixed	SetCursorOffset	(mixed offx,mixed offy) {}
-
-/// function printf(...) io.write(string.format("%d:",Client_GetTicks())..=
string.format(unpack(arg))) end
-/// protected call string fromatting, errors don't crash the program
-mixed	pformat	(mixed ...) {}
-
-mixed	printf	(mixed ...) {}
-
-mixed	sprintf	(mixed ...) {}
-
-mixed	beginswith	(mixed s,mixed begin) {}
-
-mixed	sign	(mixed x) {}
-
-/// executes command and returns output as array or lines with newline cha=
r removed (not tested on win)
-mixed	ExecGetLines	(mixed cmd) {}
-
-/// emulates lua 5.1 unpack behavior
-mixed	unpackex	(mixed arr,mixed i,mixed j) {}
-
-/// old : cOgreWrapper::GetSingleton().GetViewportWidth() , GetViewportHei=
ght : mViewport->getActualWidth()
-/// don't call before ogre is initialized !
-mixed	GetRenderingDistanceForPixelSize	(mixed r,mixed maxpixelsize,mixed v=
iewport,mixed cam) {}
-
-/// get extended error info
-mixed	lugrepcall	(mixed fun,mixed ...) {}
-
-mixed	printdebug	(mixed category,mixed ...) {}
-
-mixed	TestBit	(mixed mask1,mixed mask2) {}
-
-mixed	GetRandomArrayElement	(mixed array) {}
-
-/// returns key,value
-mixed	GetRandomTableElement	(mixed t) {}
-
-/// writes data to cachearr[cachename] and returns data
-mixed	WriteToCache	(mixed cachearr,mixed cachename,mixed data) {}
-
-mixed	TrimNewLines	(mixed line) {}
-
-mixed	round	(mixed x) {}
-
-mixed	roundmultiple	(mixed ...) {}
-
-/// draw a face with 4 edges and hard normal (calculated using crossproduc=
t)
-/// params: gfx,vc, pos:lt, rt, lb, rb, texcoords:lt, rt, lb, rb (texcoord=
s have default values [0,1])
-/// returns vc+4 for vc =3D DrawQuad(gfx,vc,....)
-mixed	DrawQuad	(mixed gfx,mixed vc,mixed x1,mixed y1,mixed z1,mixed x2,mix=
ed y2,mixed z2,mixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4,mixed =
u1,mixed v1,mixed u2,mixed v2,mixed u3,mixed v3,mixed u4,mixed v4) {}
-
-/// draw a triangle with hard normal (calculated using crossproduct)
-/// params: gfx,vc, pos:a,b,c texcoords:a,b,c
-/// returns vc+3 for vc =3D DrawTri(gfx,vc,....)
-mixed	DrawTri	(mixed gfx,mixed vc,mixed x1,mixed y1,mixed z1,mixed x2,mixe=
d y2,mixed z2,mixed x3,mixed y3,mixed z3,mixed u1,mixed v1,mixed u2,mixed v=
2,mixed u3,mixed v3) {}
-
-/// returns x1,y1,z1, x2,y2,z2, x3,y3,z3
-/// warning, rotation not corrected here, use gfx:GetDerivedOrientation() =
for that
-mixed	FaceGetVertices	(mixed gfx,mixed facenum) {}
-
-/// returns mx,my,mz
-mixed	FaceGetMiddle	(mixed gfx,mixed facenum) {}
-
-/// returns nx,ny,nz
-mixed	FaceGetNormal	(mixed gfx,mixed facenum) {}
-
-/// todo : place me in meshutils or something like that ?
-/// calculates the scale factor to get the mesh to have a given target rad=
ius
-mixed	CalcMeshScaleToRad	(mixed meshname,mixed targetrad) {}
-
-/// adds all fields from second to first, but does not overwrite fields th=
at are already set
-mixed	ArrayMergeToFirst	(mixed first,mixed second) {}
-
-/// overwrites fields in first by fields in second
-mixed	ArrayOverwrite	(mixed first,mixed second) {}
-
-/// shallow copy
-mixed	CopyArray	(mixed arr) {}
-
-mixed	countarr	(mixed arr) {}
-
-mixed	isempty	(mixed arr) {}
-
-mixed	notempty	(mixed arr) {}
-
-mixed	arrfirst	(mixed arr) {}
-
-/// creates an array with n entries equal to value (defaults to one-based =
indices)
-mixed	ArrayRepeat	(mixed value,mixed n,mixed startindex) {}
-
-mixed	MemProfile	(mixed part) {}
-
-mixed	sqdist3	(mixed ax,mixed ay,mixed az,mixed bx,mixed by,mixed bz) {}
-
-mixed	dist3	(mixed ax,mixed ay,mixed az,mixed bx,mixed by,mixed bz) {}
-
-mixed	dist2	(mixed ax,mixed ay,mixed bx,mixed by) {}
-
-/// returns true if the needle(value) is in the haystack-array
-mixed	in_array	(mixed needle,mixed haystack) {}
-
-/// basename("\\some\path\filename.tga") =3D "filename.tga"
-mixed	basename	(mixed path) {}
-
-mixed	fileextension	(mixed path) {}
-
-/// returns a string representation of the variable, mostly used for array=
s : {field1=3Dvalue1,field2=3Dvalue2,...}
-mixed	vardump	(mixed x,mixed aux) {}
-
-mixed	arrdump	(mixed arr) {}
-
-/// returns a (sorted) list of the keys used in arr
-mixed	keys	(mixed arr) {}
-
-/// returns a copy of the array, sorted by key, original keys are lost, ne=
w array is indexed one-based
-mixed	ksort	(mixed arr) {}
-
-/// returns a string representation of the variable (recursive), mostly us=
ed for arrays : {field1=3Dvalue1,field2=3Dvalue2,...}
-mixed	vardump_rec	(mixed x,mixed aux,mixed maxdepth) {}
-
-/// vardump2 : no hexadecimal display of numbers
-mixed	vardump2	(mixed x) {}
-
-/// non recursive ! would result in infinite recursion for double linked t=
hings (dialog.uoContainer.dialog.uoContainer...)
-mixed	vardump_aux	(mixed x) {}
-
-/// returns r,g,b in [0,1] each from html like hex-colors "b16a00" or "0xb=
16a00" or "#b16a00"
-mixed	hex2rgb	(mixed hex) {}
-
-mixed	hex2num	(mixed s) {}
-
-/// interprets a binary string (e.g. from file:read(number)) as integer
-mixed	bin2num	(mixed bin) {}
-
-mixed	robmod	(mixed a,mixed b) {}
-
-/// changes size to 2^n where n>=3D4
-mixed	texsize	(mixed i) {}
-
-/// Concat the contents of the parameter list,
-/// separated by the string delimiter (just like in perl)
-/// example: strjoin(", ", {"Anna", "Bob", "Charlie", "Dolores"})
-mixed	strjoin	(mixed delimiter,mixed list) {}
-
-/// Split text into a list consisting of the strings in text,
-/// separated by strings matching delimiter (which may be a pattern).
-/// example: strsplit(",%s*", "Anna, Bob, Charlie,Dolores")
-mixed	strsplit	(mixed delimiter,mixed text) {}
-
-/// returns a new string without the non visible chars at the beginning an=
d end
-mixed	trim	(mixed s,mixed pattern) {}
-
-/// returns x,y,z
-mixed	GetRandomPositionAtDist	(mixed dist,mixed x,mixed y,mixed z) {}
-
-mixed	dot2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
-
-mixed	add2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
-
-mixed	sub2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
-
-mixed	sqlen2	(mixed x,mixed y) {}
-
-mixed	len2	(mixed x,mixed y) {}
-
-mixed	scale2	(mixed x,mixed y,mixed s) {}
-
-mixed	norm2	(mixed x,mixed y) {}
-
-mixed	tolen2	(mixed x,mixed y,mixed l) {}
-
-/// returns qw,qx,qy,qz , input comma seperated list QuaternionFromString(=
"x:90,y:90,z:30")
-mixed	QuaternionFromString	(mixed txt) {}
-
-mixed	BBoxIntersectPoint	(mixed x,mixed y,mixed z,mixed minx,mixed miny,mi=
xed minz,mixed maxx,mixed maxy,mixed maxz) {}
-
-/// returns x,y,z (unit-length), dir [0,5] means {x,y,z,-x,-y,-z}
-mixed	DirToVector	(mixed dir) {}
-
-/// returns dir in [0,5]
-/// only works on normalised vectors that are very close to being aligned =
to an axis
-mixed	VectorToDir	(mixed x,mixed y,mixed z) {}
-
-/// gets the opposite direction
-mixed	InverseDir	(mixed a) {}
-
-/// rotation around axis VectorToDir(axisdir) with ang =3D ang90 * 90 degr=
ees
-mixed	GetRot90	(mixed ang90,mixed axisdir) {}
-
-/// returns mx,my,mz, e.g. (-1,1,1) for (1,0,0) , normal must be ortho
-mixed	AxisAlignedNormalToMirror	(mixed nx,mixed ny,mixed nz) {}
-
-mixed	ScaleToMirror	(mixed sx,mixed sy,mixed sz) {}
-
-/// mirror around origin, defaults to 0,0,0
-/// warning! beware of rounding errors due to addition and substraction
-/// e.g. ox,oy,oz should be rounded if you are working on a grid
-mixed	MirrorPoint	(mixed x,mixed y,mixed z,mixed mx,mixed my,mixed mz,mixe=
d ox,mixed oy,mixed oz) {}
-
-/// returns x1,y1,z1, x2,y2,z2, corrected after mirroring so that 1:min 2:=
max
-mixed	CorrectBounds	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
) {}
-
-/// returns true if normal is nearly axisaligned
-mixed	NormalIsAxisAligned	(mixed nx,mixed ny,mixed nz) {}
-
-/// returns x,y,z after applying rotation and mirror
-mixed	ApplyMirRotCombo	(mixed x,mixed y,mixed z,mixed qw,mixed qx,mixed qy=
,mixed qz,mixed mx,mixed my,mixed mz) {}
-
-/// returns "012" or something like that, the numbers have the same meanin=
g as dir in DirToVector
-mixed	GetMirRotComboName	(mixed qw,mixed qx,mixed qy,mixed qz,mixed mx,mix=
ed my,mixed mz) {}
-
-/// returns true if the file exists else false
-mixed	file_exists	(mixed filename) {}
-
-mixed	Clamp	(mixed x,mixed v1,mixed v2) {}
-
-mixed	GUI_TriggerWidgetCallback	(mixed widget,mixed callback_name,mixed di=
alogparam,mixed ...) {}
-
-mixed	GUI_TriggerWidgetCallback_BackwardComp	(mixed widget,mixed callback_=
name,mixed dialogparam,mixed ...) {}
-
-/// if the parameter widget is nil, the gLastMouseDownWidget is used
-/// called from lib.input.lua, eventname is one of
-/// mouse_left_down,mouse_left_up
-/// mouse_right_down,mouse_right_up
-/// mouse_left_click,mouse_left_click_double,mouse_left_click_single,
-/// mouse_left_drag_start,mouse_left_drag_step,mouse_left_drag_stop
-/// called from GUIStep, eventname is one of
-/// mouse_enter,mouse_leave
-/// generates button_click event from mouse_left_click when the mouse is s=
till inside gLastMouseDownWidget
-mixed	GUIEvent	(mixed sEventName,mixed widget) {}
-
-/// returns true if the event was consumed/handled
-mixed	GuiKeyDown	(mixed key,mixed char) {}
-
-mixed	RegisterListener	(mixed eventname,mixed listenerfunc) {}
-
-mixed	UnregisterListener	(mixed eventname,mixed listenerfunc) {}
-
-/// all additional arguments are passed to the callback
-/// callback can return true if it wants to be removed
-mixed	NotifyListener	(mixed eventname,mixed ...) {}
-
-/// oldname : HistoryUpDown
-mixed	ChatLine_HistoryUpDown	(mixed x) {}
-
-/// returns x1,y1,z1, x2,y2,z2, x3,y3,z3, x4,y4,z4
-mixed	GetBoxSideCoords	(mixed sidenum,mixed cx,mixed cy,mixed cz) {}
-
-/// returns nx,ny,nz
-mixed	GetBoxSideNormal	(mixed sidenum) {}
-
-mixed	DrawBoxSide	(mixed sidenum,mixed gfx,mixed cx,mixed cy,mixed cz,mixe=
d vc,mixed texcoords) {}
-
-/// sides is an array containing sidenumbers to be drawn, defaults to all
-/// param sides defaults to {0,1,2,3,4,5} =3D all sides
-/// param texcoords defaults to { {0,0, 0,1, 1,0, 1,1} repeated 6 times }
-/// param texcoords is one based
-mixed	GfxSetBox	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed sides,mixed te=
xcoords) {}
-
-/// 0,0,0 is top,left,front corner
-mixed	RayPickAABoxSide	(mixed sidenum,mixed x,mixed y,mixed z,mixed cx,mix=
ed cy,mixed cz,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
-
-/// 0,0,0 is top,left,front corner
-/// returns minside,dist , nil if not hit
-mixed	RayPickAABox	(mixed x,mixed y,mixed z,mixed cx,mixed cy,mixed cz,mix=
ed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
-
-mixed	SoundInit	(mixed name,mixed frequency) {}
-
-mixed	SoundSetListenerPosition	(mixed x,mixed y,mixed z) {}
-
-/// just adds a sound effect to the global effect list
-mixed	AddSound	(mixed effect) {}
-
-/// removes a sound by table key
-mixed	RemoveSound	(mixed effectkey) {}
-
-mixed	SoundPlayOmniEffect	(mixed file) {}
-
-mixed	SoundPlayEffect	(mixed x,mixed y,mixed z,mixed file) {}
-
-mixed	SoundPlayMusic	(mixed file) {}
-
-/// called by c when registering a udata type
-mixed	RegisterUDataType	(mixed name,mixed metatable) {}
-
-/// called by c after creating a udata
-mixed	WrapUData	(mixed myudata) {}
-
-/// instance must be the udata itself, as it should be possible to call my=
instance:MethodFromC(param2,..) which expects a udata as implicit param
-/// or rewrite all functions taking udata as one of their parameters to do=
 a lookup for key "udata" in case they get an array
-/// instance can be used as array
-/// instance can have luaclass
-/// instance created via WrapUData() (called automatically by luabind.h : =
CreateUData()
-/// udata has metatable udatatype (not changeable from lua)
-/// udatatype has methods
-/// udatatype get and set functions to access c membervars
-/// NO : store something in the udata besides a smartpointer ? cannot stor=
e lua types =3D(
-/// YES : checkudata in luabind.h anpassen, so dass es entweder udata dire=
kt oder array-feld mit titel udata nimmt
-/// getter, first looks in instance, if nothing is found there methods.Get=
 is used
-mixed	UData_index	(mixed myinstance,mixed key) {}
-
-/// setter, also for setting variables with set. if the vars don't exist, =
use shadow
-/// but if they are readonly print an error
-mixed	UData_newindex	(mixed myinstance,mixed key,mixed value) {}
-
-mixed	URLEncodeChar	(mixed c) {}
-
-mixed	URLEncode	(mixed s) {}
-
-mixed	FIFO_PushPlainText	(mixed fifo,mixed s) {}
-
-mixed	URLEncodeArr	(mixed arr) {}
-
-/// search first double-newline and return everything after that
-mixed	HTTP_GetResponseContent	(mixed response) {}
-
-mixed	HTTP_MakeRequest	(mixed sHost,mixed sPath) {}
-
-/// http://tools.ietf.org/html/rfc1945
-/// if bIgnoreReturnForSpeed is true, then it returns without waiting for =
an answer
-/// this version is blocking, see also Threaded_HTTPRequest in lib.thread.=
lua for an asynchronous version
-mixed	HTTPGetEx	(mixed sHost,mixed iPort,mixed sPath,mixed bIgnoreReturnFo=
rSpeed) {}
-
-/// load/save dialogs that can be used to browse the filesystem
-mixed	OpenOverwriteConfirmDialog	(mixed path,mixed completionfunc) {}
-
-/// removes ./ and ../ without modifying the meaning
-mixed	ShortPath	(mixed path) {}
-
-mixed	FileBrowse_GetStartDir	(mixed default_startdir) {}
-
-mixed	FileBrowse_SetStartDir	(mixed default_startdir,mixed dir) {}
-
-mixed	OpenFileBrowseDialog	(mixed title,mixed buttontext,mixed default_sta=
rtdir,mixed defaultfilename,mixed completionfunc,mixed folderpath) {}
-
-mixed	FileBrowse_Load	(mixed title,mixed default_startdir,mixed loadfun) {}
-
-mixed	FileBrowse_Save	(mixed title,mixed default_startdir,mixed default_na=
me,mixed savefun) {}
-
-mixed	InitOde	(mixed secondsByStep) {}
-
-/// a nice interface for threaded ops
-/// see also lugre_thread.cpp
-/// see also lib.http.lua
-/// callback(fifo,bError) is called once when the thread is finished, the =
fifo is already filled then
-/// creates a fifo for loading to and passes it to the callback (which is =
then responsible for the destruction)
-mixed	Threaded_LoadFullFileToFIFO	(mixed sFilePath,mixed callback) {}
-
-/// callback(fifo,bError) is called once when the thread is finished, the =
fifo is already filled then
-/// creates a fifo for loading to and passes it to the callback (which is =
then responsible for the destruction)
-mixed	Threaded_LoadFileToFIFO	(mixed sFilePath,mixed iStart,mixed iLength,=
mixed callback) {}
-
-/// see also HTTPGetEx
-/// callback(answertext,bError) : answer header is dropped, 404 is not det=
ectable, just results in an empty answertext
-mixed	Threaded_HTTPRequest	(mixed sHost,mixed iPort,mixed sPath,mixed bIgn=
oreReturnForSpeed,mixed callback) {}
-
-/// ##### ##### ##### ##### ##### LOW LEVEL functions, use with caution
-/// thread_netr CreateThread_NetRequest (sHost,iPort,fifo_SendData=3Dnil,f=
ifo_pAnswerBuffer=3Dnil)
-/// thread_loadf CreateThread_LoadFile (sFilePath,fifo_answerbuffer,iStart=
=3D0,iLength=3D-1)
-/// callback(bError) is called once when the thread is finished
-/// fifo_SendData is used by the thread, DO NOT USE OR RELEASE IT UNTIL TH=
E THREAD IS FINISHED
-/// fifo_AnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTI=
L THE THREAD IS FINISHED
-mixed	Threaded_NetRequest	(mixed sHost,mixed iPort,mixed fifo_SendData,mix=
ed fifo_AnswerBuffer,mixed callback) {}
-
-/// callback(bError) is called once when the thread is finished
-/// fifo_AnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTI=
L THE THREAD IS FINISHED
-mixed	Threaded_LoadFile	(mixed sFilePath,mixed fifo_AnswerBuffer,mixed iSt=
art,mixed iLength,mixed callback) {}
-
-	/// string SaveTextureToFile (sTexName,sFilePath)
-	mixed SaveTextureToFile (...) {}
-
-	/// string CloneMaterial (sOldMatName,sNewMatName=3Duniquename())
-	mixed CloneMaterial (...) {}
-
-	/// string CreateMaterial (sMatName=3Duniquename())
-	mixed CreateMaterial (...) {}
-
-	/// void SetAmbient (sMatName,iTech,iPass,r,g,b)
-	mixed SetAmbient (...) {}
-
-	/// void SetDiffuse (sMatName,iTech,iPass,r,g,b,a)
-	mixed SetDiffuse (...) {}
-
-	/// void SetSceneBlend (sMatName,iSceneBlendMode)
-	mixed SetSceneBlend (...) {}
-
-	/// void SetDepthWriteEnabled (sMatName,iTech,iPass,iSceneBlendMode)
-	mixed SetDepthWriteEnabled (...) {}
-
-	/// void SetHardwareCulling (sMatName,iTech,iPass,iCullMode)
-	/// iCullMode 0=3DCULL_NONE 1=3DCULL_CLOCKWISE 2=3DCULL_ANTICLOCKWISE
-	mixed SetHardwareCulling (...) {}
-
-	/// void SetSoftwareCulling (sMatName,iTech,iPass,iCullMode)
-	/// iCullMode 0=3DMANUAL_CULL_NONE 1=3DMANUAL_CULL_BACK 2=3DMANUAL_CULL_F=
RONT
-	mixed SetSoftwareCulling (...) {}
-
-	/// old : CreateTextureUnitState (sMatName,iTech,iPass,sTextureName)
-	/// void SetTexture (sMatName,sTextureName,iTech=3D0,iPass=3D0,iTextureUn=
it=3D0)
-	mixed SetTexture (...) {}
-
-	/// lua : void OdeGeomSetData(dGeomID geom, void* data) [ from ode ]
-	mixed l_OdeGeomSetData (...) {}
-
-	/// lua : udata OdedGeomGetData(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomGetData (...) {}
-
-	/// lua : void OdeGeomSetBody(dGeomID geom, dBodyID body) [ from ode ]
-	mixed l_OdeGeomSetBody (...) {}
-
-	/// lua : dBodyID OdeGeomGetBody(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomGetBody (...) {}
-
-	/// lua : void OdeGeomSetPosition(dGeomID geom, dReal x, dReal y, dReal z=
) [ from ode ]
-	mixed l_OdeGeomSetPosition (...) {}
-
-	/// lua : void OdeGeomSetQuaternion(dGeomID geom, const dQuaternion Q) [ =
from ode ]
-	mixed l_OdeGeomSetQuaternion (...) {}
-
-	/// lua : x,y,z OdeGeomGetPosition(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomGetPosition (...) {}
-
-	/// lua : w,x,y,z OdeGeomGetQuaternion(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomGetQuaternion (...) {}
-
-	/// lua : ax,ay,az,bx,by,bz OdeGeomGetAABB(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomGetAABB (...) {}
-
-	/// lua : int OdeGeomIsSpace(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomIsSpace (...) {}
-
-	/// lua : dSpaceID OdeGeomGetSpace(dGeomID) [ from ode ]
-	mixed l_OdeGeomGetSpace (...) {}
-
-	/// lua : int OdeGeomGetClass(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomGetClass (...) {}
-
-	/// lua : void OdeGeomSetCategoryBits(dGeomID geom, unsigned long bits) [=
 from ode ]
-	mixed l_OdeGeomSetCategoryBits (...) {}
-
-	/// lua : void OdeGeomSetCollideBits(dGeomID geom, unsigned long bits) [ =
from ode ]
-	mixed l_OdeGeomSetCollideBits (...) {}
-
-	/// lua : long OdeGeomGetCategoryBits(dGeomID) [ from ode ]
-	mixed l_OdeGeomGetCategoryBits (...) {}
-
-	/// lua : long OdeGeomGetCollideBits(dGeomID) [ from ode ]
-	mixed l_OdeGeomGetCollideBits (...) {}
-
-	/// lua : void OdeGeomEnable(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomEnable (...) {}
-
-	/// lua : void OdeGeomDisable(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomDisable (...) {}
-
-	/// lua : int OdeGeomIsEnabled(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomIsEnabled (...) {}
-
-	/// lua : void OdeGeomSetOffsetPosition(dGeomID geom, dReal x, dReal y, d=
Real z) [ from ode ]
-	mixed l_OdeGeomSetOffsetPosition (...) {}
-
-	/// lua : void OdeGeomSetOffsetQuaternion(dGeomID geom, const dQuaternion=
 Q) [ from ode ]
-	mixed l_OdeGeomSetOffsetQuaternion (...) {}
-
-	/// lua : void OdeGeomSetOffsetWorldPosition(dGeomID geom, dReal x, dReal=
 y, dReal z) [ from ode ]
-	mixed l_OdeGeomSetOffsetWorldPosition (...) {}
-
-	/// lua : void OdeGeomSetOffsetWorldQuaternion(dGeomID geom, const dQuate=
rnion) [ from ode ]
-	mixed l_OdeGeomSetOffsetWorldQuaternion (...) {}
-
-	/// lua : void OdeGeomClearOffset(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomClearOffset (...) {}
-
-	/// lua : int OdeGeomIsOffset(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomIsOffset (...) {}
-
-	/// lua : x,y,z OdeGeomGetOffsetPosition(dGeomID geom) [ from ode ]
-	mixed l_OdeGeomGetOffsetPosition (...) {}
-
-	/// lua : w,x,y,z OdeGeomGetOffsetQuaternion(dGeomID geom, dQuaternion re=
sult) [ from ode ]
-	mixed l_OdeGeomGetOffsetQuaternion (...) {}
-
-	/// lua : int OdeCollide(dGeomID o1, dGeomID o2, int flags, dContactGeom =
*contact,int skip) [ from ode ]
-	mixed l_OdeCollide (...) {}
-
-	/// lua : px,py,pz, nx,ny,nz, depth, g1,g2, side1, side2 OdeContactGeomCr=
eate(contactgeomid)
-	mixed l_OdeContactGeomGetParams (...) {}
-
-	mixed l_OdeContactGeomCreate (...) {}
-
-	mixed l_OdeContactGeomDestroy (...) {}
-
-	/// lua : {contact,...} OdeCollide(dGeomID o1, dGeomID o2,count)
-	mixed l_OdeCollide (...) {}
-
-	/// lua : mode,mu,mu2,bounce,bounce_vel,soft_erp,soft_cfm,motion1,motion2=
,slip1,slip2 OdeGetContactSurface(dContact *p)
-	mixed l_OdeGetContactSurface (...) {}
-
-	/// lua : OdeSetContactSurface(dContact *p,mode,mu,mu2,bounce,bounce_vel,=
soft_erp,soft_cfm,motion1,motion2,slip1,slip2)
-	mixed l_OdeSetContactSurface (...) {}
-
-	/// lua : OdeSetContactGeom(dContact *p,mode,mu,mu2,bounce,bounce_vel,sof=
t_erp,soft_cfm,motion1,motion2,slip1,slip2)
-	mixed l_OdeSetContactGeom (...) {}
-
-	/// lua : posx,posy,posz,normalx,normaly,normalz,depth,g1,g2,side1,side2 =
OdeGetContactGeom(dContact *p)
-	mixed l_OdeGetContactGeom (...) {}
-
-	/// lua : void OdeSpaceCollide(dSpaceID space,fun(o0,o1))
-	mixed l_OdeSpaceCollide (...) {}
-
-	/// like OdeSpaceCollide but with an additional callback function
-	/// fun() : function to create the collision feedback joints
-	/// function callback(o0,o1,posx,posy,posz,normalx,normaly,normalz,depth,=
g1,g2,side1,side2)
-	/// return mode,mu,mu2,bounce,bounce_vel,soft_erp,soft_cfm,motion1,motion=
2,slip1,slip2
-	/// end
-	/// lua : void OdeSpaceCollideWithCallback(dWorldID, dJointGroupID, dSpac=
eID space,fun())
-	mixed l_OdeSpaceCollideWithCallback (...) {}
-
-	/// lua : void OdeSpaceCollide2(dGeomID space1, dGeomID space2, fun(o0,o1=
))
-	mixed l_OdeSpaceCollide2 (...) {}
-
-	/// lua : dGeomID OdeCreateSphere(dSpaceID space, dReal radius) [ from od=
e ]
-	mixed l_OdeCreateSphere (...) {}
-
-	/// lua : void OdeGeomSphereSetRadius(dGeomID sphere, dReal radius) [ fro=
m ode ]
-	mixed l_OdeGeomSphereSetRadius (...) {}
-
-	/// lua : dReal OdeGeomSphereGetRadius(dGeomID sphere) [ from ode ]
-	mixed l_OdeGeomSphereGetRadius (...) {}
-
-	/// lua : dReal OdeGeomSpherePointDepth(dGeomID sphere, dReal x, dReal y,=
 dReal z) [ from ode ]
-	mixed l_OdeGeomSpherePointDepth (...) {}
-
-	/// --> Convex Functions
-	/// lua : dGeomID OdeCreateConvex(dSpaceID space,dReal *_planes,unsigned =
int _planecount,dReal *_points,unsigned int _pointcount,unsigned int *_poly=
gons) [ from ode ]
-	mixed l_OdeCreateConvex (...) {}
-
-	/// lua : void OdeGeomSetConvex(dGeomID g,dReal *_planes,unsigned int _co=
unt,dReal *_points,unsigned int _pointcount,unsigned int *_polygons) [ from=
 ode ]
-	mixed l_OdeGeomSetConvex (...) {}
-
-	/// lua : dGeomID OdeCreateBox(dSpaceID space, dReal lx, dReal ly, dReal =
lz) [ from ode ]
-	mixed l_OdeCreateBox (...) {}
-
-	/// lua : void OdeGeomBoxSetLengths(dGeomID box, dReal lx, dReal ly, dRea=
l lz) [ from ode ]
-	mixed l_OdeGeomBoxSetLengths (...) {}
-
-	/// lua : lx,ly,lz OdeGeomBoxGetLengths(dGeomID box, dVector3 result) [ f=
rom ode ]
-	mixed l_OdeGeomBoxGetLengths (...) {}
-
-	/// lua : dReal OdeGeomBoxPointDepth(dGeomID box, dReal x, dReal y, dReal=
 z) [ from ode ]
-	mixed l_OdeGeomBoxPointDepth (...) {}
-
-	/// lua : dGeomID OdeCreatePlane(dSpaceID space, dReal a, dReal b, dReal =
c, dReal d) [ from ode ]
-	mixed l_OdeCreatePlane (...) {}
-
-	/// lua : void OdeGeomPlaneSetParams(dGeomID plane, dReal a, dReal b, dRe=
al c, dReal d) [ from ode ]
-	mixed l_OdeGeomPlaneSetParams (...) {}
-
-	/// lua : a,b,c,d OdeGeomPlaneGetParams(dGeomID plane, dVector4 result) [=
 from ode ]
-	mixed l_OdeGeomPlaneGetParams (...) {}
-
-	/// lua : dReal OdeGeomPlanePointDepth(dGeomID plane, dReal x, dReal y, d=
Real z) [ from ode ]
-	mixed l_OdeGeomPlanePointDepth (...) {}
-
-	/// lua : dGeomID OdeCreateCapsule(dSpaceID space, dReal radius, dReal le=
ngth) [ from ode ]
-	mixed l_OdeCreateCapsule (...) {}
-
-	/// lua : void OdeGeomCapsuleSetParams(dGeomID ccylinder, dReal radius, d=
Real length) [ from ode ]
-	mixed l_OdeGeomCapsuleSetParams (...) {}
-
-	/// lua : r,l OdeGeomCapsuleGetParams(dGeomID ccylinder, dReal *radius, d=
Real *length) [ from ode ]
-	mixed l_OdeGeomCapsuleGetParams (...) {}
-
-	/// lua : dReal OdeGeomCapsulePointDepth(dGeomID ccylinder, dReal x, dRea=
l y, dReal z) [ from ode ]
-	mixed l_OdeGeomCapsulePointDepth (...) {}
-
-	/// lua : void OdeGeomCylinderSetParams(dGeomID cylinder, dReal radius, d=
Real length) [ from ode ]
-	mixed l_OdeGeomCylinderSetParams (...) {}
-
-	/// lua : r,l OdeGeomCylinderGetParams(dGeomID cylinder, dReal *radius, d=
Real *length) [ from ode ]
-	mixed l_OdeGeomCylinderGetParams (...) {}
-
-	/// lua : dGeomID OdeCreateRay(dSpaceID space, dReal length) [ from ode ]
-	mixed l_OdeCreateRay (...) {}
-
-	/// lua : void OdeGeomRaySetLength(dGeomID ray, dReal length) [ from ode ]
-	mixed l_OdeGeomRaySetLength (...) {}
-
-	/// lua : dReal OdeGeomRayGetLength(dGeomID ray) [ from ode ]
-	mixed l_OdeGeomRayGetLength (...) {}
-
-	/// lua : void OdeGeomRaySet(dGeomID ray, dReal px, dReal py, dReal pz,dR=
eal dx, dReal dy, dReal dz) [ from ode ]
-	mixed l_OdeGeomRaySet (...) {}
-
-	/// lua : void OdeGeomDestroy(dGeomID)
-	mixed l_OdeGeomDestroy (...) {}
-
-	/// lua : px,py,pz, dx,dy,dz OdeGeomRayGet(dGeomID ray, dVector3 start, d=
Vector3 dir) [ from ode ]
-	mixed l_OdeGeomRayGet (...) {}
-
-	/// lua : void OdeGeomRaySetParams(dGeomID g, int FirstContact, int Backf=
aceCull) [ from ode ]
-	mixed l_OdeGeomRaySetParams (...) {}
-
-	/// lua : FirstContact, BackfaceCull OdeGeomRayGetParams(dGeomID g, int *=
FirstContact, int *BackfaceCull) [ from ode ]
-	mixed l_OdeGeomRayGetParams (...) {}
-
-	/// lua : void OdeGeomRaySetClosestHit(dGeomID g, int closestHit) [ from =
ode ]
-	mixed l_OdeGeomRaySetClosestHit (...) {}
-
-	/// lua : int OdeGeomRayGetClosestHit(dGeomID g) [ from ode ]
-	mixed l_OdeGeomRayGetClosestHit (...) {}
-
-	/// lua : void OdeGeomTransformSetGeom(dGeomID g, dGeomID obj) [ from ode=
 ]
-	mixed l_OdeGeomTransformSetGeom (...) {}
-
-	/// lua : dGeomID OdeGeomTransformGetGeom(dGeomID g) [ from ode ]
-	mixed l_OdeGeomTransformGetGeom (...) {}
-
-	/// lua : void OdeGeomTransformSetCleanup(dGeomID g, int mode) [ from ode=
 ]
-	mixed l_OdeGeomTransformSetCleanup (...) {}
-
-	/// lua : int OdeGeomTransformGetCleanup(dGeomID g) [ from ode ]
-	mixed l_OdeGeomTransformGetCleanup (...) {}
-
-	/// lua : void OdeGeomTransformSetInfo(dGeomID g, int mode) [ from ode ]
-	mixed l_OdeGeomTransformSetInfo (...) {}
-
-	/// lua : int OdeGeomTransformGetInfo(dGeomID g) [ from ode ]
-	mixed l_OdeGeomTransformGetInfo (...) {}
-
-	/// lua : dGeomID OdeCreateHeightfield( dSpaceID space,dHeightfieldDataID=
 data, int bPlaceable ) [ from ode ]
-	mixed l_OdeCreateHeightfield (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataDestroy( dHeightfieldDataID d ) [ fr=
om ode ]
-	mixed l_OdeGeomHeightfieldDataDestroy (...) {}
-
-	/// lua : dHeightfieldDataID OdeGeomHeightfieldDataCreate() [ from ode ]
-	mixed l_OdeGeomHeightfieldDataCreate (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataBuildCallback( dHeightfieldDataID d,=
void* pUserData, dHeightfieldGetHeight* pCallback,dReal width, dReal depth,=
 int widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickn=
ess, int bWrap ) [ from ode ]
-	mixed l_OdeGeomHeightfieldDataBuildCallback (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataBuildFromFun( dHeightfieldDataID d,w=
idth,height,dx,dz,float fun(x,z))
-	mixed l_OdeGeomHeightfieldDataBuildFromFun (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataBuildByte( dHeightfieldDataID d,cons=
t unsigned char* pHeightData, int bCopyHeightData,dReal width, dReal depth,=
 int widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickn=
ess, int bWrap ) [ from ode ]
-	mixed l_OdeGeomHeightfieldDataBuildByte (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataBuildShort( dHeightfieldDataID d,con=
st short* pHeightData, int bCopyHeightData,dReal width, dReal depth, int wi=
dthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, in=
t bWrap ) [ from ode ]
-	mixed l_OdeGeomHeightfieldDataBuildShort (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataBuildSingle( dHeightfieldDataID d,co=
nst float* pHeightData, int bCopyHeightData,dReal width, dReal depth, int w=
idthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, i=
nt bWrap ) [ from ode ]
-	mixed l_OdeGeomHeightfieldDataBuildSingle (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataBuildDouble( dHeightfieldDataID d,co=
nst double* pHeightData, int bCopyHeightData,dReal width, dReal depth, int =
widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, =
int bWrap ) [ from ode ]
-	mixed l_OdeGeomHeightfieldDataBuildDouble (...) {}
-
-	/// lua : void OdeGeomHeightfieldDataSetBounds( dHeightfieldDataID d,dRea=
l minHeight, dReal maxHeight ) [ from ode ]
-	mixed l_OdeGeomHeightfieldDataSetBounds (...) {}
-
-	/// lua : void OdeGeomHeightfieldSetHeightfieldData( dGeomID g, dHeightfi=
eldDataID d ) [ from ode ]
-	mixed l_OdeGeomHeightfieldSetHeightfieldData (...) {}
-
-	/// lua : dHeightfieldDataID OdeGeomHeightfieldGetHeightfieldData( dGeomI=
D g ) [ from ode ]
-	mixed l_OdeGeomHeightfieldGetHeightfieldData (...) {}
-
-	/// lua : cp1x,cp1y,cp1z,cp2x,cp2y,cp2z OdeClosestLineSegmentPoints(const=
 dVector3 a1, const dVector3 a2,const dVector3 b1, const dVector3 b2) [ fro=
m ode ]
-	mixed l_OdeClosestLineSegmentPoints (...) {}
-
-	/// lua : int OdeBoxTouchesBox(const dVector3 _p1, const dMatrix3 R1,cons=
t dVector3 side1, const dVector3 _p2,const dMatrix3 R2, const dVector3 side=
2) [ from ode ]
-	mixed l_OdeBoxTouchesBox (...) {}
-
-	/// lua : ax,ay,az, bx,by,bz OdeInfiniteAABB(dGeomID geom, dReal aabb[6])=
 [ from ode ]
-	mixed l_OdeInfiniteAABB (...) {}
-
-	/// lua : void OdeInitODE(void) [ from ode ]
-	mixed l_OdeInitODE (...) {}
-
-	/// lua : void OdeCloseODE(void) [ from ode ]
-	mixed l_OdeCloseODE (...) {}
-
-	/// lua : int OdeCreateGeomClass(const dGeomClass *classptr) [ from ode ]
-	mixed l_OdeCreateGeomClass (...) {}
-
-	/// lua : * OdeGeomGetClassData(dGeomID) [ from ode ]
-	mixed l_OdeGeomGetClassData (...) {}
-
-	/// lua : dGeomID OdeCreateGeom(int classnum) [ from ode ]
-	mixed l_OdeCreateGeom (...) {}
-
-	/// lua : dSpaceID OdeSimpleSpaceCreate(dSpaceID space) [ from ode ]
-	mixed l_OdeSimpleSpaceCreate (...) {}
-
-	/// lua : dSpaceID OdeHashSpaceCreate(dSpaceID space) [ from ode ]
-	mixed l_OdeHashSpaceCreate (...) {}
-
-	/// lua : dSpaceID OdeQuadTreeSpaceCreate(dSpaceID space, dVector3 Center=
, dVector3 Extents, int Depth) [ from ode ]
-	mixed l_OdeQuadTreeSpaceCreate (...) {}
-
-	/// lua : void OdeSpaceDestroy(dSpaceID) [ from ode ]
-	mixed l_OdeSpaceDestroy (...) {}
-
-	/// lua : void OdeHashSpaceSetLevels(dSpaceID space, int minlevel, int ma=
xlevel) [ from ode ]
-	mixed l_OdeHashSpaceSetLevels (...) {}
-
-	/// lua : minlevel,maxlevel OdeHashSpaceGetLevels(dSpaceID space, int *mi=
nlevel, int *maxlevel) [ from ode ]
-	mixed l_OdeHashSpaceGetLevels (...) {}
-
-	/// lua : void OdeSpaceSetCleanup(dSpaceID space, int mode) [ from ode ]
-	mixed l_OdeSpaceSetCleanup (...) {}
-
-	/// lua : int OdeSpaceGetCleanup(dSpaceID space) [ from ode ]
-	mixed l_OdeSpaceGetCleanup (...) {}
-
-	/// lua : void OdeSpaceAdd(dSpaceID, dGeomID) [ from ode ]
-	mixed l_OdeSpaceAdd (...) {}
-
-	/// lua : void OdeSpaceRemove(dSpaceID, dGeomID) [ from ode ]
-	mixed l_OdeSpaceRemove (...) {}
-
-	/// lua : int OdeSpaceQuery(dSpaceID, dGeomID) [ from ode ]
-	mixed l_OdeSpaceQuery (...) {}
-
-	/// lua : void OdeSpaceClean(dSpaceID) [ from ode ]
-	mixed l_OdeSpaceClean (...) {}
-
-	/// lua : int OdeSpaceGetNumGeoms(dSpaceID) [ from ode ]
-	mixed l_OdeSpaceGetNumGeoms (...) {}
-
-	/// lua : dGeomID OdeSpaceGetGeom(dSpaceID, int i) [ from ode ]
-	mixed l_OdeSpaceGetGeom (...) {}
-
-	/// lua : cTriangleMeshRawData OdeTriMeshRawDataCreate(fifo)
-	mixed l_OdeTriMeshRawDataCreate (...) {}
-
-	/// lua : void OdeTriMeshRawDataDestroy(cTriangleMeshRawData)
-	mixed l_OdeTriMeshRawDataDestroy (...) {}
-
-	/// lua : void OdeTriMeshRawDataPrint(cTriangleMeshRawData)
-	mixed l_OdeTriMeshRawDataPrint (...) {}
-
-	/// lua : dTriMeshDataID OdeGeomTriMeshDataCreate(void) [ from ode ]
-	mixed l_OdeGeomTriMeshDataCreate (...) {}
-
-	/// lua : void OdeGeomTriMeshDataDestroy(dTriMeshDataID g) [ from ode ]
-	mixed l_OdeGeomTriMeshDataDestroy (...) {}
-
-	/// lua : void OdeGeomTriMeshDataSet(dTriMeshDataID g, int data_id, void*=
 in_data) [ from ode ]
-	mixed l_OdeGeomTriMeshDataSet (...) {}
-
-	/// lua : void* OdeGeomTriMeshDataGet(dTriMeshDataID g, int data_id) [ fr=
om ode ]
-	mixed l_OdeGeomTriMeshDataGet (...) {}
-
-	/// lua : void OdeGeomTriMeshSetLastTransform( dGeomID g, dMatrix4 last_t=
rans ) [ from ode ]
-	mixed l_OdeGeomTriMeshSetLastTransform (...) {}
-
-	/// lua : dReal* OdeGeomTriMeshGetLastTransform( dGeomID g ) [ from ode ]
-	mixed l_OdeGeomTriMeshGetLastTransform (...) {}
-
-	/// lua : void OdeGeomTriMeshDataBuildSingle(dTriMeshDataID g,const void*=
 Vertices, int VertexStride, int VertexCount,const void* Indices, int Index=
Count, int TriStride) [ from ode ]
-	mixed l_OdeGeomTriMeshDataBuildSingle (...) {}
-
-	/// lua : void OdeGeomTriMeshDataBuildSingle1(dTriMeshDataID g,const void=
* Vertices, int VertexStride, int VertexCount,const void* Indices, int Inde=
xCount, int TriStride,const void* Normals) [ from ode ]
-	mixed l_OdeGeomTriMeshDataBuildSingle1 (...) {}
-
-	/// lua : void OdeGeomTriMeshDataBuildDouble(dTriMeshDataID g,const void*=
 Vertices, int VertexStride, int VertexCount,const void* Indices, int Index=
Count, int TriStride) [ from ode ]
-	mixed l_OdeGeomTriMeshDataBuildDouble (...) {}
-
-	/// lua : void OdeGeomTriMeshDataBuildDouble1(dTriMeshDataID g,const void=
* Vertices, int VertexStride, int VertexCount,const void* Indices, int Inde=
xCount, int TriStride,const void* Normals) [ from ode ]
-	mixed l_OdeGeomTriMeshDataBuildDouble1 (...) {}
-
-	/// lua : void OdeGeomTriMeshDataBuildFromRaw(dTriMeshDataID g,cTriangleM=
eshRawData)
-	mixed l_OdeGeomTriMeshDataBuildFromRaw (...) {}
-
-	/// lua : void OdeGeomTriMeshDataBuildSimple1(dTriMeshDataID g,const dRea=
l* Vertices, int VertexCount,const int* Indices, int IndexCount,const int* =
Normals) [ from ode ]
-	mixed l_OdeGeomTriMeshDataBuildSimple1 (...) {}
-
-	/// lua : void OdeGeomTriMeshDataPreprocess(dTriMeshDataID g) [ from ode ]
-	mixed l_OdeGeomTriMeshDataPreprocess (...) {}
-
-	/// lua : void OdeGeomTriMeshDataGetBuffer(dTriMeshDataID g, unsigned cha=
r** buf, int* bufLen) [ from ode ]
-	mixed l_OdeGeomTriMeshDataGetBuffer (...) {}
-
-	/// lua : void OdeGeomTriMeshDataSetBuffer(dTriMeshDataID g, unsigned cha=
r* buf) [ from ode ]
-	mixed l_OdeGeomTriMeshDataSetBuffer (...) {}
-
-	/// lua : void OdeGeomTriMeshSetCallback(dGeomID g, dTriCallback* Callbac=
k) [ from ode ]
-	mixed l_OdeGeomTriMeshSetCallback (...) {}
-
-	/// lua : dTriCallback* OdeGeomTriMeshGetCallback(dGeomID g) [ from ode ]
-	mixed l_OdeGeomTriMeshGetCallback (...) {}
-
-	/// lua : void OdeGeomTriMeshSetArrayCallback(dGeomID g, dTriArrayCallbac=
k* ArrayCallback) [ from ode ]
-	mixed l_OdeGeomTriMeshSetArrayCallback (...) {}
-
-	/// lua : dTriArrayCallback* OdeGeomTriMeshGetArrayCallback(dGeomID g) [ =
from ode ]
-	mixed l_OdeGeomTriMeshGetArrayCallback (...) {}
-
-	/// lua : void OdeGeomTriMeshSetRayCallback(dGeomID g, dTriRayCallback* C=
allback) [ from ode ]
-	mixed l_OdeGeomTriMeshSetRayCallback (...) {}
-
-	/// lua : dTriRayCallback* OdeGeomTriMeshGetRayCallback(dGeomID g) [ from=
 ode ]
-	mixed l_OdeGeomTriMeshGetRayCallback (...) {}
-
-	/// lua : dGeomID OdeCreateTriMesh(dSpaceID space, dTriMeshDataID Data)
-	/// UNUSED, dTriCallback* Callback, dTriArrayCallback* ArrayCallback, dTr=
iRayCallback* RayCallback) [ from ode ]
-	mixed l_OdeCreateTriMesh (...) {}
-
-	/// lua : void OdeGeomTriMeshSetData(dGeomID g, dTriMeshDataID Data) [ fr=
om ode ]
-	mixed l_OdeGeomTriMeshSetData (...) {}
-
-	/// lua : dTriMeshDataID OdeGeomTriMeshGetData(dGeomID g) [ from ode ]
-	mixed l_OdeGeomTriMeshGetData (...) {}
-
-	/// enable/disable/check temporal coherence
-	/// lua : void OdeGeomTriMeshEnableTC(dGeomID g, int geomClass, int enabl=
e) [ from ode ]
-	mixed l_OdeGeomTriMeshEnableTC (...) {}
-
-	/// lua : int OdeGeomTriMeshIsTCEnabled(dGeomID g, int geomClass) [ from =
ode ]
-	mixed l_OdeGeomTriMeshIsTCEnabled (...) {}
-
-	/// lua : void OdeGeomTriMeshClearTCCache(dGeomID g) [ from ode ]
-	mixed l_OdeGeomTriMeshClearTCCache (...) {}
-
-	/// lua : dTriMeshDataID OdeGeomTriMeshGetTriMeshDataID(dGeomID g) [ from=
 ode ]
-	mixed l_OdeGeomTriMeshGetTriMeshDataID (...) {}
-
-	/// lua : void OdeGeomTriMeshGetTriangle(dGeomID g, int Index, dVector3* =
v0, dVector3* v1, dVector3* v2) [ from ode ]
-	mixed l_OdeGeomTriMeshGetTriangle (...) {}
-
-	/// lua : void OdeGeomTriMeshGetPoint(dGeomID g, int Index, dReal u, dRea=
l v, dVector3 Out) [ from ode ]
-	mixed l_OdeGeomTriMeshGetPoint (...) {}
-
-	/// lua : int OdeGeomTriMeshGetTriangleCount(dGeomID g) [ from ode ]
-	mixed l_OdeGeomTriMeshGetTriangleCount (...) {}
-
-	/// lua : void OdeGeomTriMeshDataUpdate(dTriMeshDataID g) [ from ode ]
-	mixed l_OdeGeomTriMeshDataUpdate (...) {}
-
-	/// lua : udata OdeMassCreate()
-	mixed l_OdeMassCreate (...) {}
-
-	/// lua : void OdeMassDestroy(udata)
-	mixed l_OdeMassDestroy (...) {}
-
-	/// lua : int OdeMassCheck(const dMass *m) [ from ode ]
-	mixed l_OdeMassCheck (...) {}
-
-	/// lua : void OdeMassSetZero(dMass *) [ from ode ]
-	mixed l_OdeMassSetZero (...) {}
-
-	/// lua : void OdeMassSetParameters(dMass *, dReal themass,dReal cgx, dRe=
al cgy, dReal cgz,dReal I11, dReal I22, dReal I33,dReal I12, dReal I13, dRe=
al I23) [ from ode ]
-	mixed l_OdeMassSetParameters (...) {}
-
-	/// lua : void OdeMassSetSphere(dMass *, dReal density, dReal radius) [ f=
rom ode ]
-	mixed l_OdeMassSetSphere (...) {}
-
-	/// lua : void OdeMassSetSphereTotal(dMass *, dReal total_mass, dReal rad=
ius) [ from ode ]
-	mixed l_OdeMassSetSphereTotal (...) {}
-
-	/// lua : void OdeMassSetCapsule(dMass *, dReal density, int direction,dR=
eal radius, dReal length) [ from ode ]
-	mixed l_OdeMassSetCapsule (...) {}
-
-	/// lua : void OdeMassSetCapsuleTotal(dMass *, dReal total_mass, int dire=
ction,dReal radius, dReal length) [ from ode ]
-	mixed l_OdeMassSetCapsuleTotal (...) {}
-
-	/// lua : void OdeMassSetCylinder(dMass *, dReal density, int direction,d=
Real radius, dReal length) [ from ode ]
-	mixed l_OdeMassSetCylinder (...) {}
-
-	/// lua : void OdeMassSetCylinderTotal(dMass *, dReal total_mass, int dir=
ection,dReal radius, dReal length) [ from ode ]
-	mixed l_OdeMassSetCylinderTotal (...) {}
-
-	/// lua : void OdeMassSetBox(dMass *, dReal density,dReal lx, dReal ly, d=
Real lz) [ from ode ]
-	mixed l_OdeMassSetBox (...) {}
-
-	/// lua : void OdeMassSetBoxTotal(dMass *, dReal total_mass,dReal lx, dRe=
al ly, dReal lz) [ from ode ]
-	mixed l_OdeMassSetBoxTotal (...) {}
-
-	/// lua : void OdeMassSetTrimesh(dMass *, dReal density, dGeomID g) [ fro=
m ode ]
-	mixed l_OdeMassSetTrimesh (...) {}
-
-	/// lua : void OdeMassAdjust(dMass *, dReal newmass) [ from ode ]
-	mixed l_OdeMassAdjust (...) {}
-
-	/// lua : void OdeMassTranslate(dMass *, dReal x, dReal y, dReal z) [ fro=
m ode ]
-	mixed l_OdeMassTranslate (...) {}
-
-	/// lua : void OdeMassAdd(dMass *a, const dMass *b) [ from ode ]
-	mixed l_OdeMassAdd (...) {}
-
-	/// lua : udata l_OdeWorldCreate() [ from ode ]
-	mixed l_OdeWorldCreate (...) {}
-
-	/// lua : void OdeWorldDestroy(dWorldID world) [ from ode ]
-	mixed l_OdeWorldDestroy (...) {}
-
-	/// lua : void OdeWorldSetGravity(dWorldID, dReal x, dReal y, dReal z) [ =
from ode ]
-	mixed l_OdeWorldSetGravity (...) {}
-
-	/// lua : void OdeWorldGetGravity(dWorldID, dVector3 gravity) [ from ode ]
-	mixed l_OdeWorldGetGravity (...) {}
-
-	/// lua : void OdeWorldSetERP(dWorldID, dReal erp) [ from ode ]
-	mixed l_OdeWorldSetERP (...) {}
-
-	/// lua : dReal OdeWorldGetERP(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetERP (...) {}
-
-	/// lua : void OdeWorldSetCFM(dWorldID, dReal cfm) [ from ode ]
-	mixed l_OdeWorldSetCFM (...) {}
-
-	/// lua : dReal OdeWorldGetCFM(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetCFM (...) {}
-
-	/// lua : void OdeWorldStep(dWorldID, dReal stepsize) [ from ode ]
-	mixed l_OdeWorldStep (...) {}
-
-	/// lua : void OdeWorldImpulseToForce(dWorldID, dReal stepsize,dReal ix, =
dReal iy, dReal iz, dVector3 force) [ from ode ]
-	mixed l_OdeWorldImpulseToForce (...) {}
-
-	/// lua : void OdeWorldQuickStep(dWorldID w, dReal stepsize) [ from ode ]
-	mixed l_OdeWorldQuickStep (...) {}
-
-	/// lua : void OdeWorldSetQuickStepNumIterations(dWorldID, int num) [ fro=
m ode ]
-	mixed l_OdeWorldSetQuickStepNumIterations (...) {}
-
-	/// lua : int OdeWorldGetQuickStepNumIterations(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetQuickStepNumIterations (...) {}
-
-	/// lua : void OdeWorldSetQuickStepW(dWorldID, dReal over_relaxation) [ f=
rom ode ]
-	mixed l_OdeWorldSetQuickStepW (...) {}
-
-	/// lua : dReal OdeWorldGetQuickStepW(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetQuickStepW (...) {}
-
-	/// lua : void OdeWorldSetContactMaxCorrectingVel(dWorldID, dReal vel) [ =
from ode ]
-	mixed l_OdeWorldSetContactMaxCorrectingVel (...) {}
-
-	/// lua : dReal OdeWorldGetContactMaxCorrectingVel(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetContactMaxCorrectingVel (...) {}
-
-	/// lua : void OdeWorldSetContactSurfaceLayer(dWorldID, dReal depth) [ fr=
om ode ]
-	mixed l_OdeWorldSetContactSurfaceLayer (...) {}
-
-	/// lua : dReal OdeWorldGetContactSurfaceLayer(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetContactSurfaceLayer (...) {}
-
-	/// lua : void OdeWorldStepFast1(dWorldID, dReal stepsize, int maxiterati=
ons) [ from ode ]
-	mixed l_OdeWorldStepFast1 (...) {}
-
-	/// lua : void OdeWorldSetAutoEnableDepthSF1(dWorldID, int autoEnableDept=
h) [ from ode ]
-	mixed l_OdeWorldSetAutoEnableDepthSF1 (...) {}
-
-	/// lua : int OdeWorldGetAutoEnableDepthSF1(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetAutoEnableDepthSF1 (...) {}
-
-	/// lua : dReal OdeWorldGetAutoDisableLinearThreshold(dWorldID) [ from od=
e ]
-	mixed l_OdeWorldGetAutoDisableLinearThreshold (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableLinearThreshold(dWorldID, dReal line=
ar_threshold) [ from ode ]
-	mixed l_OdeWorldSetAutoDisableLinearThreshold (...) {}
-
-	/// lua : dReal OdeWorldGetAutoDisableAngularThreshold(dWorldID) [ from o=
de ]
-	mixed l_OdeWorldGetAutoDisableAngularThreshold (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableAngularThreshold(dWorldID, dReal ang=
ular_threshold) [ from ode ]
-	mixed l_OdeWorldSetAutoDisableAngularThreshold (...) {}
-
-	/// lua : dReal OdeWorldGetAutoDisableLinearAverageThreshold(dWorldID) [ =
from ode ]
-	mixed l_OdeWorldGetAutoDisableLinearAverageThreshold (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableLinearAverageThreshold(dWorldID, dRe=
al linear_average_threshold) [ from ode ]
-	mixed l_OdeWorldSetAutoDisableLinearAverageThreshold (...) {}
-
-	/// lua : dReal OdeWorldGetAutoDisableAngularAverageThreshold(dWorldID) [=
 from ode ]
-	mixed l_OdeWorldGetAutoDisableAngularAverageThreshold (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableAngularAverageThreshold(dWorldID, dR=
eal angular_average_threshold) [ from ode ]
-	mixed l_OdeWorldSetAutoDisableAngularAverageThreshold (...) {}
-
-	/// lua : int OdeWorldGetAutoDisableAverageSamplesCount(dWorldID) [ from =
ode ]
-	mixed l_OdeWorldGetAutoDisableAverageSamplesCount (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableAverageSamplesCount(dWorldID, unsign=
ed int average_samples_count ) [ from ode ]
-	mixed l_OdeWorldSetAutoDisableAverageSamplesCount (...) {}
-
-	/// lua : int OdeWorldGetAutoDisableSteps(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetAutoDisableSteps (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableSteps(dWorldID, int steps) [ from od=
e ]
-	mixed l_OdeWorldSetAutoDisableSteps (...) {}
-
-	/// lua : dReal OdeWorldGetAutoDisableTime(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetAutoDisableTime (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableTime(dWorldID, dReal time) [ from od=
e ]
-	mixed l_OdeWorldSetAutoDisableTime (...) {}
-
-	/// lua : int OdeWorldGetAutoDisableFlag(dWorldID) [ from ode ]
-	mixed l_OdeWorldGetAutoDisableFlag (...) {}
-
-	/// lua : void OdeWorldSetAutoDisableFlag(dWorldID, int do_auto_disable) =
[ from ode ]
-	mixed l_OdeWorldSetAutoDisableFlag (...) {}
-
-	/// lua : dReal OdeBodyGetAutoDisableLinearThreshold(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetAutoDisableLinearThreshold (...) {}
-
-	/// lua : void OdeBodySetAutoDisableLinearThreshold(dBodyID, dReal linear=
_average_threshold) [ from ode ]
-	mixed l_OdeBodySetAutoDisableLinearThreshold (...) {}
-
-	/// lua : dReal OdeBodyGetAutoDisableAngularThreshold(dBodyID) [ from ode=
 ]
-	mixed l_OdeBodyGetAutoDisableAngularThreshold (...) {}
-
-	/// lua : void OdeBodySetAutoDisableAngularThreshold(dBodyID, dReal angul=
ar_average_threshold) [ from ode ]
-	mixed l_OdeBodySetAutoDisableAngularThreshold (...) {}
-
-	/// lua : int OdeBodyGetAutoDisableAverageSamplesCount(dBodyID) [ from od=
e ]
-	mixed l_OdeBodyGetAutoDisableAverageSamplesCount (...) {}
-
-	/// lua : void OdeBodySetAutoDisableAverageSamplesCount(dBodyID, unsigned=
 int average_samples_count) [ from ode ]
-	mixed l_OdeBodySetAutoDisableAverageSamplesCount (...) {}
-
-	/// lua : int OdeBodyGetAutoDisableSteps(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetAutoDisableSteps (...) {}
-
-	/// lua : void OdeBodySetAutoDisableSteps(dBodyID, int steps) [ from ode ]
-	mixed l_OdeBodySetAutoDisableSteps (...) {}
-
-	/// lua : dReal OdeBodyGetAutoDisableTime(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetAutoDisableTime (...) {}
-
-	/// lua : void OdeBodySetAutoDisableTime(dBodyID, dReal time) [ from ode ]
-	mixed l_OdeBodySetAutoDisableTime (...) {}
-
-	/// lua : int OdeBodyGetAutoDisableFlag(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetAutoDisableFlag (...) {}
-
-	/// lua : void OdeBodySetAutoDisableFlag(dBodyID, int do_auto_disable) [ =
from ode ]
-	mixed l_OdeBodySetAutoDisableFlag (...) {}
-
-	/// lua : void OdeBodySetAutoDisableDefaults(dBodyID) [ from ode ]
-	mixed l_OdeBodySetAutoDisableDefaults (...) {}
-
-	/// lua : dWorldID OdeBodyGetWorld(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetWorld (...) {}
-
-	/// lua : dBodyID OdeBodyCreate(dWorldID) [ from ode ]
-	mixed l_OdeBodyCreate (...) {}
-
-	/// lua : void OdeBodyDestroy(dBodyID) [ from ode ]
-	mixed l_OdeBodyDestroy (...) {}
-
-	/// lua : void OdeBodySetData(dBodyID, void *data) [ from ode ]
-	mixed l_OdeBodySetData (...) {}
-
-	/// lua : void OdeBodyGetData(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetData (...) {}
-
-	/// lua : void OdeBodySetPosition(dBodyID, dReal x, dReal y, dReal z) [ f=
rom ode ]
-	mixed l_OdeBodySetPosition (...) {}
-
-	/// lua : void OdeBodySetQuaternion(dBodyID, const dQuaternion q) [ from =
ode ]
-	mixed l_OdeBodySetQuaternion (...) {}
-
-	/// lua : void OdeBodySetLinearVel(dBodyID, dReal x, dReal y, dReal z) [ =
from ode ]
-	mixed l_OdeBodySetLinearVel (...) {}
-
-	/// lua : void OdeBodySetAngularVel(dBodyID, dReal x, dReal y, dReal z) [=
 from ode ]
-	mixed l_OdeBodySetAngularVel (...) {}
-
-	/// lua : x,y,z OdeBodyGetPosition(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetPosition (...) {}
-
-	/// lua : w,x,y,z OdeBodyGetQuaternion(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetQuaternion (...) {}
-
-	/// lua : * OdeBodyGetLinearVel(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetLinearVel (...) {}
-
-	/// lua : * OdeBodyGetAngularVel(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetAngularVel (...) {}
-
-	/// lua : void OdeBodySetMass(dBodyID, const dMass *mass) [ from ode ]
-	mixed l_OdeBodySetMass (...) {}
-
-	/// lua : void OdeBodyGetMass(dBodyID, dMass *mass) [ from ode ]
-	mixed l_OdeBodyGetMass (...) {}
-
-	/// lua : void OdeBodyAddForce(dBodyID, dReal fx, dReal fy, dReal fz) [ f=
rom ode ]
-	mixed l_OdeBodyAddForce (...) {}
-
-	/// lua : void OdeBodyAddTorque(dBodyID, dReal fx, dReal fy, dReal fz) [ =
from ode ]
-	mixed l_OdeBodyAddTorque (...) {}
-
-	/// lua : void OdeBodyAddRelForce(dBodyID, dReal fx, dReal fy, dReal fz) =
[ from ode ]
-	mixed l_OdeBodyAddRelForce (...) {}
-
-	/// lua : void OdeBodyAddRelTorque(dBodyID, dReal fx, dReal fy, dReal fz)=
 [ from ode ]
-	mixed l_OdeBodyAddRelTorque (...) {}
-
-	/// lua : void OdeBodyAddForceAtPos(dBodyID, dReal fx, dReal fy, dReal fz=
,dReal px, dReal py, dReal pz) [ from ode ]
-	mixed l_OdeBodyAddForceAtPos (...) {}
-
-	/// lua : void OdeBodyAddForceAtRelPos(dBodyID, dReal fx, dReal fy, dReal=
 fz,dReal px, dReal py, dReal pz) [ from ode ]
-	mixed l_OdeBodyAddForceAtRelPos (...) {}
-
-	/// lua : void OdeBodyAddRelForceAtPos(dBodyID, dReal fx, dReal fy, dReal=
 fz,dReal px, dReal py, dReal pz) [ from ode ]
-	mixed l_OdeBodyAddRelForceAtPos (...) {}
-
-	/// lua : void OdeBodyAddRelForceAtRelPos(dBodyID, dReal fx, dReal fy, dR=
eal fz,dReal px, dReal py, dReal pz) [ from ode ]
-	mixed l_OdeBodyAddRelForceAtRelPos (...) {}
-
-	/// lua : fx,fy,fz OdeBodyGetForce(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetForce (...) {}
-
-	/// lua : x,y,z OdeBodyGetTorque(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetTorque (...) {}
-
-	/// lua : void OdeBodySetForce(dBodyID b, dReal x, dReal y, dReal z) [ fr=
om ode ]
-	mixed l_OdeBodySetForce (...) {}
-
-	/// lua : void OdeBodySetTorque(dBodyID b, dReal x, dReal y, dReal z) [ f=
rom ode ]
-	mixed l_OdeBodySetTorque (...) {}
-
-	/// lua : x,y,z OdeBodyGetRelPointPos(dBodyID, dReal px, dReal py, dReal =
pz,dVector3 result) [ from ode ]
-	mixed l_OdeBodyGetRelPointPos (...) {}
-
-	/// lua : x,y,z OdeBodyGetRelPointVel(dBodyID, dReal px, dReal py, dReal =
pz,dVector3 result) [ from ode ]
-	mixed l_OdeBodyGetRelPointVel (...) {}
-
-	/// lua : x,y,z OdeBodyGetPointVel(dBodyID, dReal px, dReal py, dReal pz,=
dVector3 result) [ from ode ]
-	mixed l_OdeBodyGetPointVel (...) {}
-
-	/// lua : x,y,z OdeBodyGetPosRelPoint(dBodyID, dReal px, dReal py, dReal =
pz,dVector3 result) [ from ode ]
-	mixed l_OdeBodyGetPosRelPoint (...) {}
-
-	/// lua : x,y,z OdeBodyVectorToWorld(dBodyID, dReal px, dReal py, dReal p=
z,dVector3 result) [ from ode ]
-	mixed l_OdeBodyVectorToWorld (...) {}
-
-	/// lua : x,y,z OdeBodyVectorFromWorld(dBodyID, dReal px, dReal py, dReal=
 pz,dVector3 result) [ from ode ]
-	mixed l_OdeBodyVectorFromWorld (...) {}
-
-	/// lua : void OdeBodySetFiniteRotationMode(dBodyID, int mode) [ from ode=
 ]
-	mixed l_OdeBodySetFiniteRotationMode (...) {}
-
-	/// lua : void OdeBodySetFiniteRotationAxis(dBodyID, dReal x, dReal y, dR=
eal z) [ from ode ]
-	mixed l_OdeBodySetFiniteRotationAxis (...) {}
-
-	/// lua : int OdeBodyGetFiniteRotationMode(dBodyID) [ from ode ]
-	mixed l_OdeBodyGetFiniteRotationMode (...) {}
-
-	/// lua : x,y,z OdeBodyGetFiniteRotationAxis(dBodyID, dVector3 result) [ =
from ode ]
-	mixed l_OdeBodyGetFiniteRotationAxis (...) {}
-
-	/// lua : int OdeBodyGetNumJoints(dBodyID b) [ from ode ]
-	mixed l_OdeBodyGetNumJoints (...) {}
-
-	/// lua : dJointID OdeBodyGetJoint(dBodyID, int index) [ from ode ]
-	mixed l_OdeBodyGetJoint (...) {}
-
-	/// lua : void OdeBodyEnable(dBodyID) [ from ode ]
-	mixed l_OdeBodyEnable (...) {}
-
-	/// lua : void OdeBodyDisable(dBodyID) [ from ode ]
-	mixed l_OdeBodyDisable (...) {}
-
-	/// lua : int OdeBodyIsEnabled(dBodyID) [ from ode ]
-	mixed l_OdeBodyIsEnabled (...) {}
-
-	/// lua : void OdeBodySetGravityMode(dBodyID b, int mode) [ from ode ]
-	mixed l_OdeBodySetGravityMode (...) {}
-
-	/// lua : int OdeBodyGetGravityMode(dBodyID b) [ from ode ]
-	mixed l_OdeBodyGetGravityMode (...) {}
-
-	/// lua : dJointID OdeJointCreateBall(dWorldID, dJointGroupID) [ from ode=
 ]
-	mixed l_OdeJointCreateBall (...) {}
-
-	/// lua : dJointID OdeJointCreateHinge(dWorldID, dJointGroupID) [ from od=
e ]
-	mixed l_OdeJointCreateHinge (...) {}
-
-	/// lua : dJointID OdeJointCreateSlider(dWorldID, dJointGroupID) [ from o=
de ]
-	mixed l_OdeJointCreateSlider (...) {}
-
-	/// lua : dJointID OdeJointCreateContact(dWorldID, dJointGroupID, const d=
Contact *) [ from ode ]
-	mixed l_OdeJointCreateContact (...) {}
-
-	/// lua : dJointID OdeJointCreateHinge2(dWorldID, dJointGroupID) [ from o=
de ]
-	mixed l_OdeJointCreateHinge2 (...) {}
-
-	/// lua : dJointID OdeJointCreateUniversal(dWorldID, dJointGroupID) [ fro=
m ode ]
-	mixed l_OdeJointCreateUniversal (...) {}
-
-	/// lua : dJointID OdeJointCreatePR(dWorldID, dJointGroupID) [ from ode ]
-	mixed l_OdeJointCreatePR (...) {}
-
-	/// lua : dJointID OdeJointCreateFixed(dWorldID, dJointGroupID) [ from od=
e ]
-	mixed l_OdeJointCreateFixed (...) {}
-
-	/// lua : dJointID OdeJointCreateNull(dWorldID, dJointGroupID) [ from ode=
 ]
-	mixed l_OdeJointCreateNull (...) {}
-
-	/// lua : dJointID OdeJointCreateAMotor(dWorldID, dJointGroupID) [ from o=
de ]
-	mixed l_OdeJointCreateAMotor (...) {}
-
-	/// lua : dJointID OdeJointCreateLMotor(dWorldID, dJointGroupID) [ from o=
de ]
-	mixed l_OdeJointCreateLMotor (...) {}
-
-	/// lua : dJointID OdeJointCreatePlane2D(dWorldID, dJointGroupID) [ from =
ode ]
-	mixed l_OdeJointCreatePlane2D (...) {}
-
-	/// lua : void OdeJointDestroy(dJointID) [ from ode ]
-	mixed l_OdeJointDestroy (...) {}
-
-	/// lua : dJointGroupID OdeJointGroupCreate(int max_size) [ from ode ]
-	mixed l_OdeJointGroupCreate (...) {}
-
-	/// lua : void OdeJointGroupDestroy(dJointGroupID) [ from ode ]
-	mixed l_OdeJointGroupDestroy (...) {}
-
-	/// lua : void OdeJointGroupEmpty(dJointGroupID) [ from ode ]
-	mixed l_OdeJointGroupEmpty (...) {}
-
-	/// lua : void OdeJointAttach(dJointID, dBodyID body1, dBodyID body2) [ f=
rom ode ]
-	mixed l_OdeJointAttach (...) {}
-
-	/// lua : void OdeJointSetData(dJointID, void *data) [ from ode ]
-	mixed l_OdeJointSetData (...) {}
-
-	/// lua : void OdedJointGetData(dJointID) [ from ode ]
-	mixed l_OdedJointGetData (...) {}
-
-	/// lua : int OdeJointGetType(dJointID) [ from ode ]
-	mixed l_OdeJointGetType (...) {}
-
-	/// lua : dBodyID OdeJointGetBody(dJointID, int index) [ from ode ]
-	mixed l_OdeJointGetBody (...) {}
-
-	/// lua : void OdeJointFeedbackCreate(udata)
-	mixed l_OdeJointFeedbackDestroy (...) {}
-
-	/// lua : udata OdeJointFeedbackCreate()
-	mixed l_OdeJointFeedbackCreate (...) {}
-
-	/// lua : void OdeJointSetFeedback(dJointID, dJointFeedback *) [ from ode=
 ]
-	mixed l_OdeJointSetFeedback (...) {}
-
-	/// lua : dJointFeedback OdeJointGetFeedback(dJointID) [ from ode ]
-	mixed l_OdeJointGetFeedback (...) {}
-
-	/// lua : void OdeJointSetBallAnchor(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
-	mixed l_OdeJointSetBallAnchor (...) {}
-
-	/// lua : void OdeJointSetBallAnchor2(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
-	mixed l_OdeJointSetBallAnchor2 (...) {}
-
-	/// lua : void OdeJointSetHingeAnchor(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
-	mixed l_OdeJointSetHingeAnchor (...) {}
-
-	/// lua : void OdeJointSetHingeAnchorDelta(dJointID, dReal x, dReal y, dR=
eal z, dReal ax, dReal ay, dReal az) [ from ode ]
-	mixed l_OdeJointSetHingeAnchorDelta (...) {}
-
-	/// lua : void OdeJointSetHingeAxis(dJointID, dReal x, dReal y, dReal z) =
[ from ode ]
-	mixed l_OdeJointSetHingeAxis (...) {}
-
-	/// lua : void OdeJointSetHingeParam(dJointID, int parameter, dReal value=
) [ from ode ]
-	mixed l_OdeJointSetHingeParam (...) {}
-
-	/// lua : void OdeJointAddHingeTorque(dJointID joint, dReal torque) [ fro=
m ode ]
-	mixed l_OdeJointAddHingeTorque (...) {}
-
-	/// lua : void OdeJointSetSliderAxis(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
-	mixed l_OdeJointSetSliderAxis (...) {}
-
-	/// lua : void OdeJointSetSliderAxisDelta(dJointID, dReal x, dReal y, dRe=
al z, dReal ax, dReal ay, dReal az) [ from ode ]
-	mixed l_OdeJointSetSliderAxisDelta (...) {}
-
-	/// lua : void OdeJointSetSliderParam(dJointID, int parameter, dReal valu=
e) [ from ode ]
-	mixed l_OdeJointSetSliderParam (...) {}
-
-	/// lua : void OdeJointAddSliderForce(dJointID joint, dReal force) [ from=
 ode ]
-	mixed l_OdeJointAddSliderForce (...) {}
-
-	/// lua : void OdeJointSetHinge2Anchor(dJointID, dReal x, dReal y, dReal =
z) [ from ode ]
-	mixed l_OdeJointSetHinge2Anchor (...) {}
-
-	/// lua : void OdeJointSetHinge2Axis1(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
-	mixed l_OdeJointSetHinge2Axis1 (...) {}
-
-	/// lua : void OdeJointSetHinge2Axis2(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
-	mixed l_OdeJointSetHinge2Axis2 (...) {}
-
-	/// lua : void OdeJointSetHinge2Param(dJointID, int parameter, dReal valu=
e) [ from ode ]
-	mixed l_OdeJointSetHinge2Param (...) {}
-
-	/// lua : void OdeJointAddHinge2Torques(dJointID joint, dReal torque1, dR=
eal torque2) [ from ode ]
-	mixed l_OdeJointAddHinge2Torques (...) {}
-
-	/// lua : void OdeJointSetUniversalAnchor(dJointID, dReal x, dReal y, dRe=
al z) [ from ode ]
-	mixed l_OdeJointSetUniversalAnchor (...) {}
-
-	/// lua : void OdeJointSetUniversalAxis1(dJointID, dReal x, dReal y, dRea=
l z) [ from ode ]
-	mixed l_OdeJointSetUniversalAxis1 (...) {}
-
-	/// lua : void OdeJointSetUniversalAxis2(dJointID, dReal x, dReal y, dRea=
l z) [ from ode ]
-	mixed l_OdeJointSetUniversalAxis2 (...) {}
-
-	/// lua : void OdeJointSetUniversalParam(dJointID, int parameter, dReal v=
alue) [ from ode ]
-	mixed l_OdeJointSetUniversalParam (...) {}
-
-	/// lua : void OdeJointAddUniversalTorques(dJointID joint, dReal torque1,=
 dReal torque2) [ from ode ]
-	mixed l_OdeJointAddUniversalTorques (...) {}
-
-	/// lua : void OdeJointSetPRAnchor(dJointID, dReal x, dReal y, dReal z) [=
 from ode ]
-	mixed l_OdeJointSetPRAnchor (...) {}
-
-	/// lua : void OdeJointSetPRAxis1(dJointID, dReal x, dReal y, dReal z) [ =
from ode ]
-	mixed l_OdeJointSetPRAxis1 (...) {}
-
-	/// lua : void OdeJointSetPRAxis2(dJointID, dReal x, dReal y, dReal z) [ =
from ode ]
-	mixed l_OdeJointSetPRAxis2 (...) {}
-
-	/// lua : void OdeJointSetPRParam(dJointID, int parameter, dReal value) [=
 from ode ]
-	mixed l_OdeJointSetPRParam (...) {}
-
-	/// lua : void OdeJointAddPRTorque(dJointID j, dReal torque) [ from ode ]
-	mixed l_OdeJointAddPRTorque (...) {}
-
-	/// lua : void OdeJointSetFixed(dJointID) [ from ode ]
-	mixed l_OdeJointSetFixed (...) {}
-
-	/// lua : void OdeJointSetAMotorNumAxes(dJointID, int num) [ from ode ]
-	mixed l_OdeJointSetAMotorNumAxes (...) {}
-
-	/// lua : void OdeJointSetAMotorAxis(dJointID, int anum, int rel,dReal x,=
 dReal y, dReal z) [ from ode ]
-	mixed l_OdeJointSetAMotorAxis (...) {}
-
-	/// lua : void OdeJointSetAMotorAngle(dJointID, int anum, dReal angle) [ =
from ode ]
-	mixed l_OdeJointSetAMotorAngle (...) {}
-
-	/// lua : void OdeJointSetAMotorParam(dJointID, int parameter, dReal valu=
e) [ from ode ]
-	mixed l_OdeJointSetAMotorParam (...) {}
-
-	/// lua : void OdeJointSetAMotorMode(dJointID, int mode) [ from ode ]
-	mixed l_OdeJointSetAMotorMode (...) {}
-
-	/// lua : void OdeJointAddAMotorTorques(dJointID, dReal torque1, dReal to=
rque2, dReal torque3) [ from ode ]
-	mixed l_OdeJointAddAMotorTorques (...) {}
-
-	/// lua : void OdeJointSetLMotorNumAxes(dJointID, int num) [ from ode ]
-	mixed l_OdeJointSetLMotorNumAxes (...) {}
-
-	/// lua : void OdeJointSetLMotorAxis(dJointID, int anum, int rel, dReal x=
, dReal y, dReal z) [ from ode ]
-	mixed l_OdeJointSetLMotorAxis (...) {}
-
-	/// lua : void OdeJointSetLMotorParam(dJointID, int parameter, dReal valu=
e) [ from ode ]
-	mixed l_OdeJointSetLMotorParam (...) {}
-
-	/// lua : void OdeJointSetPlane2DXParam(dJointID, int parameter, dReal va=
lue) [ from ode ]
-	mixed l_OdeJointSetPlane2DXParam (...) {}
-
-	/// lua : void OdeJointSetPlane2DYParam(dJointID, int parameter, dReal va=
lue) [ from ode ]
-	mixed l_OdeJointSetPlane2DYParam (...) {}
-
-	/// lua : void OdeJointSetPlane2DAngleParam(dJointID, int parameter, dRea=
l value) [ from ode ]
-	mixed l_OdeJointSetPlane2DAngleParam (...) {}
-
-	/// lua : void OdeJointGetBallAnchor(dJointID, dVector3 result) [ from od=
e ]
-	mixed l_OdeJointGetBallAnchor (...) {}
-
-	/// lua : void OdeJointGetBallAnchor2(dJointID, dVector3 result) [ from o=
de ]
-	mixed l_OdeJointGetBallAnchor2 (...) {}
-
-	/// lua : void OdeJointGetHingeAnchor(dJointID, dVector3 result) [ from o=
de ]
-	mixed l_OdeJointGetHingeAnchor (...) {}
-
-	/// lua : void OdeJointGetHingeAnchor2(dJointID, dVector3 result) [ from =
ode ]
-	mixed l_OdeJointGetHingeAnchor2 (...) {}
-
-	/// lua : void OdeJointGetHingeAxis(dJointID, dVector3 result) [ from ode=
 ]
-	mixed l_OdeJointGetHingeAxis (...) {}
-
-	/// lua : dReal OdeJointGetHingeParam(dJointID, int parameter) [ from ode=
 ]
-	mixed l_OdeJointGetHingeParam (...) {}
-
-	/// lua : dReal OdeJointGetHingeAngle(dJointID) [ from ode ]
-	mixed l_OdeJointGetHingeAngle (...) {}
-
-	/// lua : dReal OdeJointGetHingeAngleRate(dJointID) [ from ode ]
-	mixed l_OdeJointGetHingeAngleRate (...) {}
-
-	/// lua : dReal OdeJointGetSliderPosition(dJointID) [ from ode ]
-	mixed l_OdeJointGetSliderPosition (...) {}
-
-	/// lua : dReal OdeJointGetSliderPositionRate(dJointID) [ from ode ]
-	mixed l_OdeJointGetSliderPositionRate (...) {}
-
-	/// lua : void OdeJointGetSliderAxis(dJointID, dVector3 result) [ from od=
e ]
-	mixed l_OdeJointGetSliderAxis (...) {}
-
-	/// lua : dReal OdeJointGetSliderParam(dJointID, int parameter) [ from od=
e ]
-	mixed l_OdeJointGetSliderParam (...) {}
-
-	/// lua : void OdeJointGetHinge2Anchor(dJointID, dVector3 result) [ from =
ode ]
-	mixed l_OdeJointGetHinge2Anchor (...) {}
-
-	/// lua : void OdeJointGetHinge2Anchor2(dJointID, dVector3 result) [ from=
 ode ]
-	mixed l_OdeJointGetHinge2Anchor2 (...) {}
-
-	/// lua : void OdeJointGetHinge2Axis1(dJointID, dVector3 result) [ from o=
de ]
-	mixed l_OdeJointGetHinge2Axis1 (...) {}
-
-	/// lua : void OdeJointGetHinge2Axis2(dJointID, dVector3 result) [ from o=
de ]
-	mixed l_OdeJointGetHinge2Axis2 (...) {}
-
-	/// lua : dReal OdeJointGetHinge2Param(dJointID, int parameter) [ from od=
e ]
-	mixed l_OdeJointGetHinge2Param (...) {}
-
-	/// lua : dReal OdeJointGetHinge2Angle1(dJointID) [ from ode ]
-	mixed l_OdeJointGetHinge2Angle1 (...) {}
-
-	/// lua : dReal OdeJointGetHinge2Angle1Rate(dJointID) [ from ode ]
-	mixed l_OdeJointGetHinge2Angle1Rate (...) {}
-
-	/// lua : dReal OdeJointGetHinge2Angle2Rate(dJointID) [ from ode ]
-	mixed l_OdeJointGetHinge2Angle2Rate (...) {}
-
-	/// lua : void OdeJointGetUniversalAnchor(dJointID, dVector3 result) [ fr=
om ode ]
-	mixed l_OdeJointGetUniversalAnchor (...) {}
-
-	/// lua : void OdeJointGetUniversalAnchor2(dJointID, dVector3 result) [ f=
rom ode ]
-	mixed l_OdeJointGetUniversalAnchor2 (...) {}
-
-	/// lua : void OdeJointGetUniversalAxis1(dJointID, dVector3 result) [ fro=
m ode ]
-	mixed l_OdeJointGetUniversalAxis1 (...) {}
-
-	/// lua : void OdeJointGetUniversalAxis2(dJointID, dVector3 result) [ fro=
m ode ]
-	mixed l_OdeJointGetUniversalAxis2 (...) {}
-
-	/// lua : dReal OdeJointGetUniversalParam(dJointID, int parameter) [ from=
 ode ]
-	mixed l_OdeJointGetUniversalParam (...) {}
-
-	/// lua : angle1,angle2 OdeJointGetUniversalAngles(dJointID, dReal *angle=
1, dReal *angle2) [ from ode ]
-	mixed l_OdeJointGetUniversalAngles (...) {}
-
-	/// lua : dReal OdeJointGetUniversalAngle1(dJointID) [ from ode ]
-	mixed l_OdeJointGetUniversalAngle1 (...) {}
-
-	/// lua : dReal OdeJointGetUniversalAngle2(dJointID) [ from ode ]
-	mixed l_OdeJointGetUniversalAngle2 (...) {}
-
-	/// lua : dReal OdeJointGetUniversalAngle1Rate(dJointID) [ from ode ]
-	mixed l_OdeJointGetUniversalAngle1Rate (...) {}
-
-	/// lua : dReal OdeJointGetUniversalAngle2Rate(dJointID) [ from ode ]
-	mixed l_OdeJointGetUniversalAngle2Rate (...) {}
-
-	/// lua : void OdeJointGetPRAnchor(dJointID, dVector3 result) [ from ode ]
-	mixed l_OdeJointGetPRAnchor (...) {}
-
-	/// lua : dReal OdeJointGetPRPosition(dJointID) [ from ode ]
-	mixed l_OdeJointGetPRPosition (...) {}
-
-	/// lua : dReal OdeJointGetPRPositionRate(dJointID) [ from ode ]
-	mixed l_OdeJointGetPRPositionRate (...) {}
-
-	/// lua : void OdeJointGetPRAxis1(dJointID, dVector3 result) [ from ode ]
-	mixed l_OdeJointGetPRAxis1 (...) {}
-
-	/// lua : void OdeJointGetPRAxis2(dJointID, dVector3 result) [ from ode ]
-	mixed l_OdeJointGetPRAxis2 (...) {}
-
-	/// lua : dReal OdeJointGetPRParam(dJointID, int parameter) [ from ode ]
-	mixed l_OdeJointGetPRParam (...) {}
-
-	/// lua : int OdeJointGetAMotorNumAxes(dJointID) [ from ode ]
-	mixed l_OdeJointGetAMotorNumAxes (...) {}
-
-	/// lua : void OdeJointGetAMotorAxis(dJointID, int anum, dVector3 result)=
 [ from ode ]
-	mixed l_OdeJointGetAMotorAxis (...) {}
-
-	/// lua : int OdeJointGetAMotorAxisRel(dJointID, int anum) [ from ode ]
-	mixed l_OdeJointGetAMotorAxisRel (...) {}
-
-	/// lua : dReal OdeJointGetAMotorAngle(dJointID, int anum) [ from ode ]
-	mixed l_OdeJointGetAMotorAngle (...) {}
-
-	/// lua : dReal OdeJointGetAMotorAngleRate(dJointID, int anum) [ from ode=
 ]
-	mixed l_OdeJointGetAMotorAngleRate (...) {}
-
-	/// lua : dReal OdeJointGetAMotorParam(dJointID, int parameter) [ from od=
e ]
-	mixed l_OdeJointGetAMotorParam (...) {}
-
-	/// lua : int OdeJointGetAMotorMode(dJointID) [ from ode ]
-	mixed l_OdeJointGetAMotorMode (...) {}
-
-	/// lua : int OdeJointGetLMotorNumAxes(dJointID) [ from ode ]
-	mixed l_OdeJointGetLMotorNumAxes (...) {}
-
-	/// lua : void OdeJointGetLMotorAxis(dJointID, int anum, dVector3 result)=
 [ from ode ]
-	mixed l_OdeJointGetLMotorAxis (...) {}
-
-	/// lua : dReal OdeJointGetLMotorParam(dJointID, int parameter) [ from od=
e ]
-	mixed l_OdeJointGetLMotorParam (...) {}
-
-	/// lua : dJointID OdeConnectingJoint(dBodyID, dBodyID) [ from ode ]
-	mixed l_OdeConnectingJoint (...) {}
-
-	/// lua : int OdeConnectingJointList(dBodyID, dBodyID, dJointID*) [ from =
ode ]
-	mixed l_OdeConnectingJointList (...) {}
-
-	/// lua : int OdeAreConnected(dBodyID, dBodyID) [ from ode ]
-	mixed l_OdeAreConnected (...) {}
-
-	/// lua : int OdeAreConnectedExcluding(dBodyID body1, dBodyID body2, int =
joint_type) [ from ode ]
-	mixed l_OdeAreConnectedExcluding (...) {}
-
-	/// lua : dStopwatch * l_OdeStopwatchCreate() [ from ode ]
-	mixed l_OdeStopwatchCreate (...) {}
-
-	/// lua : void l_OdeStopwatchDestroy(dStopwatch *) [ from ode ]
-	mixed l_OdeStopwatchDestroy (...) {}
-
-	/// lua : void OdeStopwatchReset(dStopwatch *) [ from ode ]
-	mixed l_OdeStopwatchReset (...) {}
-
-	/// lua : void OdeStopwatchStart(dStopwatch *) [ from ode ]
-	mixed l_OdeStopwatchStart (...) {}
-
-	/// lua : void OdeStopwatchStop(dStopwatch *) [ from ode ]
-	mixed l_OdeStopwatchStop (...) {}
-
-	/// lua : double OdeStopwatchTime(dStopwatch *) [ from ode ]
-	mixed l_OdeStopwatchTime (...) {}
-
-	/// lua : void OdeTimerStart(const char *description) [ from ode ]
-	mixed l_OdeTimerStart (...) {}
-
-	/// lua : void OdeTimerNow(const char *description) [ from ode ]
-	mixed l_OdeTimerNow (...) {}
-
-	/// lua : void OdeTimerEnd(void) [ from ode ]
-	mixed l_OdeTimerEnd (...) {}
-
-	/// lua : double OdeTimerTicksPerSecond(void) [ from ode ]
-	mixed l_OdeTimerTicksPerSecond (...) {}
-
-	/// lua : double OdeTimerResolution(void) [ from ode ]
-	mixed l_OdeTimerResolution (...) {}
-
-	/// CreateGrannyHuedTexture(GrannyTextureHook(texturepath),GrannyTextureH=
ook(texturepath),gHueLoader,hue)
-	mixed l_CreateGrannyHuedTexture (...) {}
-
-	/// void HueMesh(meshname, hueloader, hue)
-	mixed l_HueMesh (...) {}
-
-	/// create a lua lookup table based on the given file
-	/// usage: lookup[id] =3D new_id
-	mixed l_CreateLookupTableFromFile (...) {}
-
-	mixed l_BuildTerrainEntity_Simple (...) {}
-
-	mixed l_BuildTerrainEntity_Shaded (...) {}
-
-	/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix
-	/// for lua : TerrainRayPick(GroundBlockLoader,blockx,blocky,vBlockPosX,v=
BlockPosY,vBlockPosZ,rx,ry,rz,rvx,rvy,rvz) -- mainly for mousepicking
-	mixed l_TerrainRayPick (...) {}
-
-	mixed l_getUOPath (...) {}
-
-	/// attempts to correct case-sensitivity for filepaths
-	mixed l_PathSearch (...) {}
-
-	/// void HuffmanCompress (fifo in,fifo out)
-	mixed l_HuffmanCompress (...) {}
-
-	/// void HuffmanDecompress (fifo in,fifo out)
-	mixed l_HuffmanDecompress (...) {}
-
-	/// CreateSoundSource3DFromEffect(SoundSystem,loader,x,y,z,effectid)
-	mixed l_CreateSoundSource3DFromEffect (...) {}
-
-	mixed l_TRACEBACK (...) {}
-
-	/// ***** ***** utilities and error handling ***** *****
-	/// also adds a traceback to the error message in case of an error
-	/// nret=3D-1 for unlimited
-	/// don't use directly, used by LuaCall
-	mixed PCallWithErrFuncWrapper (...) {}
-
-	/// lua: string_array GetAllKeyNames ()
-	mixed l_GetAllKeyNames (...) {}
-
-	/// called from lua : string keyname
-	mixed l_GetNamedKey (...) {}
-
-	/// called from lua : int keycode
-	mixed l_GetKeyName (...) {}
-
-	/// terminates the application
-	mixed l_Terminate (...) {}
-
-	mixed l_GetPointerSize (...) {}
-
-	/// only call this once at startup
-	mixed l_Client_IsAlive (...) {}
-
-	/// called from lua : no params, returns mousex,mousey,4xmousewheel info.=
..
-	mixed l_PollInput (...) {}
-
-	mixed l_ProfileDumpCallCount (...) {}
-
-	mixed l_Client_GetCurFPS (...) {}
-
-	mixed l_Client_GetFrameNum (...) {}
-
-	mixed l_Client_GetTicks (...) {}
-
-	/// r,g,b =3D Uo16Color2Rgb(color)
-	mixed l_Uo16Color2Rgb (...) {}
-
-	/// just do nothing for x seconds
-	mixed l_Client_Sleep (...) {}
-
-	/// just do nothing for x milliseconds (1000msec =3D 1sec)
-	mixed l_Client_USleep (...) {}
-
-	mixed l_Client_GetPhysStepTime (...) {}
-
-	mixed l_file_exists (...) {}
-
-	mixed l_file_size (...) {}
-
-	/// table=3D{filename,...} dirlist (dirpath,bDirs,bFiles)
-	mixed l_dirlist (...) {}
-
-	/// for testing bitwise ops
-	mixed l_GetRandomHexString (...) {}
-
-	/// converts "0x1234" to a number
-	mixed l_Hex2Num (...) {}
-
-	/// bitwise operations, used for networking, packet manipulation etc
-	mixed l_BitwiseAND (...) {}
-
-	mixed l_BitwiseOR (...) {}
-
-	mixed l_BitwiseXOR (...) {}
-
-	/// bitwise operations, used for networking, packet manipulation etc
-	mixed l_BitwiseSHL (...) {}
-
-	/// bitwise operations, used for networking, packet manipulation etc
-	mixed l_BitwiseSHR (...) {}
-
-	mixed l_TestBit (...) {}
-
-	mixed l_SetBit (...) {}
-
-	mixed l_ClearBit (...) {}
-
-	mixed l_Exit (...) {}
-
-	mixed l_Crash (...) {}
-
-	/// triggers a segfault, for testing our segfault handlers lua stacktrace
-	mixed l_CrashSegFault (...) {}
-
-	mixed l_DisplayNotice (...) {}
-
-	mixed l_FatalErrorMessage (...) {}
-
-	mixed l_GetMainWorkingDir (...) {}
-
-	/// string CloneMesh (meshname)
-	mixed l_CloneMesh (...) {}
-
-	/// only call this once at startup
-	mixed l_InitOgre (...) {}
-
-	/// for lua : ang,x,y,z QuaternionToAngleAxis (qw,qx,qy,qz)
-	mixed l_QuaternionToAngleAxis (...) {}
-
-	/// for lua : w,x,y,z QuaternionSlerp (qw,qx,qy,qz, pw,px,py,pz, t, bShor=
testPath=3Dtrue)
-	mixed l_QuaternionSlerp (...) {}
-
-	/// void OgreAddCompositor(compositor script name)
-	mixed l_OgreAddCompositor (...) {}
-
-	/// void OgreRemoveCompositor(compositor script name)
-	mixed l_OgreRemoveCompositor (...) {}
-
-	/// int =3D OgreMemoryUsage(part)
-	/// part in {compositor,font,gpuprogram,highlevelgpuprogram,material,mesh=
,skeleton,texture,all}
-	/// returns memory usage in byte
-	mixed l_OgreMemoryUsage (...) {}
-
-	/// bool =3D OgreMeshAvailable(resourcename)
-	mixed l_OgreMeshAvailable (...) {}
-
-	/// see also OgreMaterialAvailable below
-	/// bool =3D OgreMaterialNameKnown(resourcename)
-	/// returns false if name is empty string or nil
-	mixed l_OgreMaterialNameKnown (...) {}
-
-	/// bool =3D OgreMaterialAvailable(resourcename)
-	mixed l_OgreMaterialAvailable (...) {}
-
-	/// bool =3D OgreTextureAvailable(resourcename)
-	mixed l_OgreTextureAvailable (...) {}
-
-	mixed l_Client_SetSkybox (...) {}
-
-	mixed l_Client_SetFog (...) {}
-
-	mixed l_Client_RenderOneFrame (...) {}
-
-	/// for lua : void Client_SetAmbientLight (r,g,b,a,scenemgr=3Dmain)
-	mixed l_Client_SetAmbientLight (...) {}
-
-	/// for lua : void Client_ClearLights (scenemgr=3Dmain)
-	mixed l_Client_ClearLights (...) {}
-
-	/// for lua : string l_Client_AddPointLight(x,y,z) -- x,y,z position
-	mixed l_Client_AddPointLight (...) {}
-
-	/// for lua : string Client_AddDirectionalLight(x,y,z,scenemgr=3Dmain) --=
 x,y,z direction
-	mixed l_Client_AddDirectionalLight (...) {}
-
-	/// for lua : void Client_SetLightPosition(name,x,y,z) -- name lightname,=
 x,y,z position
-	mixed l_Client_SetLightPosition (...) {}
-
-	/// for lua : void Client_SetLightDirection(name,x,y,z) -- name lightname=
, x,y,z direction
-	mixed l_Client_SetLightDirection (...) {}
-
-	/// for lua : void Client_RemoveLight(name) -- name lightname
-	mixed l_Client_RemoveLight (...) {}
-
-	mixed l_Client_DeleteLight (...) {}
-
-	/// for lua : void Client_SetLightSpecularColor(name,r,g,b) -- name light=
name, r,g,b spec color
-	mixed l_Client_SetLightSpecularColor (...) {}
-
-	/// for lua : void Client_SetLightPowerScale(name,fPowerScale) : used for=
 HDR rendering, in shaders
-	mixed l_Client_SetLightPowerScale (...) {}
-
-	/// for lua : void Client_SetLightDiffuseColor(name,r,g,b) -- name lightn=
ame, r,g,b diffuse color
-	mixed l_Client_SetLightDiffuseColor (...) {}
-
-	/// for lua : void Client_TakeGridScreenshot (sPrefix=3D"screenshots/")
-	mixed l_Client_TakeGridScreenshot (...) {}
-
-	/// for lua : void Client_TakeScreenshot (sPrefix=3D"screenshots/")
-	mixed l_Client_TakeScreenshot (...) {}
-
-	/// shows ogre config dialog
-	mixed l_Client_ShowOgreConfig (...) {}
-
-	/// for lua : dist =3D TriangleRayPick(ax,ay,az, bx,by,bz, cx,cy,cz, rx,r=
y,rz, rvx,rvy,rvz)
-	/// mainly for mousepicking, dist=3Dnil if not hit
-	mixed l_TriangleRayPick (...) {}
-
-	/// for lua : dist =3D SphereRayPick(x,y,z,rad,rx,ry,rz,rvx,rvy,rvz) -- m=
ainly for mousepicking, dist=3Dnil if not hit
-	mixed l_SphereRayPick (...) {}
-
-	/// for lua : dist =3D PlaneRayPick (x,y,z,nx,ny,nz,rx,ry,rz,rvx,rvy,rvz)=
 -- mainly for mousepicking, dist=3Dnil if not hit
-	mixed l_PlaneRayPick (...) {}
-
-	mixed l_UnloadMeshName (...) {}
-
-	mixed l_CountMeshTriangles (...) {}
-
-	/// for lua : x1,y1,z1,x2,y2,z2 MeshGetBounds (meshname)
-	mixed l_MeshGetBounds (...) {}
-
-	/// for lua : void MeshSetBounds (meshname,x1,y1,z1,x2,y2,z2)
-	mixed l_MeshSetBounds (...) {}
-
-	/// for lua : float MeshGetBoundRad (meshname)
-	mixed l_MeshGetBoundRad (...) {}
-
-	/// for lua : void MeshSetBoundRad (meshname,boundrad)
-	mixed l_MeshSetBoundRad (...) {}
-
-	/// for lua : void ExportMesh (meshname,filename)
-	mixed l_ExportMesh (...) {}
-
-	/// applies reposition, rescale and rotation to mesh vertex data
-	/// for lua : void TransformMesh (meshname, x,y,z, sx,sx,sz, qw,qx,qy,qz)
-	mixed l_TransformMesh (...) {}
-
-	/// for lua : x1,y1,z1,x2,y2,z2 MeshReadOutExactBounds (meshname)
-	mixed l_MeshReadOutExactBounds (...) {}
-
-	/// for lua : x,y,z,vx,vy,vz GetScreenRay (x,y) x,y in [0,1]
-	mixed l_GetScreenRay (...) {}
-
-	/// for lua : z GetMaxZ ()
-	mixed l_GetMaxZ (...) {}
-
-	/// for lua : bIsInFront,px,py ProjectPos (x,y,z)
-	mixed l_ProjectPos (...) {}
-
-	/// for lua : bIsInFront,px,py,cx,cy ProjectSizeAndPos (x,y,z,r)
-	mixed l_ProjectSizeAndPos (...) {}
-
-	/// for lua : px,py,pz,cx,cy,cz ProjectSizeAndPosEx (x,y,z,r)
-	mixed l_ProjectSizeAndPosEx (...) {}
-
-	/// for lua : void CreateSceneManager (sSceneManagerName)
-	mixed l_CreateSceneManager (...) {}
-
-	/// for lua : table[id=3Dtexname...] OgreMeshTextures (meshfile)
-	mixed l_OgreMeshTextures (...) {}
-
-	/// for lua : void OgreShadowTechnique (string techique)
-	mixed l_OgreShadowTechnique (...) {}
-
-	/// for lua : void OgreSetShadowTextureSize (int size)
-	mixed l_OgreSetShadowTextureSize (...) {}
-
-	/// for lua : void OgreSetShadowFarDistance (float x)
-	mixed l_OgreSetShadowFarDistance (...) {}
-
-	/// for lua : void OgreSetShadowDirLightTextureOffset (float x)
-	mixed l_OgreSetShadowDirLightTextureOffset (...) {}
-
-	/// for lua : void OgreSetShadowTextureFadeStart (float x)
-	mixed l_OgreSetShadowTextureFadeStart (...) {}
-
-	/// for lua : void OgreSetShadowTextureFadeEnd (float x)
-	mixed l_OgreSetShadowTextureFadeEnd (...) {}
-
-	/// for lua : void OgreSetShadowTexturePixelFormat ()
-	mixed l_OgreSetShadowTexturePixelFormat (...) {}
-
-	/// for lua : table OgrePixelFormatList ()
-	mixed l_OgrePixelFormatList (...) {}
-
-	/// for lua : void OgreSetShadowTextureSelfShadow (bool)
-	mixed l_OgreSetShadowTextureSelfShadow (...) {}
-
-	/// for lua : void OgreSetShadowTextureCasterMaterial (sMatName)
-	mixed l_OgreSetShadowTextureCasterMaterial (...) {}
-
-	/// for lua : void OgreSetShadowTextureReceiverMaterial (sMatName)
-	mixed l_OgreSetShadowTextureReceiverMaterial (...) {}
-
-	/// for lua : void OgreAmbientLight (r,g,b) [color value 0..1 each]
-	mixed l_OgreAmbientLight (...) {}
-
-	/// for lua : string GetUniqueName ()
-	mixed l_GetUniqueName (...) {}
-
-	/// for lua : number OgreLastFPS ()
-	mixed l_OgreLastFPS (...) {}
-
-	/// for lua : number OgreAvgFPS ()
-	mixed l_OgreAvgFPS (...) {}
-
-	/// for lua : number OgreBestFPS ()
-	mixed l_OgreBestFPS (...) {}
-
-	/// for lua : number OgreWorstFPS ()
-	mixed l_OgreWorstFPS (...) {}
-
-	/// for lua : number OgreBestFrameTime ()
-	mixed l_OgreBestFrameTime (...) {}
-
-	/// for lua : number OgreWorstFrameTime ()
-	mixed l_OgreWorstFrameTime (...) {}
-
-	/// for lua : number OgreTriangleCount ()
-	mixed l_OgreTriangleCount (...) {}
-
-	/// for lua : number OgreBatchCount ()
-	mixed l_OgreBatchCount (...) {}
-
-	/// adds a resource location to
-	/// example : OgreAddResLoc("./data/SomeZip.zip","Zip","General")
-	/// example : OgreAddResLoc("./data/base","FileSystem","General")
-	mixed l_OgreAddResLoc (...) {}
-
-	mixed l_OgreInitResLocs (...) {}
-
-	mixed l_Client_SetMouseSensitivity (...) {}
-
-	mixed l_Client_SetInvertMouse (...) {}
-
-	mixed l_Client_SetCamera (...) {}
-
-	mixed l_Client_ForceCamRot (...) {}
-
-	mixed l_Client_CameraLookAt (...) {}
-
-class gui { public:
-
-/// sets the current stats bar in %, dont use this directly
-static mixed	SetStatsBar	(mixed name,mixed x) {}
-
-/// sets the warmode visual on statsbar
-static mixed	SetWarmode	(mixed warmode) {}
-
-/// sets the current hitpoints (in %), x is between 0.0 and 1.0
-static mixed	SetHitpoints	(mixed x) {}
-
-/// sets the current hitpoints (in %), x is between 0.0 and 1.0
-static mixed	SetMana	(mixed x) {}
-
-/// sets the current hitpoints (in %), x is between 0.0 and 1.0
-static mixed	SetStamina	(mixed x) {}
-
-/// TODO : z resort : insert between two widgets
-/// ***** ***** ***** ***** ***** dialog
-static mixed	CreateDialog	(mixed x,mixed y) {}
-
-/// ***** ***** ***** ***** ***** widget Utils
-static mixed	_WrapWidget	(mixed widget,mixed parent) {}
-
-static mixed	_SecureGetMaterial	(mixed matname) {}
-
-/// ***** ***** ***** ***** ***** CreateImage
-static mixed	_CreateWidget_Image	(mixed parent,mixed matname,mixed x,mixed=
 y,mixed w,mixed h,mixed tx,mixed ty,mixed tw,mixed th,mixed bitmask) {}
-
-/// ***** ***** ***** ***** ***** CreateText
-static mixed	_CreateWidget_Text	(mixed parent,mixed text,mixed x,mixed y,m=
ixed fontname,mixed fontsize,mixed r,mixed g,mixed b,mixed a) {}
-
-/// ***** ***** ***** ***** ***** CreateContainer
-static mixed	_CreateWidget_Container	(mixed parent,mixed x,mixed y) {}
-
-static mixed	StartMoveDialog	(mixed widget) {}
-};
-
-class Renderer3D { public:
-
-/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
-mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit_=
dist,mixed minz,mixed maxz) {}
-
-/// excecutes mousepick by default
-mixed	GetMouseHitSerial	(mixed bExecuteMousePick) {}
-
-mixed	DestroyMousePickItemBySerial	(mixed serial) {}
-
-mixed	CamKeyUp	(mixed key) {}
-
-mixed	CamKeyDown	(mixed key) {}
-
-mixed	InitLocalCam	(mixed x,mixed y,mixed z) {}
-
-mixed	CamChangeZoom	(mixed add) {}
-
-/// targetmode can be nil, then the current mode is simply increased
-mixed	ChangeCamMode	(mixed targetmode) {}
-
-/// these coordinates are in absolute map-blocks, all others are in chunks
-mixed	UpdateMapCache	(mixed iMidX,mixed iMidY,mixed iRad) {}
-
-/// coords in chunks
-mixed	LoadMapChunk	(mixed x,mixed y) {}
-
-/// coords in chunks
-mixed	CreateMapChunk	(mixed x,mixed y) {}
-
-mixed	IsZLayerVisible	(mixed layerZ) {}
-
-mixed	UpdateStaticVisibility	(mixed entity) {}
-
-mixed	UpdateDynamicVisibility	(mixed dynamic) {}
-
-mixed	UpdateMobileVisibility	(mixed mobile) {}
-
-/// coords in chunks
-/// TODO : release anything else that was allocated in CreateMapChunk
-mixed	DestroyMapChunk	(mixed x,mixed y,mixed chunk) {}
-
-/// creates a moving and disapearing damage text at the given tile positio=
n (x,y,z) (lifetime in sec, speed in ?)
-mixed	CombatCreateDamageText	(mixed text,mixed x,mixed y,mixed z,mixed r,m=
ixed g,mixed b,mixed a,mixed size,mixed speed,mixed lifetime) {}
-
-/// helper to plop hp adds and damage
-mixed	NotifyHPChange	(mixed serial,mixed oldhp,mixed newhp) {}
-
-/// warning !you still have to do 0.1 z factor seperately
-mixed	UOPosToLocal	(mixed xloc,mixed yloc,mixed z) {}
-
-/// warning ! you still have to do 0.1 z factor seperately
-mixed	LocalToUOPos	(mixed xlocal,mixed ylocal,mixed zlocal) {}
-
-/// param and result in DEGREES
-mixed	TranslateOsiWalkAngle	(mixed x) {}
-
-mixed	SetMapEnvironment	(mixed bUnderGround) {}
-
-/// warning ! this gets called a lot while user resizes window
-mixed	NotifyMainWindowResized	(mixed w,mixed h) {}
-
-mixed	CorrectAspectRatio	(mixed w,mixed h) {}
-
-/// TODO: manage particle effects, esp. huedfx, decide between effecttypes
-mixed	AddEffect	(mixed  effect ) {}
-
-mixed	AddHuedEffect	(mixed  effect,mixed relx,mixed rely,mixed relz ) {}
-
-mixed	RemoveHuedEffect	(mixed  effect ) {}
-
-/// TODO : check particle before
-mixed	AddParticleEffect	(mixed  effect,mixed particlename,mixed relx,mixed=
 rely,mixed relz,mixed scalex,mixed scaley,mixed scalez) {}
-
-mixed	ShowQuestArrow	(mixed  active,mixed x,mixed y ) {}
-
-mixed	UpdateMobile	(mixed  mobile ) {}
-
-mixed	UpdateMobilePos	(mixed mobile,mixed x,mixed y,mixed z,mixed qw,mixed=
 qx,mixed qy,mixed qz) {}
-
-/// called every frame from mainloop : MobileAnimStep
-/// a every frame stepper for mobiles
-mixed	StepMobile	(mixed mobile) {}
-
-mixed	MobileSetVisible	(mixed mobile,mixed bVisible) {}
-
-mixed	DestroyMobileField	(mixed  mobile,mixed fieldname ) {}
-
-mixed	DestroyMobileGfx	(mixed  mobile ) {}
-
-mixed	CreateMobileGfx	(mixed  mobile ) {}
-
-/// select the given mobile
-mixed	SelectMobile	(mixed iSerial) {}
-
-/// ~ animdata.mobileserial =3D input:PopNetUint32()
-/// ~ animdata.m_animation =3D input:PopNetUint16()
-/// ~ animdata.m_framecount =3D input:PopNetUint16()
-/// ~ animdata.m_repeat =3D input:PopNetUint16() --repeat (1 =3D once / 2 =
=3D twice / 0 =3D repeat forever)
-/// ~ animdata.m_animForward =3D input:PopNetUint8() --(0x00=3Dforward, 0x=
01=3Dbackwards)
-/// ~ animdata.m_repeatFlag =3D input:PopNetUint8() --(0 - Don't repeat / =
1 repeat)
-/// ~ animdata.m_frameDelay =3D input:PopNetUint8() --(0x00 - fastest / 0x=
FF - Too slow to watch)
-/// todo : remaining anim options (m_animForward, m_frameDelay , m_frameco=
unt ?)
-mixed	MobileStartServerSideAnim	(mixed animdata) {}
-
-/// see alos lib.3d.dynamic.lua
-/// [[
-mixed	DynamicSetVisible	(mixed dynamic,mixed bVisible) {}
-
-mixed	UpdateDynamicItemPos	(mixed  dynamic ) {}
-
-mixed	AddDynamicItem	(mixed  item ) {}
-
-/// TODO: Multis & Serversidemultis don't recognize kTileDataFlag_LightSou=
rce yet
-mixed	CreateDynamicGfx	(mixed  item ) {}
-
-mixed	CreateArtBillBoard	(mixed  gfx,mixed iArtID,mixed iHue ) {}
-
-mixed	RemoveDynamicItem	(mixed  item ) {}
-
-/// handle child destroy of Multis
-mixed	DestroyDynamicGfx	(mixed dynamic) {}
-
-/// handles walk smoothing
-/// see also lib.granny.lua lib.bodygfx.lua
-/// see also net.walk.lua
-/// see also lib.tilefreewalk.lua
-/// called from Renderer3D:UpdateMobile, not every frame
-mixed	WalkSmoothUpdate	(mixed mobile) {}
-
-mixed	WalkSmoothStep	(mixed mobile) {}
-
-/// used when teleported
-mixed	WalkSmoothReset	(mixed mobile) {}
-
-mixed	SetSimpleMobilePos	(mixed mobile) {}
-};
-
-class gBodyGfxPrototype { public:
-
-mixed	Init	(mixed parentgfx) {}
-
-mixed	GetEquipmentAtLayer	(mixed layer) {}
-
-mixed	SetVisible	(mixed bVisible) {}
-
-/// ##### ##### ##### ##### ##### update (model change)
-mixed	MarkForUpdate	(mixed artid,mixed hue,mixed equipmentlist) {}
-
-mixed	StartAnimLoop	(mixed animid) {}
-
-/// stops the previous anim and starts playing this one
-/// iRepeatCount =3D -1 : loop infinitely
-/// iRepeatCount =3D 0 : play anim once (default)
-/// iRepeatCount =3D 1 : play anim twice ....
-mixed	StartAnim	(mixed animid,mixed iRepeatCount) {}
-
-/// ##### ##### ##### ##### ##### state (run,walk,idle,combat...)
-/// interrupt serverside anim on movement, and init anim if not set
-mixed	SetState	(mixed bMoving,mixed bTurning,mixed bWarMode,mixed bRunFlag=
) {}
-};
-
-class gTileFreeWalk { public:
-
-/// ##### ##### ##### ##### ##### collision
-mixed	CollideWithWallMid	(mixed x,mixed y) {}
-
-mixed	CollideWithWallEdge	(mixed x,mixed y) {}
-
-/// scans the ground if clientpos entered a new tile, calculates walls
-mixed	ScanGroundIfNeeded	(mixed rx,mixed ry,mixed rz) {}
-
-/// returns the movement speed, dx,dy,dz is the direction of the movement
-/// the speed is dependant on the distance of the current pos to the last =
confirmed pos
-/// and on the direction of the movement
-mixed	GetClientSideSpeed	(mixed dx,mixed dy,mixed dz) {}
-
-/// ##### ##### ##### ##### ##### implementation (currently uo specific, w=
ill later be inserted from extern)
-mixed	NotifyPlayerMobileTeleport	(mixed mobile) {}
-
-mixed	NotifyPlayerMobileUpdate	(mixed mobile) {}
-
-mixed	Impl_SetLastRequestedUOPos	(mixed xloc,mixed yloc,mixed zloc) {}
-
-mixed	Impl_SetLastConfirmedUOPos	(mixed xloc,mixed yloc,mixed zloc) {}
-
-mixed	Impl_SetToPlayerPos	(mixed mobile) {}
-
-mixed	UOPosToLocal	(mixed xloc,mixed yloc,mixed zloc) {}
-
-mixed	LocalToUOPos	(mixed x,mixed y,mixed z) {}
-
-mixed	Impl_WalkRequestStep	(mixed bRunRequested) {}
-
-mixed	StuckFix	(mixed lx,mixed ly,mixed lz) {}
-
-mixed	SetViewDir	(mixed dx,mixed dy) {}
-
-/// fRequestedSpeed is the speed requested by the mousepos/keyboard, might=
 not be reached, e.g. when walking against a wall
-mixed	Impl_StepPlayer	(mixed fRequestedSpeed,mixed bRunRequested) {}
-
-/// input : rounded
-/// read new surrounding height info
-mixed	Impl_ScanGround	(mixed rx,mixed ry,mixed rz,mixed ox,mixed oy) {}
-
-mixed	Impl_CalcWalkStep	(mixed xloc,mixed yloc,mixed zloc,mixed iDir) {}
-
-/// ##### ##### ##### ##### ##### pathpoints
-/// the system remembers which path was walked clientside, and approximate=
s it for sending to the walk requests
-/// note : pathpoints can be impassable, happens during diagonal walk, don=
't send walk requests to those
-/// mark position as "reached", consuming neighboring pathpoints
-mixed	PathPoint_ReachPos	(mixed x,mixed y,mixed z) {}
-
-mixed	PathPoint_GetNth	(mixed n) {}
-
-mixed	PathPoint_Has	(mixed n) {}
-
-mixed	PathPoint_Push	(mixed x,mixed y,mixed z) {}
-
-mixed	RoundPos	(mixed x,mixed y,mixed z) {}
-
-mixed	SetPos_ClientSide	(mixed x,mixed y,mixed z) {}
-
-mixed	SetPos_LastConfirmed	(mixed x,mixed y,mixed z) {}
-
-mixed	SetPos_LastRequested	(mixed x,mixed y,mixed z) {}
-
-/// used for teleport and init
-mixed	SetPos_All	(mixed x,mixed y,mixed z) {}
-
-mixed	DebugMarkerGroup_Clear	(mixed groupname) {}
-
-mixed	DebugMarkerGroup_AddGfx	(mixed groupname,mixed gfx) {}
-
-mixed	DebugMarkerGroup_AddSphere	(mixed groupname,mixed x,mixed y,mixed z,=
mixed fRad,mixed r,mixed g,mixed b) {}
-
-mixed	DebugMarkerGroup_AddCylinder	(mixed groupname,mixed x,mixed y,mixed =
z,mixed fRad,mixed fHeight,mixed r,mixed g,mixed b) {}
-
-/// up=3D+z
-mixed	DebugMarkerGroup_AddWall	(mixed groupname,mixed x1,mixed y1,mixed z1=
,mixed x2,mixed y2,mixed z2,mixed h,mixed r,mixed g,mixed b) {}
-
-mixed	DelDebugMarker	(mixed markername) {}
-
-mixed	SetDebugMarker	(mixed markername,mixed x,mixed y,mixed z,mixed dx,mi=
xed dy,mixed dz,mixed r,mixed g,mixed b) {}
-
-mixed	UpdateDebugMarker	(mixed mymarker,mixed matname) {}
-};
-
-class gGuiDialogPrototype { public:
-
-mixed	SetPos	(mixed x,mixed y) {}
-
-mixed	SetVisible	(mixed bVis) {}
-};
-
-class gGuiWidgetPrototype { public:
-
-mixed	SetVisible	(mixed bVisible) {}
-
-mixed	SetPos	(mixed x,mixed y) {}
-
-mixed	SetDimensions	(mixed w,mixed h) {}
-
-mixed	SetMaterial	(mixed matname) {}
-
-mixed	SetTexUV	(mixed u1,mixed v1,mixed u2,mixed v2) {}
-
-mixed	SetTexXYWH	(mixed tx,mixed ty,mixed tw,mixed th) {}
-
-mixed	SetColour	(mixed r,mixed g,mixed b,mixed a) {}
-
-mixed	SetText	(mixed text) {}
-
-mixed	SetFont	(mixed fontname) {}
-
-mixed	SetFontSize	(mixed fontsize) {}
-
-mixed	SetAutoWrap	(mixed width) {}
-
-mixed	SetBitMask	(mixed bitmask) {}
-
-mixed	SetColours	(mixed r1,mixed g1,mixed b1,mixed a1,mixed r2,mixed g2,mi=
xed b2,mixed a2,mixed r3,mixed g3,mixed b3,mixed a3,mixed r4,mixed g4,mixed=
 b4,mixed a4) {}
-
-mixed	SetUVBorderMatrix	(mixed texturesize,mixed x,mixed y,mixed cx1,mixed=
 cy1,mixed cx2,mixed cy2,mixed cx3,mixed cy3) {}
-
-mixed	SetClipAbsolute	(mixed l,mixed t,mixed w,mixed h) {}
-
-mixed	SetClipRelative	(mixed l,mixed t,mixed w,mixed h) {}
-
-mixed	SetPositionAfterWidget	(mixed otherwidget) {}
-
-mixed	SetPositionBeforeWidget	(mixed otherwidget) {}
-};
-
-class gGumpmanager { public:
-
-/// ######################################################################=
######
-/// ###### global gumpmanger functions #######
-/// ######################################################################=
######
-static mixed	GetGumpsByProperty	(mixed  property,mixed value ) {}
-
-static mixed	GetGumpsByName	(mixed  name ) {}
-
-/// ######################################################################=
######
-/// ###### gump and gumpobject constructors #######
-/// ######################################################################=
######
-static mixed	CreateGump	(mixed  x,mixed y ) {}
-
-static mixed	InitGumpObject	(mixed  gumpobject ) {}
-
-/// ######################################################################=
######
-/// ###### gump member functions #######
-/// ######################################################################=
######
-static mixed	RegisterGump	(mixed  gump ) {}
-
-static mixed	DeregisterGump	(mixed  gump ) {}
-
-static mixed	_GumpRegisterGumpObject	(mixed  gump,mixed gumpobject ) {}
-
-static mixed	_GumpDeregisterGumpObject	(mixed  gump,mixed gumpobject ) {}
-
-static mixed	_GumpDestroy	(mixed  gump ) {}
-
-static mixed	_SetPage	(mixed  gump,mixed page ) {}
-
-static mixed	_SetPosition	(mixed  gump,mixed x,mixed y ) {}
-
-static mixed	_SetVisible	(mixed  gump,mixed visible ) {}
-
-/// ######################################################################=
######
-/// ###### functions to add gumpobjects in alphabetical order #######
-/// ######################################################################=
######
-static mixed	_GumpAddBackground	(mixed  gump,mixed x,mixed y,mixed w,mixed=
 h,mixed id,mixed hue,mixed page,mixed onlyborder ) {}
-
-static mixed	_GumpAddButton	(mixed  gump,mixed x,mixed y,mixed upid,mixed =
downid,mixed moveoverid,mixed buttonid,mixed page,mixed checkcompleterectan=
gle ) {}
-
-static mixed	_GumpAddCheckbox	(mixed  gump,mixed x,mixed y,mixed trueid,mi=
xed falseid,mixed checked,mixed checkboxid,mixed page ) {}
-
-static mixed	_GumpAddCroppedText	(mixed  gump,mixed x,mixed y,mixed w,mixe=
d h,mixed text,mixed font,mixed hue,mixed page,mixed border ) {}
-
-static mixed	_GumpAddImage	(mixed  gump,mixed x,mixed y,mixed id,mixed hue=
,mixed page ) {}
-
-static mixed	_GumpAddGumpItem	(mixed  gump,mixed x,mixed y,mixed serial,mi=
xed page,mixed female ) {}
-
-static mixed	_GumpAddItem	(mixed  gump,mixed x,mixed y,mixed serial,mixed =
page,mixed useitempos ) {}
-
-static mixed	_GumpAddGroundTilePic	(mixed  gump,mixed x,mixed y,mixed id,m=
ixed hue,mixed page ) {}
-
-static mixed	_GumpAddPageButton	(mixed  gump,mixed x,mixed y,mixed upid,mi=
xed downid,mixed pageid,mixed page ) {}
-
-static mixed	_GumpAddRadiobutton	(mixed  gump,mixed x,mixed y,mixed trueid=
,mixed falseid,mixed checked,mixed buttonid,mixed group,mixed page ) {}
-
-static mixed	_GumpAddScrollbar	(mixed  gump,mixed x,mixed y,mixed horizont=
al,mixed length,mixed upid,mixed moveoverid,mixed scrollbarid,mixed page,mi=
xed promille ) {}
-
-static mixed	_GumpAddText	(mixed  gump,mixed x,mixed y,mixed text,mixed fo=
nt,mixed hue,mixed page,mixed border ) {}
-
-static mixed	_GumpAddTiledImage	(mixed  gump,mixed x,mixed y,mixed w,mixed=
 h,mixed id,mixed hue,mixed page ) {}
-
-static mixed	_GumpAddTilePic	(mixed  gump,mixed x,mixed y,mixed id,mixed h=
ue,mixed page ) {}
-};
-
-class gMobilePrototype { public:
-
-mixed	NotifyListener	(mixed eventname) {}
-
-/// updates mobile status, and the position of the graphical representatio=
n and other things
-mixed	Update	(mixed mobiledata,mixed equipmentdata) {}
-
-mixed	UpdateStats	(mixed stats) {}
-
-mixed	UpdateHealth	(mixed curvalue,mixed maxvalue) {}
-
-mixed	UpdateMana	(mixed curvalue,mixed maxvalue) {}
-
-mixed	UpdateStamina	(mixed curvalue,mixed maxvalue) {}
-
-/// triggered from kPacket_Text kPacket_Text_Unicode
-mixed	NameHint	(mixed model,mixed charname,mixed message) {}
-
-/// ##### ##### ##### ##### ##### the rest
-mixed	GetEquipmentAtLayer	(mixed layer) {}
-
-/// TODO: displays the chat text over the head of the mobile, color is 16b=
it uo color
-mixed	DisplayTextOverHead	(mixed message,mixed r,mixed g,mixed b) {}
-};
-
-class gDynamicPrototype { public:
-
-/// see also CreateOrUpdateDynamic
-mixed	Update	(mixed dynamicdata,mixed mobile) {}
-
-/// updates widgets automatically through old,new:UpdateContent() message
-mixed	SetContainer	(mixed newcontainer_or_serial) {}
-
-mixed	NotifyListener	(mixed eventname) {}
-};
-
-class gContainerPrototype { public:
-
-mixed	RemoveContentObject	(mixed object) {}
-
-mixed	AddContentObject	(mixed object) {}
-};
-
-class guimaker { public:
-
-/// sorted overlay container (keeps zorder from beeing optimized away by r=
ender-state sorting)
-static mixed	MakeSOC	(mixed parent,mixed x,mixed y) {}
-
-/// robrenderable
-static mixed	MakeRROC	(mixed parent,mixed matname) {}
-
-/// ----------------------------------------
-/// ----- table layout
-/// ----------------------------------------
-/// constructs a widget as child of "parent" from paramter array "arr", th=
e content of "arr" is copyed to the widget
-static mixed	MakeWidgetFromArr	(mixed parent,mixed arr,mixed stylesetname)=
 {}
-
-/// constructs a dialog from a "rows" array, each row is an array of "cols=
", each col is a paramter array for guimaker.MakeWidgetFromArr
-static mixed	MakeTableDlg	(mixed rows,mixed x,mixed y,mixed bClosable,mixe=
d bCellsAlwaysHaveMaxW,mixed stylesetname,mixed stylename) {}
-
-/// recalculates widget positions in table
-static mixed	LayoutTableDlg	(mixed dialog,mixed rootwidget) {}
-
-static mixed	MakeBorderPanel	(mixed parent,mixed x,mixed y,mixed cx,mixed =
cy,mixed col,mixed stylesetname,mixed stylename) {}
-
-/// function guimaker.Button_HilightOn (widget) widget:SetUVBorderMatrix(3=
2, 0,16, 2,2, 12,12, 2,2) end
-/// function guimaker.Button_HilightOff (widget) widget:SetUVBorderMatrix(=
32, 0, 0, 2,2, 12,12, 2,2) end
-static mixed	Button_HilightOn	(mixed widget) {}
-
-static mixed	Button_HilightOff	(mixed widget) {}
-
-static mixed	MakeButton	(mixed parent,mixed x,mixed y,mixed cx,mixed cy,mi=
xed col,mixed stylesetname) {}
-
-static mixed	MakeText	(mixed parent,mixed x,mixed y,mixed text,mixed charh=
,mixed col,mixed fontname) {}
-
-static mixed	MakeWrappedClippedText	(mixed parent,mixed x,mixed y,mixed wi=
dth,mixed height,mixed text,mixed charh,mixed col,mixed center,mixed div,mi=
xed fontname) {}
-
-static mixed	MakeClippedText	(mixed parent,mixed x,mixed y,mixed width,mix=
ed height,mixed text,mixed charh,mixed col,mixed center,mixed div,mixed fon=
tname) {}
-
-static mixed	MakeAutoScaledButton	(mixed parent,mixed x,mixed y,mixed text=
,mixed charh,mixed backcol,mixed textcol,mixed stylesetname) {}
-
-static mixed	RescaleAutoScaledButton	(mixed widget,mixed forcew) {}
-
-static mixed	SetAutoScaledButtonText	(mixed widget,mixed text) {}
-
-static mixed	SetAutoScaledButtonBackCol	(mixed widget,mixed backcol) {}
-
-static mixed	MakePlane	(mixed parent,mixed mat,mixed x,mixed y,mixed cx,mi=
xed cy) {}
-
-/// Creates a new Gumppage
-static mixed	MakePage	(mixed pagenum) {}
-};
-
-class gTypeListPrototype { public:
-
-mixed	RegisterType	(mixed name,mixed parenttype_or_name,mixed arr,mixed ab=
stract) {}
-
-mixed	Get	(mixed type_or_name_or_id) {}
-
-mixed	GetList	(mixed filterfun) {}
-};
-
-class Vector { public:
-
-static mixed	random2	(mixed minx,mixed miny,mixed minz,mixed maxx,mixed ma=
xy,mixed maxz) {}
-
-static mixed	random3	(mixed v) {}
-
-static mixed	len	(mixed x,mixed y,mixed z) {}
-
-/// returns true if equal
-static mixed	compare	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z=
2) {}
-
-/// returns vector with length =3D 1.0
-static mixed	normalise	(mixed x,mixed y,mixed z) {}
-
-static mixed	normalise_to_len	(mixed x,mixed y,mixed z,mixed normlen) {}
-
-/// returns Ogre::v1.crossProduct(v2)
-static mixed	cross	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2)=
 {}
-
-/// returns Ogre::v1.dotProduct(v2)
-static mixed	dot	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) {}
-
-/// returns vec * scal
-static mixed	scalarmult	(mixed x,mixed y,mixed z,mixed f) {}
-
-static mixed	scale1	(mixed f,mixed x,mixed y,mixed z) {}
-
-static mixed	sub	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) {}
-
-static mixed	add	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) {}
-
-static mixed	addscaled	(mixed s,mixed x1,mixed y1,mixed z1,mixed x2,mixed =
y2,mixed z2) {}
-
-static mixed	scale	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2)=
 {}
-
-static mixed	add3	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2,m=
ixed x3,mixed y3,mixed z3) {}
-
-static mixed	add4	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2,m=
ixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4) {}
-
-static mixed	add4v	(mixed v1,mixed v2,mixed v3,mixed v4) {}
-
-/// project 1 onto 2
-static mixed	project_on_vector	(mixed x1,mixed y1,mixed z1,mixed x2,mixed =
y2,mixed z2) {}
-
-/// project x,y,z on the plane with normal nx,,ny,nz
-static mixed	project_on_plane	(mixed x,mixed y,mixed z,mixed nx,mixed ny,m=
ixed nz) {}
-
-static mixed	create	(mixed  x,mixed y,mixed z ) {}
-
-/// returns true if the length is almost zero, inspired by ogre
-static mixed	isZeroLength	(mixed x,mixed y,mixed z) {}
-};
-
-class Quaternion { public:
-
-/// x,y,z must be normalized, see Vector.normalise
-static mixed	fromAngleAxis	(mixed ang,mixed x,mixed y,mixed z) {}
-
-static mixed	inverse	(mixed w,mixed x,mixed y,mixed z) {}
-
-static mixed	norm	(mixed w,mixed x,mixed y,mixed z) {}
-
-static mixed	normalise	(mixed w,mixed x,mixed y,mixed z) {}
-
-/// returns a rotation with length=3Dang around a random axis, ang default=
s to random
-/// returns qw,qx,qy,qz
-static mixed	random	(mixed ang) {}
-
-/// returns the shortest arc quaternion to rotate vector1 to vector2
-/// returns qw,qx,qy,qz
-static mixed	getRotation	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mix=
ed z2) {}
-
-/// returns x,y,z
-static mixed	ApplyToVector	(mixed x,mixed y,mixed z,mixed qw,mixed qx,mixe=
d qy,mixed qz) {}
-
-/// Mul(a,b) =3D a*b, multiplies two quaternions, generally not commutativ=
e (a*b !=3D b*a)
-/// returns qw,qx,qy,qz
-static mixed	Mul	(mixed aw,mixed ax,mixed ay,mixed az,mixed bw,mixed bx,mi=
xed by,mixed bz) {}
-
-/// reduces a turn-quaternions angle, t=3D1 =3D no change
-/// returns qw,qx,qy,qz
-static mixed	reduce	(mixed qw,mixed qx,mixed qy,mixed qz,mixed t) {}
-
-/// changes the rotation angle while leaving the axis
-/// returns qw,qx,qy,qz
-static mixed	setAngle	(mixed qw,mixed qx,mixed qy,mixed qz,mixed newang) {}
-
-/// returns rotation angle in radians
-static mixed	getAngle	(mixed qw,mixed qx,mixed qy,mixed qz) {}
-
-/// returns qw,qx,qy,qz
-static mixed	lookAt	(mixed x,mixed y,mixed z) {}
-};
 =

 class cGroundBlockLoader_L { public:
 =

 	/// static methods exported to lua
 	/// cGroundBlockLoader* CreateGroundBlockLoader (string type,int maph,str=
ing file); for lua
-	mixed CreateGroundBlockLoader (...) {}
+	static mixed CreateGroundBlockLoader (...) {}
 =

 	/// cGroundBlockLoader* CreateGroundBlockLoaderWithDiff (string type,int =
maph,string file, string difflookup, string diffdata); for lua
-	mixed CreateGroundBlockLoaderWithDiff (...) {}
+	static mixed CreateGroundBlockLoaderWithDiff (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -3953,7 +31,7 @@
 =

 	/// static methods exported to lua
 	/// cUniFontFileLoader* CreateUniFontLoader (string file); for lua
-	mixed CreateUniFontLoader (...) {}
+	static mixed CreateUniFontLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -3977,7 +55,7 @@
 =

 	/// static methods exported to lua
 	/// cRadarColorLoader* CreateRadarColorLoader (string type,int maph,strin=
g file); for lua
-	mixed CreateRadarColorLoader (...) {}
+	static mixed CreateRadarColorLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -3987,7 +65,7 @@
 =

 	/// static methods exported to lua
 	/// cHueLoader* CreateHueLoader (string type,string file); for lua
-	mixed CreateHueLoader (...) {}
+	static mixed CreateHueLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -3999,7 +77,7 @@
 =

 	/// static methods exported to lua
 	/// cAnimDataLoader* CreateAnimDataLoader (string type,string file); for =
lua
-	mixed CreateAnimDataLoader (...) {}
+	static mixed CreateAnimDataLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4011,7 +89,7 @@
 =

 	/// static methods exported to lua
 	/// cTileTypeLoader* CreateTileTypeLoader (string type,string sDataFile);=
 for lua
-	mixed CreateTileTypeLoader (...) {}
+	static mixed CreateTileTypeLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4030,7 +108,7 @@
 =

 	/// static methods exported to lua
 	/// cTexMapLoader* CreateTexMapLoader (string type,string sIndexFile,stri=
ng sDataFile); for lua
-	mixed CreateTexMapLoader (...) {}
+	static mixed CreateTexMapLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4041,7 +119,7 @@
 class cAnimLoader_L { public:
 =

 	/// static methods exported to lua
-	mixed CreateAnimLoader (...) {}
+	static mixed CreateAnimLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4057,7 +135,7 @@
 =

 	/// static methods exported to lua
 	/// cArtMapLoader* CreateArtMapLoader (string type,string sIndexFile,stri=
ng sDataFile); for lua
-	mixed CreateArtMapLoader (...) {}
+	static mixed CreateArtMapLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4083,10 +161,10 @@
 =

 	/// static methods exported to lua
 	/// cStaticBlockLoader* CreateStaticBlockLoader (string type,int maph,str=
ing sIndexFile,string sDataFile); for lua
-	mixed CreateStaticBlockLoader (...) {}
+	static mixed CreateStaticBlockLoader (...) {}
 =

 	/// cStaticBlockLoader* CreateStaticBlockLoaderWithDiff (string type,int =
maph,string sIndexFile,string sDataFile, string sDiffLookup, sDiffIndex, sD=
iffData); for lua
-	mixed CreateStaticBlockLoaderWithDiff (...) {}
+	static mixed CreateStaticBlockLoaderWithDiff (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4109,7 +187,7 @@
 =

 	/// static methods exported to lua
 	/// cGumpLoader* CreateGumpLoader (string type,string sIndexFile,string s=
DataFile); for lua
-	mixed CreateGumpLoader (...) {}
+	static mixed CreateGumpLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4129,19 +207,19 @@
 =

 	/// static methods exported to lua
 	/// cSoundLoader* CreateSoundLoader (string type,string sFile); for lua
-	mixed CreateSoundLoader (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	mixed CreateSoundSource (...) {}
+	static mixed CreateSoundLoader (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	static mixed CreateSoundSource (...) {}
 };
 =

 class cMultiLoader_L { public:
 =

 	/// static methods exported to lua
 	/// cMultiLoader* CreateMultiLoader (string type,string sIndexFile,string=
 sDataFile); for lua
-	mixed CreateMultiLoader (...) {}
+	static mixed CreateMultiLoader (...) {}
 =

 	/// object methods exported to lua
 	mixed Destroy (...) {}
@@ -4152,1169 +230,3 @@
 	/// read out the part of the given multi, (blocknum,x,y,z,flags)
 	mixed GetMultiParts (...) {}
 };
-
-class cMeshEntity_L { public:
-
-	/// static methods exported to lua
-	/// cMeshEntity* CreateMeshEntity (); for lua
-	mixed CreateMeshEntity (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	/// bhit,bhitdist =3D meshentity:RayPick(rx,ry,rz, rvx,rvy,rvz, x,y,z, qw=
,qx,qy,qz, sx,sy,sz) -- mainly for mousepicking
-	mixed RayPick (...) {}
-
-	mixed SetUserObject (...) {}
-};
-
-class cStaticGeometry_L { public:
-
-	/// static methods exported to lua
-	/// cStaticGeometry* CreateStaticGeometry (); for lua
-	mixed CreateStaticGeometry (...) {}
-
-	/// object methods exported to lua
-	/// void SetCastShadows (bool shadow)
-	mixed SetCastShadows (...) {}
-
-	mixed Destroy (...) {}
-
-	mixed Build (...) {}
-
-	mixed SetVisible (...) {}
-
-	/// void AddEntity (cMeshEntity* pEntity, x,y,z, qw,qx,qy,qz, scalex,scal=
ey,scalez); for lua
-	mixed AddEntity (...) {}
-};
-
-class cGrannyLoader_i2_L { public:
-
-	/// static methods exported to lua
-	/// cGrannyLoader_i2* LoadGranny (string file); for lua
-	/// returns nil,errormsg on failure
-	mixed LoadGranny (...) {}
-
-	/// string CreateSkeleton (sName=3Duniquename())
-	mixed CreateSkeleton (...) {}
-
-	/// string SkeletonHasAnimation (sSkeletonName,sAnimName)
-	mixed SkeletonHasAnimation (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	/// sMeshName CreateOgreMesh (sMatName,sSkeletonName,sMeshName=3Duniquena=
me())
-	mixed CreateOgreMesh (...) {}
-
-	/// void AddAnimToSkeleton (sSkeletonName,sAnimName,table bodysamples)
-	/// as the granny format is rather perverted and has a different rest-pos=
ition for the bones in the anim-granny and in the model-granny,
-	/// we need a complete set of bodyparts to determine the correct rest pos=
ition for each bone (single body parts don't usually contain all bones)
-	/// all model-parts seem to have the same bone-rest-positions, only the a=
nims are different
-	mixed AddAnimToSkeleton (...) {}
-
-	/// int GetTextChunkCount ()
-	/// total number of different textchunk-blocks
-	mixed GetTextChunkCount (...) {}
-
-	/// int GetTextChunkSize (int chunkid)
-	/// number of strings in one textchunk-block
-	mixed GetTextChunkSize (...) {}
-
-	/// string GetText (int chunkid,int stringid)
-	/// retrieve a string from a textchunk-block
-	mixed GetText (...) {}
-
-	/// int GetParamGroupCount ()
-	/// total number of different paramgroups
-	mixed GetParamGroupCount (...) {}
-
-	/// int GetParamGroupSize (int groupid)
-	/// number of pairs in one paramgroup
-	mixed GetParamGroupSize (...) {}
-
-	/// iKey,iValue GetParam (int groupid,int paramid)
-	/// retrieve a string from a textchunk-block
-	mixed GetParam (...) {}
-
-	/// int GetSubMeshCount ()
-	/// total number of different submeshes (usually 1)
-	mixed GetSubMeshCount (...) {}
-
-	/// int GetTextureIDCount ()
-	/// number of TexureIDs
-	mixed GetTextureIDCount (...) {}
-
-	/// int GetTextureID (int index)
-	mixed GetTextureID (...) {}
-
-	/// void Print ()
-	/// extensive debug dump to stdout
-	mixed Print (...) {}
-
-	/// void PrintBones ()
-	/// extensive debug dump about bones to stdout
-	mixed PrintBones (...) {}
-};
-
-class cSpriteManager_L { public:
-
-	mixed Destroy (...) {}
-
-	mixed CreateSpriteManager (...) {}
-
-	mixed CreateSprite (...) {}
-
-	mixed RemoveSprite (...) {}
-
-	mixed Resorted (...) {}
-};
-
-class cSprite_L { public:
-
-	mixed ChangeTexture (...) {}
-
-	mixed SetPrio (...) {}
-
-	mixed GetPrio (...) {}
-
-	mixed GetPosition (...) {}
-
-	mixed ChangeCoords (...) {}
-
-	mixed ChangeTexCoords (...) {}
-
-	mixed SetNormals (...) {}
-
-	mixed SetVisible (...) {}
-
-	mixed IsVisible (...) {}
-};
-
-class cManualArtMaterialLoader_L { public:
-
-	/// object methods exported to lua
-	/// cManualArtMaterialLoader:Destroy()
-	mixed Destroy (...) {}
-
-	/// void CreateMatchingIfUnavailable(name)
-	mixed CreateMatchingIfUnavailable (...) {}
-
-	/// void IsMatching(name)
-	mixed IsMatching (...) {}
-
-	/// void CreateResource(name)
-	mixed CreateResource (...) {}
-
-	/// cx,cy =3D bitmask:GetSize()
-	mixed GetSize (...) {}
-
-	/// bool =3D bitmask:TestBit(x,y) : false if transparent
-	mixed TestBit (...) {}
-
-	/// cManualArtMaterialLoader* CreateManualArtMaterialLoader(format, loade=
r, pixelexact, invertx, inverty); for lua
-	mixed CreateManualArtMaterialLoader (...) {}
-};
-
-class cRadar_L { public:
-
-	/// static methods exported to lua
-	mixed CreateRadar (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	mixed SetPosition (...) {}
-
-	mixed SetLocation (...) {}
-
-	mixed SetAngle (...) {}
-
-	mixed SetMirrorX (...) {}
-
-	mixed SetVisible (...) {}
-};
-
-class cRenderTexture_L { public:
-
-	/// object methods exported to lua
-	/// void Destroy ()
-	mixed Destroy (...) {}
-
-	/// WARNING ! THE RETURNED NAME IS BROKEN ! (n0007 becomes n0007/0/0/0)
-	/// string GetName ()
-	mixed GetName (...) {}
-
-	/// void SetAutoUpdated ()
-	mixed SetAutoUpdated (...) {}
-
-	/// void Update ()
-	mixed Update (...) {}
-
-	/// void WriteContentsToFile (sFilePath)
-	mixed WriteContentsToFile (...) {}
-
-	/// static methods exported to lua
-	/// pixelformat : see l_OgrePixelFormatList in src/lugre_scripting.ogre.c=
pp
-	/// udata_rtt CreateRenderTexture (sRttName,cx,cy,pixelformat=3DPF_BYTE_R=
GBA)
-	mixed CreateRenderTexture (...) {}
-};
-
-class cSoundSource_L { public:
-
-	/// object methods exported to lua
-	/// SoundSource:SetMinMaxDistance(x)
-	mixed SetMinMaxDistance (...) {}
-
-	/// min,max =3D SoundSource:GetMinMaxDistance()
-	mixed GetMinMaxDistance (...) {}
-
-	/// SoundSource:SetVolume(x)
-	mixed SetVolume (...) {}
-
-	/// x =3D SoundSource:GetVolume()
-	mixed GetVolume (...) {}
-
-	/// SoundSource:SetPosition(x,y,z)
-	mixed SetPosition (...) {}
-
-	/// SoundSource:SetVelocity(x,y,z)
-	mixed SetVelocity (...) {}
-
-	/// x,y,z =3D SoundSource:GetPosition()
-	mixed GetPosition (...) {}
-
-	/// x,y,z =3D SoundSource:GetVelocity()
-	mixed GetVelocity (...) {}
-
-	/// bool =3D SoundSource:Is3D()
-	mixed Is3D (...) {}
-
-	/// bool =3D SoundSource:IsPlaying()
-	mixed IsPlaying (...) {}
-
-	/// bool =3D SoundSource:IsPaused()
-	mixed IsPaused (...) {}
-
-	/// SoundSource:Play()
-	mixed Play (...) {}
-
-	/// SoundSource:Pause()
-	mixed Pause (...) {}
-
-	/// SoundSource:Stop()
-	mixed Stop (...) {}
-
-	/// SoundSource:Destroy()
-	mixed Destroy (...) {}
-};
-
-class cSoundSystem_L { public:
-
-	/// object methods exported to lua
-	/// CreateSoundSystem(name,frequency)
-	mixed CreateSoundSystem (...) {}
-
-	/// SoundSystem:SetVolume(x)
-	mixed SetVolume (...) {}
-
-	/// x =3D SoundSystem:GetVolume()
-	mixed GetVolume (...) {}
-
-	/// SoundSystem:SetDistanceFactor(x)
-	mixed SetDistanceFactor (...) {}
-
-	/// SoundSystem:Step()
-	mixed Step (...) {}
-
-	/// x =3D SoundSystem:GetDistanceFactor()
-	mixed GetDistanceFactor (...) {}
-
-	/// SoundSystem:SetListenerPosition(x,y,z)
-	mixed SetListenerPosition (...) {}
-
-	/// SoundSystem:SetListenerVelocity(x,y,z)
-	mixed SetListenerVelocity (...) {}
-
-	/// x,y,z =3D SoundSystem:GetListenerPosition()
-	mixed GetListenerPosition (...) {}
-
-	/// x,y,z =3D SoundSystem:GetListenerVelocity()
-	mixed GetListenerVelocity (...) {}
-
-	/// cSoundSource* CreateSoundSource (string filename); for lua
-	mixed CreateSoundSource (...) {}
-
-	/// cSoundSource* CreateSoundSource3D (number x, number y, number z, stri=
ng filename); for lua
-	mixed CreateSoundSource3D (...) {}
-
-	/// SoundSystem:Destroy()
-	mixed Destroy (...) {}
-};
-
-class cBitMask_L { public:
-
-	/// object methods exported to lua
-	/// bitmask:Destroy()
-	mixed Destroy (...) {}
-
-	/// cx,cy =3D bitmask:GetSize()
-	mixed GetSize (...) {}
-
-	/// bool =3D bitmask:TestBit(x,y) : false if transparent
-	mixed TestBit (...) {}
-};
-
-class cGfx3D_L { public:
-
-	/// static methods exported to lua
-	mixed CreateGfx3D (...) {}
-
-	/// gfx3D:CreateChild()
-	mixed CreateChild (...) {}
-
-	/// gfx3D:CreateTagPoint(sBoneName,x,y,z,qw,qx,qy,qz)
-	mixed CreateTagPoint (...) {}
-
-	/// for lua : gfx3D CreateRootGfx3D (szSceneMgrName=3D"main")
-	mixed CreateRootGfx3D (...) {}
-
-	mixed CreateCamPosGfx3D (...) {}
-
-	mixed CreateCockpitGfx3D (...) {}
-
-	/// gfx3D:SetForcePosCam(cam or nil)
-	mixed SetForcePosCam (...) {}
-
-	/// gfx3D:SetForceRotCam(cam or nil)
-	mixed SetForceRotCam (...) {}
-
-	/// gfx3D:SetForceLookat(gfx3d or nil)
-	mixed SetForceLookat (...) {}
-
-	/// gfx3D:Destroy()
-	mixed Destroy (...) {}
-
-	/// determines the scenenode world bbox
-	/// x1,y1,z1, x2,y2,z2 GetWorldAABB ()
-	mixed GetWorldAABB (...) {}
-
-	/// x1,y1,z1, x2,y2,z2 GetEntityBounds ()
-	mixed GetEntityBounds (...) {}
-
-	/// r GetEntityBoundRad ()
-	mixed GetEntityBoundRad (...) {}
-
-	/// int GetEntityIndexCount ()
-	mixed GetEntityIndexCount (...) {}
-
-	/// x,y,z GetEntityVertex (iIndexIndex)
-	mixed GetEntityVertex (...) {}
-
-	/// r GetCustomBoundRad ()
-	mixed GetCustomBoundRad (...) {}
-
-	/// SetCustomBoundRad (float r)
-	mixed SetCustomBoundRad (...) {}
-
-	/// bhit,bhitdist,facenum,aabbhitfacenoirmalx,aabbhitfacenormaly =3D gfx3=
D:RayPick(rx,ry,rz,rvx,rvy,rvz) -- mainly for mousepicking
-	mixed RayPick (...) {}
-
-	/// returns a list of all hits
-	/// table{facenum=3Ddist,...} =3D gfx3D:RayPickList(rx,ry,rz,rvx,rvy,rvz)=
 -- mainly for mousepicking
-	mixed RayPickList (...) {}
-
-	/// gfx3D:SetParent(gfx3D_or_nil)
-	mixed SetParent (...) {}
-
-	/// gfx3D:SetRootAsParent(szSceneMgrName)
-	mixed SetRootAsParent (...) {}
-
-	/// gfx3D:SetVisible( bool)
-	mixed SetVisible (...) {}
-
-	/// gfx3D:SetDisplaySkeleton( bool)
-	mixed SetDisplaySkeleton (...) {}
-
-	/// gfx3D:SetRenderingDistance( float dist)
-	mixed SetRenderingDistance (...) {}
-
-	/// gfx3D:SetPrepareFrameStep( bool)
-	mixed SetPrepareFrameStep (...) {}
-
-	/// gfx3D:SetMaterial( string)
-	mixed SetMaterial (...) {}
-
-	/// x,y,z GetScale ()
-	mixed GetScale (...) {}
-
-	/// x,y,z GetPosition ()
-	mixed GetPosition (...) {}
-
-	/// x,y,z GetDerivedPosition ()
-	mixed GetDerivedPosition (...) {}
-
-	/// w,x,y,z GetOrientation ()
-	mixed GetOrientation (...) {}
-
-	/// w,x,y,z GetDerivedOrientation ()
-	mixed GetDerivedOrientation (...) {}
-
-	/// gfx3D:SetPosition( float x, float y, float z)
-	mixed SetPosition (...) {}
-
-	/// gfx3D:SetScale( float x, float y, float z)
-	mixed SetScale (...) {}
-
-	/// gfx3D:SetNormaliseNormals(bool bNormalise)
-	mixed SetNormaliseNormals (...) {}
-
-	/// gfx3D:SetOrientation( float w, float x, float y, float z)
-	mixed SetOrientation (...) {}
-
-	/// void SetBillboard (udata_obj obj,vPos,Real radius,string matname=3D"e=
xplosion")
-	mixed SetBillboard (...) {}
-
-	/// void SetRadar ()
-	mixed SetRadar (...) {}
-
-	/// void SetRadialGrid ()
-	mixed SetRadialGrid (...) {}
-
-	/// void SetWireBoundingBoxGfx3D ()
-	mixed SetWireBoundingBoxGfx3D (...) {}
-
-	/// void SetWireBoundingBoxMinMax ()
-	mixed SetWireBoundingBoxMinMax (...) {}
-
-	/// ~ /// void SetWireBoundingBoxMeshEntity ()
-	/// ~ static int SetWireBoundingBoxMeshEntity (lua_State *L) { PROFILE
-	/// ~ Ogre::Entity* pEntity =3D cLuaBind<cMeshEntity>::checkudata_alive(L=
,2)->mpOgreEntity;
-	/// ~ if (pEntity) checkudata_alive(L)->SetWireBoundingBox(*pEntity); els=
e printf("SetWireBoundingBoxMeshEntity failed, no entity\n");
-	/// ~ return 0;
-	/// ~ }
-	/// void SetTrail (udata_obj obj,vPos,Real length,Real elements, string m=
atname=3D"explosion")
-	mixed SetTrail (...) {}
-
-	/// void SetExplosion (udata_obj obj,Real radius,string matname=3D"explos=
ion")
-	mixed SetExplosion (...) {}
-
-	/// OBSOLETE
-	/// void SetTargetTracker (udata_obj obj,Real dist,Real size,colr,colg,co=
lb,string matname=3D"explosion")
-	mixed SetTargetTracker (...) {}
-
-	/// ***** ***** ***** ***** ***** Beam System
-	/// void SetBeam (bUseVertexColour)
-	mixed SetBeam (...) {}
-
-	/// int BeamCountLines ()
-	mixed BeamCountLines (...) {}
-
-	/// removes all lines
-	/// void BeamClearLines ()
-	mixed BeamClearLines (...) {}
-
-	/// int BeamAddLine ()
-	mixed BeamAddLine (...) {}
-
-	/// void BeamDeleteLine (iLine)
-	mixed BeamDeleteLine (...) {}
-
-	/// removes all points on this line
-	/// void BeamClearLine (iLine)
-	mixed BeamClearLine (...) {}
-
-	/// void BeamPopFront (iLine)
-	mixed BeamPopFront (...) {}
-
-	/// void BeamPopBack (iLine)
-	mixed BeamPopBack (...) {}
-
-	/// void BeamAddPoint (iLine,x,y,z,h1,h2,u1,u2,v1,v2,r1=3D1,g1=3D1,b1=3D1=
,r2=3D1,g2=3D1,b2=3D1)
-	mixed BeamAddPoint (...) {}
-
-	/// void BeamSetPoint (iLine,iPoint,x,y,z,h1,h2,u1,u2,v1,v2,r1=3D1,g1=3D1=
,b1=3D1,r2=3D1,g2=3D1,b2=3D1)
-	mixed BeamSetPoint (...) {}
-
-	/// call this after changing geometry
-	/// void BeamUpdateBounds ()
-	mixed BeamUpdateBounds (...) {}
-
-	/// ***** ***** ***** ***** ***** ParticleSystem
-	/// void SetParticleSystem (udata_obj obj, string templatename=3D"Example=
s/Fireworks")
-	mixed SetParticleSystem (...) {}
-
-	/// void ParticleSystem_FastForward (udata_obj obj, float time, float int=
erval)
-	mixed ParticleSystem_FastForward (...) {}
-
-	/// void ParticleSystem_SetNonVisibleUpdateTimeout (float time)
-	mixed ParticleSystem_SetNonVisibleUpdateTimeout (...) {}
-
-	/// void ParticleSystem_SetSpeedFactor (float time)
-	mixed ParticleSystem_SetSpeedFactor (...) {}
-
-	/// int ParticleSystem_GetNumParticles ()
-	mixed ParticleSystem_GetNumParticles (...) {}
-
-	/// void ParticleSystem_RemoveAllEmitters ()
-	mixed ParticleSystem_RemoveAllEmitters (...) {}
-
-	/// void ParticleSystem_SetEmitterRate (iEmitterIndex,fRate)
-	mixed ParticleSystem_SetEmitterRate (...) {}
-
-	/// void ParticleSystem_SetDefaultParticleSize (fW,fH)
-	mixed ParticleSystem_SetDefaultParticleSize (...) {}
-
-	/// void ParticleSystem_SetEmitterVelocityMinMax (fMin,fMax)
-	mixed ParticleSystem_SetEmitterVelocityMinMax (...) {}
-
-	/// ***** ***** ***** ***** ***** Mesh
-	/// void SetMesh (udata_obj obj, string meshname=3D"razor.mesh")
-	mixed SetMesh (...) {}
-
-	/// void CreateMergedMesh (udata_obj obj, string meshname)
-	mixed CreateMergedMesh (...) {}
-
-	/// int GetMeshSubEntityCount ()
-	mixed GetMeshSubEntityCount (...) {}
-
-	/// string GetMeshSubEntityMaterial (iSubEntityIndexZeroBased)
-	mixed GetMeshSubEntityMaterial (...) {}
-
-	/// void SetMeshSubEntityMaterial (iSubEntityIndexZeroBased,matname)
-	mixed SetMeshSubEntityMaterial (...) {}
-
-	/// void SetMeshSubEntityCustomParameter (iSubEntityIndexZeroBased,iParam=
,x,y,z,w)
-	mixed SetMeshSubEntityCustomParameter (...) {}
-
-	/// void SetAnim (sAnimName,bLoop)
-	mixed SetAnim (...) {}
-
-	/// float GetAnimLength (sAnimName)
-	mixed GetAnimLength (...) {}
-
-	/// float GetAnimTimePos ()
-	mixed GetAnimTimePos (...) {}
-
-	/// void SetAnimTimePos (float fTimeInSeconds)
-	mixed SetAnimTimePos (...) {}
-
-	/// void AnimAddTime (fTime) (loops automatically)
-	mixed AnimAddTime (...) {}
-
-	/// bool IsAnimLooped ()
-	mixed IsAnimLooped (...) {}
-
-	/// bool HasBone (sBoneName)
-	mixed HasBone (...) {}
-
-	/// bool HasSkeleton ()
-	mixed HasSkeleton (...) {}
-
-	/// ***** ***** ***** ***** ***** SimpleRenderable
-	/// void SetSimpleRenderable ()
-	mixed SetSimpleRenderable (...) {}
-
-	/// void RenderableBegin (iVertexCount,iIndexCount,bDynamic,bKeepOldIndic=
es,opType)
-	/// optype like OT_TRIANGLE_LIST
-	mixed RenderableBegin (...) {}
-
-	/// void RenderableVertex (x,y,z,nx,ny,nz,u,v, r,g,b,a)
-	mixed RenderableVertex (...) {}
-
-	/// must be called between RenderableBegin and RenderableEnd
-	/// void RenderableIndex (iIndex)
-	mixed RenderableIndex (...) {}
-
-	/// must be called between RenderableBegin and RenderableEnd, useful for =
triangles
-	/// void RenderableIndex3 (iIndex,iIndex,iIndex)
-	mixed RenderableIndex3 (...) {}
-
-	/// must be called between RenderableBegin and RenderableEnd, useful for =
lines
-	/// void RenderableIndex2 (iIndex,iIndex)
-	mixed RenderableIndex2 (...) {}
-
-	/// void RenderableSkipVertices ()
-	mixed RenderableSkipVertices (...) {}
-
-	/// void RenderableSkipIndices ()
-	mixed RenderableSkipIndices (...) {}
-
-	/// void RenderableEnd ()
-	mixed RenderableEnd (...) {}
-
-	/// sMeshName RenderableConvertToMesh (sMeshName=3DGetUniqueName())
-	mixed RenderableConvertToMesh (...) {}
-
-	/// void RenderableAddToMesh (sMeshName)
-	mixed RenderableAddToMesh (...) {}
-
-	/// ***** ***** ***** ***** ***** Rest
-	/// void SetStarfield (udata_obj obj, int numstars,float rad,float fColor=
ing, string matname=3D"explosion")
-	mixed SetStarfield (...) {}
-
-	/// void SetTextFont (sFontName)
-	mixed SetTextFont (...) {}
-
-	/// void SetCastShadows (bool shadow)
-	mixed SetCastShadows (...) {}
-
-	/// void SetText (sText,fSize,r,g,b,a,fWrapMaxW,align)
-	/// align : kGfx2DAlign_Left,kGfx2DAlign_Right,kGfx2DAlign_Center
-	mixed SetText (...) {}
-};
-
-class cViewport_L { public:
-
-	/// object methods exported to lua
-	/// void Destroy ()
-	mixed Destroy (...) {}
-
-	/// void SetOverlaysEnabled (bEnabled) // TODO ! tobool
-	mixed SetOverlaysEnabled (...) {}
-
-	mixed GetActualWidth (...) {}
-
-	mixed GetActualHeight (...) {}
-
-	/// r,g,b,a
-	mixed SetBackCol (...) {}
-
-	/// todo : setClearEveryFrame setOverlaysEnabled
-	/// static methods exported to lua
-	/// udata_vp GetMainViewport ()
-	mixed GetMainViewport (...) {}
-
-	/// udata_vp CreateRTTViewport (udata_rtt,udata_cam) ... RTT =3D render t=
o texture
-	mixed CreateRTTViewport (...) {}
-};
-
-class cRandom_L { public:
-
-	/// object methods exported to lua
-	/// todo : rotation, position, aspect ratio, near/farclip...
-	/// void Destroy ()
-	mixed Destroy (...) {}
-
-	/// void GetInt (max)
-	/// void GetInt (min,max)
-	mixed GetInt (...) {}
-
-	/// void GetFloat ()
-	mixed GetFloat (...) {}
-
-	/// static methods exported to lua
-	/// udata_rnd CreateRandom (iSeed) -- creates a new random number generat=
er with the specified seed
-	mixed CreateRandom (...) {}
-};
-
-class cFIFO_L { public:
-
-	/// static methods exported to lua
-	/// cFIFO* CreateFIFO (); for lua
-	mixed CreateFIFO (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	/// make empty
-	mixed Clear (...) {}
-
-	/// for debugging from lua
-	mixed HexDump (...) {}
-
-	/// for debugging from lua
-	mixed Size (...) {}
-
-	mixed GetTotalPopped (...) {}
-
-	/// drop a specific number of bytes
-	mixed PopRaw (...) {}
-
-	/// hack for bug-handling in network, try to restore previously popped da=
ta
-	mixed HackRestore (...) {}
-
-	/// pops [length] bytes from this fifo and appends them to targetfifo
-	/// for lua : void PopFIFO (targetfifo,length)
-	mixed PopFIFO (...) {}
-
-	/// push cluster
-	mixed PushC (...) {}
-
-	mixed PushI (...) {}
-
-	mixed PushU (...) {}
-
-	mixed PushF (...) {}
-
-	mixed PushS (...) {}
-
-	mixed PushFIFO (...) {}
-
-	mixed PushPlainText (...) {}
-
-	mixed PushFilledString (...) {}
-
-	/// for lua : void PushUnicodeString (ascistring,len)
-	/// converts a normal asci string to unicode and pushes it onto the fifo =
( pushed bytes =3D len * 2 )
-	/// ascistring will be padded with zero bytes to reach len
-	mixed PushFilledUnicodeString (...) {}
-
-	mixed PushUint8 (...) {}
-
-	mixed PushUint16 (...) {}
-
-	mixed PushUint32 (...) {}
-
-	mixed PushInt8 (...) {}
-
-	mixed PushInt16 (...) {}
-
-	mixed PushInt32 (...) {}
-
-	/// respecting network byte order
-	mixed PushNetUint8 (...) {}
-
-	mixed PushNetUint16 (...) {}
-
-	mixed PushNetUint32 (...) {}
-
-	/// pop cluster
-	mixed PopC (...) {}
-
-	mixed PopI (...) {}
-
-	mixed PopU (...) {}
-
-	mixed PopF (...) {}
-
-	mixed PopS (...) {}
-
-	mixed PopFilledString (...) {}
-
-	/// lua: o:PopTerminatedString(terminationstring)
-	/// returns nil if there is no terminationstring
-	mixed PopTerminatedString (...) {}
-
-	mixed PopUnicodeString (...) {}
-
-	mixed PopUnicodeLEString (...) {}
-
-	mixed PopUint32 (...) {}
-
-	mixed PopUint16 (...) {}
-
-	mixed PopUint8 (...) {}
-
-	mixed PopInt32 (...) {}
-
-	mixed PopInt16 (...) {}
-
-	mixed PopInt8 (...) {}
-
-	mixed PopNetUint32 (...) {}
-
-	mixed PopNetUint16 (...) {}
-
-	mixed PopNetUint8 (...) {}
-
-	mixed PopNetInt32 (...) {}
-
-	mixed PopNetInt16 (...) {}
-
-	mixed PopNetInt8 (...) {}
-
-	/// inline bool PeekDecompressIntoFifo (const unsigned int iLenCompressed=
, const unsigned int iLenDecompressed, cFIFO &dst) {
-	mixed PeekDecompressIntoFifo (...) {}
-
-	/// inline int PushCompressFromFifo(cFIFO &src) {
-	mixed PushCompressFromFifo (...) {}
-
-	/// peek cluster
-	mixed PeekNetUint32 (...) {}
-
-	mixed PeekNetUint16 (...) {}
-
-	mixed PeekNetUint8 (...) {}
-};
-
-class cConnection_L { public:
-
-	/// static methods exported to lua
-	/// for lua : cConnection* NetConnect (string host,int port);
-	mixed NetConnect (...) {}
-
-	/// for lua : cConnection* NetLocalMaster ();
-	mixed NetLocalMaster (...) {}
-
-	/// for lua : cConnection* NetLocalSlave (localmaster);
-	mixed NetLocalSlave (...) {}
-
-	/// for lua : NetReadAndWrite ();
-	mixed NetReadAndWrite (...) {}
-
-	/// converts a numeric ip to a %s.%s.%s.%s ip
-	/// for lua : string NtoA (int numeric_ip)
-	mixed NtoA (...) {}
-
-	/// converts a hostname to a ip as string or nil on error
-	/// for lua : int GetHostByName (string hostname)
-	mixed GetHostByName (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	mixed GetRemoteAddress (...) {}
-
-	mixed IsConnected (...) {}
-
-	/// for lua : void Push (fifo)
-	mixed Push (...) {}
-
-	/// ADDS data to fifo, doesn't clear fifo first
-	/// clears network outbuffer
-	/// for lua : void Pop (fifo)
-	mixed Pop (...) {}
-};
-
-class cNetListener_L { public:
-
-	/// static methods exported to lua
-	/// for lua : cNetListener* NetListen (int port);
-	mixed NetListen (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	mixed PopAccepted (...) {}
-};
-
-class cUDP_ReceiveSocket_L { public:
-
-	/// static methods exported to lua
-	/// for lua : cUDP_ReceiveSocket* Create_UDP_ReceiveSocket (int port);
-	mixed Create_UDP_ReceiveSocket (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	/// for lua : resultcode,remoteaddr Receive (fifo);
-	mixed Receive (...) {}
-};
-
-class cUDP_SendSocket_L { public:
-
-	/// static methods exported to lua
-	/// for lua : cUDP_SendSocket* Create_UDP_SendSocket ();
-	mixed Create_UDP_SendSocket (...) {}
-
-	/// object methods exported to lua
-	mixed Destroy (...) {}
-
-	/// for lua : resultcode Send (addr,port,fifo,datalen=3Dfifosize);
-	/// if datalen is not specified, it defaults to the size of the entire fi=
fo
-	/// the data is NOT popped from the fifo
-	/// addr is a light userdata representing the ip address, e.g. from net_L=
.cpp : cConnection_L::GetRemoteAddress
-	mixed Send (...) {}
-};
-
-class cCamera_L { public:
-
-	/// object methods exported to lua
-	/// todo : rotation, position, aspect ratio, near/farclip...
-	/// void Destroy ()
-	mixed Destroy (...) {}
-
-	/// void SetFOVy (float fAngInRadians)
-	mixed SetFOVy (...) {}
-
-	/// void SetNearClipDistance (float f)
-	mixed SetNearClipDistance (...) {}
-
-	/// void SetFarClipDistance (float f) : 0=3Dinfinite
-	mixed SetFarClipDistance (...) {}
-
-	/// void SetProjectionType (int mode) : 0=3DPT_PERSPECTIVE 1=3DPT_ORTHOGR=
APHIC
-	mixed SetProjectionType (...) {}
-
-	/// usually SetAspectRatio(Real(mViewport->getActualWidth()) / Real(mView=
port->getActualHeight()))
-	mixed SetAspectRatio (...) {}
-
-	mixed Move (...) {}
-
-	mixed SetPos (...) {}
-
-	mixed SetRot (...) {}
-
-	/// for lua : x,y,z GetPos ()
-	mixed GetPos (...) {}
-
-	/// for lua : w,x,y,z GetRot ()
-	mixed GetRot (...) {}
-
-	mixed LookAt (...) {}
-
-	mixed GetNearClipDistance (...) {}
-
-	mixed GetFarClipDistance (...) {}
-
-	/// returns cam rotation as euler angles
-	mixed GetEulerAng (...) {}
-
-	/// static methods exported to lua
-	/// udata_cam CreateCamera (sSceneMgrName=3D"main",sCamName=3Duniquename(=
))
-	mixed CreateCamera (...) {}
-
-	/// udata_cam GetMainCam ()
-	mixed GetMainCam (...) {}
-};
-
-class cBeamFilterComplex_L { public:
-
-	/// object methods exported to lua
-	/// void Destroy ()
-	mixed Destroy (...) {}
-
-	/// static methods exported to lua
-	/// udata_cam CreateBeamFilter ()
-	mixed CreateBeamFilter (...) {}
-};
-
-class cGfx2D_L { public:
-
-	/// static methods exported to lua
-	mixed CreateGfx2D (...) {}
-
-	/// creates a gfx2d on kCursorOverlayZOrder, typically used for mouse cur=
sors
-	mixed CreateCursorGfx2D (...) {}
-
-	mixed Destroy (...) {}
-
-	mixed InitPanel (...) {}
-
-	mixed InitCompass (...) {}
-
-	mixed InitCCPO (...) {}
-
-	mixed InitCCTO (...) {}
-
-	mixed InitBCCPO (...) {}
-
-	mixed InitSOC (...) {}
-
-	mixed InitRROC (...) {}
-
-	mixed InitText (...) {}
-
-	mixed SetPrepareFrameStep (...) {}
-
-	mixed SetVisible (...) {}
-
-	/// for overlays
-	mixed SetTransparent (...) {}
-
-	mixed GetVisible (...) {}
-
-	mixed SetMaterial (...) {}
-
-	mixed SetBorderMaterial (...) {}
-
-	mixed SetPos (...) {}
-
-	mixed GetPos (...) {}
-
-	mixed SetDimensions (...) {}
-
-	mixed GetDimensions (...) {}
-
-	mixed SetAlignment (...) {}
-
-	mixed SetTextAlignment (...) {}
-
-	mixed SetUV (...) {}
-
-	mixed SetPartUV (...) {}
-
-	mixed SetClip (...) {}
-
-	mixed SetBorder (...) {}
-
-	mixed SetCharHeight (...) {}
-
-	mixed SetFont (...) {}
-
-	mixed SetText (...) {}
-
-	/// void SetAutoWrap (iMaxW) -- usually in pixels
-	mixed SetAutoWrap (...) {}
-
-	mixed SetColour (...) {}
-
-	/// lt:left top , rb:right bottom
-	/// for lua : void SetColours ((lt:)r,g,b,a, (rt:)r,g,b,a, (lb:)r,g,b,a, =
(rb:)r,g,b,a)
-	mixed SetColours (...) {}
-
-	/// lt:left top , rb:right bottom
-	/// for lua : void SetPartColours (partid, (lt:)r,g,b,a, (rt:)r,g,b,a, (l=
b:)r,g,b,a, (rb:)r,g,b,a)
-	mixed SetPartColours (...) {}
-
-	mixed SetRotate (...) {}
-
-	/// only for cColourClipTextOverlay
-	mixed GetTextBounds (...) {}
-
-	/// only for cColourClipTextOverlay
-	mixed GetGlyphAtPos (...) {}
-
-	/// only for cColourClipTextOverlay
-	mixed GetGlyphBounds (...) {}
-
-	mixed GetLeft (...) {}
-
-	mixed GetTop (...) {}
-
-	mixed GetDerivedLeft (...) {}
-
-	mixed GetDerivedTop (...) {}
-
-	mixed GetWidth (...) {}
-
-	mixed GetHeight (...) {}
-
-	/// void RenderableBegin (iVertexCount,iIndexCount,bDynamic,bKeepOldIndic=
es,opType)
-	/// optype like OT_TRIANGLE_LIST
-	mixed RenderableBegin (...) {}
-
-	/// void RenderableVertex ()
-	mixed RenderableVertex (...) {}
-
-	/// must be called between RenderableBegin and RenderableEnd
-	/// void RenderableIndex (iIndex)
-	mixed RenderableIndex (...) {}
-
-	/// must be called between RenderableBegin and RenderableEnd
-	/// void RenderableIndex3 (iIndex,iIndex,iIndex)
-	mixed RenderableIndex3 (...) {}
-
-	/// void RenderableSkipVertices ()
-	mixed RenderableSkipVertices (...) {}
-
-	/// void RenderableSkipIndices ()
-	mixed RenderableSkipIndices (...) {}
-
-	/// void RenderableEnd ()
-	mixed RenderableEnd (...) {}
-
-	/// ***** ***** ***** ***** ***** SortedOverlayContainer
-	/// void SOC_ChildBringToFront (child)
-	mixed SOC_ChildBringToFront (...) {}
-
-	/// void SOC_ChildSendToBack (child)
-	mixed SOC_ChildSendToBack (...) {}
-
-	/// void SOC_ChildInsertAfter (child,other)
-	mixed SOC_ChildInsertAfter (...) {}
-
-	/// void SOC_ChildInsertBefore (child,other)
-	mixed SOC_ChildInsertBefore (...) {}
-
-	/// ***** ***** ***** ***** ***** rest
-	/// only for cCompassOverlay
-	mixed SetUVMid (...) {}
-
-	/// only for cCompassOverlay
-	mixed SetUVRad (...) {}
-
-	/// only for cCompassOverlay
-	mixed SetAngBias (...) {}
-
-	/// only for cSortedOverlayContainer
-	mixed SetRankFactor (...) {}
-
-	/// gfx2D:SetTrackPosSceneNode(gfx3d or nil)
-	mixed SetTrackPosSceneNode (...) {}
-
-	/// gfx2D:SetTrackOffset(float x,float y)
-	mixed SetTrackOffset (...) {}
-
-	/// gfx2D:SetTrackMouse(bool bOn)
-	mixed SetTrackMouse (...) {}
-};
-
-class cDialog_L { public:
-
-	/// static methods exported to lua
-	mixed MyCreateDialog (...) {}
-
-	mixed Destroy (...) {}
-
-	/// cWidget* CreateWidget (cWidget* pParent=3D0,const char* sID=3D0); ///=
< parent and id cannot change, see also cWidget::CreateChild()
-	mixed CreateWidget (...) {}
-
-	/// void BringToFront ();
-	mixed BringToFront (...) {}
-
-	/// void SendToBack ();
-	mixed SendToBack (...) {}
-
-	/// void SetVisible (const bool bVisible);
-	mixed SetVisible (...) {}
-};
-
-class cWidget_L { public:
-
-	/// static methods exported to lua
-	/// lua: widgetid GetWidgetUnderPos (x,y)
-	mixed GetWidgetUnderPos (...) {}
-
-	/// object methods exported to lua
-	/// void Destroy (); ///< shortcut to cDialog::DestroyWidget(this)
-	mixed Destroy (...) {}
-
-	/// cWidget* CreateChild (const char* sID=3D0); ///< shortcut to cDialog:=
:CreateWidget(this,sID);
-	mixed CreateChild (...) {}
-
-	mixed UpdateClip (...) {}
-
-	mixed SetBitMask (...) {}
-
-	/// lua: bool IsUnderPos (x,y)
-	mixed IsUnderPos (...) {}
-};
-
-class cThread_NetRequest_L { public:
-
-	/// static methods exported to lua
-	/// pSendData is used by the thread, DO NOT USE OR RELEASE IT UNTIL THE T=
HREAD IS FINISHED
-	/// pAnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTIL T=
HE THREAD IS FINISHED
-	/// thread_netr CreateThread_NetRequest (sHost,iPort,fifo_SendData=3Dnil,=
fifo_pAnswerBuffer=3Dnil)
-	mixed CreateThread_NetRequest (...) {}
-
-	/// object methods exported to lua
-	/// Destroy()
-	mixed Destroy (...) {}
-
-	/// bool IsFinished ()
-	mixed IsFinished (...) {}
-
-	/// bool HasError ()
-	mixed HasError (...) {}
-};
-
-class cThread_LoadFile_L { public:
-
-	/// static methods exported to lua
-	/// pAnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTIL T=
HE THREAD IS FINISHED
-	/// thread_loadf CreateThread_LoadFile (sFilePath,fifo_answerbuffer,iStar=
t=3D0,iLength=3D-1)
-	mixed CreateThread_LoadFile (...) {}
-
-	/// object methods exported to lua
-	/// Destroy()
-	mixed Destroy (...) {}
-
-	/// bool IsFinished ()
-	mixed IsFinished (...) {}
-
-	/// bool HasError ()
-	mixed HasError (...) {}
-};



From no-reply at zwischenwelt.org  Fri Nov 23 22:53:45 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 23 Nov 2007 21:53:45 -0000
Subject: [Iris-commit] [IRIS] r1525 - in /trunk: generate_lua_api.php
	lua_api_pseudo_code.cpp
Message-ID: <20071123215347.AAB391C1829E@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 23 22:53:41 2007
New Revision: 1525

Log:
lua doc fix

Modified:
    trunk/generate_lua_api.php
    trunk/lua_api_pseudo_code.cpp

Modified: trunk/generate_lua_api.php
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/generate_lua_api.php (original)
+++ trunk/generate_lua_api.php Fri Nov 23 22:53:41 2007
@@ -13,11 +13,11 @@
 	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'src=
/		-name "*script*.cpp" ! -type d ! -wholename "*/.svn*"'));
 	$files_cpp =3D array_merge($files_cpp,ExecGetLines('find '.$basepath.'lug=
re/src/	-name "*script*.cpp" ! -type d ! -wholename "*/.svn*"'));
 	=

-	$files_lua =3D array();
-	$files_cpp =3D array();
+	//~ $files_lua =3D array();
+	//~ $files_cpp =3D array();
 	//~ $files_lua =3D array("data/lua/obj/obj.mobile.lua");
 	//~ $files_cpp =3D array("lugre/src/lugre_net_L.cpp");
-	$files_cpp =3D array("src/data_L.cpp");
+	//~ $files_cpp =3D array("src/data_L.cpp");
 	=

 	$methods_global =3D array();
 	$methods_byclass =3D array();

Modified: trunk/lua_api_pseudo_code.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua_api_pseudo_code.cpp (original)
+++ trunk/lua_api_pseudo_code.cpp Fri Nov 23 22:53:41 2007
@@ -1,4 +1,3926 @@
+// ##### data/lua/lib.loading.lua
+// ##### data/lua/lib.gui.iris.lua
+// ##### data/lua/lib.uoids.lua
+// ##### data/lua/lib.3d.mousepick.lua
+// ##### data/lua/filter/filter.map.lua
+// ##### data/lua/filter/filter.granny.lua
+// ##### data/lua/filter/filter.art.lua
+// ##### data/lua/lib.mousepick.lua
+// ##### data/lua/lib.xml.lua
+// ##### data/lua/lib.protocol.lua
+// ##### data/lua/lib.keybinds.lua
+// ##### data/lua/lib.terrain.lua
+// ##### data/lua/lib.bodygfx.lua
+// ##### data/lua/lib.cliloc.lua
+// ##### data/lua/lib.3d.cam.lua
+// ##### data/lua/lib.compass.lua
+// ##### data/lua/lib.speech.lua
+// ##### data/lua/lib.granny.lua
+// ##### data/lua/lib.data.lua
+// ##### data/lua/lib.gfm.lua
+// ##### data/lua/lib.journal.lua
+// ##### data/lua/lib.debug.lua
+// ##### data/lua/lib.skill.lua
+// ##### data/lua/net.walk.lua
+// ##### data/lua/lib.walking2.lua
+// ##### data/lua/net.popup.lua
+// ##### data/lua/lib.gumpparser.lua
+// ##### data/lua/lib.3d.map.lua
+// ##### data/lua/lib.static.lua
+// ##### data/lua/lib.oldwalk.lua
+// ##### data/lua/lib.season.lua
+// ##### data/lua/lib.tilefreewalk.lua
+// ##### data/lua/net.cursor.lua
+// ##### data/lua/lib.test.lua
+// ##### data/lua/net.other.lua
+// ##### data/lua/lib.uodragdrop.lua
+// ##### data/lua/lib.packet.lua
+// ##### data/lua/lib.sound.iris.lua
+// ##### data/lua/lib.spellbooks.lua
+// ##### data/lua/main.lua
+// ##### data/lua/net.trade.lua
+// ##### data/lua/lib.net.lua
+// ##### data/lua/lib.3d.combat.lua
+// ##### data/lua/lib.3d.renderer.lua
+// ##### data/lua/lib.filepath.lua
+// ##### data/lua/2d/lib.2d.renderer.luac
+// ##### data/lua/2d/lib.2d.config.lua
+// ##### data/lua/lib.renderer.lua
+// ##### data/lua/lib.mainmenu.lua
+// ##### data/lua/lib.pagedialog.lua
+// ##### data/lua/lib.stitchin.lua
+// ##### data/lua/lib.debugmenu.lua
+// ##### data/lua/lib.fallback.lua
+// ##### data/lua/gui/gui.main.lua
+// ##### data/lua/gui/gui.paperdoll.lua
+// ##### data/lua/gui/gui.container.lua
+// ##### data/lua/gui/gui.status.lua
+// ##### data/lua/gui/gui.widget.lua
+// ##### data/lua/gui/gui.quit.lua
+// ##### data/lua/gui/gui.journal.lua
+// ##### data/lua/gui/gui.gumpmanager.lua
+// ##### data/lua/gui/gui.styles.lua
+// ##### data/lua/lib.diff.lua
+// ##### data/lua/lib.deffileparser.lua
+// ##### data/lua/lib.charcreate.lua
+// ##### data/lua/lib.devtool.lua
+// ##### data/lua/lib.corpse.lua
+// ##### data/lua/net/net.main.lua
+// ##### data/lua/net/net.object.lua
+// ##### data/lua/net/net.dynamic.lua
+// ##### data/lua/net/net.effect.lua
+// ##### data/lua/net/net.uodragdrop.lua
+// ##### data/lua/net/net.multi.lua
+// ##### data/lua/net/net.mobile.lua
+// ##### data/lua/net/net.packethandlers.lua
+// ##### data/lua/net/net.corpse.lua
+// ##### data/lua/net/net.skill.lua
+// ##### data/lua/net/net.world.lua
+// ##### data/lua/net/net.login.lua
+// ##### data/lua/net/net.sound.lua
+// ##### data/lua/lib.mount.lua
+// ##### data/lua/net.securetrade.lua
+// ##### data/lua/lib.input.iris.lua
+// ##### data/lua/obj/obj.main.lua
+// ##### data/lua/obj/obj.player.lua
+// ##### data/lua/obj/obj.mobile.lua
+// ##### data/lua/obj/obj.dynamic.lua
+// ##### data/lua/obj/obj.container.lua
+// ##### data/lua/lib.plaingui.iris.lua
+// ##### data/lua/lib.bugreport.lua
+// ##### data/lua/lib.3d.mobile.lua
+// ##### data/lua/lib.3d.dynamic.lua
+// ##### data/lua/lib.3d.walksmooth.lua
+// ##### lugre/lua/lib.preview.lua
+// ##### lugre/lua/lib.fadelines.lua
+// ##### lugre/lua/lib.edittext.lua
+// ##### lugre/lua/lib.prism.lua
+// ##### lugre/lua/lib.tooltip.lua
+// ##### lugre/lua/lib.netmessage.lua
+// ##### lugre/lua/lib.voxel.lua
+// ##### lugre/lua/lib.material.lua
+// ##### lugre/lua/lib.plugin.lua
+// ##### lugre/lua/lib.time.lua
+// ##### lugre/lua/lib.input.lua
+// ##### lugre/lua/lib.cam.lua
+// ##### lugre/lua/lib.guimaker.lua
+// ##### lugre/lua/lib.beam.lua
+// ##### lugre/lua/lib.types.lua
+// ##### lugre/lua/lib.guiutils.lua
+// ##### lugre/lua/lib.plaingui.lua
+// ##### lugre/lua/lib.primitive.lua
+// ##### lugre/lua/lib.contextmenu.lua
+// ##### lugre/lua/lugre.lua
+// ##### lugre/lua/lib.irc.lua
+// ##### lugre/lua/lib.cursor.lua
+// ##### lugre/lua/lib.util.lua
+// ##### lugre/lua/lib.gui.lua
+// ##### lugre/lua/lib.listener.lua
+// ##### lugre/lua/lib.movedialog.lua
+// ##### lugre/lua/lib.chatline.lua
+// ##### lugre/lua/lib.box.lua
+// ##### lugre/lua/lib.sound.lua
+// ##### lugre/lua/udata.lua
+// ##### lugre/lua/lib.http.lua
+// ##### lugre/lua/lib.filebrowser.lua
+// ##### lugre/lua/lib.ode.lua
+// ##### lugre/lua/lib.thread.lua
 // ##### src/data_L.cpp
+// ##### src/builder_L.cpp
+// ##### src/granny_L.cpp
+// ##### src/spritemanager_L.cpp
+// ##### src/ogremanualloader_L.cpp
+// ##### src/radar_L.cpp
+// ##### lugre/src/lugre_rendertexture_L.cpp
+// ##### lugre/src/lugre_sound_L.cpp
+// ##### lugre/src/lugre_bitmask_L.cpp
+// ##### lugre/src/lugre_material_L.cpp
+// ##### lugre/src/lugre_gfx3D_L.cpp
+// ##### lugre/src/lugre_ode_L.cpp
+// ##### lugre/src/lugre_viewport_L.cpp
+// ##### lugre/src/lugre_random_L.cpp
+// ##### lugre/src/lugre_fifo_L.cpp
+// ##### lugre/src/lugre_net_L.cpp
+// ##### lugre/src/lugre_camera_L.cpp
+// ##### lugre/src/lugre_beam_L.cpp
+// ##### lugre/src/lugre_gfx2D_L.cpp
+// ##### lugre/src/lugre_widget_L.cpp
+// ##### lugre/src/lugre_thread_L.cpp
+// ##### src/scripting.iris.cpp
+// ##### lugre/src/lugre_scripting.cpp
+// ##### lugre/src/lugre_scripting.general.cpp
+// ##### lugre/src/lugre_scripting.ogre.cpp
+
+/// profiles the time took by the different loading phases, and displays a=
 text about what is currently being loaded
+mixed	LoadingProfile	(mixed sCurAction,mixed bIsPreOgre) {}
+
+/// create a ogre font from a uo unifont file
+/// name =3D resourcename
+/// filename =3D unifont filename
+mixed	CreateUniFont	(mixed filename,mixed name) {}
+
+/// don't load new map immediately, several mapchanges might be sent at lo=
gin quickly
+mixed	MapChangeRequest	(mixed iMaxNewIndex) {}
+
+/// Loads Maps+Statics+Diff Files (only pre 6.0.0)
+mixed	LoadMap	(mixed index) {}
+
+/// text-line at the bottom of screen (readonly, used for mousepicking deb=
ug text and for info during loading)
+mixed	Client_SetBottomLine	(mixed text) {}
+
+mixed	DisplayMemoryUsage	(mixed memoryusage) {}
+
+/// sets the hitpoints in percentage if the mobile npc dialog is opened
+mixed	SetNpcStatusHitpoints	(mixed mobile,mixed hitpoints) {}
+
+/// Open Status Gump
+mixed	OpenStatus	(mixed mobile,mixed x,mixed y) {}
+
+/// Close Status Gump
+mixed	CloseStatus	(mixed mobile) {}
+
+mixed	SendChat	(mixed curtext) {}
+
+/// returns mapped grannyid or nil
+mixed	FilterMap	(mixed iTranslatedTileTypeID) {}
+
+/// FILTER: Grannys
+mixed	GrannyOverride	(mixed mobileartid) {}
+
+/// FILTER: map Mesh to other Mesh
+mixed	FilterMesh	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterOrientation	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterPositionX	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterPositionY	(mixed iTranslatedTileTypeID) {}
+
+mixed	FilterPositionZ	(mixed iTranslatedTileTypeID) {}
+
+/// FILTER: static water and map to extra material (one for shaders and on=
e for normal mode (because we dont have coastline models))
+mixed	FilterStaticWater	(mixed iTranslatedTileTypeID,mixed iHue) {}
+
+/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>f=
 TerrainRayIntersect_Hit .lua
+mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit_=
dist,mixed minz,mixed maxz) {}
+
+/// utilities for xml
+/// finds the first (or index'th) child with child.name=3Dname
+/// index : one-based indices default =3D one =3D first
+mixed	xmlchild	(mixed xmlnode,mixed name,mixed index) {}
+
+/// recieves a value from a child or nil on error
+/// shortcut for xmlchild (xmlnode,name,index)[1] with error handling
+mixed	xmlvalue	(mixed xmlnode,mixed name,mixed index) {}
+
+mixed	xmldump	(mixed o,mixed L) {}
+
+mixed	DirWrap	(mixed iDir) {}
+
+mixed	DirFromLocalDxDy	(mixed dx,mixed dy) {}
+
+mixed	DirFromUODxDy	(mixed dx,mixed dy) {}
+
+/// interpret dircode in ogre coordinate system
+mixed	GetDirXLocal	(mixed dir) {}
+
+mixed	GetDirYLocal	(mixed dir) {}
+
+/// interpret dircode in uo coordinate system uneven numbers (1,3,5,7) are=
 diagonal
+mixed	DirisDiagonal	(mixed dir) {}
+
+mixed	GetDirX	(mixed dir) {}
+
+mixed	GetDirY	(mixed dir) {}
+
+mixed	LogOutgoingPacket	(mixed fifo,mixed len) {}
+
+mixed	LogIncomingPacket	(mixed fifo,mixed len) {}
+
+mixed	LogPacket	(mixed fifo,mixed len,mixed direction) {}
+
+/// request profile
+mixed	Send_RequestProfile	(mixed  serial ) {}
+
+/// called by the c function BuildTerrainEntity_Shaded, has to return a ma=
terial name for a tiletypeid, used for terrain
+mixed	BuildTerrainEntity_Shaded_GetMaterial	(mixed iTileTypeID) {}
+
+/// called by the c function BuildTerrainEntity_Simple, has to return a ma=
terial name for a tiletypeid, used for terrain
+mixed	BuildTerrainEntity_Simple_GetMaterial	(mixed iTileTypeID) {}
+
+mixed	GetTerrainMaterial	(mixed iTileTypeID,mixed bLighting) {}
+
+/// see config.lua.dist for kMountZAdd
+/// ##### ##### ##### ##### ##### construction,destruction
+mixed	CreateBodyGfx	(mixed ...) {}
+
+mixed	BodyGfxGetStateAnimID	(mixed bodyid,mixed bWalk,mixed bRun,mixed bId=
le,mixed bHasMount,mixed bWarMode,mixed bHasStaff) {}
+
+/// ##### ##### ##### ##### ##### generating gfx
+mixed	MakeBodyPartGfx	(mixed modelid,mixed meshname,mixed partgfx,mixed fo=
rcescalex,mixed forcescaley,mixed forcescalez) {}
+
+/// creates childnodes of parentgfx and adds inserts them into the partsar=
r table
+mixed	CreateBodyGfxPartsFromModelIDArray	(mixed bodyid,mixed parentgfx,mix=
ed partsarr,mixed modelidarr,mixed iPrimaryHandItem,mixed iSecondaryHandIte=
m) {}
+
+/// done reading cliloc uo/Cliloc.enu, index range from 500000 to 3011032
+mixed	GetIntLocText	(mixed intlocid,mixed textid) {}
+
+mixed	CreateClilocLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile) {}
+
+/// override_file can be nil
+mixed	CreateClilocLoaderFullFile	(mixed base_file,mixed override_file,mixe=
d bWarnOnMissingFile) {}
+
+mixed	SetCompassMapIndex	(mixed iMapIndex) {}
+
+/// factor > 1 increases sight radius
+/// zoom map in compass, called from lib.input.lua on keypress (,.)
+mixed	ZoomCompass	(mixed factor) {}
+
+/// show/hide compass, called from lib.input.lua on keypress (n)
+mixed	ToggleCompass	(mixed bKeyIsDown) {}
+
+/// speech.mul loader
+/// Keywords detected from client-chat, converted back to index id and sen=
d to server
+/// see also http://doc.wpdev.org/formats/speech.html
+mixed	GetSpeechID	(mixed text) {}
+
+mixed	CreateSpeechLoader	(mixed loadertype,mixed base_file,mixed bWarnOnMi=
ssingFile) {}
+
+/// TODO : Unicode ?
+/// speech.mul values (index,length) are BigEndian
+mixed	CreateSpeechLoaderFullFile	(mixed base_file,mixed bWarnOnMissingFile=
) {}
+
+mixed	CreateGrannyLoader	(mixed loadertype,mixed base_file,mixed localisat=
ion_file,mixed bWarnOnMissingFile) {}
+
+/// retrieves or creates a skeleton and fills it with bones from the first=
 animation
+/// local skeleton =3D GetOrCreateSkeleton(bodyid)
+/// create the skeleton before creating any entities of this bodyid
+mixed	GetOrCreateSkeleton	(mixed bodyid) {}
+
+/// retrieves or creates a granny animation and loads it into the skeleton=
 used for this bodytype
+mixed	LoadGrannyAnim	(mixed bodyid,mixed animid,mixed skeleton,mixed bodyp=
artsamples) {}
+
+/// GetAnimPath(234,0) returns something like "uo/Models/Animals/Deer_Stag=
_Walk.grn"
+/// Models.txt : 234 2 0 FFFFFFFF 0 1.3 1.3 1.3 deer_stag
+/// Animal.lst : 0 Walk
+mixed	GetAnimPath	(mixed mobileartid,mixed animid) {}
+
+/// GetAnimName(400,23) looks in Human.lst for animid 23 and returns "Hors=
e_Walk_01"
+/// determines "type" (human,animal,monster,sea,other) from the second col=
umn in the Models.txt
+/// Human.lst : 23 Horse_Walk_01
+mixed	GetAnimName	(mixed mobileartid,mixed animid) {}
+
+/// loads an anim info file, like Monster.lst
+mixed	LoadGrannyAnimInfo	(mixed filepath) {}
+
+/// ##### ##### ##### ##### ##### rest
+/// returns true if female
+mixed	IsBodyIDFemale	(mixed bodyid) {}
+
+mixed	IsBodyIDHuman	(mixed bodyid) {}
+
+mixed	GrannyTextureHook	(mixed x) {}
+
+/// takes the result of GetGrannyTextureName as paramter
+/// transforms Ut128_Hat_Wide_Brim.tga into Ut128_Hat_Wide_Brim_M.tga
+/// assumes suffixlength =3D 4 (.tga)
+mixed	GetGrannyTextureMaskName	(mixed texname) {}
+
+mixed	GetGrannyMat	(mixed modelid,mixed hue,mixed mygranny) {}
+
+/// some tests if the granny model format is as expected (for models, not =
for anims)
+mixed	CheckGrannyModel	(mixed granny) {}
+
+mixed	GetGrannyParamGroups	(mixed granny) {}
+
+/// index is 0 by default, more than one texture per granny is currently n=
ot supported
+mixed	GetGrannyTextureName	(mixed granny,mixed index) {}
+
+mixed	GetGrannyMeshName	(mixed modelid,mixed skeletonname,mixed hue) {}
+
+mixed	GetGrannyModelLoader	(mixed modelid) {}
+
+mixed	LoadGrannyModelInfo	(mixed filepath) {}
+
+mixed	GetGrannyModelInfo	(mixed modelid) {}
+
+mixed	TestGranny	(mixed modelid) {}
+
+/// nil if not wearable
+mixed	GetPaperdollLayerFromTileType	(mixed iTileTypeID) {}
+
+mixed	GetStaticTileTypeName	(mixed iTileTypeID) {}
+
+mixed	GetStaticTileTypeFlags	(mixed iTileTypeID) {}
+
+/// info on statics, dynamics, items in containers, wearables etc (everyth=
ing except terrain)
+mixed	GetStaticTileType	(mixed iTileTypeID) {}
+
+mixed	GetArtBitMask	(mixed iArtID) {}
+
+/// [[
+mixed	old_GetArtMat	(mixed iArtID,mixed iHue) {}
+
+mixed	SaveUOModelImageToFile	(mixed rtt,mixed texname) {}
+
+/// New GetArtMat with RTT support
+mixed	GetArtMat	(mixed iArtID,mixed iHue) {}
+
+mixed	GetArtBillBoardMat	(mixed iArtID,mixed iHue) {}
+
+/// GetArtSize from gArtMatCache or generateSize
+mixed	GetArtSize	(mixed iArtID,mixed iHue) {}
+
+mixed	GetGumpBitMask	(mixed iGumpID) {}
+
+mixed	GetGumpMat	(mixed iGumpID,mixed iHue) {}
+
+mixed	GetGumpSize	(mixed iGumpID) {}
+
+mixed	GetTexMapMat	(mixed iTexMapID) {}
+
+mixed	GetTexMapSize	(mixed iTexMapID) {}
+
+/// --------------------------------------- the following parts are copied=
 from lugre and modified, should be merged into lugre ---------------------=
----------------------
+/// this is normally in lugre - just a bit modified - should be removed so=
metimes
+mixed	GetMeshPreviewX	(mixed meshname,mixed res,mixed angh,mixed angv,mixe=
d pixelformat,mixed r,mixed g,mixed b,mixed a) {}
+
+mixed	GumpButtonSetOver	(mixed widget) {}
+
+mixed	GumpButtonSetNormal	(mixed widget) {}
+
+mixed	GumpButtonSetPressed	(mixed widget) {}
+
+/// creates a button with mouseover and pressed effect
+/// w,h can be left out to determine automatically
+mixed	MakeGumpButton	(mixed parent,mixed gumpid_normal,mixed gumpid_over,m=
ixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefaul=
t) {}
+
+/// creates a checkbox-button with automatic normal/checked graphic
+/// w,h can be left out to determine automatically
+mixed	MakeGumpCheckBox	(mixed parent,mixed bChecked,mixed gumpid_normal,mi=
xed gumpid_checked,mixed x,mixed y,mixed w,mixed h,mixed bCallDialogDefault=
) {}
+
+/// creates a button with mouseover and pressed effect, onClickFunction ge=
ts called onclick :)
+/// onClickFunction(widget,mousebutton)
+/// w,h can be left out to determine automatically
+mixed	MakeGumpButtonFunctionOnClick	(mixed parent,mixed gumpid_normal,mixe=
d gumpid_over,mixed gumpid_pressed,mixed x,mixed y,mixed w,mixed h,mixed on=
ClickFunction) {}
+
+mixed	MakeBorderGump	(mixed parent,mixed iBaseID,mixed x,mixed y,mixed cx,=
mixed cy) {}
+
+/// sPart is an index of gBorderGumpIndexAdd, eg "LT", "M" ,...
+mixed	MakeBorderGumpPart	(mixed parent,mixed iGumpID,mixed x,mixed y,mixed=
 cx,mixed cy,mixed skip_rows_from_top,mixed hueid) {}
+
+/// Art image for Gumps
+mixed	MakeArtGumpPart	(mixed parent,mixed iArtID,mixed x,mixed y,mixed cx,=
mixed cy,mixed skip_rows_from_top,mixed hueid) {}
+
+mixed	GumpTestAdd	(mixed i) {}
+
+mixed	CreateGumpDlgFromGfm	(mixed path) {}
+
+mixed	GumpDlgAddGfmControlNode	(mixed dialog,mixed node) {}
+
+mixed	GfmDump	(mixed path) {}
+
+mixed	RegisterJournalEntryType	(mixed name) {}
+
+mixed	JournalAddEntry	(mixed entrytype,mixed ...) {}
+
+mixed	ShowJournalPage	(mixed pagenum) {}
+
+mixed	DebugStacktraceFunctionName	(mixed level) {}
+
+mixed	DebugStacktraceFunctionDescr	(mixed level) {}
+
+mixed	DebugHook_CallPrint	(mixed event) {}
+
+mixed	DebugPrintCallCountTopX	(mixed title,mixed fun,mixed minval) {}
+
+/// sets a skill value and lock state
+/// lockstate: (0=3Dup, 1=3Ddown, 2=3Dlocked)
+mixed	SkillUpdate	(mixed skillid,mixed value,mixed base_value,mixed lockst=
ate) {}
+
+/// creates a quickcast button at the given position
+mixed	CreateQuickCastButton	(mixed x,mixed y,mixed name,mixed fun) {}
+
+mixed	Request_Movement	(mixed iDir,mixed bRunning) {}
+
+mixed	WalkLog	(mixed ...) {}
+
+/// note : according to packetguides, the order of the key-use is not impo=
rtant
+mixed	FastWalk_Init	(mixed keyarr) {}
+
+mixed	FastWalk_PushKey	(mixed key) {}
+
+/// fulldir CAN include runflag
+mixed	SetPlayerPos	(mixed xloc,mixed yloc,mixed zloc,mixed fulldir) {}
+
+/// just look in dir, don't start walking, doesn't need clientside collisi=
on detection
+mixed	WalkStep_TurnToDir	(mixed iDir) {}
+
+/// clientside collision check, returns true if passable
+mixed	WalkStep_CanWalkInDir	(mixed iDir) {}
+
+/// does collision detection, tries neighboring dirs if direct walk is blo=
cked
+mixed	WalkStep_WalkInDir	(mixed iDir,mixed bRunFlag,mixed bTrySides) {}
+
+mixed	WalkStep_WalkToPosSimple	(mixed xloc,mixed yloc,mixed bRunFlag,mixed=
 bTrySides) {}
+
+mixed	WalkGetInterval	(mixed bRunFlag) {}
+
+/// internal, don't call directly, no check for walkable, only checks for =
time
+mixed	ExecWalkRequestIfPossible	(mixed iDir,mixed bRunFlag) {}
+
+/// internal, don't call directly
+mixed	SendWalkRequest	(mixed iFullDir,mixed iSeqNum,mixed iFastKey) {}
+
+/// TODO : is this the same as Send_Movement_Resync_Request ?
+mixed	Send_Accept_Block_Movement	(mixed seqnumber) {}
+
+/// called from kPacket_Teleport
+mixed	NotifyTeleport	(mixed mobiledata) {}
+
+mixed	printwalkdebug	(mixed ...) {}
+
+/// returns tiletype,zloc
+mixed	GetAbsTile	(mixed xloc,mixed yloc) {}
+
+/// Calc the average Z Value for the new Player pos (don't use this for ca=
lculations)
+mixed	AverageGroundHeight	(mixed bx,mixed by,mixed tx,mixed ty) {}
+
+mixed	isBridge	(mixed flag) {}
+
+mixed	isSurface	(mixed flag) {}
+
+mixed	isImpassable	(mixed flag) {}
+
+/// a little helper for GetWalkingBlockFlags(...)
+mixed	GetWalkingBlockFlagsHelper	(mixed zloc,mixed artid,mixed flaglist) {}
+
+/// returns an array of flags (impassable, surface, maptile)
+/// array might contain empty entries (meaning on the specific z level is =
neither something blocking nor a surface/maptile)
+mixed	GetWalkingBlockFlags	(mixed bx,mixed by,mixed tx,mixed ty) {}
+
+/// check for free space (!impassable), char is 15 zlevels tall
+/// if diagonalCheck is true land tiles above zloc+gMaxZ_Climb (resp. +5 f=
or maptiles) are blocking, underneath they are ignored
+/// returns true or false
+mixed	CheckZSpace	(mixed flaglist,mixed zloc,mixed diagonalCheck,mixed hei=
ght) {}
+
+/// check adjacent coordinates when walking diagonally
+/// OSI is not looking for a surface on those tiles, it only checks that t=
here is nothing blocking
+/// OSI takes the current z level to check for that, not the z level of th=
e target tile
+/// returns true or false
+mixed	CheckAdjacentTiles	(mixed bx,mixed by,mixed tx,mixed ty,mixed iDir,m=
ixed iStartZ) {}
+
+/// Can walk the tile, the tile's height and if the tile's a stair
+/// (about 30 in int, or 3.0 in float (*0.1) is the height of a door)
+/// two values are returned: is walkable, new Z Level
+mixed	GetNearestGroundLevel	(mixed xloc,mixed yloc,mixed iStartZ,mixed iDi=
r) {}
+
+/// triggers -- which came from kPacket_Generic_SubCommand_DisplayPopup
+mixed	Send_PopupRequest	(mixed serial) {}
+
+/// sends kPacket_Generic_SubCommand_PopupEntrySelect after the user has c=
hoosen an answer to the popup
+/// which came from kPacket_Generic_SubCommand_DisplayPopup
+/// see also SendPopupChoice() from old iris
+mixed	Send_PopupAnswer	(mixed popupserial,mixed entrytag) {}
+
+/// close global unique popup, for left-click-close-popup
+mixed	ClosePopUpMenu	(mixed widget) {}
+
+/// TODO : check if popupmenu is already opened for this mobile ! (otherwi=
se it would be opened twice)
+mixed	DisplayPopupMenu	(mixed popupmenu) {}
+
+mixed	GetPopupEntryText	(mixed textid) {}
+
+mixed	ServerSideGump_GetParams	(mixed dialogId) {}
+
+mixed	CloseServerSideGump	(mixed playerId,mixed dialogId,mixed buttonId) {}
+
+/// gGumpPositions[serial] =3D { x=3Dwidget.gfx:GetDerivedLeft() , y=3Dwid=
get.gfx:GetDerivedTop() } z.b.
+mixed	GumpParser	(mixed Gumpdata) {}
+
+/// [[
+/// Support for BR,B,I,U,BODY,DIV,COLOR,BASEFONT,CENTER needed
+mixed	HtmlParser	(mixed htmlstring) {}
+
+/// simple html parser (only center,basefont,br and color tags yep realize=
d)
+/// TODO : BODY, <A HREF=3D"HTTP://www.polserver.com">This is a link</A>
+mixed	HtmlParser	(mixed textstring) {}
+
+/// used by lib.map.lua
+/// handles static models (walls, trees...)
+/// returns the model name with the given id
+/// TODO handle custom stuff?
+mixed	GetModelName	(mixed id) {}
+
+mixed	GetModelPath	(mixed id) {}
+
+mixed	HasModelOnlyOneUoArt_Cached	(mixed iTileTypeID) {}
+
+/// returns true if the model has only one different material that is a uo=
art
+mixed	HasModelOnlyOneUoArt	(mixed iTileTypeID) {}
+
+mixed	GetStaticMeshName	(mixed iTileTypeID,mixed iHue) {}
+
+mixed	GetStaticMeshOrientation	(mixed iTileTypeID) {}
+
+mixed	OldWalkWarn	(mixed fname) {}
+
+/// sets the given tile coordinates as walk target
+/// bHaltBefore : if true, stop one field before the target
+mixed	SetAutoWalkTo	(mixed x,mixed y,mixed bHaltBefore) {}
+
+/// will follow a given mobile
+mixed	SetFollowMobile	(mixed serial) {}
+
+mixed	ParseHex2HexArray	(mixed arr) {}
+
+/// Seasonal Ground Art/Map Translation (raw tiles)
+mixed	SeasonalMapTranslation	(mixed iTileTypeID,mixed iSeasonID) {}
+
+/// Seasonal Dynamic & Static Art Translation (run tiles)
+/// eventuell (iTileTypeID + 16384)
+mixed	SeasonalStaticTranslation	(mixed iTileTypeID,mixed iSeasonID) {}
+
+/// ##### ##### ##### ##### ##### step
+mixed	InterpolateSquare	(mixed z00,mixed z10,mixed z01,mixed z11,mixed fx,=
mixed fy) {}
+
+mixed	GetGround	(mixed x,mixed y) {}
+
+mixed	WalkLog2	(mixed ...) {}
+
+mixed	RegisterZ	(mixed ldx,mixed ldy,mixed iNewZ) {}
+
+mixed	CheckDir	(mixed iDir) {}
+
+mixed	SetUOCursor	(mixed iIndex) {}
+
+/// automatic texture correction
+/// TODO : add gumpart
+mixed	SetDragIcon	(mixed matname,mixed w,mixed h,mixed offx,mixed offy) {}
+
+mixed	Send_Target_Ground	(mixed x,mixed y,mixed z) {}
+
+mixed	Send_Target_Static	(mixed x,mixed y,mixed z,mixed entity) {}
+
+mixed	Send_Target_Item	(mixed item) {}
+
+mixed	Send_Target_Mobile	(mixed mobile) {}
+
+mixed	Send_Target_Dynamic	(mixed dynamic) {}
+
+/// Send Targetcursor (0x6c)
+mixed	Send_Target	(mixed bIsPos,mixed flag,mixed serial,mixed x,mixed y,mi=
xed z,mixed model) {}
+
+/// count how often every type of static occurs on the map
+mixed	AnalyseStatics	(mixed index) {}
+
+mixed	LuaBitwiseTest_FIFO	(mixed a) {}
+
+mixed	LuaBitwiseTest_Hex2Num	(mixed a) {}
+
+/// assert(a & b =3D b), pass arguments as strings
+mixed	LuaBitwiseTest_Pair	(mixed a,mixed b) {}
+
+/// assert(a & b =3D b), pass arguments as strings
+mixed	LuaBitwiseTest_Pair2	(mixed a,mixed b) {}
+
+/// expression test
+mixed	TestExpr	(mixed code) {}
+
+/// TODO : readout checkboxes,radiobuttons and edit text fields
+mixed	GumpReturnMsg	(mixed playerserial,mixed gumpserial,mixed ret_value,m=
ixed params,mixed switchcount,mixed textcount) {}
+
+/// send combat request to server, triggers kPacket_SetPlayerWarmode
+mixed	Send_CombatMode	(mixed iWarMode) {}
+
+/// Request Attack to Serial
+mixed	Send_AttackReq	(mixed mobile_serial) {}
+
+/// BYTE[2] unknown, always 2
+/// BYTE[2] selected spell(0-indexed)+scroll offset from sub 0x1b
+mixed	Send_Spell	(mixed spellid,mixed expansionflag) {}
+
+/// TODO : at first check speech.mul keywords and send them to server
+mixed	Send_Speech	(mixed speech) {}
+
+/// kPacket_Speech_Unicode
+mixed	Send_UnicodeSpeech	(mixed ascistr,mixed mode,mixed huecolor,mixed fo=
nt) {}
+
+mixed	SetDragItem	(mixed  item,mixed offx,mixed offy ) {}
+
+mixed	PrepareDragPaperdollItem	(mixed item) {}
+
+mixed	PrepareDragContainerItem	(mixed item) {}
+
+/// SiENcE: just skip Multis here
+/// Todo: Multi support
+mixed	PrepareDragDynamic	(mixed dynamic) {}
+
+mixed	PrepareUODragDrop	(mixed item,mixed widget,mixed matname,mixed w,mix=
ed h,mixed offx,mixed offy) {}
+
+mixed	DestroyDragDropItemBySerial	(mixed serial) {}
+
+/// same like lugre:SoundPlayEffect but written for UO specific sound.mul
+mixed	SoundPlayEffect_UO	(mixed x,mixed y,mixed z,mixed effect) {}
+
+mixed	SoundPlayMusicById	(mixed musicid) {}
+
+mixed	Convert_Spellbookcontainer	(mixed matrix,mixed container) {}
+
+mixed	Open_Spellbook	(mixed spellbook) {}
+
+mixed	CommandLineArgument	(mixed i,mixed s) {}
+
+mixed	CompareSerialAsc	(mixed a,mixed b) {}
+
+mixed	CompareSerialDesc	(mixed a,mixed b) {}
+
+/// common initialisation for kPacket_Shop_Data(buy) and kPacket_Shop_Sell
+mixed	ShopCommonInit	(mixed shop) {}
+
+/// empty dummy placeholder, might be interesting to remember prices and g=
oods later =3D)
+mixed	RememberShop	(mixed shop) {}
+
+/// npc trading
+/// see also old iris trade.csl : net_buywindow
+/// used for both buy and sell npc-shop
+mixed	OpenShopDialog	(mixed shop) {}
+
+/// build one page for shop inventor dialog
+mixed	ShopListShowPage	(mixed dialog,mixed pagenum) {}
+
+/// build one page for bill dialog
+/// see also trade.csl handler_onartmousedown from old iris
+mixed	ShopBillShowPage	(mixed dialog,mixed pagenum) {}
+
+mixed	ShopListRebuildCurrentPage	(mixed dialog) {}
+
+mixed	ShopBillRebuildCurrentPage	(mixed dialog) {}
+
+mixed	ShopAddToBill	(mixed shop,mixed good,mixed amount) {}
+
+mixed	GetShopMobileID	(mixed shop) {}
+
+/// This is sent by the client to buy items from a vendor.
+/// TODO : This is sent by the server to remove the list.
+/// see also old iris handler_buyaccept
+/// the serial sent must be the serial of the mobile where the shop-contai=
ner-item is equipped (usually on kLayer_NPCBuyRestock)
+mixed	SendBuyAccept	(mixed shop,mixed goods) {}
+
+/// send to finish the npc-sell shop
+/// similar to SendBuyAccept, but there are a few differences
+mixed	SendSellAccept	(mixed shop,mixed goods) {}
+
+mixed	ShopAccept	(mixed shop) {}
+
+/// TODO : return false on failure! handle socket creation failed!!
+/// function with key is used for both logins (loginserver/gameserver)
+mixed	NetConnectWithKey	(mixed host,mixed port,mixed key) {}
+
+mixed	CorrectPath	(mixed path) {}
+
+/// dann machs doch so, dass gUOPath nur dran gehaengt wird, wenn
+mixed	Addfilepath	(mixed filepath) {}
+
+mixed	CorrectGrannyPath	(mixed filename) {}
+
+/// common utils for all renderers
+mixed	GetRendererName	(mixed renderer) {}
+
+mixed	ActivateRenderer	(mixed newrenderer) {}
+
+mixed	MainMenuConnectToShard	(mixed shard,mixed shardname,mixed loginname,=
mixed loginpass) {}
+
+/// gameserverlist selection
+mixed	MainMenuShowServerList	(mixed serverlist) {}
+
+mixed	MainMenuShowCharList	(mixed charlist) {}
+
+mixed	MainMenuShowCharCreationDialog	(mixed template,mixed slot) {}
+
+mixed	MainMenuShowLoginDialog	(mixed shard,mixed shardname) {}
+
+mixed	GetShardButtonText	(mixed shard,mixed shardname) {}
+
+mixed	SetMainMenuCam	(mixed roth,mixed rotv) {}
+
+mixed	CreateStitchinLoader	(mixed loadertype,mixed filepath) {}
+
+/// changes old based on newinfo, returns nil if removed
+mixed	DoStitchinSingle	(mixed newinfo,mixed oldinfo,mixed oldid) {}
+
+/// takes an array of modelids and returns an array of modelids, does some=
 dark magic in between
+/// ORDER IS IMPORTANT
+/// elements of modelidarr have the form {hue=3D123,modelid=3D123}
+mixed	DoStitchin	(mixed gStitchinLoader,mixed modelidarr) {}
+
+mixed	RepairEquipIndex	(mixed arr) {}
+
+mixed	DebugMenuSetParam1	(mixed value) {}
+
+mixed	DebugMenuChangeParam1	(mixed delta) {}
+
+mixed	DebugMenuJumpToArtID	(mixed iArtID) {}
+
+/// iMaxW,iMaxH : can be nil for unlimited size
+mixed	MakeUOArtImageForDialog	(mixed iTileTypeID,mixed iHue,mixed iMaxW,mi=
xed iMaxH) {}
+
+mixed	ShowDebugMenuArtList	(mixed iStart) {}
+
+mixed	IsArtBillboardFallBackSkipped	(mixed iTranslatedTileTypeID) {}
+
+/// called from gSkippedFallBackFilePath
+mixed	RegisterSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID) {}
+
+mixed	AddSkippedArtBillboardFallBack	(mixed iTranslatedTileTypeID) {}
+
+mixed	MeshIsPseudoBillBoard	(mixed iTranslatedTileTypeID) {}
+
+mixed	ShowFallBackTool	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	ListFallBackTypesNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	List3DStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	List3DDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+/// called from kPacket_Open_Paperdoll
+mixed	HandleOpenPaperdoll	(mixed paperdoll) {}
+
+/// rebuild needed on update to have correct layerorder
+/// paperdoll.bIsPlayer (check if is player or npc)
+mixed	RebuildPaperdoll	(mixed paperdoll) {}
+
+/// don't call this directly, use RebuildPaperdoll() instead (need to rebu=
ild completely on change because of layerorder)
+mixed	CreatePaperdollItemWidget	(mixed paperdoll,mixed item,mixed base_id)=
 {}
+
+/// destroys old widgets if neccessary
+mixed	DestroyPaperdollItemWidgets	(mixed paperdoll) {}
+
+/// triggered by mobile destruction
+mixed	DestroyPaperdollByMobileSerial	(mixed serial) {}
+
+/// close dialog and destroys all widgets
+mixed	ClosePaperdoll	(mixed paperdoll) {}
+
+/// Send Quest, Guild Button req. to Server -> Server returns a Serverside=
 Gump
+mixed	Send_AOSCommand	(mixed subcmd,mixed player_serial) {}
+
+/// from old iris code, src/gui/Paperdoll.cpp, returns bodygumpid,base_id
+/// base_id is usually 50000 for male and 60000 for female models
+/// TODO : we should put this in a seperate file for easy editing
+/// TODO : maybe this comes from Models.txt
+mixed	GetPaperdollBodyAndBaseID	(mixed bodyid) {}
+
+mixed	EnableDiff	(mixed enablediff) {}
+
+/// parses a def file
+/// format: INDEX SPACE DATA1 SPACE DATA2 ...
+/// will return table with entries like: table[INDEX] =3D {0=3DINDEX,1=3DD=
ATA1,2=3DDATA2,...}
+mixed	ParseDefFile	(mixed filename) {}
+
+/// returns a list (max 5 kes) of the values from one line of the deffile.=
 to select the line
+/// key0-4 are used as column0-4 search-for-values. if a key is nil, it wi=
ll be ignored, the not nil keys are combined using AND
+/// ie. GetListFromDefTable(defTable, 10, 20, nil, 30, nil), to get the li=
ne where col0=3D10 and col1=3D20 and col3=3D30
+mixed	GetListFromDefTable	(mixed defTable,mixed key0,mixed key1,mixed key2=
,mixed key3,mixed key4) {}
+
+/// equivconv.def
+/// returns new values for
+/// #convertToID #GumpIDToUse #hue
+/// if bodytype and equipment id are given
+/// all values are nil if there is no replacement data
+/// TODO untested
+mixed	GetReplacementFromEquipconvDef	(mixed defTable,mixed bodyType,mixed =
equipmentID) {}
+
+/// handles char creation, and loading of char templates from uo/Prof.txt
+/// see also MainMenuShowCharList in lib.mainmenu.lua
+/// see also oldiris:startup.csl
+/// kPacket_CharacterCreation
+/// kPacket_Account_Delete_Character ?
+/// kPacket_Change_Character_Password ?
+/// kPacket_Delete_Character_Failed ?
+/// kPacket_All_Characters ?
+/// kPacket_Move_Character ?
+/// ?? kPacket_Character_Profile ?
+/// kPacket_Character_Transfer_Log ?
+/// template is one element from the array of GetCharCreationTemplates
+mixed	CreateCharFromTemplate	(mixed template,mixed iSlotIndex,mixed name,m=
ixed pass) {}
+
+/// loads an Prof.txt info file with character creation templates
+mixed	LoadProfInfo	(mixed filepath) {}
+
+/// send characterselect to gameserver
+mixed	SendCharCreate	(mixed chardata) {}
+
+/// searches for a model with a given texture on the map
+mixed	DevToolSearchTexture	(mixed iTextureID) {}
+
+/// searches for a static tiletype and teleports the cam there
+mixed	DevToolSearchStatic	(mixed iSearchTileTypeID) {}
+
+mixed	DevToolTeleportCam	(mixed xloc,mixed yloc,mixed zloc) {}
+
+mixed	DevToolListStuffUnderMouse	(mixed x,mixed y,mixed z,mixed radius) {}
+
+/// returns xloc,yloc,zloc or nil
+mixed	SearchStaticType	(mixed iSearchTileTypeID) {}
+
+mixed	GetStaticMeshTextureListString	(mixed iTileTypeID) {}
+
+mixed	ListStaticsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+mixed	ListDynamicsNearPos	(mixed x,mixed y,mixed z,mixed radius) {}
+
+/// [[
+mixed	Update_CorpseContainer	(mixed container_serial) {}
+
+/// packet handlers for receiving creating and updating game-objects (dyna=
mics, statics, multis...)
+/// see also lib.packet.lua and lib.protocol.lua
+mixed	Send_DoubleClick	(mixed iSerial) {}
+
+mixed	Send_SingleClick	(mixed iSerial) {}
+
+/// Equip Item Request (answer is 0x2E, see also 0x78). 0x13
+mixed	Send_Equip_Item_Request	(mixed serial,mixed layer,mixed player_seria=
l) {}
+
+/// This is sent by the client when the player picks up an item. 0x07
+mixed	Send_Take_Object	(mixed serial,mixed amount) {}
+
+/// This is sent by the client when the player drops an item. 0x08
+/// containerid =3D 0xFFFFFFFF when the container is the ground
+mixed	Send_Drop_Object	(mixed serial,mixed x,mixed y,mixed z,mixed contain=
erid) {}
+
+/// Send CustomHouseSerial to Upadte the CustomHouseCLientCache for this H=
ouse, Server sends CustomHouse in response
+mixed	Send_CustomHouseRevision	(mixed customhouseserial) {}
+
+/// this checks if the given numbers a possible custom house values
+/// retuns true if they are ok
+mixed	CustomHouseCheckSizeValidity	(mixed w,mixed h) {}
+
+/// returns nil if there are enough bytes left =3D> the "or" clause gets e=
xecuted
+mixed	MySave_Prepare	(mixed needed) {}
+
+/// see also net.mobile.lua
+/// stuff for skills
+/// Request SkillUse
+mixed	Send_Request_SkillUse	(mixed skillid) {}
+
+/// sends the server the lock state of one skill (more skills are possible=
 but not used in this function)
+/// lockstate (0=3Dup, 1=3Ddown, 2=3Dlocked)
+mixed	Send_SkillLockState	(mixed skillid,mixed lockstate) {}
+
+/// Send Packets ---------------------------------------------------------=
--
+/// send login server request 0x80
+/// answered by 0xA8 kPacket_Server_List which calls MainMenuShowServerList
+mixed	ProtocolSend_Account_Login_Request	(mixed sName,mixed sPassword,mixe=
d iSeed) {}
+
+/// send gameserverselect to loginserver : kPacket_Server_Select 0xA0
+/// answered by kPacket_Server_Redirect 0x8C
+/// which calls ProtocolSend_GameServer_PostLogin kPacket_Post_Login 0x91
+mixed	ProtocolSend_GameServer_Select	(mixed iGameServerID) {}
+
+/// send postlogin to gameserver kPacket_Post_Login 0x91
+/// something is wrong...runuo & wolfpack detects invalid client
+/// answered by kPacket_Features 0xB9 (gClientFeatures) and kPacket_Charac=
ter_List 0xA9
+mixed	ProtocolSend_GameServer_PostLogin	(mixed sName,mixed sPassword,mixed=
 iAccount) {}
+
+/// send characterselect to gameserver
+mixed	ProtocolSend_Character_Select	(mixed iCharacterID,mixed iAccount) {}
+
+/// client identification
+mixed	Send_ClientQuery	(mixed iMode,mixed iCharacterID) {}
+
+/// Submits ClientVersion to Server
+mixed	Send_ClientVersion	(mixed sClientVersion) {}
+
+/// Submits Client Language to Server
+mixed	Send_ClientLanguage	(mixed lang) {}
+
+mixed	SecureTradeRebuildContainerWidgets	(mixed mysectrade,mixed container=
,mixed bIsMyStuff) {}
+
+/// triggered when anything is changed,added or removed in/from a container
+/// kPacket_Container_Contents kPacket_Object_to_Object
+mixed	SecureTradeRebuildContainerHook	(mixed container) {}
+
+mixed	SecureTradeRebuildContainers	(mixed mysectrade) {}
+
+mixed	RecvSecureTrade	(mixed sectrade) {}
+
+/// if both players agree the trade is finished automatically
+/// s1 : containerid , s2 : 0 for no, 1 for yes
+mixed	Send_SecureTrade_ChangeAgree	(mixed s1,mixed s2) {}
+
+mixed	Send_SecureTrade_Cancel	(mixed s1) {}
+
+/// called from c
+mixed	NotifyMainWindowResized	(mixed w,mixed h) {}
+
+mixed	GetMobileEquipmentItem	(mixed mobile,mixed layer) {}
+
+mixed	GetMobileEquipmentList	(mixed mobile) {}
+
+mixed	GetContainerContentList	(mixed container) {}
+
+mixed	GetObjectBySerial	(mixed serial) {}
+
+mixed	GetObject	(mixed object_or_serial) {}
+
+mixed	DynamicIsInWorld	(mixed dynamic) {}
+
+mixed	InitializeObject	(mixed serial) {}
+
+/// don't call directly, called from object:Destroy()
+mixed	CleanupObject	(mixed object) {}
+
+mixed	DestroyObjectBySerial	(mixed serial) {}
+
+mixed	IsPlayerMobile	(mixed mobile) {}
+
+/// TODO : move to obj.player.lua ?
+/// called from kPacket_SetPlayerWarmode
+mixed	NotifyWarmode	(mixed flag) {}
+
+/// called from handlers of kPacket_Login_Confirm and kPacket_Teleport
+mixed	UpdatePlayerBodySerial	(mixed serial) {}
+
+mixed	IsObjectFarEnoughToDestroy	(mixed xloc,mixed yloc,mixed player_xloc,=
mixed player_yloc) {}
+
+/// destroy objects outside view range
+mixed	DestroyObjectsFarFromPlayer	(mixed player_xloc,mixed player_yloc) {}
+
+mixed	GetMobile	(mixed mobile_or_serial) {}
+
+/// constructor, don't call directly, use CreateOrUpdateMobile() instead
+mixed	InitializeMobile	(mixed serial) {}
+
+/// called from kPacket_Naked_MOB kPacket_Equipped_MOB kPacket_Teleport
+mixed	CreateOrUpdateMobile	(mixed mobiledata,mixed equipmentdata) {}
+
+/// return r,g,b
+mixed	GetNotorietyColor	(mixed n) {}
+
+mixed	GetDynamic	(mixed dynamic_or_serial) {}
+
+/// constructor, don't call directly, use CreateOrUpdateDynamic() instead
+mixed	InitializeDynamic	(mixed serial) {}
+
+/// called from kPacket_Show_Item,kPacket_Object_to_Object,kPacket_Contain=
er_Contents
+/// mobile is only set if called from mobile:Update with equipmentdata , e=
.g. from kPacket_Equipped_MOB or kPacket_Equip_Item
+mixed	CreateOrUpdateDynamic	(mixed dynamicdata,mixed mobile) {}
+
+mixed	GetContainer	(mixed container_or_serial) {}
+
+/// called from kPacket_Equip_Item
+mixed	HandleEquipItem	(mixed dynamicdata) {}
+
+/// called from kPacket_Open_Container
+mixed	IsContainerAlreadyOpen	(mixed container_or_serial) {}
+
+/// called from kPacket_Open_Container
+mixed	HandleOpenContainer	(mixed containerdata) {}
+
+/// packet handlers for containers (chests, drawers, inventory..)
+/// see also lib.packet.lua and lib.protocol.lua
+/// pols sends kPacket_Open_Container first and then kPacket_Container_Con=
tents , runuo the other way around
+/// every container (data structure) can have zero-or-one associated dialo=
g (graphical representation)
+/// dialog is only created when it is displayed, on kPacket_Open_Container
+/// TODO : check if iContainerSerial is secure trade serial
+/// TODO : check if spellbook
+mixed	CloseContainer	(mixed serial) {}
+
+/// creates if necessary
+mixed	GetOrCreateContainer	(mixed serial) {}
+
+/// destroys old widgets if neccessary
+mixed	DestroyContainerItemWidgets	(mixed container) {}
+
+/// destroys old widgets and creates new ones from contents
+mixed	RefreshContainerItemWidgets	(mixed container) {}
+
+/// TODO use lib.gfm.lua : MakeArtGumpPart ?
+/// create graphical representation (use only if container dialog is alrea=
dy visible)
+mixed	MakeContainerItemWidget	(mixed item) {}
+
+mixed	TeleportFunc	(mixed widget,mixed buttonid) {}
+
+mixed	SendMyProjectBugReport	(mixed report,mixed note) {}
+
+mixed	MasterServer_Get	(mixed command,mixed params,mixed bIgnoreReturnForS=
peed) {}
+
+mixed	MasterServer_BugReport	(mixed report,mixed note) {}
+
+/// see also lib.3d.renderer.lua
+/// manages all visual things for mobiles : body,energybar,aura,selection =
marker,name, text over head...
+/// called from obj.mobile.lua
+mixed	UpdateMobileModel	(mixed mobile) {}
+
+/// generate preview of meshes using rtt
+/// todo : cache(resolution) ? store in tmp dir ?
+/// TODO : (background options : starfield, black, certain color, some oth=
er material or texture)
+/// res (res x res) is the resulting texture resolution, must be 2^n
+/// angh,angv are the angles from which the preview is generated, defaults=
 to 30=C2=B0,45=C2=B0
+/// returns matname ? todo : better texturename ?
+mixed	GetMeshPreview	(mixed meshname,mixed res,mixed angh,mixed angv,mixed=
 pixelformat) {}
+
+/// show all lines (without) transparency
+mixed	FadeLinesUpdateAll	(mixed useAlpha) {}
+
+/// shows thg fadeline without transparency
+mixed	FadeLineShowLine	(mixed fadeline) {}
+
+mixed	AddFadeLines	(mixed text,mixed color) {}
+
+mixed	AddSingleFadeLine	(mixed text,mixed color) {}
+
+mixed	DestroyFadeLine	(mixed fadeline) {}
+
+mixed	PushUpFadeLine	(mixed fadeline) {}
+
+mixed	StepFadeLine	(mixed fadeline) {}
+
+mixed	ActivateEditText	(mixed widget) {}
+
+mixed	DeactivateEditText	(mixed widget) {}
+
+/// called by lib.gui.lua on keydown
+/// returns true if the event was consumed/handled
+mixed	EditTextKeyDown	(mixed key,mixed char) {}
+
+mixed	CreatePlainEditText	(mixed parent,mixed x,mixed y,mixed w,mixed h,mi=
xed textcol,mixed bPassWordStyle,mixed stylesetname) {}
+
+/// utils for mousepicking and mesh construction of prisms
+/// segments=3D23,xrad=3D1,yrad=3D1,startang=3D0,endang=3Dpi
+/// returns zero-based table with segments+1 entries
+mixed	GenerateEllipse	(mixed segments,mixed xrad,mixed yrad,mixed startang=
) {}
+
+/// for n<2 returns zero-based-array of points where element at index 0 is=
 the middle
+/// for n>=3D2 returns x1,y1,z1, x2,y2,z2, x3,y3,z3, x4,y4,z4
+/// circledata is optional to increase performance by only generating it o=
nce
+mixed	GetNGonSideCoords	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
+
+/// returns nx,ny,nz
+mixed	GetNGonSideNormal	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
+
+mixed	GetNGonSideMiddle	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed ra=
d2,mixed circledata) {}
+
+/// only works correctly for even n
+mixed	GetNGonOppositeSide	(mixed sidenum,mixed n) {}
+
+/// sides is an array containing sidenumbers to be drawn, defaults to all
+/// params gfx,n,h=3D1,rad1=3D1,rad2=3D1
+mixed	GfxSetNGonPrism	(mixed gfx,mixed n,mixed h,mixed rad1,mixed rad2) {}
+
+mixed	RayPickFace4	(mixed  x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
,mixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4,mixed x,mixed y,mixe=
d z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+mixed	RayPickNGonSide	(mixed sidenum,mixed n,mixed h,mixed rad1,mixed rad2=
,mixed x,mixed y,mixed z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mix=
ed rvz,mixed circledata) {}
+
+/// 0,0,0 is top,left,front corner
+/// returns minside,dist , nil if not hit
+mixed	RayPickNGon	(mixed n,mixed h,mixed rad1,mixed rad2,mixed x,mixed y,m=
ixed z,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+/// call this whenever the thing under the mouse changes
+mixed	SetToolTipSubject	(mixed subject) {}
+
+/// don't call this directly, called from ToolTipStep
+/// on_tooltip
+mixed	_StartToolTip	(mixed subject) {}
+
+/// creates a simple dialog just displaying text, and ignoring all mouse-o=
ver detection, can be used by on_tooltip
+mixed	CreatePlainToolTip	(mixed x,mixed y,mixed text,mixed charh,mixed bac=
kcol,mixed textcol) {}
+
+mixed	CreatePlainWidgetToolTip	(mixed widget,mixed text,mixed charh,mixed =
backcol,mixed textcol) {}
+
+mixed	RegisterNetMessageType	(mixed name,mixed paramformat,mixed forcedid)=
 {}
+
+/// use FALSE instead of NIL here, nil in the middle confuses the variable=
 argument syntax
+mixed	RegisterNetMessageFormatWrapper	(mixed letter_custom,mixed letter_re=
al,mixed custom2real,mixed real2custom) {}
+
+/// formattet pop
+/// paramformat is something like "iiifffffff"
+/// extracts data from fifo, and returns it as an array
+/// b byte(uint8)
+/// i int(uint32)
+/// f float(4 byte)
+/// s string(len_uint32,text_ascii)
+mixed	FPop	(mixed fifo,mixed paramformat) {}
+
+/// see also FPop
+mixed	FPush	(mixed fifo,mixed paramformat,mixed ...) {}
+
+/// WARNING ! returns nil for variable message length, e.g. string..., see=
 IsNetMessageComplete for those
+mixed	CalcNetMessageParamLength	(mixed paramformat) {}
+
+/// true if string or vararg or other data with not fixed length is contai=
ned
+mixed	IsNetMessageVariableLength	(mixed paramformat) {}
+
+mixed	IsNetMessageComplete	(mixed fifo,mixed paramformat,mixed startoffset=
) {}
+
+/// msgtype is an id like kNetMessage_Chat
+mixed	SendNetMessage	(mixed con,mixed msgtype,mixed ...) {}
+
+/// pops all complete messages from the fifo and calls callback for each o=
f them
+/// fifo should be individual for this connection, in case half messages a=
rrive
+/// usually mycon:Pop(fifo) is called right before this
+/// callback(msgtype,args...)
+mixed	RecvNetMessages	(mixed fifo,mixed callback) {}
+
+/// obsolete, or at least unused
+/// voxel-like mesh analysis, used for collision/interesection detection i=
n shipeditor
+/// fine grids generated from raw geometry
+/// superseeded by shipvoxelgrid.lua
+/// TODO : 2d voxel : 1,3, 1,5, 3,1, 3,7, 5,1, 5,7, 7,3, 7,5, *e , e=3D1/8=
 -- a circle of points that is not hit by lines on a 1/2 grid
+/// returns 3 dimensional array, zero based, [xi][yi][zi] =3D 0 means outs=
ide, =3D 1 means inside
+/// gfx must start at 0,0,0 and not go into negative coords
+/// WARNING ! only works on simple (convex) forms
+mixed	CalcVoxelGrid	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed gridsize) =
{}
+
+/// calls fun(voxelstate,x,y,z) with every voxel
+/// the process is aborted and returns the first value of what fun returns=
 if it is something other than nil
+mixed	ForEachVoxel	(mixed voxelgrid,mixed fun) {}
+
+/// returns a new voxel grid
+/// sx,sy,sz should be integers (e.g. mirrors, or scale by two)
+/// qw,qx,qy,qz should be an orthogonal rotation (e.g. 90 degrees to the r=
ight,...)
+mixed	TransformVoxelGrid	(mixed voxelgrid,mixed px,mixed py,mixed pz,mixed=
 qw,mixed qx,mixed qy,mixed qz,mixed sx,mixed sy,mixed sz,mixed gridsize) {}
+
+/// compares two voxel grids and returns true if they intersect
+mixed	VoxelGridIntersection	(mixed voxelgrid1,mixed voxelgrid2) {}
+
+/// creates and returns returns array of (green) billboard gfx for every v=
oxel "inside"
+mixed	DrawVoxelGrid	(mixed voxelgrid,mixed parentgfx,mixed gridsize) {}
+
+/// ray must be padded with gridsize at the start and at the end to avoid =
rounding errors
+/// returns voxel-cells along ray, arr[zi] (where 0 <=3D zi < numcells) (2=
 means border, 0 means outside, 1 means inside)
+mixed	GfxVoxelLine	(mixed gfx,mixed gridsize,mixed numcells,mixed rx,mixed=
 ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+/// some material utils
+mixed	GetBillBoardMat	(mixed texpath,mixed bAdditive) {}
+
+mixed	GetTexturedMat	(mixed base,mixed texpath) {}
+
+mixed	GetPlainTextureMat	(mixed texpath,mixed bHasAlpha) {}
+
+mixed	GetPlainColourMat	(mixed r,mixed g,mixed b,mixed a) {}
+
+mixed	GetHuedMat	(mixed basematname,mixed ar,mixed ag,mixed ab,mixed dr,mi=
xed dg,mixed db,mixed da) {}
+
+/// todo : place me in meshutils or something like that ?
+mixed	HueMeshEntity	(mixed gfx,mixed ar,mixed ag,mixed ab,mixed dr,mixed d=
g,mixed db,mixed da) {}
+
+/// handles plugin system
+/// lists all lua files in pluginDir and executes them
+mixed	LoadPlugins	(mixed pluginDir) {}
+
+/// stepper is destroyed if it returns something that evaluetes to true
+/// can savely be called registered during iteration
+mixed	RegisterStepper	(mixed fun,mixed param) {}
+
+/// calls the function fun after timout ms
+mixed	InvokeLater	(mixed timeout,mixed fun) {}
+
+mixed	BindUp	(mixed keyname,mixed fun,mixed arg) {}
+
+mixed	BindDown	(mixed keyname,mixed fun,mixed arg) {}
+
+mixed	BindUpDown	(mixed keyname,mixed upfun,mixed uparg,mixed downfun,mixe=
d downarg) {}
+
+mixed	BindUpDown	(mixed keyname,mixed downfun,mixed downarg,mixed upfun,mi=
xed uparg) {}
+
+mixed	Bind	(mixed keyname,mixed fun) {}
+
+mixed	UnBindArr	(mixed arr) {}
+
+mixed	UnBind	(mixed keyname) {}
+
+mixed	LoadBindSet	(mixed bindset) {}
+
+mixed	MouseEvent	(mixed eventname) {}
+
+/// called from c
+mixed	KeyDown	(mixed key,mixed char) {}
+
+/// called from c
+mixed	KeyUp	(mixed key) {}
+
+mixed	CamSetZoomLimit	(mixed minzoom,mixed maxzoom) {}
+
+mixed	CamChangeZoom	(mixed add) {}
+
+mixed	TurnCam	(mixed tw,mixed tx,mixed ty,mixed tz) {}
+
+/// get a normalizes vector with the view direction of the given camerea
+/// return x,y,z
+mixed	CamViewDirection	(mixed cam) {}
+
+/// return turn quaternion : w,x,y,z
+mixed	CamGetMouseTurn	(mixed speedfactor) {}
+
+/// +y is up ?
+mixed	CamSetFromTwoAngles	(mixed cam,mixed roth,mixed rotv) {}
+
+/// handles a turntable like camera that keeps upright
+mixed	StepTableCam	(mixed cam,mixed bMoveCam,mixed speedfactor) {}
+
+/// enables third person view by keeping the cam at a distance to origin
+mixed	StepThirdPersonCam	(mixed cam,mixed dist,mixed ox,mixed oy,mixed oz)=
 {}
+
+/// [[
+/// h,v cam, todo : 2 variants
+mixed	SetMainMenuCam	(mixed roth,mixed rotv) {}
+
+mixed	WrapWidget	(mixed udata) {}
+
+/// returns left,top,width,height in ABSOLUTE(derived) coords
+mixed	WidgetGetLTWH	(mixed widget) {}
+
+/// returns left,top,right,bottom in ABSOLUTE coords
+mixed	WidgetGetLTRB	(mixed widget) {}
+
+/// returns left,top,right,bottom in ABSOLUTE(derived) coords
+/// arr must be an array containing the widgets to be considered
+mixed	WidgetArrGetLTRB	(mixed arr) {}
+
+/// returns left,top,right,bottom in ABSOLUTE(derived) coords
+mixed	DialogGetLTRB	(mixed dialog) {}
+
+/// returns left,top,width,height in ABSOLUTE(derived) coords
+/// arr must be an array containing the widgets to be considered
+mixed	WidgetArrGetLTWH	(mixed arr) {}
+
+/// returns left,top,width,height in ABSOLUTE(derived) coords
+mixed	DialogGetLTWH	(mixed dialog) {}
+
+/// self =3D widget
+mixed	WidgetHelper_Destroy	(mixed self) {}
+
+/// self =3D parent =3D widget
+mixed	WidgetHelper_CreateChild	(mixed self) {}
+
+/// self =3D parent =3D dialog
+mixed	WidgetHelper_CreateWidget	(mixed dialog) {}
+
+mixed	WidgetHelper_DestroyDialog	(mixed dialog) {}
+
+/// prepares a dialog for a resizing function, childs added after this cal=
l will not be considered
+/// TODO : won't work on nontrivial hierarchies
+mixed	DialogPrepareResize	(mixed dialog) {}
+
+/// set dialog size to dialog.resize_min_total_x,y
+mixed	DialogResizeMinimize	(mixed dialog) {}
+
+/// adds dx,dy to dialog size
+mixed	DialogResizeDelta	(mixed dialog,mixed dx,mixed dy) {}
+
+/// coordinates and sizes are in pixels
+mixed	WidgetHelper_UpdateClip	(mixed self,mixed L,mixed T,mixed R,mixed B)=
 {}
+
+/// coordinates and sizes are in pixels
+mixed	WidgetHelper_SetPartUVTile	(mixed self,mixed part,mixed texturesize,=
mixed x,mixed y,mixed cx,mixed cy) {}
+
+/// cx1+cx2+cx3 is total cx of the 3x3 matrix, coordinates and sizes are i=
n pixels
+mixed	WidgetHelper_SetUVBorderMatrix	(mixed self,mixed texturesize,mixed x=
,mixed y,mixed cx1,mixed cy1,mixed cx2,mixed cy2,mixed cx3,mixed cy3) {}
+
+/// TODO: transparency doesn't work right now - check why!
+mixed	SetDialogAlpha	(mixed dialog,mixed a) {}
+
+/// utils for working with beam
+mixed	MakeColourfulBeamCube	(mixed e,mixed h) {}
+
+mixed	SetBeamBox	(mixed gfx,mixed h,mixed cx,mixed cy,mixed cz,mixed r,mix=
ed g,mixed b,mixed a) {}
+
+mixed	BeamSingleLine	(mixed gfx,mixed x1,mixed y1,mixed z1,mixed x2,mixed =
y2,mixed z2,mixed h1,mixed h2,mixed h3,mixed h4,mixed u1,mixed u2,mixed u3,=
mixed u4,mixed v1,mixed v2,mixed v3,mixed v4,mixed r1,mixed g1,mixed b1,mix=
ed a1,mixed r2,mixed g2,mixed b2,mixed a2) {}
+
+mixed	BeamSingleLineStep	(mixed gfx,mixed ...) {}
+
+/// contains some utils used for gui
+/// see also lib.gui.lua and lib.guimaker.lua
+mixed	SetLogoVisible	(mixed bVisible) {}
+
+/// oldname =3D Client_SetBottomLine
+/// text-line at the bottom of screen (readonly, used for mousepicking deb=
ug text and for info during loading)
+mixed	SetBottomLine	(mixed text,mixed stylesetname,mixed stylename) {}
+
+mixed	DisplayFPS	(mixed fps,mixed stylename) {}
+
+/// common gui dialogs
+/// currently just a simple message box
+mixed	PlainMessageBox	(mixed text,mixed stylename_window,mixed stylename_b=
utton) {}
+
+mixed	HTMLMessageBox	(mixed text) {}
+
+/// TODO kGeomQTAdapter : quadratic base to triangle top, one side cut, 1+=
2 quads, 1+3 tris
+/// the facenum returned from gfx:RayPick,... is zero based, but can be us=
ed to determine the "side"
+/// returns one-based index in geom
+mixed	GeomFaceNumToSideNum	(mixed geom,mixed facenum) {}
+
+/// returns array of vertices, sidenum is one-based index
+mixed	GeomGetSide	(mixed geom,mixed sidenum) {}
+
+/// geomside =3D geom[one_based_index]
+mixed	GeomSideIsQuad	(mixed geomside) {}
+
+mixed	GeomSideGetIndexCount	(mixed geomside) {}
+
+mixed	GeomSideGetVertexCount	(mixed geomside) {}
+
+/// returns nx,ny,nz
+mixed	GeomSideGetNormal	(mixed geomside) {}
+
+/// checks if a side is parallel to a border of an axis aligned box
+mixed	GeomSideIsAxisAligned	(mixed geomside) {}
+
+mixed	GeomGetAxisAlignedSides	(mixed geom) {}
+
+/// returns w,h
+mixed	GeomSideCalcDim	(mixed geomside) {}
+
+/// returns surface area
+mixed	GeomSideCalcArea	(mixed geomside) {}
+
+/// changes the vertex order so that culling and normals are inverted
+mixed	GeomInvert	(mixed geom) {}
+
+mixed	MakeSphereMesh	(mixed steps_h,mixed steps_v,mixed cx,mixed cy,mixed =
cz,mixed r,mixed g,mixed b) {}
+
+/// creates a SimpleRenderable , a cylinder arount the z axis from 0,0,0 t=
o 0,0,h with radius r
+mixed	GfxSetCylinderZ	(mixed gfx,mixed r,mixed h,mixed steps) {}
+
+/// creates a SimpleRenderable
+mixed	GfxSetSphere	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed steps_h,mix=
ed steps_v) {}
+
+/// creates a SimpleRenderable
+mixed	GfxSetGeom	(mixed gfx,mixed geom,mixed texcoords,mixed cx,mixed cy,m=
ixed cz,mixed bDynamic) {}
+
+/// used as callback
+mixed	ContextMenuItemEnterButton	(mixed widget) {}
+
+/// used as callback
+mixed	ContextMenuItemSelect	(mixed widget) {}
+
+/// find the root menu if contextmenudialog is a submenu
+mixed	ContextMenu_GetRoot	(mixed contextmenudialog) {}
+
+/// closes all submenus
+mixed	ContextMenu_CloseActiveSubmenu	(mixed contextmenudialog) {}
+
+/// closes the menu and all submenus
+mixed	CloseContextMenu	(mixed contextmenudialog) {}
+
+/// creates a simple menu bar containing contextmenus (static or dynamic)
+/// menubardata : { {label,menudata}, {label,menudata}, {label,function() =
returns menudata end, ...}
+mixed	ShowMenuBar	(mixed menubardata,mixed x,mixed y,mixed stylesetname) {}
+
+/// opens a submenu in the menubar
+mixed	MenuBarOpenMenu	(mixed widget,mixed menudata,mixed stylesetname) {}
+
+mixed	ContextMenu_CloseOnOutside	(mixed contextmenudialog) {}
+
+mixed	ShowContextMenu	(mixed menudata,mixed x,mixed y,mixed stylesetname) =
{}
+
+mixed	lugre_include_libs	(mixed basepath) {}
+
+/// test if a name is following the convention for global variables and co=
nstants (e.g. giMyInt or gSomething or kBlub)
+mixed	LugreIsGlobalVarName	(mixed name) {}
+
+/// opens a connection to an irc server and returns the object handling th=
is connection
+mixed	CreateIRCConnection	(mixed host,mixed port,mixed nick,mixed password=
) {}
+
+/// [[
+/// http://tools.ietf.org/html/rfc1945
+mixed	HTTPGetEx	(mixed host,mixed port,mixed file) {}
+
+mixed	SetCursor	(mixed matname,mixed w,mixed h,mixed offx,mixed offy) {}
+
+mixed	SetCursorBaseOffset	(mixed offx,mixed offy) {}
+
+mixed	SetCursorOffset	(mixed offx,mixed offy) {}
+
+/// function printf(...) io.write(string.format("%d:",Client_GetTicks())..=
string.format(unpack(arg))) end
+/// protected call string fromatting, errors don't crash the program
+mixed	pformat	(mixed ...) {}
+
+mixed	printf	(mixed ...) {}
+
+mixed	sprintf	(mixed ...) {}
+
+mixed	beginswith	(mixed s,mixed begin) {}
+
+mixed	sign	(mixed x) {}
+
+/// executes command and returns output as array or lines with newline cha=
r removed (not tested on win)
+mixed	ExecGetLines	(mixed cmd) {}
+
+/// emulates lua 5.1 unpack behavior
+mixed	unpackex	(mixed arr,mixed i,mixed j) {}
+
+/// old : cOgreWrapper::GetSingleton().GetViewportWidth() , GetViewportHei=
ght : mViewport->getActualWidth()
+/// don't call before ogre is initialized !
+mixed	GetRenderingDistanceForPixelSize	(mixed r,mixed maxpixelsize,mixed v=
iewport,mixed cam) {}
+
+/// get extended error info
+mixed	lugrepcall	(mixed fun,mixed ...) {}
+
+mixed	printdebug	(mixed category,mixed ...) {}
+
+mixed	TestBit	(mixed mask1,mixed mask2) {}
+
+mixed	GetRandomArrayElement	(mixed array) {}
+
+/// returns key,value
+mixed	GetRandomTableElement	(mixed t) {}
+
+/// writes data to cachearr[cachename] and returns data
+mixed	WriteToCache	(mixed cachearr,mixed cachename,mixed data) {}
+
+mixed	TrimNewLines	(mixed line) {}
+
+mixed	round	(mixed x) {}
+
+mixed	roundmultiple	(mixed ...) {}
+
+/// draw a face with 4 edges and hard normal (calculated using crossproduc=
t)
+/// params: gfx,vc, pos:lt, rt, lb, rb, texcoords:lt, rt, lb, rb (texcoord=
s have default values [0,1])
+/// returns vc+4 for vc =3D DrawQuad(gfx,vc,....)
+mixed	DrawQuad	(mixed gfx,mixed vc,mixed x1,mixed y1,mixed z1,mixed x2,mix=
ed y2,mixed z2,mixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4,mixed =
u1,mixed v1,mixed u2,mixed v2,mixed u3,mixed v3,mixed u4,mixed v4) {}
+
+/// draw a triangle with hard normal (calculated using crossproduct)
+/// params: gfx,vc, pos:a,b,c texcoords:a,b,c
+/// returns vc+3 for vc =3D DrawTri(gfx,vc,....)
+mixed	DrawTri	(mixed gfx,mixed vc,mixed x1,mixed y1,mixed z1,mixed x2,mixe=
d y2,mixed z2,mixed x3,mixed y3,mixed z3,mixed u1,mixed v1,mixed u2,mixed v=
2,mixed u3,mixed v3) {}
+
+/// returns x1,y1,z1, x2,y2,z2, x3,y3,z3
+/// warning, rotation not corrected here, use gfx:GetDerivedOrientation() =
for that
+mixed	FaceGetVertices	(mixed gfx,mixed facenum) {}
+
+/// returns mx,my,mz
+mixed	FaceGetMiddle	(mixed gfx,mixed facenum) {}
+
+/// returns nx,ny,nz
+mixed	FaceGetNormal	(mixed gfx,mixed facenum) {}
+
+/// todo : place me in meshutils or something like that ?
+/// calculates the scale factor to get the mesh to have a given target rad=
ius
+mixed	CalcMeshScaleToRad	(mixed meshname,mixed targetrad) {}
+
+/// adds all fields from second to first, but does not overwrite fields th=
at are already set
+mixed	ArrayMergeToFirst	(mixed first,mixed second) {}
+
+/// overwrites fields in first by fields in second
+mixed	ArrayOverwrite	(mixed first,mixed second) {}
+
+/// shallow copy
+mixed	CopyArray	(mixed arr) {}
+
+mixed	countarr	(mixed arr) {}
+
+mixed	isempty	(mixed arr) {}
+
+mixed	notempty	(mixed arr) {}
+
+mixed	arrfirst	(mixed arr) {}
+
+/// creates an array with n entries equal to value (defaults to one-based =
indices)
+mixed	ArrayRepeat	(mixed value,mixed n,mixed startindex) {}
+
+mixed	MemProfile	(mixed part) {}
+
+mixed	sqdist3	(mixed ax,mixed ay,mixed az,mixed bx,mixed by,mixed bz) {}
+
+mixed	dist3	(mixed ax,mixed ay,mixed az,mixed bx,mixed by,mixed bz) {}
+
+mixed	dist2	(mixed ax,mixed ay,mixed bx,mixed by) {}
+
+/// returns true if the needle(value) is in the haystack-array
+mixed	in_array	(mixed needle,mixed haystack) {}
+
+/// basename("\\some\path\filename.tga") =3D "filename.tga"
+mixed	basename	(mixed path) {}
+
+mixed	fileextension	(mixed path) {}
+
+/// returns a string representation of the variable, mostly used for array=
s : {field1=3Dvalue1,field2=3Dvalue2,...}
+mixed	vardump	(mixed x,mixed aux) {}
+
+mixed	arrdump	(mixed arr) {}
+
+/// returns a (sorted) list of the keys used in arr
+mixed	keys	(mixed arr) {}
+
+/// returns a copy of the array, sorted by key, original keys are lost, ne=
w array is indexed one-based
+mixed	ksort	(mixed arr) {}
+
+/// returns a string representation of the variable (recursive), mostly us=
ed for arrays : {field1=3Dvalue1,field2=3Dvalue2,...}
+mixed	vardump_rec	(mixed x,mixed aux,mixed maxdepth) {}
+
+/// vardump2 : no hexadecimal display of numbers
+mixed	vardump2	(mixed x) {}
+
+/// non recursive ! would result in infinite recursion for double linked t=
hings (dialog.uoContainer.dialog.uoContainer...)
+mixed	vardump_aux	(mixed x) {}
+
+/// returns r,g,b in [0,1] each from html like hex-colors "b16a00" or "0xb=
16a00" or "#b16a00"
+mixed	hex2rgb	(mixed hex) {}
+
+mixed	hex2num	(mixed s) {}
+
+/// interprets a binary string (e.g. from file:read(number)) as integer
+mixed	bin2num	(mixed bin) {}
+
+mixed	robmod	(mixed a,mixed b) {}
+
+/// changes size to 2^n where n>=3D4
+mixed	texsize	(mixed i) {}
+
+/// Concat the contents of the parameter list,
+/// separated by the string delimiter (just like in perl)
+/// example: strjoin(", ", {"Anna", "Bob", "Charlie", "Dolores"})
+mixed	strjoin	(mixed delimiter,mixed list) {}
+
+/// Split text into a list consisting of the strings in text,
+/// separated by strings matching delimiter (which may be a pattern).
+/// example: strsplit(",%s*", "Anna, Bob, Charlie,Dolores")
+mixed	strsplit	(mixed delimiter,mixed text) {}
+
+/// returns a new string without the non visible chars at the beginning an=
d end
+mixed	trim	(mixed s,mixed pattern) {}
+
+/// returns x,y,z
+mixed	GetRandomPositionAtDist	(mixed dist,mixed x,mixed y,mixed z) {}
+
+mixed	dot2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
+
+mixed	add2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
+
+mixed	sub2	(mixed x1,mixed y1,mixed x2,mixed y2) {}
+
+mixed	sqlen2	(mixed x,mixed y) {}
+
+mixed	len2	(mixed x,mixed y) {}
+
+mixed	scale2	(mixed x,mixed y,mixed s) {}
+
+mixed	norm2	(mixed x,mixed y) {}
+
+mixed	tolen2	(mixed x,mixed y,mixed l) {}
+
+/// returns qw,qx,qy,qz , input comma seperated list QuaternionFromString(=
"x:90,y:90,z:30")
+mixed	QuaternionFromString	(mixed txt) {}
+
+mixed	BBoxIntersectPoint	(mixed x,mixed y,mixed z,mixed minx,mixed miny,mi=
xed minz,mixed maxx,mixed maxy,mixed maxz) {}
+
+/// returns x,y,z (unit-length), dir [0,5] means {x,y,z,-x,-y,-z}
+mixed	DirToVector	(mixed dir) {}
+
+/// returns dir in [0,5]
+/// only works on normalised vectors that are very close to being aligned =
to an axis
+mixed	VectorToDir	(mixed x,mixed y,mixed z) {}
+
+/// gets the opposite direction
+mixed	InverseDir	(mixed a) {}
+
+/// rotation around axis VectorToDir(axisdir) with ang =3D ang90 * 90 degr=
ees
+mixed	GetRot90	(mixed ang90,mixed axisdir) {}
+
+/// returns mx,my,mz, e.g. (-1,1,1) for (1,0,0) , normal must be ortho
+mixed	AxisAlignedNormalToMirror	(mixed nx,mixed ny,mixed nz) {}
+
+mixed	ScaleToMirror	(mixed sx,mixed sy,mixed sz) {}
+
+/// mirror around origin, defaults to 0,0,0
+/// warning! beware of rounding errors due to addition and substraction
+/// e.g. ox,oy,oz should be rounded if you are working on a grid
+mixed	MirrorPoint	(mixed x,mixed y,mixed z,mixed mx,mixed my,mixed mz,mixe=
d ox,mixed oy,mixed oz) {}
+
+/// returns x1,y1,z1, x2,y2,z2, corrected after mirroring so that 1:min 2:=
max
+mixed	CorrectBounds	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
) {}
+
+/// returns true if normal is nearly axisaligned
+mixed	NormalIsAxisAligned	(mixed nx,mixed ny,mixed nz) {}
+
+/// returns x,y,z after applying rotation and mirror
+mixed	ApplyMirRotCombo	(mixed x,mixed y,mixed z,mixed qw,mixed qx,mixed qy=
,mixed qz,mixed mx,mixed my,mixed mz) {}
+
+/// returns "012" or something like that, the numbers have the same meanin=
g as dir in DirToVector
+mixed	GetMirRotComboName	(mixed qw,mixed qx,mixed qy,mixed qz,mixed mx,mix=
ed my,mixed mz) {}
+
+/// returns true if the file exists else false
+mixed	file_exists	(mixed filename) {}
+
+mixed	Clamp	(mixed x,mixed v1,mixed v2) {}
+
+mixed	GUI_TriggerWidgetCallback	(mixed widget,mixed callback_name,mixed di=
alogparam,mixed ...) {}
+
+mixed	GUI_TriggerWidgetCallback_BackwardComp	(mixed widget,mixed callback_=
name,mixed dialogparam,mixed ...) {}
+
+/// if the parameter widget is nil, the gLastMouseDownWidget is used
+/// called from lib.input.lua, eventname is one of
+/// mouse_left_down,mouse_left_up
+/// mouse_right_down,mouse_right_up
+/// mouse_left_click,mouse_left_click_double,mouse_left_click_single,
+/// mouse_left_drag_start,mouse_left_drag_step,mouse_left_drag_stop
+/// called from GUIStep, eventname is one of
+/// mouse_enter,mouse_leave
+/// generates button_click event from mouse_left_click when the mouse is s=
till inside gLastMouseDownWidget
+mixed	GUIEvent	(mixed sEventName,mixed widget) {}
+
+/// returns true if the event was consumed/handled
+mixed	GuiKeyDown	(mixed key,mixed char) {}
+
+mixed	RegisterListener	(mixed eventname,mixed listenerfunc) {}
+
+mixed	UnregisterListener	(mixed eventname,mixed listenerfunc) {}
+
+/// all additional arguments are passed to the callback
+/// callback can return true if it wants to be removed
+mixed	NotifyListener	(mixed eventname,mixed ...) {}
+
+/// oldname : HistoryUpDown
+mixed	ChatLine_HistoryUpDown	(mixed x) {}
+
+/// returns x1,y1,z1, x2,y2,z2, x3,y3,z3, x4,y4,z4
+mixed	GetBoxSideCoords	(mixed sidenum,mixed cx,mixed cy,mixed cz) {}
+
+/// returns nx,ny,nz
+mixed	GetBoxSideNormal	(mixed sidenum) {}
+
+mixed	DrawBoxSide	(mixed sidenum,mixed gfx,mixed cx,mixed cy,mixed cz,mixe=
d vc,mixed texcoords) {}
+
+/// sides is an array containing sidenumbers to be drawn, defaults to all
+/// param sides defaults to {0,1,2,3,4,5} =3D all sides
+/// param texcoords defaults to { {0,0, 0,1, 1,0, 1,1} repeated 6 times }
+/// param texcoords is one based
+mixed	GfxSetBox	(mixed gfx,mixed cx,mixed cy,mixed cz,mixed sides,mixed te=
xcoords) {}
+
+/// 0,0,0 is top,left,front corner
+mixed	RayPickAABoxSide	(mixed sidenum,mixed x,mixed y,mixed z,mixed cx,mix=
ed cy,mixed cz,mixed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+/// 0,0,0 is top,left,front corner
+/// returns minside,dist , nil if not hit
+mixed	RayPickAABox	(mixed x,mixed y,mixed z,mixed cx,mixed cy,mixed cz,mix=
ed rx,mixed ry,mixed rz,mixed rvx,mixed rvy,mixed rvz) {}
+
+mixed	SoundInit	(mixed name,mixed frequency) {}
+
+mixed	SoundSetListenerPosition	(mixed x,mixed y,mixed z) {}
+
+/// just adds a sound effect to the global effect list
+mixed	AddSound	(mixed effect) {}
+
+/// removes a sound by table key
+mixed	RemoveSound	(mixed effectkey) {}
+
+mixed	SoundPlayOmniEffect	(mixed file) {}
+
+mixed	SoundPlayEffect	(mixed x,mixed y,mixed z,mixed file) {}
+
+mixed	SoundPlayMusic	(mixed file) {}
+
+/// called by c when registering a udata type
+mixed	RegisterUDataType	(mixed name,mixed metatable) {}
+
+/// called by c after creating a udata
+mixed	WrapUData	(mixed myudata) {}
+
+/// instance must be the udata itself, as it should be possible to call my=
instance:MethodFromC(param2,..) which expects a udata as implicit param
+/// or rewrite all functions taking udata as one of their parameters to do=
 a lookup for key "udata" in case they get an array
+/// instance can be used as array
+/// instance can have luaclass
+/// instance created via WrapUData() (called automatically by luabind.h : =
CreateUData()
+/// udata has metatable udatatype (not changeable from lua)
+/// udatatype has methods
+/// udatatype get and set functions to access c membervars
+/// NO : store something in the udata besides a smartpointer ? cannot stor=
e lua types =3D(
+/// YES : checkudata in luabind.h anpassen, so dass es entweder udata dire=
kt oder array-feld mit titel udata nimmt
+/// getter, first looks in instance, if nothing is found there methods.Get=
 is used
+mixed	UData_index	(mixed myinstance,mixed key) {}
+
+/// setter, also for setting variables with set. if the vars don't exist, =
use shadow
+/// but if they are readonly print an error
+mixed	UData_newindex	(mixed myinstance,mixed key,mixed value) {}
+
+mixed	URLEncodeChar	(mixed c) {}
+
+mixed	URLEncode	(mixed s) {}
+
+mixed	FIFO_PushPlainText	(mixed fifo,mixed s) {}
+
+mixed	URLEncodeArr	(mixed arr) {}
+
+/// search first double-newline and return everything after that
+mixed	HTTP_GetResponseContent	(mixed response) {}
+
+mixed	HTTP_MakeRequest	(mixed sHost,mixed sPath) {}
+
+/// http://tools.ietf.org/html/rfc1945
+/// if bIgnoreReturnForSpeed is true, then it returns without waiting for =
an answer
+/// this version is blocking, see also Threaded_HTTPRequest in lib.thread.=
lua for an asynchronous version
+mixed	HTTPGetEx	(mixed sHost,mixed iPort,mixed sPath,mixed bIgnoreReturnFo=
rSpeed) {}
+
+/// load/save dialogs that can be used to browse the filesystem
+mixed	OpenOverwriteConfirmDialog	(mixed path,mixed completionfunc) {}
+
+/// removes ./ and ../ without modifying the meaning
+mixed	ShortPath	(mixed path) {}
+
+mixed	FileBrowse_GetStartDir	(mixed default_startdir) {}
+
+mixed	FileBrowse_SetStartDir	(mixed default_startdir,mixed dir) {}
+
+mixed	OpenFileBrowseDialog	(mixed title,mixed buttontext,mixed default_sta=
rtdir,mixed defaultfilename,mixed completionfunc,mixed folderpath) {}
+
+mixed	FileBrowse_Load	(mixed title,mixed default_startdir,mixed loadfun) {}
+
+mixed	FileBrowse_Save	(mixed title,mixed default_startdir,mixed default_na=
me,mixed savefun) {}
+
+mixed	InitOde	(mixed secondsByStep) {}
+
+/// a nice interface for threaded ops
+/// see also lugre_thread.cpp
+/// see also lib.http.lua
+/// callback(fifo,bError) is called once when the thread is finished, the =
fifo is already filled then
+/// creates a fifo for loading to and passes it to the callback (which is =
then responsible for the destruction)
+mixed	Threaded_LoadFullFileToFIFO	(mixed sFilePath,mixed callback) {}
+
+/// callback(fifo,bError) is called once when the thread is finished, the =
fifo is already filled then
+/// creates a fifo for loading to and passes it to the callback (which is =
then responsible for the destruction)
+mixed	Threaded_LoadFileToFIFO	(mixed sFilePath,mixed iStart,mixed iLength,=
mixed callback) {}
+
+/// see also HTTPGetEx
+/// callback(answertext,bError) : answer header is dropped, 404 is not det=
ectable, just results in an empty answertext
+mixed	Threaded_HTTPRequest	(mixed sHost,mixed iPort,mixed sPath,mixed bIgn=
oreReturnForSpeed,mixed callback) {}
+
+/// ##### ##### ##### ##### ##### LOW LEVEL functions, use with caution
+/// thread_netr CreateThread_NetRequest (sHost,iPort,fifo_SendData=3Dnil,f=
ifo_pAnswerBuffer=3Dnil)
+/// thread_loadf CreateThread_LoadFile (sFilePath,fifo_answerbuffer,iStart=
=3D0,iLength=3D-1)
+/// callback(bError) is called once when the thread is finished
+/// fifo_SendData is used by the thread, DO NOT USE OR RELEASE IT UNTIL TH=
E THREAD IS FINISHED
+/// fifo_AnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTI=
L THE THREAD IS FINISHED
+mixed	Threaded_NetRequest	(mixed sHost,mixed iPort,mixed fifo_SendData,mix=
ed fifo_AnswerBuffer,mixed callback) {}
+
+/// callback(bError) is called once when the thread is finished
+/// fifo_AnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTI=
L THE THREAD IS FINISHED
+mixed	Threaded_LoadFile	(mixed sFilePath,mixed fifo_AnswerBuffer,mixed iSt=
art,mixed iLength,mixed callback) {}
+
+/// string SaveTextureToFile (sTexName,sFilePath)
+static mixed SaveTextureToFile (...) {}
+
+/// string CloneMaterial (sOldMatName,sNewMatName=3Duniquename())
+static mixed CloneMaterial (...) {}
+
+/// string CreateMaterial (sMatName=3Duniquename())
+static mixed CreateMaterial (...) {}
+
+/// void SetAmbient (sMatName,iTech,iPass,r,g,b)
+static mixed SetAmbient (...) {}
+
+/// void SetDiffuse (sMatName,iTech,iPass,r,g,b,a)
+static mixed SetDiffuse (...) {}
+
+/// void SetSceneBlend (sMatName,iSceneBlendMode)
+static mixed SetSceneBlend (...) {}
+
+/// void SetDepthWriteEnabled (sMatName,iTech,iPass,iSceneBlendMode)
+static mixed SetDepthWriteEnabled (...) {}
+
+/// void SetHardwareCulling (sMatName,iTech,iPass,iCullMode)
+/// iCullMode 0=3DCULL_NONE 1=3DCULL_CLOCKWISE 2=3DCULL_ANTICLOCKWISE
+static mixed SetHardwareCulling (...) {}
+
+/// void SetSoftwareCulling (sMatName,iTech,iPass,iCullMode)
+/// iCullMode 0=3DMANUAL_CULL_NONE 1=3DMANUAL_CULL_BACK 2=3DMANUAL_CULL_FR=
ONT
+static mixed SetSoftwareCulling (...) {}
+
+/// old : CreateTextureUnitState (sMatName,iTech,iPass,sTextureName)
+/// void SetTexture (sMatName,sTextureName,iTech=3D0,iPass=3D0,iTextureUni=
t=3D0)
+static mixed SetTexture (...) {}
+
+/// lua : void OdeGeomSetData(dGeomID geom, void* data) [ from ode ]
+static mixed l_OdeGeomSetData (...) {}
+
+/// lua : udata OdedGeomGetData(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomGetData (...) {}
+
+/// lua : void OdeGeomSetBody(dGeomID geom, dBodyID body) [ from ode ]
+static mixed l_OdeGeomSetBody (...) {}
+
+/// lua : dBodyID OdeGeomGetBody(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomGetBody (...) {}
+
+/// lua : void OdeGeomSetPosition(dGeomID geom, dReal x, dReal y, dReal z)=
 [ from ode ]
+static mixed l_OdeGeomSetPosition (...) {}
+
+/// lua : void OdeGeomSetQuaternion(dGeomID geom, const dQuaternion Q) [ f=
rom ode ]
+static mixed l_OdeGeomSetQuaternion (...) {}
+
+/// lua : x,y,z OdeGeomGetPosition(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomGetPosition (...) {}
+
+/// lua : w,x,y,z OdeGeomGetQuaternion(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomGetQuaternion (...) {}
+
+/// lua : ax,ay,az,bx,by,bz OdeGeomGetAABB(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomGetAABB (...) {}
+
+/// lua : int OdeGeomIsSpace(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomIsSpace (...) {}
+
+/// lua : dSpaceID OdeGeomGetSpace(dGeomID) [ from ode ]
+static mixed l_OdeGeomGetSpace (...) {}
+
+/// lua : int OdeGeomGetClass(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomGetClass (...) {}
+
+/// lua : void OdeGeomSetCategoryBits(dGeomID geom, unsigned long bits) [ =
from ode ]
+static mixed l_OdeGeomSetCategoryBits (...) {}
+
+/// lua : void OdeGeomSetCollideBits(dGeomID geom, unsigned long bits) [ f=
rom ode ]
+static mixed l_OdeGeomSetCollideBits (...) {}
+
+/// lua : long OdeGeomGetCategoryBits(dGeomID) [ from ode ]
+static mixed l_OdeGeomGetCategoryBits (...) {}
+
+/// lua : long OdeGeomGetCollideBits(dGeomID) [ from ode ]
+static mixed l_OdeGeomGetCollideBits (...) {}
+
+/// lua : void OdeGeomEnable(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomEnable (...) {}
+
+/// lua : void OdeGeomDisable(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomDisable (...) {}
+
+/// lua : int OdeGeomIsEnabled(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomIsEnabled (...) {}
+
+/// lua : void OdeGeomSetOffsetPosition(dGeomID geom, dReal x, dReal y, dR=
eal z) [ from ode ]
+static mixed l_OdeGeomSetOffsetPosition (...) {}
+
+/// lua : void OdeGeomSetOffsetQuaternion(dGeomID geom, const dQuaternion =
Q) [ from ode ]
+static mixed l_OdeGeomSetOffsetQuaternion (...) {}
+
+/// lua : void OdeGeomSetOffsetWorldPosition(dGeomID geom, dReal x, dReal =
y, dReal z) [ from ode ]
+static mixed l_OdeGeomSetOffsetWorldPosition (...) {}
+
+/// lua : void OdeGeomSetOffsetWorldQuaternion(dGeomID geom, const dQuater=
nion) [ from ode ]
+static mixed l_OdeGeomSetOffsetWorldQuaternion (...) {}
+
+/// lua : void OdeGeomClearOffset(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomClearOffset (...) {}
+
+/// lua : int OdeGeomIsOffset(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomIsOffset (...) {}
+
+/// lua : x,y,z OdeGeomGetOffsetPosition(dGeomID geom) [ from ode ]
+static mixed l_OdeGeomGetOffsetPosition (...) {}
+
+/// lua : w,x,y,z OdeGeomGetOffsetQuaternion(dGeomID geom, dQuaternion res=
ult) [ from ode ]
+static mixed l_OdeGeomGetOffsetQuaternion (...) {}
+
+/// lua : int OdeCollide(dGeomID o1, dGeomID o2, int flags, dContactGeom *=
contact,int skip) [ from ode ]
+static mixed l_OdeCollide (...) {}
+
+/// lua : px,py,pz, nx,ny,nz, depth, g1,g2, side1, side2 OdeContactGeomCre=
ate(contactgeomid)
+static mixed l_OdeContactGeomGetParams (...) {}
+
+static mixed l_OdeContactGeomCreate (...) {}
+
+static mixed l_OdeContactGeomDestroy (...) {}
+
+/// lua : {contact,...} OdeCollide(dGeomID o1, dGeomID o2,count)
+static mixed l_OdeCollide (...) {}
+
+/// lua : mode,mu,mu2,bounce,bounce_vel,soft_erp,soft_cfm,motion1,motion2,=
slip1,slip2 OdeGetContactSurface(dContact *p)
+static mixed l_OdeGetContactSurface (...) {}
+
+/// lua : OdeSetContactSurface(dContact *p,mode,mu,mu2,bounce,bounce_vel,s=
oft_erp,soft_cfm,motion1,motion2,slip1,slip2)
+static mixed l_OdeSetContactSurface (...) {}
+
+/// lua : OdeSetContactGeom(dContact *p,mode,mu,mu2,bounce,bounce_vel,soft=
_erp,soft_cfm,motion1,motion2,slip1,slip2)
+static mixed l_OdeSetContactGeom (...) {}
+
+/// lua : posx,posy,posz,normalx,normaly,normalz,depth,g1,g2,side1,side2 O=
deGetContactGeom(dContact *p)
+static mixed l_OdeGetContactGeom (...) {}
+
+/// lua : void OdeSpaceCollide(dSpaceID space,fun(o0,o1))
+static mixed l_OdeSpaceCollide (...) {}
+
+/// like OdeSpaceCollide but with an additional callback function
+/// fun() : function to create the collision feedback joints
+/// function callback(o0,o1,posx,posy,posz,normalx,normaly,normalz,depth,g=
1,g2,side1,side2)
+/// return mode,mu,mu2,bounce,bounce_vel,soft_erp,soft_cfm,motion1,motion2=
,slip1,slip2
+/// end
+/// lua : void OdeSpaceCollideWithCallback(dWorldID, dJointGroupID, dSpace=
ID space,fun())
+static mixed l_OdeSpaceCollideWithCallback (...) {}
+
+/// lua : void OdeSpaceCollide2(dGeomID space1, dGeomID space2, fun(o0,o1))
+static mixed l_OdeSpaceCollide2 (...) {}
+
+/// lua : dGeomID OdeCreateSphere(dSpaceID space, dReal radius) [ from ode=
 ]
+static mixed l_OdeCreateSphere (...) {}
+
+/// lua : void OdeGeomSphereSetRadius(dGeomID sphere, dReal radius) [ from=
 ode ]
+static mixed l_OdeGeomSphereSetRadius (...) {}
+
+/// lua : dReal OdeGeomSphereGetRadius(dGeomID sphere) [ from ode ]
+static mixed l_OdeGeomSphereGetRadius (...) {}
+
+/// lua : dReal OdeGeomSpherePointDepth(dGeomID sphere, dReal x, dReal y, =
dReal z) [ from ode ]
+static mixed l_OdeGeomSpherePointDepth (...) {}
+
+/// --> Convex Functions
+/// lua : dGeomID OdeCreateConvex(dSpaceID space,dReal *_planes,unsigned i=
nt _planecount,dReal *_points,unsigned int _pointcount,unsigned int *_polyg=
ons) [ from ode ]
+static mixed l_OdeCreateConvex (...) {}
+
+/// lua : void OdeGeomSetConvex(dGeomID g,dReal *_planes,unsigned int _cou=
nt,dReal *_points,unsigned int _pointcount,unsigned int *_polygons) [ from =
ode ]
+static mixed l_OdeGeomSetConvex (...) {}
+
+/// lua : dGeomID OdeCreateBox(dSpaceID space, dReal lx, dReal ly, dReal l=
z) [ from ode ]
+static mixed l_OdeCreateBox (...) {}
+
+/// lua : void OdeGeomBoxSetLengths(dGeomID box, dReal lx, dReal ly, dReal=
 lz) [ from ode ]
+static mixed l_OdeGeomBoxSetLengths (...) {}
+
+/// lua : lx,ly,lz OdeGeomBoxGetLengths(dGeomID box, dVector3 result) [ fr=
om ode ]
+static mixed l_OdeGeomBoxGetLengths (...) {}
+
+/// lua : dReal OdeGeomBoxPointDepth(dGeomID box, dReal x, dReal y, dReal =
z) [ from ode ]
+static mixed l_OdeGeomBoxPointDepth (...) {}
+
+/// lua : dGeomID OdeCreatePlane(dSpaceID space, dReal a, dReal b, dReal c=
, dReal d) [ from ode ]
+static mixed l_OdeCreatePlane (...) {}
+
+/// lua : void OdeGeomPlaneSetParams(dGeomID plane, dReal a, dReal b, dRea=
l c, dReal d) [ from ode ]
+static mixed l_OdeGeomPlaneSetParams (...) {}
+
+/// lua : a,b,c,d OdeGeomPlaneGetParams(dGeomID plane, dVector4 result) [ =
from ode ]
+static mixed l_OdeGeomPlaneGetParams (...) {}
+
+/// lua : dReal OdeGeomPlanePointDepth(dGeomID plane, dReal x, dReal y, dR=
eal z) [ from ode ]
+static mixed l_OdeGeomPlanePointDepth (...) {}
+
+/// lua : dGeomID OdeCreateCapsule(dSpaceID space, dReal radius, dReal len=
gth) [ from ode ]
+static mixed l_OdeCreateCapsule (...) {}
+
+/// lua : void OdeGeomCapsuleSetParams(dGeomID ccylinder, dReal radius, dR=
eal length) [ from ode ]
+static mixed l_OdeGeomCapsuleSetParams (...) {}
+
+/// lua : r,l OdeGeomCapsuleGetParams(dGeomID ccylinder, dReal *radius, dR=
eal *length) [ from ode ]
+static mixed l_OdeGeomCapsuleGetParams (...) {}
+
+/// lua : dReal OdeGeomCapsulePointDepth(dGeomID ccylinder, dReal x, dReal=
 y, dReal z) [ from ode ]
+static mixed l_OdeGeomCapsulePointDepth (...) {}
+
+/// lua : void OdeGeomCylinderSetParams(dGeomID cylinder, dReal radius, dR=
eal length) [ from ode ]
+static mixed l_OdeGeomCylinderSetParams (...) {}
+
+/// lua : r,l OdeGeomCylinderGetParams(dGeomID cylinder, dReal *radius, dR=
eal *length) [ from ode ]
+static mixed l_OdeGeomCylinderGetParams (...) {}
+
+/// lua : dGeomID OdeCreateRay(dSpaceID space, dReal length) [ from ode ]
+static mixed l_OdeCreateRay (...) {}
+
+/// lua : void OdeGeomRaySetLength(dGeomID ray, dReal length) [ from ode ]
+static mixed l_OdeGeomRaySetLength (...) {}
+
+/// lua : dReal OdeGeomRayGetLength(dGeomID ray) [ from ode ]
+static mixed l_OdeGeomRayGetLength (...) {}
+
+/// lua : void OdeGeomRaySet(dGeomID ray, dReal px, dReal py, dReal pz,dRe=
al dx, dReal dy, dReal dz) [ from ode ]
+static mixed l_OdeGeomRaySet (...) {}
+
+/// lua : void OdeGeomDestroy(dGeomID)
+static mixed l_OdeGeomDestroy (...) {}
+
+/// lua : px,py,pz, dx,dy,dz OdeGeomRayGet(dGeomID ray, dVector3 start, dV=
ector3 dir) [ from ode ]
+static mixed l_OdeGeomRayGet (...) {}
+
+/// lua : void OdeGeomRaySetParams(dGeomID g, int FirstContact, int Backfa=
ceCull) [ from ode ]
+static mixed l_OdeGeomRaySetParams (...) {}
+
+/// lua : FirstContact, BackfaceCull OdeGeomRayGetParams(dGeomID g, int *F=
irstContact, int *BackfaceCull) [ from ode ]
+static mixed l_OdeGeomRayGetParams (...) {}
+
+/// lua : void OdeGeomRaySetClosestHit(dGeomID g, int closestHit) [ from o=
de ]
+static mixed l_OdeGeomRaySetClosestHit (...) {}
+
+/// lua : int OdeGeomRayGetClosestHit(dGeomID g) [ from ode ]
+static mixed l_OdeGeomRayGetClosestHit (...) {}
+
+/// lua : void OdeGeomTransformSetGeom(dGeomID g, dGeomID obj) [ from ode ]
+static mixed l_OdeGeomTransformSetGeom (...) {}
+
+/// lua : dGeomID OdeGeomTransformGetGeom(dGeomID g) [ from ode ]
+static mixed l_OdeGeomTransformGetGeom (...) {}
+
+/// lua : void OdeGeomTransformSetCleanup(dGeomID g, int mode) [ from ode ]
+static mixed l_OdeGeomTransformSetCleanup (...) {}
+
+/// lua : int OdeGeomTransformGetCleanup(dGeomID g) [ from ode ]
+static mixed l_OdeGeomTransformGetCleanup (...) {}
+
+/// lua : void OdeGeomTransformSetInfo(dGeomID g, int mode) [ from ode ]
+static mixed l_OdeGeomTransformSetInfo (...) {}
+
+/// lua : int OdeGeomTransformGetInfo(dGeomID g) [ from ode ]
+static mixed l_OdeGeomTransformGetInfo (...) {}
+
+/// lua : dGeomID OdeCreateHeightfield( dSpaceID space,dHeightfieldDataID =
data, int bPlaceable ) [ from ode ]
+static mixed l_OdeCreateHeightfield (...) {}
+
+/// lua : void OdeGeomHeightfieldDataDestroy( dHeightfieldDataID d ) [ fro=
m ode ]
+static mixed l_OdeGeomHeightfieldDataDestroy (...) {}
+
+/// lua : dHeightfieldDataID OdeGeomHeightfieldDataCreate() [ from ode ]
+static mixed l_OdeGeomHeightfieldDataCreate (...) {}
+
+/// lua : void OdeGeomHeightfieldDataBuildCallback( dHeightfieldDataID d,v=
oid* pUserData, dHeightfieldGetHeight* pCallback,dReal width, dReal depth, =
int widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickne=
ss, int bWrap ) [ from ode ]
+static mixed l_OdeGeomHeightfieldDataBuildCallback (...) {}
+
+/// lua : void OdeGeomHeightfieldDataBuildFromFun( dHeightfieldDataID d,wi=
dth,height,dx,dz,float fun(x,z))
+static mixed l_OdeGeomHeightfieldDataBuildFromFun (...) {}
+
+/// lua : void OdeGeomHeightfieldDataBuildByte( dHeightfieldDataID d,const=
 unsigned char* pHeightData, int bCopyHeightData,dReal width, dReal depth, =
int widthSamples, int depthSamples,dReal scale, dReal offset, dReal thickne=
ss, int bWrap ) [ from ode ]
+static mixed l_OdeGeomHeightfieldDataBuildByte (...) {}
+
+/// lua : void OdeGeomHeightfieldDataBuildShort( dHeightfieldDataID d,cons=
t short* pHeightData, int bCopyHeightData,dReal width, dReal depth, int wid=
thSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, int=
 bWrap ) [ from ode ]
+static mixed l_OdeGeomHeightfieldDataBuildShort (...) {}
+
+/// lua : void OdeGeomHeightfieldDataBuildSingle( dHeightfieldDataID d,con=
st float* pHeightData, int bCopyHeightData,dReal width, dReal depth, int wi=
dthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, in=
t bWrap ) [ from ode ]
+static mixed l_OdeGeomHeightfieldDataBuildSingle (...) {}
+
+/// lua : void OdeGeomHeightfieldDataBuildDouble( dHeightfieldDataID d,con=
st double* pHeightData, int bCopyHeightData,dReal width, dReal depth, int w=
idthSamples, int depthSamples,dReal scale, dReal offset, dReal thickness, i=
nt bWrap ) [ from ode ]
+static mixed l_OdeGeomHeightfieldDataBuildDouble (...) {}
+
+/// lua : void OdeGeomHeightfieldDataSetBounds( dHeightfieldDataID d,dReal=
 minHeight, dReal maxHeight ) [ from ode ]
+static mixed l_OdeGeomHeightfieldDataSetBounds (...) {}
+
+/// lua : void OdeGeomHeightfieldSetHeightfieldData( dGeomID g, dHeightfie=
ldDataID d ) [ from ode ]
+static mixed l_OdeGeomHeightfieldSetHeightfieldData (...) {}
+
+/// lua : dHeightfieldDataID OdeGeomHeightfieldGetHeightfieldData( dGeomID=
 g ) [ from ode ]
+static mixed l_OdeGeomHeightfieldGetHeightfieldData (...) {}
+
+/// lua : cp1x,cp1y,cp1z,cp2x,cp2y,cp2z OdeClosestLineSegmentPoints(const =
dVector3 a1, const dVector3 a2,const dVector3 b1, const dVector3 b2) [ from=
 ode ]
+static mixed l_OdeClosestLineSegmentPoints (...) {}
+
+/// lua : int OdeBoxTouchesBox(const dVector3 _p1, const dMatrix3 R1,const=
 dVector3 side1, const dVector3 _p2,const dMatrix3 R2, const dVector3 side2=
) [ from ode ]
+static mixed l_OdeBoxTouchesBox (...) {}
+
+/// lua : ax,ay,az, bx,by,bz OdeInfiniteAABB(dGeomID geom, dReal aabb[6]) =
[ from ode ]
+static mixed l_OdeInfiniteAABB (...) {}
+
+/// lua : void OdeInitODE(void) [ from ode ]
+static mixed l_OdeInitODE (...) {}
+
+/// lua : void OdeCloseODE(void) [ from ode ]
+static mixed l_OdeCloseODE (...) {}
+
+/// lua : int OdeCreateGeomClass(const dGeomClass *classptr) [ from ode ]
+static mixed l_OdeCreateGeomClass (...) {}
+
+/// lua : * OdeGeomGetClassData(dGeomID) [ from ode ]
+static mixed l_OdeGeomGetClassData (...) {}
+
+/// lua : dGeomID OdeCreateGeom(int classnum) [ from ode ]
+static mixed l_OdeCreateGeom (...) {}
+
+/// lua : dSpaceID OdeSimpleSpaceCreate(dSpaceID space) [ from ode ]
+static mixed l_OdeSimpleSpaceCreate (...) {}
+
+/// lua : dSpaceID OdeHashSpaceCreate(dSpaceID space) [ from ode ]
+static mixed l_OdeHashSpaceCreate (...) {}
+
+/// lua : dSpaceID OdeQuadTreeSpaceCreate(dSpaceID space, dVector3 Center,=
 dVector3 Extents, int Depth) [ from ode ]
+static mixed l_OdeQuadTreeSpaceCreate (...) {}
+
+/// lua : void OdeSpaceDestroy(dSpaceID) [ from ode ]
+static mixed l_OdeSpaceDestroy (...) {}
+
+/// lua : void OdeHashSpaceSetLevels(dSpaceID space, int minlevel, int max=
level) [ from ode ]
+static mixed l_OdeHashSpaceSetLevels (...) {}
+
+/// lua : minlevel,maxlevel OdeHashSpaceGetLevels(dSpaceID space, int *min=
level, int *maxlevel) [ from ode ]
+static mixed l_OdeHashSpaceGetLevels (...) {}
+
+/// lua : void OdeSpaceSetCleanup(dSpaceID space, int mode) [ from ode ]
+static mixed l_OdeSpaceSetCleanup (...) {}
+
+/// lua : int OdeSpaceGetCleanup(dSpaceID space) [ from ode ]
+static mixed l_OdeSpaceGetCleanup (...) {}
+
+/// lua : void OdeSpaceAdd(dSpaceID, dGeomID) [ from ode ]
+static mixed l_OdeSpaceAdd (...) {}
+
+/// lua : void OdeSpaceRemove(dSpaceID, dGeomID) [ from ode ]
+static mixed l_OdeSpaceRemove (...) {}
+
+/// lua : int OdeSpaceQuery(dSpaceID, dGeomID) [ from ode ]
+static mixed l_OdeSpaceQuery (...) {}
+
+/// lua : void OdeSpaceClean(dSpaceID) [ from ode ]
+static mixed l_OdeSpaceClean (...) {}
+
+/// lua : int OdeSpaceGetNumGeoms(dSpaceID) [ from ode ]
+static mixed l_OdeSpaceGetNumGeoms (...) {}
+
+/// lua : dGeomID OdeSpaceGetGeom(dSpaceID, int i) [ from ode ]
+static mixed l_OdeSpaceGetGeom (...) {}
+
+/// lua : cTriangleMeshRawData OdeTriMeshRawDataCreate(fifo)
+static mixed l_OdeTriMeshRawDataCreate (...) {}
+
+/// lua : void OdeTriMeshRawDataDestroy(cTriangleMeshRawData)
+static mixed l_OdeTriMeshRawDataDestroy (...) {}
+
+/// lua : void OdeTriMeshRawDataPrint(cTriangleMeshRawData)
+static mixed l_OdeTriMeshRawDataPrint (...) {}
+
+/// lua : dTriMeshDataID OdeGeomTriMeshDataCreate(void) [ from ode ]
+static mixed l_OdeGeomTriMeshDataCreate (...) {}
+
+/// lua : void OdeGeomTriMeshDataDestroy(dTriMeshDataID g) [ from ode ]
+static mixed l_OdeGeomTriMeshDataDestroy (...) {}
+
+/// lua : void OdeGeomTriMeshDataSet(dTriMeshDataID g, int data_id, void* =
in_data) [ from ode ]
+static mixed l_OdeGeomTriMeshDataSet (...) {}
+
+/// lua : void* OdeGeomTriMeshDataGet(dTriMeshDataID g, int data_id) [ fro=
m ode ]
+static mixed l_OdeGeomTriMeshDataGet (...) {}
+
+/// lua : void OdeGeomTriMeshSetLastTransform( dGeomID g, dMatrix4 last_tr=
ans ) [ from ode ]
+static mixed l_OdeGeomTriMeshSetLastTransform (...) {}
+
+/// lua : dReal* OdeGeomTriMeshGetLastTransform( dGeomID g ) [ from ode ]
+static mixed l_OdeGeomTriMeshGetLastTransform (...) {}
+
+/// lua : void OdeGeomTriMeshDataBuildSingle(dTriMeshDataID g,const void* =
Vertices, int VertexStride, int VertexCount,const void* Indices, int IndexC=
ount, int TriStride) [ from ode ]
+static mixed l_OdeGeomTriMeshDataBuildSingle (...) {}
+
+/// lua : void OdeGeomTriMeshDataBuildSingle1(dTriMeshDataID g,const void*=
 Vertices, int VertexStride, int VertexCount,const void* Indices, int Index=
Count, int TriStride,const void* Normals) [ from ode ]
+static mixed l_OdeGeomTriMeshDataBuildSingle1 (...) {}
+
+/// lua : void OdeGeomTriMeshDataBuildDouble(dTriMeshDataID g,const void* =
Vertices, int VertexStride, int VertexCount,const void* Indices, int IndexC=
ount, int TriStride) [ from ode ]
+static mixed l_OdeGeomTriMeshDataBuildDouble (...) {}
+
+/// lua : void OdeGeomTriMeshDataBuildDouble1(dTriMeshDataID g,const void*=
 Vertices, int VertexStride, int VertexCount,const void* Indices, int Index=
Count, int TriStride,const void* Normals) [ from ode ]
+static mixed l_OdeGeomTriMeshDataBuildDouble1 (...) {}
+
+/// lua : void OdeGeomTriMeshDataBuildFromRaw(dTriMeshDataID g,cTriangleMe=
shRawData)
+static mixed l_OdeGeomTriMeshDataBuildFromRaw (...) {}
+
+/// lua : void OdeGeomTriMeshDataBuildSimple1(dTriMeshDataID g,const dReal=
* Vertices, int VertexCount,const int* Indices, int IndexCount,const int* N=
ormals) [ from ode ]
+static mixed l_OdeGeomTriMeshDataBuildSimple1 (...) {}
+
+/// lua : void OdeGeomTriMeshDataPreprocess(dTriMeshDataID g) [ from ode ]
+static mixed l_OdeGeomTriMeshDataPreprocess (...) {}
+
+/// lua : void OdeGeomTriMeshDataGetBuffer(dTriMeshDataID g, unsigned char=
** buf, int* bufLen) [ from ode ]
+static mixed l_OdeGeomTriMeshDataGetBuffer (...) {}
+
+/// lua : void OdeGeomTriMeshDataSetBuffer(dTriMeshDataID g, unsigned char=
* buf) [ from ode ]
+static mixed l_OdeGeomTriMeshDataSetBuffer (...) {}
+
+/// lua : void OdeGeomTriMeshSetCallback(dGeomID g, dTriCallback* Callback=
) [ from ode ]
+static mixed l_OdeGeomTriMeshSetCallback (...) {}
+
+/// lua : dTriCallback* OdeGeomTriMeshGetCallback(dGeomID g) [ from ode ]
+static mixed l_OdeGeomTriMeshGetCallback (...) {}
+
+/// lua : void OdeGeomTriMeshSetArrayCallback(dGeomID g, dTriArrayCallback=
* ArrayCallback) [ from ode ]
+static mixed l_OdeGeomTriMeshSetArrayCallback (...) {}
+
+/// lua : dTriArrayCallback* OdeGeomTriMeshGetArrayCallback(dGeomID g) [ f=
rom ode ]
+static mixed l_OdeGeomTriMeshGetArrayCallback (...) {}
+
+/// lua : void OdeGeomTriMeshSetRayCallback(dGeomID g, dTriRayCallback* Ca=
llback) [ from ode ]
+static mixed l_OdeGeomTriMeshSetRayCallback (...) {}
+
+/// lua : dTriRayCallback* OdeGeomTriMeshGetRayCallback(dGeomID g) [ from =
ode ]
+static mixed l_OdeGeomTriMeshGetRayCallback (...) {}
+
+/// lua : dGeomID OdeCreateTriMesh(dSpaceID space, dTriMeshDataID Data)
+/// UNUSED, dTriCallback* Callback, dTriArrayCallback* ArrayCallback, dTri=
RayCallback* RayCallback) [ from ode ]
+static mixed l_OdeCreateTriMesh (...) {}
+
+/// lua : void OdeGeomTriMeshSetData(dGeomID g, dTriMeshDataID Data) [ fro=
m ode ]
+static mixed l_OdeGeomTriMeshSetData (...) {}
+
+/// lua : dTriMeshDataID OdeGeomTriMeshGetData(dGeomID g) [ from ode ]
+static mixed l_OdeGeomTriMeshGetData (...) {}
+
+/// enable/disable/check temporal coherence
+/// lua : void OdeGeomTriMeshEnableTC(dGeomID g, int geomClass, int enable=
) [ from ode ]
+static mixed l_OdeGeomTriMeshEnableTC (...) {}
+
+/// lua : int OdeGeomTriMeshIsTCEnabled(dGeomID g, int geomClass) [ from o=
de ]
+static mixed l_OdeGeomTriMeshIsTCEnabled (...) {}
+
+/// lua : void OdeGeomTriMeshClearTCCache(dGeomID g) [ from ode ]
+static mixed l_OdeGeomTriMeshClearTCCache (...) {}
+
+/// lua : dTriMeshDataID OdeGeomTriMeshGetTriMeshDataID(dGeomID g) [ from =
ode ]
+static mixed l_OdeGeomTriMeshGetTriMeshDataID (...) {}
+
+/// lua : void OdeGeomTriMeshGetTriangle(dGeomID g, int Index, dVector3* v=
0, dVector3* v1, dVector3* v2) [ from ode ]
+static mixed l_OdeGeomTriMeshGetTriangle (...) {}
+
+/// lua : void OdeGeomTriMeshGetPoint(dGeomID g, int Index, dReal u, dReal=
 v, dVector3 Out) [ from ode ]
+static mixed l_OdeGeomTriMeshGetPoint (...) {}
+
+/// lua : int OdeGeomTriMeshGetTriangleCount(dGeomID g) [ from ode ]
+static mixed l_OdeGeomTriMeshGetTriangleCount (...) {}
+
+/// lua : void OdeGeomTriMeshDataUpdate(dTriMeshDataID g) [ from ode ]
+static mixed l_OdeGeomTriMeshDataUpdate (...) {}
+
+/// lua : udata OdeMassCreate()
+static mixed l_OdeMassCreate (...) {}
+
+/// lua : void OdeMassDestroy(udata)
+static mixed l_OdeMassDestroy (...) {}
+
+/// lua : int OdeMassCheck(const dMass *m) [ from ode ]
+static mixed l_OdeMassCheck (...) {}
+
+/// lua : void OdeMassSetZero(dMass *) [ from ode ]
+static mixed l_OdeMassSetZero (...) {}
+
+/// lua : void OdeMassSetParameters(dMass *, dReal themass,dReal cgx, dRea=
l cgy, dReal cgz,dReal I11, dReal I22, dReal I33,dReal I12, dReal I13, dRea=
l I23) [ from ode ]
+static mixed l_OdeMassSetParameters (...) {}
+
+/// lua : void OdeMassSetSphere(dMass *, dReal density, dReal radius) [ fr=
om ode ]
+static mixed l_OdeMassSetSphere (...) {}
+
+/// lua : void OdeMassSetSphereTotal(dMass *, dReal total_mass, dReal radi=
us) [ from ode ]
+static mixed l_OdeMassSetSphereTotal (...) {}
+
+/// lua : void OdeMassSetCapsule(dMass *, dReal density, int direction,dRe=
al radius, dReal length) [ from ode ]
+static mixed l_OdeMassSetCapsule (...) {}
+
+/// lua : void OdeMassSetCapsuleTotal(dMass *, dReal total_mass, int direc=
tion,dReal radius, dReal length) [ from ode ]
+static mixed l_OdeMassSetCapsuleTotal (...) {}
+
+/// lua : void OdeMassSetCylinder(dMass *, dReal density, int direction,dR=
eal radius, dReal length) [ from ode ]
+static mixed l_OdeMassSetCylinder (...) {}
+
+/// lua : void OdeMassSetCylinderTotal(dMass *, dReal total_mass, int dire=
ction,dReal radius, dReal length) [ from ode ]
+static mixed l_OdeMassSetCylinderTotal (...) {}
+
+/// lua : void OdeMassSetBox(dMass *, dReal density,dReal lx, dReal ly, dR=
eal lz) [ from ode ]
+static mixed l_OdeMassSetBox (...) {}
+
+/// lua : void OdeMassSetBoxTotal(dMass *, dReal total_mass,dReal lx, dRea=
l ly, dReal lz) [ from ode ]
+static mixed l_OdeMassSetBoxTotal (...) {}
+
+/// lua : void OdeMassSetTrimesh(dMass *, dReal density, dGeomID g) [ from=
 ode ]
+static mixed l_OdeMassSetTrimesh (...) {}
+
+/// lua : void OdeMassAdjust(dMass *, dReal newmass) [ from ode ]
+static mixed l_OdeMassAdjust (...) {}
+
+/// lua : void OdeMassTranslate(dMass *, dReal x, dReal y, dReal z) [ from=
 ode ]
+static mixed l_OdeMassTranslate (...) {}
+
+/// lua : void OdeMassAdd(dMass *a, const dMass *b) [ from ode ]
+static mixed l_OdeMassAdd (...) {}
+
+/// lua : udata l_OdeWorldCreate() [ from ode ]
+static mixed l_OdeWorldCreate (...) {}
+
+/// lua : void OdeWorldDestroy(dWorldID world) [ from ode ]
+static mixed l_OdeWorldDestroy (...) {}
+
+/// lua : void OdeWorldSetGravity(dWorldID, dReal x, dReal y, dReal z) [ f=
rom ode ]
+static mixed l_OdeWorldSetGravity (...) {}
+
+/// lua : void OdeWorldGetGravity(dWorldID, dVector3 gravity) [ from ode ]
+static mixed l_OdeWorldGetGravity (...) {}
+
+/// lua : void OdeWorldSetERP(dWorldID, dReal erp) [ from ode ]
+static mixed l_OdeWorldSetERP (...) {}
+
+/// lua : dReal OdeWorldGetERP(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetERP (...) {}
+
+/// lua : void OdeWorldSetCFM(dWorldID, dReal cfm) [ from ode ]
+static mixed l_OdeWorldSetCFM (...) {}
+
+/// lua : dReal OdeWorldGetCFM(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetCFM (...) {}
+
+/// lua : void OdeWorldStep(dWorldID, dReal stepsize) [ from ode ]
+static mixed l_OdeWorldStep (...) {}
+
+/// lua : void OdeWorldImpulseToForce(dWorldID, dReal stepsize,dReal ix, d=
Real iy, dReal iz, dVector3 force) [ from ode ]
+static mixed l_OdeWorldImpulseToForce (...) {}
+
+/// lua : void OdeWorldQuickStep(dWorldID w, dReal stepsize) [ from ode ]
+static mixed l_OdeWorldQuickStep (...) {}
+
+/// lua : void OdeWorldSetQuickStepNumIterations(dWorldID, int num) [ from=
 ode ]
+static mixed l_OdeWorldSetQuickStepNumIterations (...) {}
+
+/// lua : int OdeWorldGetQuickStepNumIterations(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetQuickStepNumIterations (...) {}
+
+/// lua : void OdeWorldSetQuickStepW(dWorldID, dReal over_relaxation) [ fr=
om ode ]
+static mixed l_OdeWorldSetQuickStepW (...) {}
+
+/// lua : dReal OdeWorldGetQuickStepW(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetQuickStepW (...) {}
+
+/// lua : void OdeWorldSetContactMaxCorrectingVel(dWorldID, dReal vel) [ f=
rom ode ]
+static mixed l_OdeWorldSetContactMaxCorrectingVel (...) {}
+
+/// lua : dReal OdeWorldGetContactMaxCorrectingVel(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetContactMaxCorrectingVel (...) {}
+
+/// lua : void OdeWorldSetContactSurfaceLayer(dWorldID, dReal depth) [ fro=
m ode ]
+static mixed l_OdeWorldSetContactSurfaceLayer (...) {}
+
+/// lua : dReal OdeWorldGetContactSurfaceLayer(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetContactSurfaceLayer (...) {}
+
+/// lua : void OdeWorldStepFast1(dWorldID, dReal stepsize, int maxiteratio=
ns) [ from ode ]
+static mixed l_OdeWorldStepFast1 (...) {}
+
+/// lua : void OdeWorldSetAutoEnableDepthSF1(dWorldID, int autoEnableDepth=
) [ from ode ]
+static mixed l_OdeWorldSetAutoEnableDepthSF1 (...) {}
+
+/// lua : int OdeWorldGetAutoEnableDepthSF1(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetAutoEnableDepthSF1 (...) {}
+
+/// lua : dReal OdeWorldGetAutoDisableLinearThreshold(dWorldID) [ from ode=
 ]
+static mixed l_OdeWorldGetAutoDisableLinearThreshold (...) {}
+
+/// lua : void OdeWorldSetAutoDisableLinearThreshold(dWorldID, dReal linea=
r_threshold) [ from ode ]
+static mixed l_OdeWorldSetAutoDisableLinearThreshold (...) {}
+
+/// lua : dReal OdeWorldGetAutoDisableAngularThreshold(dWorldID) [ from od=
e ]
+static mixed l_OdeWorldGetAutoDisableAngularThreshold (...) {}
+
+/// lua : void OdeWorldSetAutoDisableAngularThreshold(dWorldID, dReal angu=
lar_threshold) [ from ode ]
+static mixed l_OdeWorldSetAutoDisableAngularThreshold (...) {}
+
+/// lua : dReal OdeWorldGetAutoDisableLinearAverageThreshold(dWorldID) [ f=
rom ode ]
+static mixed l_OdeWorldGetAutoDisableLinearAverageThreshold (...) {}
+
+/// lua : void OdeWorldSetAutoDisableLinearAverageThreshold(dWorldID, dRea=
l linear_average_threshold) [ from ode ]
+static mixed l_OdeWorldSetAutoDisableLinearAverageThreshold (...) {}
+
+/// lua : dReal OdeWorldGetAutoDisableAngularAverageThreshold(dWorldID) [ =
from ode ]
+static mixed l_OdeWorldGetAutoDisableAngularAverageThreshold (...) {}
+
+/// lua : void OdeWorldSetAutoDisableAngularAverageThreshold(dWorldID, dRe=
al angular_average_threshold) [ from ode ]
+static mixed l_OdeWorldSetAutoDisableAngularAverageThreshold (...) {}
+
+/// lua : int OdeWorldGetAutoDisableAverageSamplesCount(dWorldID) [ from o=
de ]
+static mixed l_OdeWorldGetAutoDisableAverageSamplesCount (...) {}
+
+/// lua : void OdeWorldSetAutoDisableAverageSamplesCount(dWorldID, unsigne=
d int average_samples_count ) [ from ode ]
+static mixed l_OdeWorldSetAutoDisableAverageSamplesCount (...) {}
+
+/// lua : int OdeWorldGetAutoDisableSteps(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetAutoDisableSteps (...) {}
+
+/// lua : void OdeWorldSetAutoDisableSteps(dWorldID, int steps) [ from ode=
 ]
+static mixed l_OdeWorldSetAutoDisableSteps (...) {}
+
+/// lua : dReal OdeWorldGetAutoDisableTime(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetAutoDisableTime (...) {}
+
+/// lua : void OdeWorldSetAutoDisableTime(dWorldID, dReal time) [ from ode=
 ]
+static mixed l_OdeWorldSetAutoDisableTime (...) {}
+
+/// lua : int OdeWorldGetAutoDisableFlag(dWorldID) [ from ode ]
+static mixed l_OdeWorldGetAutoDisableFlag (...) {}
+
+/// lua : void OdeWorldSetAutoDisableFlag(dWorldID, int do_auto_disable) [=
 from ode ]
+static mixed l_OdeWorldSetAutoDisableFlag (...) {}
+
+/// lua : dReal OdeBodyGetAutoDisableLinearThreshold(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetAutoDisableLinearThreshold (...) {}
+
+/// lua : void OdeBodySetAutoDisableLinearThreshold(dBodyID, dReal linear_=
average_threshold) [ from ode ]
+static mixed l_OdeBodySetAutoDisableLinearThreshold (...) {}
+
+/// lua : dReal OdeBodyGetAutoDisableAngularThreshold(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetAutoDisableAngularThreshold (...) {}
+
+/// lua : void OdeBodySetAutoDisableAngularThreshold(dBodyID, dReal angula=
r_average_threshold) [ from ode ]
+static mixed l_OdeBodySetAutoDisableAngularThreshold (...) {}
+
+/// lua : int OdeBodyGetAutoDisableAverageSamplesCount(dBodyID) [ from ode=
 ]
+static mixed l_OdeBodyGetAutoDisableAverageSamplesCount (...) {}
+
+/// lua : void OdeBodySetAutoDisableAverageSamplesCount(dBodyID, unsigned =
int average_samples_count) [ from ode ]
+static mixed l_OdeBodySetAutoDisableAverageSamplesCount (...) {}
+
+/// lua : int OdeBodyGetAutoDisableSteps(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetAutoDisableSteps (...) {}
+
+/// lua : void OdeBodySetAutoDisableSteps(dBodyID, int steps) [ from ode ]
+static mixed l_OdeBodySetAutoDisableSteps (...) {}
+
+/// lua : dReal OdeBodyGetAutoDisableTime(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetAutoDisableTime (...) {}
+
+/// lua : void OdeBodySetAutoDisableTime(dBodyID, dReal time) [ from ode ]
+static mixed l_OdeBodySetAutoDisableTime (...) {}
+
+/// lua : int OdeBodyGetAutoDisableFlag(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetAutoDisableFlag (...) {}
+
+/// lua : void OdeBodySetAutoDisableFlag(dBodyID, int do_auto_disable) [ f=
rom ode ]
+static mixed l_OdeBodySetAutoDisableFlag (...) {}
+
+/// lua : void OdeBodySetAutoDisableDefaults(dBodyID) [ from ode ]
+static mixed l_OdeBodySetAutoDisableDefaults (...) {}
+
+/// lua : dWorldID OdeBodyGetWorld(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetWorld (...) {}
+
+/// lua : dBodyID OdeBodyCreate(dWorldID) [ from ode ]
+static mixed l_OdeBodyCreate (...) {}
+
+/// lua : void OdeBodyDestroy(dBodyID) [ from ode ]
+static mixed l_OdeBodyDestroy (...) {}
+
+/// lua : void OdeBodySetData(dBodyID, void *data) [ from ode ]
+static mixed l_OdeBodySetData (...) {}
+
+/// lua : void OdeBodyGetData(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetData (...) {}
+
+/// lua : void OdeBodySetPosition(dBodyID, dReal x, dReal y, dReal z) [ fr=
om ode ]
+static mixed l_OdeBodySetPosition (...) {}
+
+/// lua : void OdeBodySetQuaternion(dBodyID, const dQuaternion q) [ from o=
de ]
+static mixed l_OdeBodySetQuaternion (...) {}
+
+/// lua : void OdeBodySetLinearVel(dBodyID, dReal x, dReal y, dReal z) [ f=
rom ode ]
+static mixed l_OdeBodySetLinearVel (...) {}
+
+/// lua : void OdeBodySetAngularVel(dBodyID, dReal x, dReal y, dReal z) [ =
from ode ]
+static mixed l_OdeBodySetAngularVel (...) {}
+
+/// lua : x,y,z OdeBodyGetPosition(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetPosition (...) {}
+
+/// lua : w,x,y,z OdeBodyGetQuaternion(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetQuaternion (...) {}
+
+/// lua : * OdeBodyGetLinearVel(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetLinearVel (...) {}
+
+/// lua : * OdeBodyGetAngularVel(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetAngularVel (...) {}
+
+/// lua : void OdeBodySetMass(dBodyID, const dMass *mass) [ from ode ]
+static mixed l_OdeBodySetMass (...) {}
+
+/// lua : void OdeBodyGetMass(dBodyID, dMass *mass) [ from ode ]
+static mixed l_OdeBodyGetMass (...) {}
+
+/// lua : void OdeBodyAddForce(dBodyID, dReal fx, dReal fy, dReal fz) [ fr=
om ode ]
+static mixed l_OdeBodyAddForce (...) {}
+
+/// lua : void OdeBodyAddTorque(dBodyID, dReal fx, dReal fy, dReal fz) [ f=
rom ode ]
+static mixed l_OdeBodyAddTorque (...) {}
+
+/// lua : void OdeBodyAddRelForce(dBodyID, dReal fx, dReal fy, dReal fz) [=
 from ode ]
+static mixed l_OdeBodyAddRelForce (...) {}
+
+/// lua : void OdeBodyAddRelTorque(dBodyID, dReal fx, dReal fy, dReal fz) =
[ from ode ]
+static mixed l_OdeBodyAddRelTorque (...) {}
+
+/// lua : void OdeBodyAddForceAtPos(dBodyID, dReal fx, dReal fy, dReal fz,=
dReal px, dReal py, dReal pz) [ from ode ]
+static mixed l_OdeBodyAddForceAtPos (...) {}
+
+/// lua : void OdeBodyAddForceAtRelPos(dBodyID, dReal fx, dReal fy, dReal =
fz,dReal px, dReal py, dReal pz) [ from ode ]
+static mixed l_OdeBodyAddForceAtRelPos (...) {}
+
+/// lua : void OdeBodyAddRelForceAtPos(dBodyID, dReal fx, dReal fy, dReal =
fz,dReal px, dReal py, dReal pz) [ from ode ]
+static mixed l_OdeBodyAddRelForceAtPos (...) {}
+
+/// lua : void OdeBodyAddRelForceAtRelPos(dBodyID, dReal fx, dReal fy, dRe=
al fz,dReal px, dReal py, dReal pz) [ from ode ]
+static mixed l_OdeBodyAddRelForceAtRelPos (...) {}
+
+/// lua : fx,fy,fz OdeBodyGetForce(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetForce (...) {}
+
+/// lua : x,y,z OdeBodyGetTorque(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetTorque (...) {}
+
+/// lua : void OdeBodySetForce(dBodyID b, dReal x, dReal y, dReal z) [ fro=
m ode ]
+static mixed l_OdeBodySetForce (...) {}
+
+/// lua : void OdeBodySetTorque(dBodyID b, dReal x, dReal y, dReal z) [ fr=
om ode ]
+static mixed l_OdeBodySetTorque (...) {}
+
+/// lua : x,y,z OdeBodyGetRelPointPos(dBodyID, dReal px, dReal py, dReal p=
z,dVector3 result) [ from ode ]
+static mixed l_OdeBodyGetRelPointPos (...) {}
+
+/// lua : x,y,z OdeBodyGetRelPointVel(dBodyID, dReal px, dReal py, dReal p=
z,dVector3 result) [ from ode ]
+static mixed l_OdeBodyGetRelPointVel (...) {}
+
+/// lua : x,y,z OdeBodyGetPointVel(dBodyID, dReal px, dReal py, dReal pz,d=
Vector3 result) [ from ode ]
+static mixed l_OdeBodyGetPointVel (...) {}
+
+/// lua : x,y,z OdeBodyGetPosRelPoint(dBodyID, dReal px, dReal py, dReal p=
z,dVector3 result) [ from ode ]
+static mixed l_OdeBodyGetPosRelPoint (...) {}
+
+/// lua : x,y,z OdeBodyVectorToWorld(dBodyID, dReal px, dReal py, dReal pz=
,dVector3 result) [ from ode ]
+static mixed l_OdeBodyVectorToWorld (...) {}
+
+/// lua : x,y,z OdeBodyVectorFromWorld(dBodyID, dReal px, dReal py, dReal =
pz,dVector3 result) [ from ode ]
+static mixed l_OdeBodyVectorFromWorld (...) {}
+
+/// lua : void OdeBodySetFiniteRotationMode(dBodyID, int mode) [ from ode ]
+static mixed l_OdeBodySetFiniteRotationMode (...) {}
+
+/// lua : void OdeBodySetFiniteRotationAxis(dBodyID, dReal x, dReal y, dRe=
al z) [ from ode ]
+static mixed l_OdeBodySetFiniteRotationAxis (...) {}
+
+/// lua : int OdeBodyGetFiniteRotationMode(dBodyID) [ from ode ]
+static mixed l_OdeBodyGetFiniteRotationMode (...) {}
+
+/// lua : x,y,z OdeBodyGetFiniteRotationAxis(dBodyID, dVector3 result) [ f=
rom ode ]
+static mixed l_OdeBodyGetFiniteRotationAxis (...) {}
+
+/// lua : int OdeBodyGetNumJoints(dBodyID b) [ from ode ]
+static mixed l_OdeBodyGetNumJoints (...) {}
+
+/// lua : dJointID OdeBodyGetJoint(dBodyID, int index) [ from ode ]
+static mixed l_OdeBodyGetJoint (...) {}
+
+/// lua : void OdeBodyEnable(dBodyID) [ from ode ]
+static mixed l_OdeBodyEnable (...) {}
+
+/// lua : void OdeBodyDisable(dBodyID) [ from ode ]
+static mixed l_OdeBodyDisable (...) {}
+
+/// lua : int OdeBodyIsEnabled(dBodyID) [ from ode ]
+static mixed l_OdeBodyIsEnabled (...) {}
+
+/// lua : void OdeBodySetGravityMode(dBodyID b, int mode) [ from ode ]
+static mixed l_OdeBodySetGravityMode (...) {}
+
+/// lua : int OdeBodyGetGravityMode(dBodyID b) [ from ode ]
+static mixed l_OdeBodyGetGravityMode (...) {}
+
+/// lua : dJointID OdeJointCreateBall(dWorldID, dJointGroupID) [ from ode ]
+static mixed l_OdeJointCreateBall (...) {}
+
+/// lua : dJointID OdeJointCreateHinge(dWorldID, dJointGroupID) [ from ode=
 ]
+static mixed l_OdeJointCreateHinge (...) {}
+
+/// lua : dJointID OdeJointCreateSlider(dWorldID, dJointGroupID) [ from od=
e ]
+static mixed l_OdeJointCreateSlider (...) {}
+
+/// lua : dJointID OdeJointCreateContact(dWorldID, dJointGroupID, const dC=
ontact *) [ from ode ]
+static mixed l_OdeJointCreateContact (...) {}
+
+/// lua : dJointID OdeJointCreateHinge2(dWorldID, dJointGroupID) [ from od=
e ]
+static mixed l_OdeJointCreateHinge2 (...) {}
+
+/// lua : dJointID OdeJointCreateUniversal(dWorldID, dJointGroupID) [ from=
 ode ]
+static mixed l_OdeJointCreateUniversal (...) {}
+
+/// lua : dJointID OdeJointCreatePR(dWorldID, dJointGroupID) [ from ode ]
+static mixed l_OdeJointCreatePR (...) {}
+
+/// lua : dJointID OdeJointCreateFixed(dWorldID, dJointGroupID) [ from ode=
 ]
+static mixed l_OdeJointCreateFixed (...) {}
+
+/// lua : dJointID OdeJointCreateNull(dWorldID, dJointGroupID) [ from ode ]
+static mixed l_OdeJointCreateNull (...) {}
+
+/// lua : dJointID OdeJointCreateAMotor(dWorldID, dJointGroupID) [ from od=
e ]
+static mixed l_OdeJointCreateAMotor (...) {}
+
+/// lua : dJointID OdeJointCreateLMotor(dWorldID, dJointGroupID) [ from od=
e ]
+static mixed l_OdeJointCreateLMotor (...) {}
+
+/// lua : dJointID OdeJointCreatePlane2D(dWorldID, dJointGroupID) [ from o=
de ]
+static mixed l_OdeJointCreatePlane2D (...) {}
+
+/// lua : void OdeJointDestroy(dJointID) [ from ode ]
+static mixed l_OdeJointDestroy (...) {}
+
+/// lua : dJointGroupID OdeJointGroupCreate(int max_size) [ from ode ]
+static mixed l_OdeJointGroupCreate (...) {}
+
+/// lua : void OdeJointGroupDestroy(dJointGroupID) [ from ode ]
+static mixed l_OdeJointGroupDestroy (...) {}
+
+/// lua : void OdeJointGroupEmpty(dJointGroupID) [ from ode ]
+static mixed l_OdeJointGroupEmpty (...) {}
+
+/// lua : void OdeJointAttach(dJointID, dBodyID body1, dBodyID body2) [ fr=
om ode ]
+static mixed l_OdeJointAttach (...) {}
+
+/// lua : void OdeJointSetData(dJointID, void *data) [ from ode ]
+static mixed l_OdeJointSetData (...) {}
+
+/// lua : void OdedJointGetData(dJointID) [ from ode ]
+static mixed l_OdedJointGetData (...) {}
+
+/// lua : int OdeJointGetType(dJointID) [ from ode ]
+static mixed l_OdeJointGetType (...) {}
+
+/// lua : dBodyID OdeJointGetBody(dJointID, int index) [ from ode ]
+static mixed l_OdeJointGetBody (...) {}
+
+/// lua : void OdeJointFeedbackCreate(udata)
+static mixed l_OdeJointFeedbackDestroy (...) {}
+
+/// lua : udata OdeJointFeedbackCreate()
+static mixed l_OdeJointFeedbackCreate (...) {}
+
+/// lua : void OdeJointSetFeedback(dJointID, dJointFeedback *) [ from ode ]
+static mixed l_OdeJointSetFeedback (...) {}
+
+/// lua : dJointFeedback OdeJointGetFeedback(dJointID) [ from ode ]
+static mixed l_OdeJointGetFeedback (...) {}
+
+/// lua : void OdeJointSetBallAnchor(dJointID, dReal x, dReal y, dReal z) =
[ from ode ]
+static mixed l_OdeJointSetBallAnchor (...) {}
+
+/// lua : void OdeJointSetBallAnchor2(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
+static mixed l_OdeJointSetBallAnchor2 (...) {}
+
+/// lua : void OdeJointSetHingeAnchor(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
+static mixed l_OdeJointSetHingeAnchor (...) {}
+
+/// lua : void OdeJointSetHingeAnchorDelta(dJointID, dReal x, dReal y, dRe=
al z, dReal ax, dReal ay, dReal az) [ from ode ]
+static mixed l_OdeJointSetHingeAnchorDelta (...) {}
+
+/// lua : void OdeJointSetHingeAxis(dJointID, dReal x, dReal y, dReal z) [=
 from ode ]
+static mixed l_OdeJointSetHingeAxis (...) {}
+
+/// lua : void OdeJointSetHingeParam(dJointID, int parameter, dReal value)=
 [ from ode ]
+static mixed l_OdeJointSetHingeParam (...) {}
+
+/// lua : void OdeJointAddHingeTorque(dJointID joint, dReal torque) [ from=
 ode ]
+static mixed l_OdeJointAddHingeTorque (...) {}
+
+/// lua : void OdeJointSetSliderAxis(dJointID, dReal x, dReal y, dReal z) =
[ from ode ]
+static mixed l_OdeJointSetSliderAxis (...) {}
+
+/// lua : void OdeJointSetSliderAxisDelta(dJointID, dReal x, dReal y, dRea=
l z, dReal ax, dReal ay, dReal az) [ from ode ]
+static mixed l_OdeJointSetSliderAxisDelta (...) {}
+
+/// lua : void OdeJointSetSliderParam(dJointID, int parameter, dReal value=
) [ from ode ]
+static mixed l_OdeJointSetSliderParam (...) {}
+
+/// lua : void OdeJointAddSliderForce(dJointID joint, dReal force) [ from =
ode ]
+static mixed l_OdeJointAddSliderForce (...) {}
+
+/// lua : void OdeJointSetHinge2Anchor(dJointID, dReal x, dReal y, dReal z=
) [ from ode ]
+static mixed l_OdeJointSetHinge2Anchor (...) {}
+
+/// lua : void OdeJointSetHinge2Axis1(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
+static mixed l_OdeJointSetHinge2Axis1 (...) {}
+
+/// lua : void OdeJointSetHinge2Axis2(dJointID, dReal x, dReal y, dReal z)=
 [ from ode ]
+static mixed l_OdeJointSetHinge2Axis2 (...) {}
+
+/// lua : void OdeJointSetHinge2Param(dJointID, int parameter, dReal value=
) [ from ode ]
+static mixed l_OdeJointSetHinge2Param (...) {}
+
+/// lua : void OdeJointAddHinge2Torques(dJointID joint, dReal torque1, dRe=
al torque2) [ from ode ]
+static mixed l_OdeJointAddHinge2Torques (...) {}
+
+/// lua : void OdeJointSetUniversalAnchor(dJointID, dReal x, dReal y, dRea=
l z) [ from ode ]
+static mixed l_OdeJointSetUniversalAnchor (...) {}
+
+/// lua : void OdeJointSetUniversalAxis1(dJointID, dReal x, dReal y, dReal=
 z) [ from ode ]
+static mixed l_OdeJointSetUniversalAxis1 (...) {}
+
+/// lua : void OdeJointSetUniversalAxis2(dJointID, dReal x, dReal y, dReal=
 z) [ from ode ]
+static mixed l_OdeJointSetUniversalAxis2 (...) {}
+
+/// lua : void OdeJointSetUniversalParam(dJointID, int parameter, dReal va=
lue) [ from ode ]
+static mixed l_OdeJointSetUniversalParam (...) {}
+
+/// lua : void OdeJointAddUniversalTorques(dJointID joint, dReal torque1, =
dReal torque2) [ from ode ]
+static mixed l_OdeJointAddUniversalTorques (...) {}
+
+/// lua : void OdeJointSetPRAnchor(dJointID, dReal x, dReal y, dReal z) [ =
from ode ]
+static mixed l_OdeJointSetPRAnchor (...) {}
+
+/// lua : void OdeJointSetPRAxis1(dJointID, dReal x, dReal y, dReal z) [ f=
rom ode ]
+static mixed l_OdeJointSetPRAxis1 (...) {}
+
+/// lua : void OdeJointSetPRAxis2(dJointID, dReal x, dReal y, dReal z) [ f=
rom ode ]
+static mixed l_OdeJointSetPRAxis2 (...) {}
+
+/// lua : void OdeJointSetPRParam(dJointID, int parameter, dReal value) [ =
from ode ]
+static mixed l_OdeJointSetPRParam (...) {}
+
+/// lua : void OdeJointAddPRTorque(dJointID j, dReal torque) [ from ode ]
+static mixed l_OdeJointAddPRTorque (...) {}
+
+/// lua : void OdeJointSetFixed(dJointID) [ from ode ]
+static mixed l_OdeJointSetFixed (...) {}
+
+/// lua : void OdeJointSetAMotorNumAxes(dJointID, int num) [ from ode ]
+static mixed l_OdeJointSetAMotorNumAxes (...) {}
+
+/// lua : void OdeJointSetAMotorAxis(dJointID, int anum, int rel,dReal x, =
dReal y, dReal z) [ from ode ]
+static mixed l_OdeJointSetAMotorAxis (...) {}
+
+/// lua : void OdeJointSetAMotorAngle(dJointID, int anum, dReal angle) [ f=
rom ode ]
+static mixed l_OdeJointSetAMotorAngle (...) {}
+
+/// lua : void OdeJointSetAMotorParam(dJointID, int parameter, dReal value=
) [ from ode ]
+static mixed l_OdeJointSetAMotorParam (...) {}
+
+/// lua : void OdeJointSetAMotorMode(dJointID, int mode) [ from ode ]
+static mixed l_OdeJointSetAMotorMode (...) {}
+
+/// lua : void OdeJointAddAMotorTorques(dJointID, dReal torque1, dReal tor=
que2, dReal torque3) [ from ode ]
+static mixed l_OdeJointAddAMotorTorques (...) {}
+
+/// lua : void OdeJointSetLMotorNumAxes(dJointID, int num) [ from ode ]
+static mixed l_OdeJointSetLMotorNumAxes (...) {}
+
+/// lua : void OdeJointSetLMotorAxis(dJointID, int anum, int rel, dReal x,=
 dReal y, dReal z) [ from ode ]
+static mixed l_OdeJointSetLMotorAxis (...) {}
+
+/// lua : void OdeJointSetLMotorParam(dJointID, int parameter, dReal value=
) [ from ode ]
+static mixed l_OdeJointSetLMotorParam (...) {}
+
+/// lua : void OdeJointSetPlane2DXParam(dJointID, int parameter, dReal val=
ue) [ from ode ]
+static mixed l_OdeJointSetPlane2DXParam (...) {}
+
+/// lua : void OdeJointSetPlane2DYParam(dJointID, int parameter, dReal val=
ue) [ from ode ]
+static mixed l_OdeJointSetPlane2DYParam (...) {}
+
+/// lua : void OdeJointSetPlane2DAngleParam(dJointID, int parameter, dReal=
 value) [ from ode ]
+static mixed l_OdeJointSetPlane2DAngleParam (...) {}
+
+/// lua : void OdeJointGetBallAnchor(dJointID, dVector3 result) [ from ode=
 ]
+static mixed l_OdeJointGetBallAnchor (...) {}
+
+/// lua : void OdeJointGetBallAnchor2(dJointID, dVector3 result) [ from od=
e ]
+static mixed l_OdeJointGetBallAnchor2 (...) {}
+
+/// lua : void OdeJointGetHingeAnchor(dJointID, dVector3 result) [ from od=
e ]
+static mixed l_OdeJointGetHingeAnchor (...) {}
+
+/// lua : void OdeJointGetHingeAnchor2(dJointID, dVector3 result) [ from o=
de ]
+static mixed l_OdeJointGetHingeAnchor2 (...) {}
+
+/// lua : void OdeJointGetHingeAxis(dJointID, dVector3 result) [ from ode ]
+static mixed l_OdeJointGetHingeAxis (...) {}
+
+/// lua : dReal OdeJointGetHingeParam(dJointID, int parameter) [ from ode ]
+static mixed l_OdeJointGetHingeParam (...) {}
+
+/// lua : dReal OdeJointGetHingeAngle(dJointID) [ from ode ]
+static mixed l_OdeJointGetHingeAngle (...) {}
+
+/// lua : dReal OdeJointGetHingeAngleRate(dJointID) [ from ode ]
+static mixed l_OdeJointGetHingeAngleRate (...) {}
+
+/// lua : dReal OdeJointGetSliderPosition(dJointID) [ from ode ]
+static mixed l_OdeJointGetSliderPosition (...) {}
+
+/// lua : dReal OdeJointGetSliderPositionRate(dJointID) [ from ode ]
+static mixed l_OdeJointGetSliderPositionRate (...) {}
+
+/// lua : void OdeJointGetSliderAxis(dJointID, dVector3 result) [ from ode=
 ]
+static mixed l_OdeJointGetSliderAxis (...) {}
+
+/// lua : dReal OdeJointGetSliderParam(dJointID, int parameter) [ from ode=
 ]
+static mixed l_OdeJointGetSliderParam (...) {}
+
+/// lua : void OdeJointGetHinge2Anchor(dJointID, dVector3 result) [ from o=
de ]
+static mixed l_OdeJointGetHinge2Anchor (...) {}
+
+/// lua : void OdeJointGetHinge2Anchor2(dJointID, dVector3 result) [ from =
ode ]
+static mixed l_OdeJointGetHinge2Anchor2 (...) {}
+
+/// lua : void OdeJointGetHinge2Axis1(dJointID, dVector3 result) [ from od=
e ]
+static mixed l_OdeJointGetHinge2Axis1 (...) {}
+
+/// lua : void OdeJointGetHinge2Axis2(dJointID, dVector3 result) [ from od=
e ]
+static mixed l_OdeJointGetHinge2Axis2 (...) {}
+
+/// lua : dReal OdeJointGetHinge2Param(dJointID, int parameter) [ from ode=
 ]
+static mixed l_OdeJointGetHinge2Param (...) {}
+
+/// lua : dReal OdeJointGetHinge2Angle1(dJointID) [ from ode ]
+static mixed l_OdeJointGetHinge2Angle1 (...) {}
+
+/// lua : dReal OdeJointGetHinge2Angle1Rate(dJointID) [ from ode ]
+static mixed l_OdeJointGetHinge2Angle1Rate (...) {}
+
+/// lua : dReal OdeJointGetHinge2Angle2Rate(dJointID) [ from ode ]
+static mixed l_OdeJointGetHinge2Angle2Rate (...) {}
+
+/// lua : void OdeJointGetUniversalAnchor(dJointID, dVector3 result) [ fro=
m ode ]
+static mixed l_OdeJointGetUniversalAnchor (...) {}
+
+/// lua : void OdeJointGetUniversalAnchor2(dJointID, dVector3 result) [ fr=
om ode ]
+static mixed l_OdeJointGetUniversalAnchor2 (...) {}
+
+/// lua : void OdeJointGetUniversalAxis1(dJointID, dVector3 result) [ from=
 ode ]
+static mixed l_OdeJointGetUniversalAxis1 (...) {}
+
+/// lua : void OdeJointGetUniversalAxis2(dJointID, dVector3 result) [ from=
 ode ]
+static mixed l_OdeJointGetUniversalAxis2 (...) {}
+
+/// lua : dReal OdeJointGetUniversalParam(dJointID, int parameter) [ from =
ode ]
+static mixed l_OdeJointGetUniversalParam (...) {}
+
+/// lua : angle1,angle2 OdeJointGetUniversalAngles(dJointID, dReal *angle1=
, dReal *angle2) [ from ode ]
+static mixed l_OdeJointGetUniversalAngles (...) {}
+
+/// lua : dReal OdeJointGetUniversalAngle1(dJointID) [ from ode ]
+static mixed l_OdeJointGetUniversalAngle1 (...) {}
+
+/// lua : dReal OdeJointGetUniversalAngle2(dJointID) [ from ode ]
+static mixed l_OdeJointGetUniversalAngle2 (...) {}
+
+/// lua : dReal OdeJointGetUniversalAngle1Rate(dJointID) [ from ode ]
+static mixed l_OdeJointGetUniversalAngle1Rate (...) {}
+
+/// lua : dReal OdeJointGetUniversalAngle2Rate(dJointID) [ from ode ]
+static mixed l_OdeJointGetUniversalAngle2Rate (...) {}
+
+/// lua : void OdeJointGetPRAnchor(dJointID, dVector3 result) [ from ode ]
+static mixed l_OdeJointGetPRAnchor (...) {}
+
+/// lua : dReal OdeJointGetPRPosition(dJointID) [ from ode ]
+static mixed l_OdeJointGetPRPosition (...) {}
+
+/// lua : dReal OdeJointGetPRPositionRate(dJointID) [ from ode ]
+static mixed l_OdeJointGetPRPositionRate (...) {}
+
+/// lua : void OdeJointGetPRAxis1(dJointID, dVector3 result) [ from ode ]
+static mixed l_OdeJointGetPRAxis1 (...) {}
+
+/// lua : void OdeJointGetPRAxis2(dJointID, dVector3 result) [ from ode ]
+static mixed l_OdeJointGetPRAxis2 (...) {}
+
+/// lua : dReal OdeJointGetPRParam(dJointID, int parameter) [ from ode ]
+static mixed l_OdeJointGetPRParam (...) {}
+
+/// lua : int OdeJointGetAMotorNumAxes(dJointID) [ from ode ]
+static mixed l_OdeJointGetAMotorNumAxes (...) {}
+
+/// lua : void OdeJointGetAMotorAxis(dJointID, int anum, dVector3 result) =
[ from ode ]
+static mixed l_OdeJointGetAMotorAxis (...) {}
+
+/// lua : int OdeJointGetAMotorAxisRel(dJointID, int anum) [ from ode ]
+static mixed l_OdeJointGetAMotorAxisRel (...) {}
+
+/// lua : dReal OdeJointGetAMotorAngle(dJointID, int anum) [ from ode ]
+static mixed l_OdeJointGetAMotorAngle (...) {}
+
+/// lua : dReal OdeJointGetAMotorAngleRate(dJointID, int anum) [ from ode ]
+static mixed l_OdeJointGetAMotorAngleRate (...) {}
+
+/// lua : dReal OdeJointGetAMotorParam(dJointID, int parameter) [ from ode=
 ]
+static mixed l_OdeJointGetAMotorParam (...) {}
+
+/// lua : int OdeJointGetAMotorMode(dJointID) [ from ode ]
+static mixed l_OdeJointGetAMotorMode (...) {}
+
+/// lua : int OdeJointGetLMotorNumAxes(dJointID) [ from ode ]
+static mixed l_OdeJointGetLMotorNumAxes (...) {}
+
+/// lua : void OdeJointGetLMotorAxis(dJointID, int anum, dVector3 result) =
[ from ode ]
+static mixed l_OdeJointGetLMotorAxis (...) {}
+
+/// lua : dReal OdeJointGetLMotorParam(dJointID, int parameter) [ from ode=
 ]
+static mixed l_OdeJointGetLMotorParam (...) {}
+
+/// lua : dJointID OdeConnectingJoint(dBodyID, dBodyID) [ from ode ]
+static mixed l_OdeConnectingJoint (...) {}
+
+/// lua : int OdeConnectingJointList(dBodyID, dBodyID, dJointID*) [ from o=
de ]
+static mixed l_OdeConnectingJointList (...) {}
+
+/// lua : int OdeAreConnected(dBodyID, dBodyID) [ from ode ]
+static mixed l_OdeAreConnected (...) {}
+
+/// lua : int OdeAreConnectedExcluding(dBodyID body1, dBodyID body2, int j=
oint_type) [ from ode ]
+static mixed l_OdeAreConnectedExcluding (...) {}
+
+/// lua : dStopwatch * l_OdeStopwatchCreate() [ from ode ]
+static mixed l_OdeStopwatchCreate (...) {}
+
+/// lua : void l_OdeStopwatchDestroy(dStopwatch *) [ from ode ]
+static mixed l_OdeStopwatchDestroy (...) {}
+
+/// lua : void OdeStopwatchReset(dStopwatch *) [ from ode ]
+static mixed l_OdeStopwatchReset (...) {}
+
+/// lua : void OdeStopwatchStart(dStopwatch *) [ from ode ]
+static mixed l_OdeStopwatchStart (...) {}
+
+/// lua : void OdeStopwatchStop(dStopwatch *) [ from ode ]
+static mixed l_OdeStopwatchStop (...) {}
+
+/// lua : double OdeStopwatchTime(dStopwatch *) [ from ode ]
+static mixed l_OdeStopwatchTime (...) {}
+
+/// lua : void OdeTimerStart(const char *description) [ from ode ]
+static mixed l_OdeTimerStart (...) {}
+
+/// lua : void OdeTimerNow(const char *description) [ from ode ]
+static mixed l_OdeTimerNow (...) {}
+
+/// lua : void OdeTimerEnd(void) [ from ode ]
+static mixed l_OdeTimerEnd (...) {}
+
+/// lua : double OdeTimerTicksPerSecond(void) [ from ode ]
+static mixed l_OdeTimerTicksPerSecond (...) {}
+
+/// lua : double OdeTimerResolution(void) [ from ode ]
+static mixed l_OdeTimerResolution (...) {}
+
+/// CreateGrannyHuedTexture(GrannyTextureHook(texturepath),GrannyTextureHo=
ok(texturepath),gHueLoader,hue)
+static mixed l_CreateGrannyHuedTexture (...) {}
+
+/// void HueMesh(meshname, hueloader, hue)
+static mixed l_HueMesh (...) {}
+
+/// create a lua lookup table based on the given file
+/// usage: lookup[id] =3D new_id
+static mixed l_CreateLookupTableFromFile (...) {}
+
+static mixed l_BuildTerrainEntity_Simple (...) {}
+
+static mixed l_BuildTerrainEntity_Shaded (...) {}
+
+/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix
+/// for lua : TerrainRayPick(GroundBlockLoader,blockx,blocky,vBlockPosX,vB=
lockPosY,vBlockPosZ,rx,ry,rz,rvx,rvy,rvz) -- mainly for mousepicking
+static mixed l_TerrainRayPick (...) {}
+
+static mixed l_getUOPath (...) {}
+
+/// attempts to correct case-sensitivity for filepaths
+static mixed l_PathSearch (...) {}
+
+/// void HuffmanCompress (fifo in,fifo out)
+static mixed l_HuffmanCompress (...) {}
+
+/// void HuffmanDecompress (fifo in,fifo out)
+static mixed l_HuffmanDecompress (...) {}
+
+/// CreateSoundSource3DFromEffect(SoundSystem,loader,x,y,z,effectid)
+static mixed l_CreateSoundSource3DFromEffect (...) {}
+
+static mixed l_TRACEBACK (...) {}
+
+/// ***** ***** utilities and error handling ***** *****
+/// also adds a traceback to the error message in case of an error
+/// nret=3D-1 for unlimited
+/// don't use directly, used by LuaCall
+static mixed PCallWithErrFuncWrapper (...) {}
+
+/// lua: string_array GetAllKeyNames ()
+static mixed l_GetAllKeyNames (...) {}
+
+/// called from lua : string keyname
+static mixed l_GetNamedKey (...) {}
+
+/// called from lua : int keycode
+static mixed l_GetKeyName (...) {}
+
+/// terminates the application
+static mixed l_Terminate (...) {}
+
+static mixed l_GetPointerSize (...) {}
+
+/// only call this once at startup
+static mixed l_Client_IsAlive (...) {}
+
+/// called from lua : no params, returns mousex,mousey,4xmousewheel info...
+static mixed l_PollInput (...) {}
+
+static mixed l_ProfileDumpCallCount (...) {}
+
+static mixed l_Client_GetCurFPS (...) {}
+
+static mixed l_Client_GetFrameNum (...) {}
+
+static mixed l_Client_GetTicks (...) {}
+
+/// r,g,b =3D Uo16Color2Rgb(color)
+static mixed l_Uo16Color2Rgb (...) {}
+
+/// just do nothing for x seconds
+static mixed l_Client_Sleep (...) {}
+
+/// just do nothing for x milliseconds (1000msec =3D 1sec)
+static mixed l_Client_USleep (...) {}
+
+static mixed l_Client_GetPhysStepTime (...) {}
+
+static mixed l_file_exists (...) {}
+
+static mixed l_file_size (...) {}
+
+/// table=3D{filename,...} dirlist (dirpath,bDirs,bFiles)
+static mixed l_dirlist (...) {}
+
+/// for testing bitwise ops
+static mixed l_GetRandomHexString (...) {}
+
+/// converts "0x1234" to a number
+static mixed l_Hex2Num (...) {}
+
+/// bitwise operations, used for networking, packet manipulation etc
+static mixed l_BitwiseAND (...) {}
+
+static mixed l_BitwiseOR (...) {}
+
+static mixed l_BitwiseXOR (...) {}
+
+/// bitwise operations, used for networking, packet manipulation etc
+static mixed l_BitwiseSHL (...) {}
+
+/// bitwise operations, used for networking, packet manipulation etc
+static mixed l_BitwiseSHR (...) {}
+
+static mixed l_TestBit (...) {}
+
+static mixed l_SetBit (...) {}
+
+static mixed l_ClearBit (...) {}
+
+static mixed l_Exit (...) {}
+
+static mixed l_Crash (...) {}
+
+/// triggers a segfault, for testing our segfault handlers lua stacktrace
+static mixed l_CrashSegFault (...) {}
+
+static mixed l_DisplayNotice (...) {}
+
+static mixed l_FatalErrorMessage (...) {}
+
+static mixed l_GetMainWorkingDir (...) {}
+
+/// string CloneMesh (meshname)
+static mixed l_CloneMesh (...) {}
+
+/// only call this once at startup
+static mixed l_InitOgre (...) {}
+
+/// for lua : ang,x,y,z QuaternionToAngleAxis (qw,qx,qy,qz)
+static mixed l_QuaternionToAngleAxis (...) {}
+
+/// for lua : w,x,y,z QuaternionSlerp (qw,qx,qy,qz, pw,px,py,pz, t, bShort=
estPath=3Dtrue)
+static mixed l_QuaternionSlerp (...) {}
+
+/// void OgreAddCompositor(compositor script name)
+static mixed l_OgreAddCompositor (...) {}
+
+/// void OgreRemoveCompositor(compositor script name)
+static mixed l_OgreRemoveCompositor (...) {}
+
+/// int =3D OgreMemoryUsage(part)
+/// part in {compositor,font,gpuprogram,highlevelgpuprogram,material,mesh,=
skeleton,texture,all}
+/// returns memory usage in byte
+static mixed l_OgreMemoryUsage (...) {}
+
+/// bool =3D OgreMeshAvailable(resourcename)
+static mixed l_OgreMeshAvailable (...) {}
+
+/// see also OgreMaterialAvailable below
+/// bool =3D OgreMaterialNameKnown(resourcename)
+/// returns false if name is empty string or nil
+static mixed l_OgreMaterialNameKnown (...) {}
+
+/// bool =3D OgreMaterialAvailable(resourcename)
+static mixed l_OgreMaterialAvailable (...) {}
+
+/// bool =3D OgreTextureAvailable(resourcename)
+static mixed l_OgreTextureAvailable (...) {}
+
+static mixed l_Client_SetSkybox (...) {}
+
+static mixed l_Client_SetFog (...) {}
+
+static mixed l_Client_RenderOneFrame (...) {}
+
+/// for lua : void Client_SetAmbientLight (r,g,b,a,scenemgr=3Dmain)
+static mixed l_Client_SetAmbientLight (...) {}
+
+/// for lua : void Client_ClearLights (scenemgr=3Dmain)
+static mixed l_Client_ClearLights (...) {}
+
+/// for lua : string l_Client_AddPointLight(x,y,z) -- x,y,z position
+static mixed l_Client_AddPointLight (...) {}
+
+/// for lua : string Client_AddDirectionalLight(x,y,z,scenemgr=3Dmain) -- =
x,y,z direction
+static mixed l_Client_AddDirectionalLight (...) {}
+
+/// for lua : void Client_SetLightPosition(name,x,y,z) -- name lightname, =
x,y,z position
+static mixed l_Client_SetLightPosition (...) {}
+
+/// for lua : void Client_SetLightDirection(name,x,y,z) -- name lightname,=
 x,y,z direction
+static mixed l_Client_SetLightDirection (...) {}
+
+/// for lua : void Client_RemoveLight(name) -- name lightname
+static mixed l_Client_RemoveLight (...) {}
+
+static mixed l_Client_DeleteLight (...) {}
+
+/// for lua : void Client_SetLightSpecularColor(name,r,g,b) -- name lightn=
ame, r,g,b spec color
+static mixed l_Client_SetLightSpecularColor (...) {}
+
+/// for lua : void Client_SetLightPowerScale(name,fPowerScale) : used for =
HDR rendering, in shaders
+static mixed l_Client_SetLightPowerScale (...) {}
+
+/// for lua : void Client_SetLightDiffuseColor(name,r,g,b) -- name lightna=
me, r,g,b diffuse color
+static mixed l_Client_SetLightDiffuseColor (...) {}
+
+/// for lua : void Client_TakeGridScreenshot (sPrefix=3D"screenshots/")
+static mixed l_Client_TakeGridScreenshot (...) {}
+
+/// for lua : void Client_TakeScreenshot (sPrefix=3D"screenshots/")
+static mixed l_Client_TakeScreenshot (...) {}
+
+/// shows ogre config dialog
+static mixed l_Client_ShowOgreConfig (...) {}
+
+/// for lua : dist =3D TriangleRayPick(ax,ay,az, bx,by,bz, cx,cy,cz, rx,ry=
,rz, rvx,rvy,rvz)
+/// mainly for mousepicking, dist=3Dnil if not hit
+static mixed l_TriangleRayPick (...) {}
+
+/// for lua : dist =3D SphereRayPick(x,y,z,rad,rx,ry,rz,rvx,rvy,rvz) -- ma=
inly for mousepicking, dist=3Dnil if not hit
+static mixed l_SphereRayPick (...) {}
+
+/// for lua : dist =3D PlaneRayPick (x,y,z,nx,ny,nz,rx,ry,rz,rvx,rvy,rvz) =
-- mainly for mousepicking, dist=3Dnil if not hit
+static mixed l_PlaneRayPick (...) {}
+
+static mixed l_UnloadMeshName (...) {}
+
+static mixed l_CountMeshTriangles (...) {}
+
+/// for lua : x1,y1,z1,x2,y2,z2 MeshGetBounds (meshname)
+static mixed l_MeshGetBounds (...) {}
+
+/// for lua : void MeshSetBounds (meshname,x1,y1,z1,x2,y2,z2)
+static mixed l_MeshSetBounds (...) {}
+
+/// for lua : float MeshGetBoundRad (meshname)
+static mixed l_MeshGetBoundRad (...) {}
+
+/// for lua : void MeshSetBoundRad (meshname,boundrad)
+static mixed l_MeshSetBoundRad (...) {}
+
+/// for lua : void ExportMesh (meshname,filename)
+static mixed l_ExportMesh (...) {}
+
+/// applies reposition, rescale and rotation to mesh vertex data
+/// for lua : void TransformMesh (meshname, x,y,z, sx,sx,sz, qw,qx,qy,qz)
+static mixed l_TransformMesh (...) {}
+
+/// for lua : x1,y1,z1,x2,y2,z2 MeshReadOutExactBounds (meshname)
+static mixed l_MeshReadOutExactBounds (...) {}
+
+/// for lua : x,y,z,vx,vy,vz GetScreenRay (x,y) x,y in [0,1]
+static mixed l_GetScreenRay (...) {}
+
+/// for lua : z GetMaxZ ()
+static mixed l_GetMaxZ (...) {}
+
+/// for lua : bIsInFront,px,py ProjectPos (x,y,z)
+static mixed l_ProjectPos (...) {}
+
+/// for lua : bIsInFront,px,py,cx,cy ProjectSizeAndPos (x,y,z,r)
+static mixed l_ProjectSizeAndPos (...) {}
+
+/// for lua : px,py,pz,cx,cy,cz ProjectSizeAndPosEx (x,y,z,r)
+static mixed l_ProjectSizeAndPosEx (...) {}
+
+/// for lua : void CreateSceneManager (sSceneManagerName)
+static mixed l_CreateSceneManager (...) {}
+
+/// for lua : table[id=3Dtexname...] OgreMeshTextures (meshfile)
+static mixed l_OgreMeshTextures (...) {}
+
+/// for lua : void OgreShadowTechnique (string techique)
+static mixed l_OgreShadowTechnique (...) {}
+
+/// for lua : void OgreSetShadowTextureSize (int size)
+static mixed l_OgreSetShadowTextureSize (...) {}
+
+/// for lua : void OgreSetShadowFarDistance (float x)
+static mixed l_OgreSetShadowFarDistance (...) {}
+
+/// for lua : void OgreSetShadowDirLightTextureOffset (float x)
+static mixed l_OgreSetShadowDirLightTextureOffset (...) {}
+
+/// for lua : void OgreSetShadowTextureFadeStart (float x)
+static mixed l_OgreSetShadowTextureFadeStart (...) {}
+
+/// for lua : void OgreSetShadowTextureFadeEnd (float x)
+static mixed l_OgreSetShadowTextureFadeEnd (...) {}
+
+/// for lua : void OgreSetShadowTexturePixelFormat ()
+static mixed l_OgreSetShadowTexturePixelFormat (...) {}
+
+/// for lua : table OgrePixelFormatList ()
+static mixed l_OgrePixelFormatList (...) {}
+
+/// for lua : void OgreSetShadowTextureSelfShadow (bool)
+static mixed l_OgreSetShadowTextureSelfShadow (...) {}
+
+/// for lua : void OgreSetShadowTextureCasterMaterial (sMatName)
+static mixed l_OgreSetShadowTextureCasterMaterial (...) {}
+
+/// for lua : void OgreSetShadowTextureReceiverMaterial (sMatName)
+static mixed l_OgreSetShadowTextureReceiverMaterial (...) {}
+
+/// for lua : void OgreAmbientLight (r,g,b) [color value 0..1 each]
+static mixed l_OgreAmbientLight (...) {}
+
+/// for lua : string GetUniqueName ()
+static mixed l_GetUniqueName (...) {}
+
+/// for lua : number OgreLastFPS ()
+static mixed l_OgreLastFPS (...) {}
+
+/// for lua : number OgreAvgFPS ()
+static mixed l_OgreAvgFPS (...) {}
+
+/// for lua : number OgreBestFPS ()
+static mixed l_OgreBestFPS (...) {}
+
+/// for lua : number OgreWorstFPS ()
+static mixed l_OgreWorstFPS (...) {}
+
+/// for lua : number OgreBestFrameTime ()
+static mixed l_OgreBestFrameTime (...) {}
+
+/// for lua : number OgreWorstFrameTime ()
+static mixed l_OgreWorstFrameTime (...) {}
+
+/// for lua : number OgreTriangleCount ()
+static mixed l_OgreTriangleCount (...) {}
+
+/// for lua : number OgreBatchCount ()
+static mixed l_OgreBatchCount (...) {}
+
+/// adds a resource location to
+/// example : OgreAddResLoc("./data/SomeZip.zip","Zip","General")
+/// example : OgreAddResLoc("./data/base","FileSystem","General")
+static mixed l_OgreAddResLoc (...) {}
+
+static mixed l_OgreInitResLocs (...) {}
+
+static mixed l_Client_SetMouseSensitivity (...) {}
+
+static mixed l_Client_SetInvertMouse (...) {}
+
+static mixed l_Client_SetCamera (...) {}
+
+static mixed l_Client_ForceCamRot (...) {}
+
+static mixed l_Client_CameraLookAt (...) {}
+
+class gui { public:
+
+	/// sets the current stats bar in %, dont use this directly
+	static mixed	SetStatsBar	(mixed name,mixed x) {}
+
+	/// sets the warmode visual on statsbar
+	static mixed	SetWarmode	(mixed warmode) {}
+
+	/// sets the current hitpoints (in %), x is between 0.0 and 1.0
+	static mixed	SetHitpoints	(mixed x) {}
+
+	/// sets the current hitpoints (in %), x is between 0.0 and 1.0
+	static mixed	SetMana	(mixed x) {}
+
+	/// sets the current hitpoints (in %), x is between 0.0 and 1.0
+	static mixed	SetStamina	(mixed x) {}
+
+	/// TODO : z resort : insert between two widgets
+	/// ***** ***** ***** ***** ***** dialog
+	static mixed	CreateDialog	(mixed x,mixed y) {}
+
+	/// ***** ***** ***** ***** ***** widget Utils
+	static mixed	_WrapWidget	(mixed widget,mixed parent) {}
+
+	static mixed	_SecureGetMaterial	(mixed matname) {}
+
+	/// ***** ***** ***** ***** ***** CreateImage
+	static mixed	_CreateWidget_Image	(mixed parent,mixed matname,mixed x,mixe=
d y,mixed w,mixed h,mixed tx,mixed ty,mixed tw,mixed th,mixed bitmask) {}
+
+	/// ***** ***** ***** ***** ***** CreateText
+	static mixed	_CreateWidget_Text	(mixed parent,mixed text,mixed x,mixed y,=
mixed fontname,mixed fontsize,mixed r,mixed g,mixed b,mixed a) {}
+
+	/// ***** ***** ***** ***** ***** CreateContainer
+	static mixed	_CreateWidget_Container	(mixed parent,mixed x,mixed y) {}
+
+	static mixed	StartMoveDialog	(mixed widget) {}
+};
+
+class Renderer3D { public:
+
+	/// OBSOLETED CODE ! don't use this, hasn't been adjusted to xmirror fix>=
f TerrainRayIntersect_Hit .lua
+	mixed	TerrainRayIntersect_Hit	(mixed tx,mixed ty,mixed tiletype,mixed hit=
_dist,mixed minz,mixed maxz) {}
+
+	/// excecutes mousepick by default
+	mixed	GetMouseHitSerial	(mixed bExecuteMousePick) {}
+
+	mixed	DestroyMousePickItemBySerial	(mixed serial) {}
+
+	mixed	CamKeyUp	(mixed key) {}
+
+	mixed	CamKeyDown	(mixed key) {}
+
+	mixed	InitLocalCam	(mixed x,mixed y,mixed z) {}
+
+	mixed	CamChangeZoom	(mixed add) {}
+
+	/// targetmode can be nil, then the current mode is simply increased
+	mixed	ChangeCamMode	(mixed targetmode) {}
+
+	/// these coordinates are in absolute map-blocks, all others are in chunks
+	mixed	UpdateMapCache	(mixed iMidX,mixed iMidY,mixed iRad) {}
+
+	/// coords in chunks
+	mixed	LoadMapChunk	(mixed x,mixed y) {}
+
+	/// coords in chunks
+	mixed	CreateMapChunk	(mixed x,mixed y) {}
+
+	mixed	IsZLayerVisible	(mixed layerZ) {}
+
+	mixed	UpdateStaticVisibility	(mixed entity) {}
+
+	mixed	UpdateDynamicVisibility	(mixed dynamic) {}
+
+	mixed	UpdateMobileVisibility	(mixed mobile) {}
+
+	/// coords in chunks
+	/// TODO : release anything else that was allocated in CreateMapChunk
+	mixed	DestroyMapChunk	(mixed x,mixed y,mixed chunk) {}
+
+	/// creates a moving and disapearing damage text at the given tile positi=
on (x,y,z) (lifetime in sec, speed in ?)
+	mixed	CombatCreateDamageText	(mixed text,mixed x,mixed y,mixed z,mixed r,=
mixed g,mixed b,mixed a,mixed size,mixed speed,mixed lifetime) {}
+
+	/// helper to plop hp adds and damage
+	mixed	NotifyHPChange	(mixed serial,mixed oldhp,mixed newhp) {}
+
+	/// warning !you still have to do 0.1 z factor seperately
+	mixed	UOPosToLocal	(mixed xloc,mixed yloc,mixed z) {}
+
+	/// warning ! you still have to do 0.1 z factor seperately
+	mixed	LocalToUOPos	(mixed xlocal,mixed ylocal,mixed zlocal) {}
+
+	/// param and result in DEGREES
+	mixed	TranslateOsiWalkAngle	(mixed x) {}
+
+	mixed	SetMapEnvironment	(mixed bUnderGround) {}
+
+	/// warning ! this gets called a lot while user resizes window
+	mixed	NotifyMainWindowResized	(mixed w,mixed h) {}
+
+	mixed	CorrectAspectRatio	(mixed w,mixed h) {}
+
+	/// TODO: manage particle effects, esp. huedfx, decide between effecttypes
+	mixed	AddEffect	(mixed  effect ) {}
+
+	mixed	AddHuedEffect	(mixed  effect,mixed relx,mixed rely,mixed relz ) {}
+
+	mixed	RemoveHuedEffect	(mixed  effect ) {}
+
+	/// TODO : check particle before
+	mixed	AddParticleEffect	(mixed  effect,mixed particlename,mixed relx,mixe=
d rely,mixed relz,mixed scalex,mixed scaley,mixed scalez) {}
+
+	mixed	ShowQuestArrow	(mixed  active,mixed x,mixed y ) {}
+
+	mixed	UpdateMobile	(mixed  mobile ) {}
+
+	mixed	UpdateMobilePos	(mixed mobile,mixed x,mixed y,mixed z,mixed qw,mixe=
d qx,mixed qy,mixed qz) {}
+
+	/// called every frame from mainloop : MobileAnimStep
+	/// a every frame stepper for mobiles
+	mixed	StepMobile	(mixed mobile) {}
+
+	mixed	MobileSetVisible	(mixed mobile,mixed bVisible) {}
+
+	mixed	DestroyMobileField	(mixed  mobile,mixed fieldname ) {}
+
+	mixed	DestroyMobileGfx	(mixed  mobile ) {}
+
+	mixed	CreateMobileGfx	(mixed  mobile ) {}
+
+	/// select the given mobile
+	mixed	SelectMobile	(mixed iSerial) {}
+
+	/// ~ animdata.mobileserial =3D input:PopNetUint32()
+	/// ~ animdata.m_animation =3D input:PopNetUint16()
+	/// ~ animdata.m_framecount =3D input:PopNetUint16()
+	/// ~ animdata.m_repeat =3D input:PopNetUint16() --repeat (1 =3D once / 2=
 =3D twice / 0 =3D repeat forever)
+	/// ~ animdata.m_animForward =3D input:PopNetUint8() --(0x00=3Dforward, 0=
x01=3Dbackwards)
+	/// ~ animdata.m_repeatFlag =3D input:PopNetUint8() --(0 - Don't repeat /=
 1 repeat)
+	/// ~ animdata.m_frameDelay =3D input:PopNetUint8() --(0x00 - fastest / 0=
xFF - Too slow to watch)
+	/// todo : remaining anim options (m_animForward, m_frameDelay , m_framec=
ount ?)
+	mixed	MobileStartServerSideAnim	(mixed animdata) {}
+
+	/// see alos lib.3d.dynamic.lua
+	/// [[
+	mixed	DynamicSetVisible	(mixed dynamic,mixed bVisible) {}
+
+	mixed	UpdateDynamicItemPos	(mixed  dynamic ) {}
+
+	mixed	AddDynamicItem	(mixed  item ) {}
+
+	/// TODO: Multis & Serversidemultis don't recognize kTileDataFlag_LightSo=
urce yet
+	mixed	CreateDynamicGfx	(mixed  item ) {}
+
+	mixed	CreateArtBillBoard	(mixed  gfx,mixed iArtID,mixed iHue ) {}
+
+	mixed	RemoveDynamicItem	(mixed  item ) {}
+
+	/// handle child destroy of Multis
+	mixed	DestroyDynamicGfx	(mixed dynamic) {}
+
+	/// handles walk smoothing
+	/// see also lib.granny.lua lib.bodygfx.lua
+	/// see also net.walk.lua
+	/// see also lib.tilefreewalk.lua
+	/// called from Renderer3D:UpdateMobile, not every frame
+	mixed	WalkSmoothUpdate	(mixed mobile) {}
+
+	mixed	WalkSmoothStep	(mixed mobile) {}
+
+	/// used when teleported
+	mixed	WalkSmoothReset	(mixed mobile) {}
+
+	mixed	SetSimpleMobilePos	(mixed mobile) {}
+};
+
+class gBodyGfxPrototype { public:
+
+	mixed	Init	(mixed parentgfx) {}
+
+	mixed	GetEquipmentAtLayer	(mixed layer) {}
+
+	mixed	SetVisible	(mixed bVisible) {}
+
+	/// ##### ##### ##### ##### ##### update (model change)
+	mixed	MarkForUpdate	(mixed artid,mixed hue,mixed equipmentlist) {}
+
+	mixed	StartAnimLoop	(mixed animid) {}
+
+	/// stops the previous anim and starts playing this one
+	/// iRepeatCount =3D -1 : loop infinitely
+	/// iRepeatCount =3D 0 : play anim once (default)
+	/// iRepeatCount =3D 1 : play anim twice ....
+	mixed	StartAnim	(mixed animid,mixed iRepeatCount) {}
+
+	/// ##### ##### ##### ##### ##### state (run,walk,idle,combat...)
+	/// interrupt serverside anim on movement, and init anim if not set
+	mixed	SetState	(mixed bMoving,mixed bTurning,mixed bWarMode,mixed bRunFla=
g) {}
+};
+
+class gTileFreeWalk { public:
+
+	/// ##### ##### ##### ##### ##### collision
+	mixed	CollideWithWallMid	(mixed x,mixed y) {}
+
+	mixed	CollideWithWallEdge	(mixed x,mixed y) {}
+
+	/// scans the ground if clientpos entered a new tile, calculates walls
+	mixed	ScanGroundIfNeeded	(mixed rx,mixed ry,mixed rz) {}
+
+	/// returns the movement speed, dx,dy,dz is the direction of the movement
+	/// the speed is dependant on the distance of the current pos to the last=
 confirmed pos
+	/// and on the direction of the movement
+	mixed	GetClientSideSpeed	(mixed dx,mixed dy,mixed dz) {}
+
+	/// ##### ##### ##### ##### ##### implementation (currently uo specific, =
will later be inserted from extern)
+	mixed	NotifyPlayerMobileTeleport	(mixed mobile) {}
+
+	mixed	NotifyPlayerMobileUpdate	(mixed mobile) {}
+
+	mixed	Impl_SetLastRequestedUOPos	(mixed xloc,mixed yloc,mixed zloc) {}
+
+	mixed	Impl_SetLastConfirmedUOPos	(mixed xloc,mixed yloc,mixed zloc) {}
+
+	mixed	Impl_SetToPlayerPos	(mixed mobile) {}
+
+	mixed	UOPosToLocal	(mixed xloc,mixed yloc,mixed zloc) {}
+
+	mixed	LocalToUOPos	(mixed x,mixed y,mixed z) {}
+
+	mixed	Impl_WalkRequestStep	(mixed bRunRequested) {}
+
+	mixed	StuckFix	(mixed lx,mixed ly,mixed lz) {}
+
+	mixed	SetViewDir	(mixed dx,mixed dy) {}
+
+	/// fRequestedSpeed is the speed requested by the mousepos/keyboard, migh=
t not be reached, e.g. when walking against a wall
+	mixed	Impl_StepPlayer	(mixed fRequestedSpeed,mixed bRunRequested) {}
+
+	/// input : rounded
+	/// read new surrounding height info
+	mixed	Impl_ScanGround	(mixed rx,mixed ry,mixed rz,mixed ox,mixed oy) {}
+
+	mixed	Impl_CalcWalkStep	(mixed xloc,mixed yloc,mixed zloc,mixed iDir) {}
+
+	/// ##### ##### ##### ##### ##### pathpoints
+	/// the system remembers which path was walked clientside, and approximat=
es it for sending to the walk requests
+	/// note : pathpoints can be impassable, happens during diagonal walk, do=
n't send walk requests to those
+	/// mark position as "reached", consuming neighboring pathpoints
+	mixed	PathPoint_ReachPos	(mixed x,mixed y,mixed z) {}
+
+	mixed	PathPoint_GetNth	(mixed n) {}
+
+	mixed	PathPoint_Has	(mixed n) {}
+
+	mixed	PathPoint_Push	(mixed x,mixed y,mixed z) {}
+
+	mixed	RoundPos	(mixed x,mixed y,mixed z) {}
+
+	mixed	SetPos_ClientSide	(mixed x,mixed y,mixed z) {}
+
+	mixed	SetPos_LastConfirmed	(mixed x,mixed y,mixed z) {}
+
+	mixed	SetPos_LastRequested	(mixed x,mixed y,mixed z) {}
+
+	/// used for teleport and init
+	mixed	SetPos_All	(mixed x,mixed y,mixed z) {}
+
+	mixed	DebugMarkerGroup_Clear	(mixed groupname) {}
+
+	mixed	DebugMarkerGroup_AddGfx	(mixed groupname,mixed gfx) {}
+
+	mixed	DebugMarkerGroup_AddSphere	(mixed groupname,mixed x,mixed y,mixed z=
,mixed fRad,mixed r,mixed g,mixed b) {}
+
+	mixed	DebugMarkerGroup_AddCylinder	(mixed groupname,mixed x,mixed y,mixed=
 z,mixed fRad,mixed fHeight,mixed r,mixed g,mixed b) {}
+
+	/// up=3D+z
+	mixed	DebugMarkerGroup_AddWall	(mixed groupname,mixed x1,mixed y1,mixed z=
1,mixed x2,mixed y2,mixed z2,mixed h,mixed r,mixed g,mixed b) {}
+
+	mixed	DelDebugMarker	(mixed markername) {}
+
+	mixed	SetDebugMarker	(mixed markername,mixed x,mixed y,mixed z,mixed dx,m=
ixed dy,mixed dz,mixed r,mixed g,mixed b) {}
+
+	mixed	UpdateDebugMarker	(mixed mymarker,mixed matname) {}
+};
+
+class gGuiDialogPrototype { public:
+
+	mixed	SetPos	(mixed x,mixed y) {}
+
+	mixed	SetVisible	(mixed bVis) {}
+};
+
+class gGuiWidgetPrototype { public:
+
+	mixed	SetVisible	(mixed bVisible) {}
+
+	mixed	SetPos	(mixed x,mixed y) {}
+
+	mixed	SetDimensions	(mixed w,mixed h) {}
+
+	mixed	SetMaterial	(mixed matname) {}
+
+	mixed	SetTexUV	(mixed u1,mixed v1,mixed u2,mixed v2) {}
+
+	mixed	SetTexXYWH	(mixed tx,mixed ty,mixed tw,mixed th) {}
+
+	mixed	SetColour	(mixed r,mixed g,mixed b,mixed a) {}
+
+	mixed	SetText	(mixed text) {}
+
+	mixed	SetFont	(mixed fontname) {}
+
+	mixed	SetFontSize	(mixed fontsize) {}
+
+	mixed	SetAutoWrap	(mixed width) {}
+
+	mixed	SetBitMask	(mixed bitmask) {}
+
+	mixed	SetColours	(mixed r1,mixed g1,mixed b1,mixed a1,mixed r2,mixed g2,m=
ixed b2,mixed a2,mixed r3,mixed g3,mixed b3,mixed a3,mixed r4,mixed g4,mixe=
d b4,mixed a4) {}
+
+	mixed	SetUVBorderMatrix	(mixed texturesize,mixed x,mixed y,mixed cx1,mixe=
d cy1,mixed cx2,mixed cy2,mixed cx3,mixed cy3) {}
+
+	mixed	SetClipAbsolute	(mixed l,mixed t,mixed w,mixed h) {}
+
+	mixed	SetClipRelative	(mixed l,mixed t,mixed w,mixed h) {}
+
+	mixed	SetPositionAfterWidget	(mixed otherwidget) {}
+
+	mixed	SetPositionBeforeWidget	(mixed otherwidget) {}
+};
+
+class gGumpmanager { public:
+
+	/// #####################################################################=
#######
+	/// ###### global gumpmanger functions #######
+	/// #####################################################################=
#######
+	static mixed	GetGumpsByProperty	(mixed  property,mixed value ) {}
+
+	static mixed	GetGumpsByName	(mixed  name ) {}
+
+	/// #####################################################################=
#######
+	/// ###### gump and gumpobject constructors #######
+	/// #####################################################################=
#######
+	static mixed	CreateGump	(mixed  x,mixed y ) {}
+
+	static mixed	InitGumpObject	(mixed  gumpobject ) {}
+
+	/// #####################################################################=
#######
+	/// ###### gump member functions #######
+	/// #####################################################################=
#######
+	static mixed	RegisterGump	(mixed  gump ) {}
+
+	static mixed	DeregisterGump	(mixed  gump ) {}
+
+	static mixed	_GumpRegisterGumpObject	(mixed  gump,mixed gumpobject ) {}
+
+	static mixed	_GumpDeregisterGumpObject	(mixed  gump,mixed gumpobject ) {}
+
+	static mixed	_GumpDestroy	(mixed  gump ) {}
+
+	static mixed	_SetPage	(mixed  gump,mixed page ) {}
+
+	static mixed	_SetPosition	(mixed  gump,mixed x,mixed y ) {}
+
+	static mixed	_SetVisible	(mixed  gump,mixed visible ) {}
+
+	/// #####################################################################=
#######
+	/// ###### functions to add gumpobjects in alphabetical order #######
+	/// #####################################################################=
#######
+	static mixed	_GumpAddBackground	(mixed  gump,mixed x,mixed y,mixed w,mixe=
d h,mixed id,mixed hue,mixed page,mixed onlyborder ) {}
+
+	static mixed	_GumpAddButton	(mixed  gump,mixed x,mixed y,mixed upid,mixed=
 downid,mixed moveoverid,mixed buttonid,mixed page,mixed checkcompleterecta=
ngle ) {}
+
+	static mixed	_GumpAddCheckbox	(mixed  gump,mixed x,mixed y,mixed trueid,m=
ixed falseid,mixed checked,mixed checkboxid,mixed page ) {}
+
+	static mixed	_GumpAddCroppedText	(mixed  gump,mixed x,mixed y,mixed w,mix=
ed h,mixed text,mixed font,mixed hue,mixed page,mixed border ) {}
+
+	static mixed	_GumpAddImage	(mixed  gump,mixed x,mixed y,mixed id,mixed hu=
e,mixed page ) {}
+
+	static mixed	_GumpAddGumpItem	(mixed  gump,mixed x,mixed y,mixed serial,m=
ixed page,mixed female ) {}
+
+	static mixed	_GumpAddItem	(mixed  gump,mixed x,mixed y,mixed serial,mixed=
 page,mixed useitempos ) {}
+
+	static mixed	_GumpAddGroundTilePic	(mixed  gump,mixed x,mixed y,mixed id,=
mixed hue,mixed page ) {}
+
+	static mixed	_GumpAddPageButton	(mixed  gump,mixed x,mixed y,mixed upid,m=
ixed downid,mixed pageid,mixed page ) {}
+
+	static mixed	_GumpAddRadiobutton	(mixed  gump,mixed x,mixed y,mixed truei=
d,mixed falseid,mixed checked,mixed buttonid,mixed group,mixed page ) {}
+
+	static mixed	_GumpAddScrollbar	(mixed  gump,mixed x,mixed y,mixed horizon=
tal,mixed length,mixed upid,mixed moveoverid,mixed scrollbarid,mixed page,m=
ixed promille ) {}
+
+	static mixed	_GumpAddText	(mixed  gump,mixed x,mixed y,mixed text,mixed f=
ont,mixed hue,mixed page,mixed border ) {}
+
+	static mixed	_GumpAddTiledImage	(mixed  gump,mixed x,mixed y,mixed w,mixe=
d h,mixed id,mixed hue,mixed page ) {}
+
+	static mixed	_GumpAddTilePic	(mixed  gump,mixed x,mixed y,mixed id,mixed =
hue,mixed page ) {}
+};
+
+class gMobilePrototype { public:
+
+	mixed	NotifyListener	(mixed eventname) {}
+
+	/// updates mobile status, and the position of the graphical representati=
on and other things
+	mixed	Update	(mixed mobiledata,mixed equipmentdata) {}
+
+	mixed	UpdateStats	(mixed stats) {}
+
+	mixed	UpdateHealth	(mixed curvalue,mixed maxvalue) {}
+
+	mixed	UpdateMana	(mixed curvalue,mixed maxvalue) {}
+
+	mixed	UpdateStamina	(mixed curvalue,mixed maxvalue) {}
+
+	/// triggered from kPacket_Text kPacket_Text_Unicode
+	mixed	NameHint	(mixed model,mixed charname,mixed message) {}
+
+	/// ##### ##### ##### ##### ##### the rest
+	mixed	GetEquipmentAtLayer	(mixed layer) {}
+
+	/// TODO: displays the chat text over the head of the mobile, color is 16=
bit uo color
+	mixed	DisplayTextOverHead	(mixed message,mixed r,mixed g,mixed b) {}
+};
+
+class gDynamicPrototype { public:
+
+	/// see also CreateOrUpdateDynamic
+	mixed	Update	(mixed dynamicdata,mixed mobile) {}
+
+	/// updates widgets automatically through old,new:UpdateContent() message
+	mixed	SetContainer	(mixed newcontainer_or_serial) {}
+
+	mixed	NotifyListener	(mixed eventname) {}
+};
+
+class gContainerPrototype { public:
+
+	mixed	RemoveContentObject	(mixed object) {}
+
+	mixed	AddContentObject	(mixed object) {}
+};
+
+class guimaker { public:
+
+	/// sorted overlay container (keeps zorder from beeing optimized away by =
render-state sorting)
+	static mixed	MakeSOC	(mixed parent,mixed x,mixed y) {}
+
+	/// robrenderable
+	static mixed	MakeRROC	(mixed parent,mixed matname) {}
+
+	/// ----------------------------------------
+	/// ----- table layout
+	/// ----------------------------------------
+	/// constructs a widget as child of "parent" from paramter array "arr", t=
he content of "arr" is copyed to the widget
+	static mixed	MakeWidgetFromArr	(mixed parent,mixed arr,mixed stylesetname=
) {}
+
+	/// constructs a dialog from a "rows" array, each row is an array of "col=
s", each col is a paramter array for guimaker.MakeWidgetFromArr
+	static mixed	MakeTableDlg	(mixed rows,mixed x,mixed y,mixed bClosable,mix=
ed bCellsAlwaysHaveMaxW,mixed stylesetname,mixed stylename) {}
+
+	/// recalculates widget positions in table
+	static mixed	LayoutTableDlg	(mixed dialog,mixed rootwidget) {}
+
+	static mixed	MakeBorderPanel	(mixed parent,mixed x,mixed y,mixed cx,mixed=
 cy,mixed col,mixed stylesetname,mixed stylename) {}
+
+	/// function guimaker.Button_HilightOn (widget) widget:SetUVBorderMatrix(=
32, 0,16, 2,2, 12,12, 2,2) end
+	/// function guimaker.Button_HilightOff (widget) widget:SetUVBorderMatrix=
(32, 0, 0, 2,2, 12,12, 2,2) end
+	static mixed	Button_HilightOn	(mixed widget) {}
+
+	static mixed	Button_HilightOff	(mixed widget) {}
+
+	static mixed	MakeButton	(mixed parent,mixed x,mixed y,mixed cx,mixed cy,m=
ixed col,mixed stylesetname) {}
+
+	static mixed	MakeText	(mixed parent,mixed x,mixed y,mixed text,mixed char=
h,mixed col,mixed fontname) {}
+
+	static mixed	MakeWrappedClippedText	(mixed parent,mixed x,mixed y,mixed w=
idth,mixed height,mixed text,mixed charh,mixed col,mixed center,mixed div,m=
ixed fontname) {}
+
+	static mixed	MakeClippedText	(mixed parent,mixed x,mixed y,mixed width,mi=
xed height,mixed text,mixed charh,mixed col,mixed center,mixed div,mixed fo=
ntname) {}
+
+	static mixed	MakeAutoScaledButton	(mixed parent,mixed x,mixed y,mixed tex=
t,mixed charh,mixed backcol,mixed textcol,mixed stylesetname) {}
+
+	static mixed	RescaleAutoScaledButton	(mixed widget,mixed forcew) {}
+
+	static mixed	SetAutoScaledButtonText	(mixed widget,mixed text) {}
+
+	static mixed	SetAutoScaledButtonBackCol	(mixed widget,mixed backcol) {}
+
+	static mixed	MakePlane	(mixed parent,mixed mat,mixed x,mixed y,mixed cx,m=
ixed cy) {}
+
+	/// Creates a new Gumppage
+	static mixed	MakePage	(mixed pagenum) {}
+};
+
+class gTypeListPrototype { public:
+
+	mixed	RegisterType	(mixed name,mixed parenttype_or_name,mixed arr,mixed a=
bstract) {}
+
+	mixed	Get	(mixed type_or_name_or_id) {}
+
+	mixed	GetList	(mixed filterfun) {}
+};
+
+class Vector { public:
+
+	static mixed	random2	(mixed minx,mixed miny,mixed minz,mixed maxx,mixed m=
axy,mixed maxz) {}
+
+	static mixed	random3	(mixed v) {}
+
+	static mixed	len	(mixed x,mixed y,mixed z) {}
+
+	/// returns true if equal
+	static mixed	compare	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed =
z2) {}
+
+	/// returns vector with length =3D 1.0
+	static mixed	normalise	(mixed x,mixed y,mixed z) {}
+
+	static mixed	normalise_to_len	(mixed x,mixed y,mixed z,mixed normlen) {}
+
+	/// returns Ogre::v1.crossProduct(v2)
+	static mixed	cross	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
) {}
+
+	/// returns Ogre::v1.dotProduct(v2)
+	static mixed	dot	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) =
{}
+
+	/// returns vec * scal
+	static mixed	scalarmult	(mixed x,mixed y,mixed z,mixed f) {}
+
+	static mixed	scale1	(mixed f,mixed x,mixed y,mixed z) {}
+
+	static mixed	sub	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) =
{}
+
+	static mixed	add	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2) =
{}
+
+	static mixed	addscaled	(mixed s,mixed x1,mixed y1,mixed z1,mixed x2,mixed=
 y2,mixed z2) {}
+
+	static mixed	scale	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2=
) {}
+
+	static mixed	add3	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2,=
mixed x3,mixed y3,mixed z3) {}
+
+	static mixed	add4	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mixed z2,=
mixed x3,mixed y3,mixed z3,mixed x4,mixed y4,mixed z4) {}
+
+	static mixed	add4v	(mixed v1,mixed v2,mixed v3,mixed v4) {}
+
+	/// project 1 onto 2
+	static mixed	project_on_vector	(mixed x1,mixed y1,mixed z1,mixed x2,mixed=
 y2,mixed z2) {}
+
+	/// project x,y,z on the plane with normal nx,,ny,nz
+	static mixed	project_on_plane	(mixed x,mixed y,mixed z,mixed nx,mixed ny,=
mixed nz) {}
+
+	static mixed	create	(mixed  x,mixed y,mixed z ) {}
+
+	/// returns true if the length is almost zero, inspired by ogre
+	static mixed	isZeroLength	(mixed x,mixed y,mixed z) {}
+};
+
+class Quaternion { public:
+
+	/// x,y,z must be normalized, see Vector.normalise
+	static mixed	fromAngleAxis	(mixed ang,mixed x,mixed y,mixed z) {}
+
+	static mixed	inverse	(mixed w,mixed x,mixed y,mixed z) {}
+
+	static mixed	norm	(mixed w,mixed x,mixed y,mixed z) {}
+
+	static mixed	normalise	(mixed w,mixed x,mixed y,mixed z) {}
+
+	/// returns a rotation with length=3Dang around a random axis, ang defaul=
ts to random
+	/// returns qw,qx,qy,qz
+	static mixed	random	(mixed ang) {}
+
+	/// returns the shortest arc quaternion to rotate vector1 to vector2
+	/// returns qw,qx,qy,qz
+	static mixed	getRotation	(mixed x1,mixed y1,mixed z1,mixed x2,mixed y2,mi=
xed z2) {}
+
+	/// returns x,y,z
+	static mixed	ApplyToVector	(mixed x,mixed y,mixed z,mixed qw,mixed qx,mix=
ed qy,mixed qz) {}
+
+	/// Mul(a,b) =3D a*b, multiplies two quaternions, generally not commutati=
ve (a*b !=3D b*a)
+	/// returns qw,qx,qy,qz
+	static mixed	Mul	(mixed aw,mixed ax,mixed ay,mixed az,mixed bw,mixed bx,m=
ixed by,mixed bz) {}
+
+	/// reduces a turn-quaternions angle, t=3D1 =3D no change
+	/// returns qw,qx,qy,qz
+	static mixed	reduce	(mixed qw,mixed qx,mixed qy,mixed qz,mixed t) {}
+
+	/// changes the rotation angle while leaving the axis
+	/// returns qw,qx,qy,qz
+	static mixed	setAngle	(mixed qw,mixed qx,mixed qy,mixed qz,mixed newang) =
{}
+
+	/// returns rotation angle in radians
+	static mixed	getAngle	(mixed qw,mixed qx,mixed qy,mixed qz) {}
+
+	/// returns qw,qx,qy,qz
+	static mixed	lookAt	(mixed x,mixed y,mixed z) {}
+};
 =

 class cGroundBlockLoader_L { public:
 =

@@ -230,3 +4152,1169 @@
 	/// read out the part of the given multi, (blocknum,x,y,z,flags)
 	mixed GetMultiParts (...) {}
 };
+
+class cMeshEntity_L { public:
+
+	/// static methods exported to lua
+	/// cMeshEntity* CreateMeshEntity (); for lua
+	static mixed CreateMeshEntity (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// bhit,bhitdist =3D meshentity:RayPick(rx,ry,rz, rvx,rvy,rvz, x,y,z, qw=
,qx,qy,qz, sx,sy,sz) -- mainly for mousepicking
+	mixed RayPick (...) {}
+
+	mixed SetUserObject (...) {}
+};
+
+class cStaticGeometry_L { public:
+
+	/// static methods exported to lua
+	/// cStaticGeometry* CreateStaticGeometry (); for lua
+	static mixed CreateStaticGeometry (...) {}
+
+	/// object methods exported to lua
+	/// void SetCastShadows (bool shadow)
+	mixed SetCastShadows (...) {}
+
+	mixed Destroy (...) {}
+
+	mixed Build (...) {}
+
+	mixed SetVisible (...) {}
+
+	/// void AddEntity (cMeshEntity* pEntity, x,y,z, qw,qx,qy,qz, scalex,scal=
ey,scalez); for lua
+	mixed AddEntity (...) {}
+};
+
+class cGrannyLoader_i2_L { public:
+
+	/// static methods exported to lua
+	/// cGrannyLoader_i2* LoadGranny (string file); for lua
+	/// returns nil,errormsg on failure
+	static mixed LoadGranny (...) {}
+
+	/// string CreateSkeleton (sName=3Duniquename())
+	static mixed CreateSkeleton (...) {}
+
+	/// string SkeletonHasAnimation (sSkeletonName,sAnimName)
+	static mixed SkeletonHasAnimation (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// sMeshName CreateOgreMesh (sMatName,sSkeletonName,sMeshName=3Duniquena=
me())
+	mixed CreateOgreMesh (...) {}
+
+	/// void AddAnimToSkeleton (sSkeletonName,sAnimName,table bodysamples)
+	/// as the granny format is rather perverted and has a different rest-pos=
ition for the bones in the anim-granny and in the model-granny,
+	/// we need a complete set of bodyparts to determine the correct rest pos=
ition for each bone (single body parts don't usually contain all bones)
+	/// all model-parts seem to have the same bone-rest-positions, only the a=
nims are different
+	mixed AddAnimToSkeleton (...) {}
+
+	/// int GetTextChunkCount ()
+	/// total number of different textchunk-blocks
+	mixed GetTextChunkCount (...) {}
+
+	/// int GetTextChunkSize (int chunkid)
+	/// number of strings in one textchunk-block
+	mixed GetTextChunkSize (...) {}
+
+	/// string GetText (int chunkid,int stringid)
+	/// retrieve a string from a textchunk-block
+	mixed GetText (...) {}
+
+	/// int GetParamGroupCount ()
+	/// total number of different paramgroups
+	mixed GetParamGroupCount (...) {}
+
+	/// int GetParamGroupSize (int groupid)
+	/// number of pairs in one paramgroup
+	mixed GetParamGroupSize (...) {}
+
+	/// iKey,iValue GetParam (int groupid,int paramid)
+	/// retrieve a string from a textchunk-block
+	mixed GetParam (...) {}
+
+	/// int GetSubMeshCount ()
+	/// total number of different submeshes (usually 1)
+	mixed GetSubMeshCount (...) {}
+
+	/// int GetTextureIDCount ()
+	/// number of TexureIDs
+	mixed GetTextureIDCount (...) {}
+
+	/// int GetTextureID (int index)
+	mixed GetTextureID (...) {}
+
+	/// void Print ()
+	/// extensive debug dump to stdout
+	mixed Print (...) {}
+
+	/// void PrintBones ()
+	/// extensive debug dump about bones to stdout
+	mixed PrintBones (...) {}
+};
+
+class cSpriteManager_L { public:
+
+	mixed Destroy (...) {}
+
+	static mixed CreateSpriteManager (...) {}
+
+	mixed CreateSprite (...) {}
+
+	mixed RemoveSprite (...) {}
+
+	mixed Resorted (...) {}
+};
+
+class cSprite_L { public:
+
+	mixed ChangeTexture (...) {}
+
+	mixed SetPrio (...) {}
+
+	mixed GetPrio (...) {}
+
+	mixed GetPosition (...) {}
+
+	mixed ChangeCoords (...) {}
+
+	mixed ChangeTexCoords (...) {}
+
+	mixed SetNormals (...) {}
+
+	mixed SetVisible (...) {}
+
+	mixed IsVisible (...) {}
+};
+
+class cManualArtMaterialLoader_L { public:
+
+	/// object methods exported to lua
+	/// cManualArtMaterialLoader:Destroy()
+	mixed Destroy (...) {}
+
+	/// void CreateMatchingIfUnavailable(name)
+	mixed CreateMatchingIfUnavailable (...) {}
+
+	/// void IsMatching(name)
+	mixed IsMatching (...) {}
+
+	/// void CreateResource(name)
+	mixed CreateResource (...) {}
+
+	/// cx,cy =3D bitmask:GetSize()
+	static mixed GetSize (...) {}
+
+	/// bool =3D bitmask:TestBit(x,y) : false if transparent
+	static mixed TestBit (...) {}
+
+	/// cManualArtMaterialLoader* CreateManualArtMaterialLoader(format, loade=
r, pixelexact, invertx, inverty); for lua
+	static mixed CreateManualArtMaterialLoader (...) {}
+};
+
+class cRadar_L { public:
+
+	/// static methods exported to lua
+	static mixed CreateRadar (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed SetPosition (...) {}
+
+	mixed SetLocation (...) {}
+
+	mixed SetAngle (...) {}
+
+	mixed SetMirrorX (...) {}
+
+	mixed SetVisible (...) {}
+};
+
+class cRenderTexture_L { public:
+
+	/// object methods exported to lua
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// WARNING ! THE RETURNED NAME IS BROKEN ! (n0007 becomes n0007/0/0/0)
+	/// string GetName ()
+	static mixed GetName (...) {}
+
+	/// void SetAutoUpdated ()
+	mixed SetAutoUpdated (...) {}
+
+	/// void Update ()
+	mixed Update (...) {}
+
+	/// void WriteContentsToFile (sFilePath)
+	mixed WriteContentsToFile (...) {}
+
+	/// static methods exported to lua
+	/// pixelformat : see l_OgrePixelFormatList in src/lugre_scripting.ogre.c=
pp
+	/// udata_rtt CreateRenderTexture (sRttName,cx,cy,pixelformat=3DPF_BYTE_R=
GBA)
+	static mixed CreateRenderTexture (...) {}
+};
+
+class cSoundSource_L { public:
+
+	/// object methods exported to lua
+	/// SoundSource:SetMinMaxDistance(x)
+	mixed SetMinMaxDistance (...) {}
+
+	/// min,max =3D SoundSource:GetMinMaxDistance()
+	mixed GetMinMaxDistance (...) {}
+
+	/// SoundSource:SetVolume(x)
+	mixed SetVolume (...) {}
+
+	/// x =3D SoundSource:GetVolume()
+	mixed GetVolume (...) {}
+
+	/// SoundSource:SetPosition(x,y,z)
+	mixed SetPosition (...) {}
+
+	/// SoundSource:SetVelocity(x,y,z)
+	mixed SetVelocity (...) {}
+
+	/// x,y,z =3D SoundSource:GetPosition()
+	mixed GetPosition (...) {}
+
+	/// x,y,z =3D SoundSource:GetVelocity()
+	mixed GetVelocity (...) {}
+
+	/// bool =3D SoundSource:Is3D()
+	mixed Is3D (...) {}
+
+	/// bool =3D SoundSource:IsPlaying()
+	mixed IsPlaying (...) {}
+
+	/// bool =3D SoundSource:IsPaused()
+	mixed IsPaused (...) {}
+
+	/// SoundSource:Play()
+	mixed Play (...) {}
+
+	/// SoundSource:Pause()
+	mixed Pause (...) {}
+
+	/// SoundSource:Stop()
+	mixed Stop (...) {}
+
+	/// SoundSource:Destroy()
+	mixed Destroy (...) {}
+};
+
+class cSoundSystem_L { public:
+
+	/// object methods exported to lua
+	/// CreateSoundSystem(name,frequency)
+	static mixed CreateSoundSystem (...) {}
+
+	/// SoundSystem:SetVolume(x)
+	mixed SetVolume (...) {}
+
+	/// x =3D SoundSystem:GetVolume()
+	mixed GetVolume (...) {}
+
+	/// SoundSystem:SetDistanceFactor(x)
+	mixed SetDistanceFactor (...) {}
+
+	/// SoundSystem:Step()
+	mixed Step (...) {}
+
+	/// x =3D SoundSystem:GetDistanceFactor()
+	mixed GetDistanceFactor (...) {}
+
+	/// SoundSystem:SetListenerPosition(x,y,z)
+	mixed SetListenerPosition (...) {}
+
+	/// SoundSystem:SetListenerVelocity(x,y,z)
+	mixed SetListenerVelocity (...) {}
+
+	/// x,y,z =3D SoundSystem:GetListenerPosition()
+	mixed GetListenerPosition (...) {}
+
+	/// x,y,z =3D SoundSystem:GetListenerVelocity()
+	mixed GetListenerVelocity (...) {}
+
+	/// cSoundSource* CreateSoundSource (string filename); for lua
+	mixed CreateSoundSource (...) {}
+
+	/// cSoundSource* CreateSoundSource3D (number x, number y, number z, stri=
ng filename); for lua
+	mixed CreateSoundSource3D (...) {}
+
+	/// SoundSystem:Destroy()
+	mixed Destroy (...) {}
+};
+
+class cBitMask_L { public:
+
+	/// object methods exported to lua
+	/// bitmask:Destroy()
+	mixed Destroy (...) {}
+
+	/// cx,cy =3D bitmask:GetSize()
+	mixed GetSize (...) {}
+
+	/// bool =3D bitmask:TestBit(x,y) : false if transparent
+	mixed TestBit (...) {}
+};
+
+class cGfx3D_L { public:
+
+	/// static methods exported to lua
+	static mixed CreateGfx3D (...) {}
+
+	/// gfx3D:CreateChild()
+	mixed CreateChild (...) {}
+
+	/// gfx3D:CreateTagPoint(sBoneName,x,y,z,qw,qx,qy,qz)
+	mixed CreateTagPoint (...) {}
+
+	/// for lua : gfx3D CreateRootGfx3D (szSceneMgrName=3D"main")
+	static mixed CreateRootGfx3D (...) {}
+
+	static mixed CreateCamPosGfx3D (...) {}
+
+	static mixed CreateCockpitGfx3D (...) {}
+
+	/// gfx3D:SetForcePosCam(cam or nil)
+	mixed SetForcePosCam (...) {}
+
+	/// gfx3D:SetForceRotCam(cam or nil)
+	mixed SetForceRotCam (...) {}
+
+	/// gfx3D:SetForceLookat(gfx3d or nil)
+	mixed SetForceLookat (...) {}
+
+	/// gfx3D:Destroy()
+	mixed Destroy (...) {}
+
+	/// determines the scenenode world bbox
+	/// x1,y1,z1, x2,y2,z2 GetWorldAABB ()
+	mixed GetWorldAABB (...) {}
+
+	/// x1,y1,z1, x2,y2,z2 GetEntityBounds ()
+	mixed GetEntityBounds (...) {}
+
+	/// r GetEntityBoundRad ()
+	mixed GetEntityBoundRad (...) {}
+
+	/// int GetEntityIndexCount ()
+	mixed GetEntityIndexCount (...) {}
+
+	/// x,y,z GetEntityVertex (iIndexIndex)
+	mixed GetEntityVertex (...) {}
+
+	/// r GetCustomBoundRad ()
+	mixed GetCustomBoundRad (...) {}
+
+	/// SetCustomBoundRad (float r)
+	mixed SetCustomBoundRad (...) {}
+
+	/// bhit,bhitdist,facenum,aabbhitfacenoirmalx,aabbhitfacenormaly =3D gfx3=
D:RayPick(rx,ry,rz,rvx,rvy,rvz) -- mainly for mousepicking
+	mixed RayPick (...) {}
+
+	/// returns a list of all hits
+	/// table{facenum=3Ddist,...} =3D gfx3D:RayPickList(rx,ry,rz,rvx,rvy,rvz)=
 -- mainly for mousepicking
+	mixed RayPickList (...) {}
+
+	/// gfx3D:SetParent(gfx3D_or_nil)
+	mixed SetParent (...) {}
+
+	/// gfx3D:SetRootAsParent(szSceneMgrName)
+	mixed SetRootAsParent (...) {}
+
+	/// gfx3D:SetVisible( bool)
+	mixed SetVisible (...) {}
+
+	/// gfx3D:SetDisplaySkeleton( bool)
+	mixed SetDisplaySkeleton (...) {}
+
+	/// gfx3D:SetRenderingDistance( float dist)
+	mixed SetRenderingDistance (...) {}
+
+	/// gfx3D:SetPrepareFrameStep( bool)
+	mixed SetPrepareFrameStep (...) {}
+
+	/// gfx3D:SetMaterial( string)
+	mixed SetMaterial (...) {}
+
+	/// x,y,z GetScale ()
+	mixed GetScale (...) {}
+
+	/// x,y,z GetPosition ()
+	mixed GetPosition (...) {}
+
+	/// x,y,z GetDerivedPosition ()
+	mixed GetDerivedPosition (...) {}
+
+	/// w,x,y,z GetOrientation ()
+	mixed GetOrientation (...) {}
+
+	/// w,x,y,z GetDerivedOrientation ()
+	mixed GetDerivedOrientation (...) {}
+
+	/// gfx3D:SetPosition( float x, float y, float z)
+	mixed SetPosition (...) {}
+
+	/// gfx3D:SetScale( float x, float y, float z)
+	mixed SetScale (...) {}
+
+	/// gfx3D:SetNormaliseNormals(bool bNormalise)
+	mixed SetNormaliseNormals (...) {}
+
+	/// gfx3D:SetOrientation( float w, float x, float y, float z)
+	mixed SetOrientation (...) {}
+
+	/// void SetBillboard (udata_obj obj,vPos,Real radius,string matname=3D"e=
xplosion")
+	mixed SetBillboard (...) {}
+
+	/// void SetRadar ()
+	mixed SetRadar (...) {}
+
+	/// void SetRadialGrid ()
+	mixed SetRadialGrid (...) {}
+
+	/// void SetWireBoundingBoxGfx3D ()
+	mixed SetWireBoundingBoxGfx3D (...) {}
+
+	/// void SetWireBoundingBoxMinMax ()
+	mixed SetWireBoundingBoxMinMax (...) {}
+
+	/// ~ /// void SetWireBoundingBoxMeshEntity ()
+	/// ~ static int SetWireBoundingBoxMeshEntity (lua_State *L) { PROFILE
+	/// ~ Ogre::Entity* pEntity =3D cLuaBind<cMeshEntity>::checkudata_alive(L=
,2)->mpOgreEntity;
+	/// ~ if (pEntity) checkudata_alive(L)->SetWireBoundingBox(*pEntity); els=
e printf("SetWireBoundingBoxMeshEntity failed, no entity\n");
+	/// ~ return 0;
+	/// ~ }
+	/// void SetTrail (udata_obj obj,vPos,Real length,Real elements, string m=
atname=3D"explosion")
+	mixed SetTrail (...) {}
+
+	/// void SetExplosion (udata_obj obj,Real radius,string matname=3D"explos=
ion")
+	mixed SetExplosion (...) {}
+
+	/// OBSOLETE
+	/// void SetTargetTracker (udata_obj obj,Real dist,Real size,colr,colg,co=
lb,string matname=3D"explosion")
+	mixed SetTargetTracker (...) {}
+
+	/// ***** ***** ***** ***** ***** Beam System
+	/// void SetBeam (bUseVertexColour)
+	mixed SetBeam (...) {}
+
+	/// int BeamCountLines ()
+	mixed BeamCountLines (...) {}
+
+	/// removes all lines
+	/// void BeamClearLines ()
+	mixed BeamClearLines (...) {}
+
+	/// int BeamAddLine ()
+	mixed BeamAddLine (...) {}
+
+	/// void BeamDeleteLine (iLine)
+	mixed BeamDeleteLine (...) {}
+
+	/// removes all points on this line
+	/// void BeamClearLine (iLine)
+	mixed BeamClearLine (...) {}
+
+	/// void BeamPopFront (iLine)
+	mixed BeamPopFront (...) {}
+
+	/// void BeamPopBack (iLine)
+	mixed BeamPopBack (...) {}
+
+	/// void BeamAddPoint (iLine,x,y,z,h1,h2,u1,u2,v1,v2,r1=3D1,g1=3D1,b1=3D1=
,r2=3D1,g2=3D1,b2=3D1)
+	mixed BeamAddPoint (...) {}
+
+	/// void BeamSetPoint (iLine,iPoint,x,y,z,h1,h2,u1,u2,v1,v2,r1=3D1,g1=3D1=
,b1=3D1,r2=3D1,g2=3D1,b2=3D1)
+	mixed BeamSetPoint (...) {}
+
+	/// call this after changing geometry
+	/// void BeamUpdateBounds ()
+	mixed BeamUpdateBounds (...) {}
+
+	/// ***** ***** ***** ***** ***** ParticleSystem
+	/// void SetParticleSystem (udata_obj obj, string templatename=3D"Example=
s/Fireworks")
+	mixed SetParticleSystem (...) {}
+
+	/// void ParticleSystem_FastForward (udata_obj obj, float time, float int=
erval)
+	mixed ParticleSystem_FastForward (...) {}
+
+	/// void ParticleSystem_SetNonVisibleUpdateTimeout (float time)
+	mixed ParticleSystem_SetNonVisibleUpdateTimeout (...) {}
+
+	/// void ParticleSystem_SetSpeedFactor (float time)
+	mixed ParticleSystem_SetSpeedFactor (...) {}
+
+	/// int ParticleSystem_GetNumParticles ()
+	mixed ParticleSystem_GetNumParticles (...) {}
+
+	/// void ParticleSystem_RemoveAllEmitters ()
+	mixed ParticleSystem_RemoveAllEmitters (...) {}
+
+	/// void ParticleSystem_SetEmitterRate (iEmitterIndex,fRate)
+	mixed ParticleSystem_SetEmitterRate (...) {}
+
+	/// void ParticleSystem_SetDefaultParticleSize (fW,fH)
+	mixed ParticleSystem_SetDefaultParticleSize (...) {}
+
+	/// void ParticleSystem_SetEmitterVelocityMinMax (fMin,fMax)
+	mixed ParticleSystem_SetEmitterVelocityMinMax (...) {}
+
+	/// ***** ***** ***** ***** ***** Mesh
+	/// void SetMesh (udata_obj obj, string meshname=3D"razor.mesh")
+	mixed SetMesh (...) {}
+
+	/// void CreateMergedMesh (udata_obj obj, string meshname)
+	mixed CreateMergedMesh (...) {}
+
+	/// int GetMeshSubEntityCount ()
+	mixed GetMeshSubEntityCount (...) {}
+
+	/// string GetMeshSubEntityMaterial (iSubEntityIndexZeroBased)
+	mixed GetMeshSubEntityMaterial (...) {}
+
+	/// void SetMeshSubEntityMaterial (iSubEntityIndexZeroBased,matname)
+	mixed SetMeshSubEntityMaterial (...) {}
+
+	/// void SetMeshSubEntityCustomParameter (iSubEntityIndexZeroBased,iParam=
,x,y,z,w)
+	mixed SetMeshSubEntityCustomParameter (...) {}
+
+	/// void SetAnim (sAnimName,bLoop)
+	mixed SetAnim (...) {}
+
+	/// float GetAnimLength (sAnimName)
+	mixed GetAnimLength (...) {}
+
+	/// float GetAnimTimePos ()
+	mixed GetAnimTimePos (...) {}
+
+	/// void SetAnimTimePos (float fTimeInSeconds)
+	mixed SetAnimTimePos (...) {}
+
+	/// void AnimAddTime (fTime) (loops automatically)
+	mixed AnimAddTime (...) {}
+
+	/// bool IsAnimLooped ()
+	mixed IsAnimLooped (...) {}
+
+	/// bool HasBone (sBoneName)
+	mixed HasBone (...) {}
+
+	/// bool HasSkeleton ()
+	mixed HasSkeleton (...) {}
+
+	/// ***** ***** ***** ***** ***** SimpleRenderable
+	/// void SetSimpleRenderable ()
+	mixed SetSimpleRenderable (...) {}
+
+	/// void RenderableBegin (iVertexCount,iIndexCount,bDynamic,bKeepOldIndic=
es,opType)
+	/// optype like OT_TRIANGLE_LIST
+	mixed RenderableBegin (...) {}
+
+	/// void RenderableVertex (x,y,z,nx,ny,nz,u,v, r,g,b,a)
+	mixed RenderableVertex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd
+	/// void RenderableIndex (iIndex)
+	mixed RenderableIndex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd, useful for =
triangles
+	/// void RenderableIndex3 (iIndex,iIndex,iIndex)
+	mixed RenderableIndex3 (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd, useful for =
lines
+	/// void RenderableIndex2 (iIndex,iIndex)
+	mixed RenderableIndex2 (...) {}
+
+	/// void RenderableSkipVertices ()
+	mixed RenderableSkipVertices (...) {}
+
+	/// void RenderableSkipIndices ()
+	mixed RenderableSkipIndices (...) {}
+
+	/// void RenderableEnd ()
+	mixed RenderableEnd (...) {}
+
+	/// sMeshName RenderableConvertToMesh (sMeshName=3DGetUniqueName())
+	mixed RenderableConvertToMesh (...) {}
+
+	/// void RenderableAddToMesh (sMeshName)
+	mixed RenderableAddToMesh (...) {}
+
+	/// ***** ***** ***** ***** ***** Rest
+	/// void SetStarfield (udata_obj obj, int numstars,float rad,float fColor=
ing, string matname=3D"explosion")
+	mixed SetStarfield (...) {}
+
+	/// void SetTextFont (sFontName)
+	mixed SetTextFont (...) {}
+
+	/// void SetCastShadows (bool shadow)
+	mixed SetCastShadows (...) {}
+
+	/// void SetText (sText,fSize,r,g,b,a,fWrapMaxW,align)
+	/// align : kGfx2DAlign_Left,kGfx2DAlign_Right,kGfx2DAlign_Center
+	mixed SetText (...) {}
+};
+
+class cViewport_L { public:
+
+	/// object methods exported to lua
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// void SetOverlaysEnabled (bEnabled) // TODO ! tobool
+	mixed SetOverlaysEnabled (...) {}
+
+	mixed GetActualWidth (...) {}
+
+	mixed GetActualHeight (...) {}
+
+	/// r,g,b,a
+	mixed SetBackCol (...) {}
+
+	/// todo : setClearEveryFrame setOverlaysEnabled
+	/// static methods exported to lua
+	/// udata_vp GetMainViewport ()
+	static mixed GetMainViewport (...) {}
+
+	/// udata_vp CreateRTTViewport (udata_rtt,udata_cam) ... RTT =3D render t=
o texture
+	static mixed CreateRTTViewport (...) {}
+};
+
+class cRandom_L { public:
+
+	/// object methods exported to lua
+	/// todo : rotation, position, aspect ratio, near/farclip...
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// void GetInt (max)
+	/// void GetInt (min,max)
+	mixed GetInt (...) {}
+
+	/// void GetFloat ()
+	mixed GetFloat (...) {}
+
+	/// static methods exported to lua
+	/// udata_rnd CreateRandom (iSeed) -- creates a new random number generat=
er with the specified seed
+	static mixed CreateRandom (...) {}
+};
+
+class cFIFO_L { public:
+
+	/// static methods exported to lua
+	/// cFIFO* CreateFIFO (); for lua
+	static mixed CreateFIFO (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// make empty
+	mixed Clear (...) {}
+
+	/// for debugging from lua
+	mixed HexDump (...) {}
+
+	/// for debugging from lua
+	mixed Size (...) {}
+
+	mixed GetTotalPopped (...) {}
+
+	/// drop a specific number of bytes
+	mixed PopRaw (...) {}
+
+	/// hack for bug-handling in network, try to restore previously popped da=
ta
+	mixed HackRestore (...) {}
+
+	/// pops [length] bytes from this fifo and appends them to targetfifo
+	/// for lua : void PopFIFO (targetfifo,length)
+	mixed PopFIFO (...) {}
+
+	/// push cluster
+	mixed PushC (...) {}
+
+	mixed PushI (...) {}
+
+	mixed PushU (...) {}
+
+	mixed PushF (...) {}
+
+	mixed PushS (...) {}
+
+	mixed PushFIFO (...) {}
+
+	mixed PushPlainText (...) {}
+
+	mixed PushFilledString (...) {}
+
+	/// for lua : void PushUnicodeString (ascistring,len)
+	/// converts a normal asci string to unicode and pushes it onto the fifo =
( pushed bytes =3D len * 2 )
+	/// ascistring will be padded with zero bytes to reach len
+	mixed PushFilledUnicodeString (...) {}
+
+	mixed PushUint8 (...) {}
+
+	mixed PushUint16 (...) {}
+
+	mixed PushUint32 (...) {}
+
+	mixed PushInt8 (...) {}
+
+	mixed PushInt16 (...) {}
+
+	mixed PushInt32 (...) {}
+
+	/// respecting network byte order
+	mixed PushNetUint8 (...) {}
+
+	mixed PushNetUint16 (...) {}
+
+	mixed PushNetUint32 (...) {}
+
+	/// pop cluster
+	mixed PopC (...) {}
+
+	mixed PopI (...) {}
+
+	mixed PopU (...) {}
+
+	mixed PopF (...) {}
+
+	mixed PopS (...) {}
+
+	mixed PopFilledString (...) {}
+
+	/// lua: o:PopTerminatedString(terminationstring)
+	/// returns nil if there is no terminationstring
+	mixed PopTerminatedString (...) {}
+
+	mixed PopUnicodeString (...) {}
+
+	mixed PopUnicodeLEString (...) {}
+
+	mixed PopUint32 (...) {}
+
+	mixed PopUint16 (...) {}
+
+	mixed PopUint8 (...) {}
+
+	mixed PopInt32 (...) {}
+
+	mixed PopInt16 (...) {}
+
+	mixed PopInt8 (...) {}
+
+	mixed PopNetUint32 (...) {}
+
+	mixed PopNetUint16 (...) {}
+
+	mixed PopNetUint8 (...) {}
+
+	mixed PopNetInt32 (...) {}
+
+	mixed PopNetInt16 (...) {}
+
+	mixed PopNetInt8 (...) {}
+
+	/// inline bool PeekDecompressIntoFifo (const unsigned int iLenCompressed=
, const unsigned int iLenDecompressed, cFIFO &dst) {
+	mixed PeekDecompressIntoFifo (...) {}
+
+	/// inline int PushCompressFromFifo(cFIFO &src) {
+	mixed PushCompressFromFifo (...) {}
+
+	/// peek cluster
+	mixed PeekNetUint32 (...) {}
+
+	mixed PeekNetUint16 (...) {}
+
+	mixed PeekNetUint8 (...) {}
+};
+
+class cConnection_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cConnection* NetConnect (string host,int port);
+	static mixed NetConnect (...) {}
+
+	/// for lua : cConnection* NetLocalMaster ();
+	static mixed NetLocalMaster (...) {}
+
+	/// for lua : cConnection* NetLocalSlave (localmaster);
+	static mixed NetLocalSlave (...) {}
+
+	/// for lua : NetReadAndWrite ();
+	static mixed NetReadAndWrite (...) {}
+
+	/// converts a numeric ip to a %s.%s.%s.%s ip
+	/// for lua : string NtoA (int numeric_ip)
+	static mixed NtoA (...) {}
+
+	/// converts a hostname to a ip as string or nil on error
+	/// for lua : int GetHostByName (string hostname)
+	static mixed GetHostByName (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed GetRemoteAddress (...) {}
+
+	mixed IsConnected (...) {}
+
+	/// for lua : void Push (fifo)
+	mixed Push (...) {}
+
+	/// ADDS data to fifo, doesn't clear fifo first
+	/// clears network outbuffer
+	/// for lua : void Pop (fifo)
+	mixed Pop (...) {}
+};
+
+class cNetListener_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cNetListener* NetListen (int port);
+	static mixed NetListen (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	mixed PopAccepted (...) {}
+};
+
+class cUDP_ReceiveSocket_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cUDP_ReceiveSocket* Create_UDP_ReceiveSocket (int port);
+	static mixed Create_UDP_ReceiveSocket (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// for lua : resultcode,remoteaddr Receive (fifo);
+	mixed Receive (...) {}
+};
+
+class cUDP_SendSocket_L { public:
+
+	/// static methods exported to lua
+	/// for lua : cUDP_SendSocket* Create_UDP_SendSocket ();
+	static mixed Create_UDP_SendSocket (...) {}
+
+	/// object methods exported to lua
+	mixed Destroy (...) {}
+
+	/// for lua : resultcode Send (addr,port,fifo,datalen=3Dfifosize);
+	/// if datalen is not specified, it defaults to the size of the entire fi=
fo
+	/// the data is NOT popped from the fifo
+	/// addr is a light userdata representing the ip address, e.g. from net_L=
.cpp : cConnection_L::GetRemoteAddress
+	mixed Send (...) {}
+};
+
+class cCamera_L { public:
+
+	/// object methods exported to lua
+	/// todo : rotation, position, aspect ratio, near/farclip...
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// void SetFOVy (float fAngInRadians)
+	mixed SetFOVy (...) {}
+
+	/// void SetNearClipDistance (float f)
+	mixed SetNearClipDistance (...) {}
+
+	/// void SetFarClipDistance (float f) : 0=3Dinfinite
+	mixed SetFarClipDistance (...) {}
+
+	/// void SetProjectionType (int mode) : 0=3DPT_PERSPECTIVE 1=3DPT_ORTHOGR=
APHIC
+	mixed SetProjectionType (...) {}
+
+	/// usually SetAspectRatio(Real(mViewport->getActualWidth()) / Real(mView=
port->getActualHeight()))
+	mixed SetAspectRatio (...) {}
+
+	mixed Move (...) {}
+
+	mixed SetPos (...) {}
+
+	mixed SetRot (...) {}
+
+	/// for lua : x,y,z GetPos ()
+	mixed GetPos (...) {}
+
+	/// for lua : w,x,y,z GetRot ()
+	mixed GetRot (...) {}
+
+	mixed LookAt (...) {}
+
+	mixed GetNearClipDistance (...) {}
+
+	mixed GetFarClipDistance (...) {}
+
+	/// returns cam rotation as euler angles
+	mixed GetEulerAng (...) {}
+
+	/// static methods exported to lua
+	/// udata_cam CreateCamera (sSceneMgrName=3D"main",sCamName=3Duniquename(=
))
+	static mixed CreateCamera (...) {}
+
+	/// udata_cam GetMainCam ()
+	static mixed GetMainCam (...) {}
+};
+
+class cBeamFilterComplex_L { public:
+
+	/// object methods exported to lua
+	/// void Destroy ()
+	mixed Destroy (...) {}
+
+	/// static methods exported to lua
+	/// udata_cam CreateBeamFilter ()
+	static mixed CreateBeamFilter (...) {}
+};
+
+class cGfx2D_L { public:
+
+	/// static methods exported to lua
+	static mixed CreateGfx2D (...) {}
+
+	/// creates a gfx2d on kCursorOverlayZOrder, typically used for mouse cur=
sors
+	static mixed CreateCursorGfx2D (...) {}
+
+	mixed Destroy (...) {}
+
+	mixed InitPanel (...) {}
+
+	mixed InitCompass (...) {}
+
+	mixed InitCCPO (...) {}
+
+	mixed InitCCTO (...) {}
+
+	mixed InitBCCPO (...) {}
+
+	mixed InitSOC (...) {}
+
+	mixed InitRROC (...) {}
+
+	mixed InitText (...) {}
+
+	mixed SetPrepareFrameStep (...) {}
+
+	mixed SetVisible (...) {}
+
+	/// for overlays
+	mixed SetTransparent (...) {}
+
+	mixed GetVisible (...) {}
+
+	mixed SetMaterial (...) {}
+
+	mixed SetBorderMaterial (...) {}
+
+	mixed SetPos (...) {}
+
+	mixed GetPos (...) {}
+
+	mixed SetDimensions (...) {}
+
+	mixed GetDimensions (...) {}
+
+	mixed SetAlignment (...) {}
+
+	mixed SetTextAlignment (...) {}
+
+	mixed SetUV (...) {}
+
+	mixed SetPartUV (...) {}
+
+	mixed SetClip (...) {}
+
+	mixed SetBorder (...) {}
+
+	mixed SetCharHeight (...) {}
+
+	mixed SetFont (...) {}
+
+	mixed SetText (...) {}
+
+	/// void SetAutoWrap (iMaxW) -- usually in pixels
+	mixed SetAutoWrap (...) {}
+
+	mixed SetColour (...) {}
+
+	/// lt:left top , rb:right bottom
+	/// for lua : void SetColours ((lt:)r,g,b,a, (rt:)r,g,b,a, (lb:)r,g,b,a, =
(rb:)r,g,b,a)
+	mixed SetColours (...) {}
+
+	/// lt:left top , rb:right bottom
+	/// for lua : void SetPartColours (partid, (lt:)r,g,b,a, (rt:)r,g,b,a, (l=
b:)r,g,b,a, (rb:)r,g,b,a)
+	mixed SetPartColours (...) {}
+
+	mixed SetRotate (...) {}
+
+	/// only for cColourClipTextOverlay
+	mixed GetTextBounds (...) {}
+
+	/// only for cColourClipTextOverlay
+	mixed GetGlyphAtPos (...) {}
+
+	/// only for cColourClipTextOverlay
+	mixed GetGlyphBounds (...) {}
+
+	mixed GetLeft (...) {}
+
+	mixed GetTop (...) {}
+
+	mixed GetDerivedLeft (...) {}
+
+	mixed GetDerivedTop (...) {}
+
+	mixed GetWidth (...) {}
+
+	mixed GetHeight (...) {}
+
+	/// void RenderableBegin (iVertexCount,iIndexCount,bDynamic,bKeepOldIndic=
es,opType)
+	/// optype like OT_TRIANGLE_LIST
+	mixed RenderableBegin (...) {}
+
+	/// void RenderableVertex ()
+	mixed RenderableVertex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd
+	/// void RenderableIndex (iIndex)
+	mixed RenderableIndex (...) {}
+
+	/// must be called between RenderableBegin and RenderableEnd
+	/// void RenderableIndex3 (iIndex,iIndex,iIndex)
+	mixed RenderableIndex3 (...) {}
+
+	/// void RenderableSkipVertices ()
+	mixed RenderableSkipVertices (...) {}
+
+	/// void RenderableSkipIndices ()
+	mixed RenderableSkipIndices (...) {}
+
+	/// void RenderableEnd ()
+	mixed RenderableEnd (...) {}
+
+	/// ***** ***** ***** ***** ***** SortedOverlayContainer
+	/// void SOC_ChildBringToFront (child)
+	mixed SOC_ChildBringToFront (...) {}
+
+	/// void SOC_ChildSendToBack (child)
+	mixed SOC_ChildSendToBack (...) {}
+
+	/// void SOC_ChildInsertAfter (child,other)
+	mixed SOC_ChildInsertAfter (...) {}
+
+	/// void SOC_ChildInsertBefore (child,other)
+	mixed SOC_ChildInsertBefore (...) {}
+
+	/// ***** ***** ***** ***** ***** rest
+	/// only for cCompassOverlay
+	mixed SetUVMid (...) {}
+
+	/// only for cCompassOverlay
+	mixed SetUVRad (...) {}
+
+	/// only for cCompassOverlay
+	mixed SetAngBias (...) {}
+
+	/// only for cSortedOverlayContainer
+	mixed SetRankFactor (...) {}
+
+	/// gfx2D:SetTrackPosSceneNode(gfx3d or nil)
+	mixed SetTrackPosSceneNode (...) {}
+
+	/// gfx2D:SetTrackOffset(float x,float y)
+	mixed SetTrackOffset (...) {}
+
+	/// gfx2D:SetTrackMouse(bool bOn)
+	mixed SetTrackMouse (...) {}
+};
+
+class cDialog_L { public:
+
+	/// static methods exported to lua
+	static mixed MyCreateDialog (...) {}
+
+	mixed Destroy (...) {}
+
+	/// cWidget* CreateWidget (cWidget* pParent=3D0,const char* sID=3D0); ///=
< parent and id cannot change, see also cWidget::CreateChild()
+	mixed CreateWidget (...) {}
+
+	/// void BringToFront ();
+	mixed BringToFront (...) {}
+
+	/// void SendToBack ();
+	mixed SendToBack (...) {}
+
+	/// void SetVisible (const bool bVisible);
+	mixed SetVisible (...) {}
+};
+
+class cWidget_L { public:
+
+	/// static methods exported to lua
+	/// lua: widgetid GetWidgetUnderPos (x,y)
+	static mixed GetWidgetUnderPos (...) {}
+
+	/// object methods exported to lua
+	/// void Destroy (); ///< shortcut to cDialog::DestroyWidget(this)
+	mixed Destroy (...) {}
+
+	/// cWidget* CreateChild (const char* sID=3D0); ///< shortcut to cDialog:=
:CreateWidget(this,sID);
+	mixed CreateChild (...) {}
+
+	mixed UpdateClip (...) {}
+
+	mixed SetBitMask (...) {}
+
+	/// lua: bool IsUnderPos (x,y)
+	mixed IsUnderPos (...) {}
+};
+
+class cThread_NetRequest_L { public:
+
+	/// static methods exported to lua
+	/// pSendData is used by the thread, DO NOT USE OR RELEASE IT UNTIL THE T=
HREAD IS FINISHED
+	/// pAnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTIL T=
HE THREAD IS FINISHED
+	/// thread_netr CreateThread_NetRequest (sHost,iPort,fifo_SendData=3Dnil,=
fifo_pAnswerBuffer=3Dnil)
+	static mixed CreateThread_NetRequest (...) {}
+
+	/// object methods exported to lua
+	/// Destroy()
+	mixed Destroy (...) {}
+
+	/// bool IsFinished ()
+	mixed IsFinished (...) {}
+
+	/// bool HasError ()
+	mixed HasError (...) {}
+};
+
+class cThread_LoadFile_L { public:
+
+	/// static methods exported to lua
+	/// pAnswerBuffer is used by the thread, DO NOT USE OR RELEASE IT UNTIL T=
HE THREAD IS FINISHED
+	/// thread_loadf CreateThread_LoadFile (sFilePath,fifo_answerbuffer,iStar=
t=3D0,iLength=3D-1)
+	static mixed CreateThread_LoadFile (...) {}
+
+	/// object methods exported to lua
+	/// Destroy()
+	mixed Destroy (...) {}
+
+	/// bool IsFinished ()
+	mixed IsFinished (...) {}
+
+	/// bool HasError ()
+	mixed HasError (...) {}
+};



From no-reply at zwischenwelt.org  Sat Nov 24 01:20:38 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 24 Nov 2007 00:20:38 -0000
Subject: [Iris-commit] [IRIS] r1529 - /trunk/README.lua
Message-ID: <20071124002038.58A8C1C182C6@zwischenwelt.org>

Author: ghoulsblade
Date: Sat Nov 24 01:20:37 2007
New Revision: 1529

Log:
added lua license file

Added:
    trunk/README.lua



From no-reply at zwischenwelt.org  Sat Nov 24 15:21:01 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 24 Nov 2007 14:21:01 -0000
Subject: [Iris-commit] [IRIS] r1530 - /trunk/src/builder_L.cpp
Message-ID: <20071124142102.BACC11C18272@zwischenwelt.org>

Author: ghoulsblade
Date: Sat Nov 24 15:21:00 2007
New Revision: 1530

Log:
added staticgeom:SetCustomParameter (iParam,x,y,z,w)

Modified:
    trunk/src/builder_L.cpp

Modified: trunk/src/builder_L.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/src/builder_L.cpp (original)
+++ trunk/src/builder_L.cpp Sat Nov 24 15:21:00 2007
@@ -147,6 +147,7 @@
 			REGISTER_METHOD(AddEntity);
 			REGISTER_METHOD(SetVisible);
 			REGISTER_METHOD(SetCastShadows);
+			REGISTER_METHOD(SetCustomParameter);
 			#undef REGISTER_METHOD
 		}
 =

@@ -159,6 +160,41 @@
 		=

 	// object methods exported to lua
 =

+		/// not yet implemented ? testme !
+		/// for lua : void staticgeom:SetCustomParameter (iParam,x,y,z,w)
+		/// see also gfx3D:SetMeshSubEntityCustomParameter
+		/// http://www.ogre3d.org/phpBB2/viewtopic.php?t=3D36614&highlight=3Dcus=
tom+parameter
+		static int	SetCustomParameter		(lua_State *L) { PROFILE =

+			//~ printf("static geom : SetCustomParameter : not yet implemented\n");
+			Ogre::StaticGeometry* pOgreStaticGeom =3D checkudata_alive(L)->mpOgreSt=
aticGeom;
+			if (!pOgreStaticGeom) return 0;
+			int iParam =3D luaL_checkint(L,2);
+			float x =3D luaL_checknumber(L,3);
+			float y =3D luaL_checknumber(L,4);
+			float z =3D luaL_checknumber(L,5);
+			float w =3D luaL_checknumber(L,6);
+			// iterate through the static geometry down to the deepest level and ch=
ange the
+			// renderables' shader parameter
+			Ogre::StaticGeometry::RegionIterator regIt =3D pOgreStaticGeom->getRegi=
onIterator();
+			while (regIt.hasMoreElements()) {
+				Ogre::StaticGeometry::Region* region =3D regIt.getNext();
+				Ogre::StaticGeometry::Region::LODIterator lodIt =3D region->getLODIter=
ator();
+				while (lodIt.hasMoreElements()) {
+					Ogre::StaticGeometry::LODBucket* bucket =3D lodIt.getNext();
+					Ogre::StaticGeometry::LODBucket::MaterialIterator matIt =3D bucket->g=
etMaterialIterator();
+					while (matIt.hasMoreElements()) {
+						Ogre::StaticGeometry::MaterialBucket* mat =3D matIt.getNext();
+						Ogre::StaticGeometry::MaterialBucket::GeometryIterator geomIt =3D ma=
t->getGeometryIterator();
+						while (geomIt.hasMoreElements()) {
+							Ogre::StaticGeometry::GeometryBucket* geom =3D geomIt.getNext();
+							// set the custom shader parameter to the desired player colour
+							geom->setCustomParameter(iParam,Ogre::Vector4(x,y,z,w));
+						}
+					}
+				}
+			} =

+			return 0; =

+		}
 		=

 		/// void		SetCastShadows		(bool shadow)
 		static int		SetCastShadows		(lua_State *L) { PROFILE
@@ -195,6 +231,8 @@
 			return 0; =

 		}
 		=

+		=

+		=

 		virtual const char* GetLuaTypeName () { return "iris.staticgeometry"; }
 };
 =




From no-reply at zwischenwelt.org  Sat Nov 24 15:59:39 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 24 Nov 2007 14:59:39 -0000
Subject: [Iris-commit] [IRIS] r1531 - in /trunk: README.lua README.ogre
 README.tinyxml bin/iris2.exe data/lua/lib.data.lua license_lua.txt
 license_ogre.txt license_tinyxml.txt vs8/iris.sln vs8/iris.vcproj
Message-ID: <20071124145940.1402A1C18270@zwischenwelt.org>

Author: sience
Date: Sat Nov 24 15:59:39 2007
New Revision: 1531

Log:
-readmes changes to license..*...txt
-new binary
-lugre lua503 added to project setting (lua isn't needed anymore as seperat=
e download)

Added:
    trunk/license_lua.txt
      - copied unchanged from r1529, trunk/README.lua
    trunk/license_ogre.txt
      - copied unchanged from r1529, trunk/README.ogre
    trunk/license_tinyxml.txt
      - copied unchanged from r1529, trunk/README.tinyxml
Removed:
    trunk/README.lua
    trunk/README.ogre
    trunk/README.tinyxml
Modified:
    trunk/bin/iris2.exe
    trunk/data/lua/lib.data.lua
    trunk/vs8/iris.sln
    trunk/vs8/iris.vcproj

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.

Modified: trunk/data/lua/lib.data.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.data.lua (original)
+++ trunk/data/lua/lib.data.lua Sat Nov 24 15:59:39 2007
@@ -217,10 +217,10 @@
 	angh =3D angh or 45*gfDeg2Rad
 	angv =3D angv or 30*gfDeg2Rad
 =

---~ 	local x1,y1,z1,x2,y2,z2 =3D MeshReadOutExactBounds(meshname)
---~ 	local boundrad =3D math.max(Vector.len(x1,y1,z1),Vector.len(x2,y2,z2))
---~ 	MeshSetBounds(meshname,x1,y1,z1,x2,y2,z2)
---~ 	MeshSetBoundRad(meshname,boundrad)
+ 	local x1,y1,z1,x2,y2,z2 =3D MeshReadOutExactBounds(meshname)
+	local boundrad =3D math.max(Vector.len(x1,y1,z1),Vector.len(x2,y2,z2))
+ 	MeshSetBounds(meshname,x1,y1,z1,x2,y2,z2)
+ 	MeshSetBoundRad(meshname,boundrad)
 =

 	local boundrad =3D MeshGetBoundRad(meshname)
 	=

@@ -242,7 +242,7 @@
 	--local dist =3D GetRenderingDistanceForPixelSize(boundrad,res*0.25,vp,ca=
m)
 	local visrad_pixels =3D res*0.5
 	local vw,vh =3D res,res
-	local dist =3D 0.7 * math.max( boundrad/(visrad_pixels/vw), boundrad/(vis=
rad_pixels/vh) ) -- dirty hack, TODO : analyse projection matrix
+	local dist =3D 1.0 * math.max( boundrad/(visrad_pixels/vw), boundrad/(vis=
rad_pixels/vh) ) -- dirty hack, TODO : analyse projection matrix
 	=

 	Client_AddDirectionalLight(-0.3,-0.5,-0.1,name_scenemanager)
 =

@@ -252,9 +252,7 @@
 	=

 	local gfx =3D CreateRootGfx3D(name_scenemanager)
 	gfx:SetMesh(meshname)
-
 	gfx:SetPosition(0.5,-1,-dist);
-
 	local qw,qx,qy,qz =3D Quaternion.fromAngleAxis(angv,1,0,0)
 	gfx:SetOrientation(Quaternion.Mul(qw,qx,qy,qz,Quaternion.fromAngleAxis(an=
gh + 180*gfDeg2Rad,0,1,0)))
 	tex:Update()

Modified: trunk/vs8/iris.sln
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/vs8/iris.sln (original)
+++ trunk/vs8/iris.sln Sat Nov 24 15:59:39 2007
@@ -2,6 +2,11 @@
 Microsoft Visual Studio Solution File, Format Version 9.00
 # Visual C++ Express 2005
 Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") =3D "iris", "iris.vcproj=
", "{E2D2CF97-591B-450F-B5EA-21CB9B6A5DA5}"
+	ProjectSection(ProjectDependencies) =3D postProject
+		{FF3B6490-D65F-7B41-982B-8D8339958224} =3D {FF3B6490-D65F-7B41-982B-8D83=
39958224}
+	EndProjectSection
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") =3D "lua50_lib", "..\lug=
re\lib\lua-5.0.3\mak.vs2005\lua50_lib.vcproj", "{FF3B6490-D65F-7B41-982B-8D=
8339958224}"
 EndProject
 Global
 	GlobalSection(SolutionConfigurationPlatforms) =3D preSolution
@@ -13,6 +18,10 @@
 		{E2D2CF97-591B-450F-B5EA-21CB9B6A5DA5}.Debug|Win32.Build.0 =3D Debug|Win=
32
 		{E2D2CF97-591B-450F-B5EA-21CB9B6A5DA5}.Release|Win32.ActiveCfg =3D Relea=
se|Win32
 		{E2D2CF97-591B-450F-B5EA-21CB9B6A5DA5}.Release|Win32.Build.0 =3D Release=
|Win32
+		{FF3B6490-D65F-7B41-982B-8D8339958224}.Debug|Win32.ActiveCfg =3D Debug|W=
in32
+		{FF3B6490-D65F-7B41-982B-8D8339958224}.Debug|Win32.Build.0 =3D Debug|Win=
32
+		{FF3B6490-D65F-7B41-982B-8D8339958224}.Release|Win32.ActiveCfg =3D Relea=
se|Win32
+		{FF3B6490-D65F-7B41-982B-8D8339958224}.Release|Win32.Build.0 =3D Release=
|Win32
 	EndGlobalSection
 	GlobalSection(SolutionProperties) =3D preSolution
 		HideSolutionNode =3D FALSE

Modified: trunk/vs8/iris.vcproj
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/vs8/iris.vcproj (original)
+++ trunk/vs8/iris.vcproj Sat Nov 24 15:59:39 2007
@@ -124,7 +124,7 @@
 				OmitFramePointers=3D"true"
 				EnableFiberSafeOptimizations=3D"false"
 				WholeProgramOptimization=3D"true"
-				AdditionalIncludeDirectories=3D"&quot;$(INCLUDE)&quot;;&quot;$(OGRE_HO=
ME)\include\&quot;;&quot;$(OGRE_HOME)\include\OIS\&quot;;..\include\;..\inc=
lude\zlib;..\include\fmodx;..\include\lua;..\lugre\include;&quot;c:\Program=
me\Microsoft Platform SDK\Include\&quot;"
+				AdditionalIncludeDirectories=3D"&quot;$(INCLUDE)&quot;;&quot;$(OGRE_HO=
ME)\include\&quot;;&quot;$(OGRE_HOME)\include\OIS\&quot;;..\include\;..\inc=
lude\zlib;..\include\fmodx;&quot;..\lugre\lib\lua-5.0.3\include\&quot;;..\l=
ugre\include;&quot;c:\Programme\Microsoft Platform SDK\Include\&quot;"
 				PreprocessorDefinitions=3D"WIN32;USE_FMOD;MAIN_WORKING_DIR=3D\&quot;..=
/\&quot;"
 				RuntimeLibrary=3D"0"
 				EnableEnhancedInstructionSet=3D"1"
@@ -145,9 +145,9 @@
 			/>
 			<Tool
 				Name=3D"VCLinkerTool"
-				AdditionalDependencies=3D"LIBCMT.lib LIBCPMT.LIB AdvAPI32.Lib User32.L=
ib zlib.lib ws2_32.lib LibLua+CRT.lib LibLuaLib+CRT.lib OgreMain.lib OIS.li=
b fmodex_vc.lib"
+				AdditionalDependencies=3D"LIBCMT.lib LIBCPMT.LIB AdvAPI32.Lib User32.L=
ib zlib.lib ws2_32.lib lua50.lib OgreMain.lib OIS.lib fmodex_vc.lib"
 				OutputFile=3D"$(OutDir)\..\..\bin\iris2.exe"
-				AdditionalLibraryDirectories=3D"&quot;$(LIB)&quot;;&quot;$(OGRE_HOME)\=
lib\&quot;;..\libs\fmodx;..\libs\zlib;..\libs\lua;&quot;c:\Programme\Micros=
oft Platform SDK\Lib&quot;"
+				AdditionalLibraryDirectories=3D"&quot;$(LIB)&quot;;&quot;$(OGRE_HOME)\=
lib\&quot;;..\libs\fmodx;..\libs\zlib;&quot;..\lugre\lib\lua-5.0.3\lib\stat=
ic&quot;;&quot;c:\Programme\Microsoft Platform SDK\Lib&quot;"
 				GenerateManifest=3D"true"
 				IgnoreAllDefaultLibraries=3D"true"
 				IgnoreDefaultLibraryNames=3D""



From no-reply at zwischenwelt.org  Sat Nov 24 17:06:04 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 24 Nov 2007 16:06:04 -0000
Subject: [Iris-commit] [IRIS] r1532 - in /trunk/vs8: premake.lua vs2005.bat
Message-ID: <20071124160604.E00F61C18272@zwischenwelt.org>

Author: sience
Date: Sat Nov 24 17:06:04 2007
New Revision: 1532

Log:
-remake configs (works, but do not use it, because of some important missin=
g options)

Added:
    trunk/vs8/premake.lua
    trunk/vs8/vs2005.bat



From no-reply at zwischenwelt.org  Sat Nov 24 17:06:58 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 24 Nov 2007 16:06:58 -0000
Subject: [Iris-commit] [IRIS] r1533 - /trunk/premake.lua
Message-ID: <20071124160658.400911C18272@zwischenwelt.org>

Author: hagish
Date: Sat Nov 24 17:06:57 2007
New Revision: 1533

Log:
linux premake

Added:
    trunk/premake.lua



From no-reply at zwischenwelt.org  Sat Nov 24 17:18:30 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 24 Nov 2007 16:18:30 -0000
Subject: [Iris-commit] [IRIS] r1534 - in /trunk/data/lua:
 gui/gui.journal.lua lib.journal.lua lib.keybinds.lua lib.mainmenu.lua
 net.other.lua obj/obj.player.lua
Message-ID: <20071124161830.663D41C18270@zwischenwelt.org>

Author: ghoulsblade
Date: Sat Nov 24 17:18:29 2007
New Revision: 1534

Log:
journal working (press j to toggle), escape key to quit now works in mainme=
nu

Modified:
    trunk/data/lua/gui/gui.journal.lua
    trunk/data/lua/lib.journal.lua
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.mainmenu.lua
    trunk/data/lua/net.other.lua
    trunk/data/lua/obj/obj.player.lua

Modified: trunk/data/lua/gui/gui.journal.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.journal.lua (original)
+++ trunk/data/lua/gui/gui.journal.lua Sat Nov 24 17:18:29 2007
@@ -1,2 +1,3 @@
-function ToggleJournal()
+function ToggleJournal() =

+	ToggleJournal_Old() =

 end

Modified: trunk/data/lua/lib.journal.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.journal.lua (original)
+++ trunk/data/lua/lib.journal.lua Sat Nov 24 17:18:29 2007
@@ -1,4 +1,5 @@
 =

+--[[
 function RegisterJournalEntryType (name) _G["kEntryType_"..name] =3D name =
end
 =

 -- TODO : maybe  gEntryTypeHandler.Chat =3D function (type,arr) return {r,=
g,b},sprintf("",arr[1],arr[2]) end
@@ -15,52 +16,114 @@
 RegisterJournalEntryType("Death")
 RegisterJournalEntryType("WarMode")
 =

-gJournalEntries =3D {}
-gJournalDialog =3D nil
-gJournalPage =3D 0
-gJournalResizeStartX,gJournalResizeStartY =3D nil,nil
-
 function JournalAddEntry (entrytype,...)
 	-- TODO : vararg params
 end
+]]--
 =

-gJournalDialog_LastPositionX =3D nil
-gJournalDialog_LastPositionY =3D nil
-function ToggleJournal ()
+--[[
+function ToggleJournal_Old2 () -- produces a small journal scroll icon
+	local pref =3D gJournalDialog_Pref
 	if (gJournalDialog) then
 		-- store current positoin
-		gJournalDialog_LastPositionX, gJournalDialog_LastPositionY =3D gJournalD=
ialog.rootwidget.gfx:GetPos()
+		pref.x, pref.y =3D gJournalDialog.rootwidget.gfx:GetPos()
 		-- and close
 		gJournalDialog:Close()
 	else
-		CreateJournal()
+		CreateJournal_Old2()
 	end
 	=

 	gJournalDialog:SetVisible( true )
 end
 =

+function CreateJournal_Old2()
+	gJournalDialog =3D guimaker.MakeSortedDialog()
+	=

+	gJournalDialog.Close =3D function()
+        	gJournalDialog:SetVisible(false)
+	end
+	=

+	gJournalDialog.rootwidget.gfx:SetPos( 100, 100 )
+	=

+	local root =3D gJournalDialog.rootwidget
+	MakeBorderGumpPart( root, 2096, 0, 0 )
+end
+]]--
+
+gJournalEntries =3D {}
+gJournalDialog =3D nil
+gJournalDialog_Pref =3D {}
+gJournalResizeStartX,gJournalResizeStartY =3D nil,nil
+
+function JournalAddText (name,message)
+	local prefix =3D (name ~=3D "") and (name..":") or ""
+	local wraplen =3D 40
+	local mytext =3D ""
+	while (true) do
+		local len =3D string.len(message)
+		if (len <=3D wraplen) then mytext =3D mytext..prefix..message.."\n" brea=
k end
+		mytext =3D mytext..prefix..string.sub(message,1,wraplen).."\n"
+		message =3D string.sub(message,wraplen+1)
+	end
+	table.insert(gJournalEntries,mytext)
+	JournalUpdateText()
+end
+
+function JournalUpdateText ()
+	if (not gJournalDialog) then return end
+	=

+	local left,top,w,h =3D gJournalDialog:GetLTWH()
+	local bx1,by1,bx2,by2 =3D JournalGetTextBorder()
+	local iw,ih =3D w-bx1-bx2	, h-by1-by2
+	local maxlines =3D math.max(0,math.floor(ih/gFontGumpSize)-1)
+	local text =3D ""
+	local iNumLines =3D table.getn(gJournalEntries)
+	for i=3Dmath.max(1,iNumLines-maxlines),iNumLines do text =3D text..gJourn=
alEntries[i] end
+	=

+	local widget =3D gJournalDialog.maintext
+	local parent =3D gJournalDialog.rootwidget
+	widget.gfx:SetText(text)
+	widget:UpdateClip()
+end
+
+function JournalGetTextBorder () return 40,80,40,80 end
 function ToggleJournal_Old ()
+	local pref =3D gJournalDialog_Pref
+	--~ if (true) then ToggleJournal_Old2() return end
 	if (gJournalDialog) then
 		-- store current positoin
-		gJournalDialog_LastPositionX, gJournalDialog_LastPositionY =3D gJournalD=
ialog.rootwidget.gfx:GetPos()
+		pref.x,pref.y =3D gJournalDialog.rootwidget.gfx:GetPos()
 		-- and close
 		gJournalDialog:Close()
 	else
 		gJournalDialog =3D CreateGumpDlgFromGfm(datapath.."gfm/journal.gfm")
 		=

+		-- create text
+		local parent =3D gJournalDialog.rootwidget
+		local col =3D {0,0,0,1}
+		local bx1,by1,bx2,by2 =3D JournalGetTextBorder()
+		gJournalDialog.maintext =3D guimaker.MakeText(parent,bx1,by1,"",gFontGum=
pSize,col,gFontNameDefault)
+		table.insert(gJournalDialog.clippedWidgets,gJournalDialog.maintext)
+		gJournalDialog.maintext.UpdateClip =3D function (widget) =

+			local left,top,w,h =3D gJournalDialog:GetLTWH()
+			local bx1,by1,bx2,by2 =3D JournalGetTextBorder()
+			local iw,ih =3D w-bx1-bx2	, h-by1-by2
+			widget.gfx:SetClip(widget.gfx:GetDerivedLeft(),widget.gfx:GetDerivedTop=
(),iw,ih) =

+		end
+		-- see also MakeClippedText,SetAutoWrap
+		=

 		-- restore last positoin if available
-		if gJournalDialog_LastPositionX and gJournalDialog_LastPositionY then gJ=
ournalDialog.rootwidget.gfx:SetPos(gJournalDialog_LastPositionX, gJournalDi=
alog_LastPositionY) end
+		if pref.x and pref.y then gJournalDialog.rootwidget.gfx:SetPos(pref.x, p=
ref.y) end
 =

 		-- TODO : init journal dialog
 		local dialog =3D gJournalDialog
-		dialog.Close =3D function (dialog)
-			gJournalDialog:Destroy()
-			gJournalDialog =3D nil
-		end
+		dialog.Close =3D function (dialog) gJournalDialog:Destroy() gJournalDial=
og =3D nil end
 		dialog.onMouseDown =3D function (widget,mousebutton)
 			if (mousebutton =3D=3D 2) then widget.dialog:Close() end
 			if (mousebutton =3D=3D 1) then widget.dialog:BringToFront() gui.StartMo=
veDialog(widget.dialog.rootwidget) end
 		end
+		--~ dialog.on_mouse_right_down =3D function (dialog) dialog:Close() end
+		--~ dialog.on_mouse_left_down  =3D function (dialog) dialog:BringToFront=
() gui.StartMoveDialog(dialog.rootwidget) end
 		=

 		-- xml attributes to resize params
 		for k,widget in pairs(dialog.childs) do
@@ -71,10 +134,10 @@
 		=

 		-- minimize btn
 		local widget =3D dialog.controls["journal_minimize"]
-		widget.onMouseDown 		=3D function (widget,mousebutton) if (mousebutton =
=3D=3D 1) then =

+		widget.on_mouse_left_down 		=3D function (widget)
 			widget.gfx:SetMaterial(widget.mat_pressed)
 			gJournalDialog:ResizeMinimize()
-		end end
+		end
 		=

 		-- resize limits
 		dialog.resize_min_total_x,dialog.resize_min_total_y =3D -100,-66
@@ -82,7 +145,8 @@
 		=

 		-- resize btn
 		local widget =3D dialog.controls["journal_resize"]
-		widget.onMouseDown 		=3D function (widget,mousebutton) if (mousebutton =
=3D=3D 1) then =

+		widget.onMouseDown              =3D function (widget,mousebutton) if (mo=
usebutton =3D=3D 1) then
+		--~ widget.on_mouse_left_down 		=3D function (widget) =

 			widget.gfx:SetMaterial(widget.mat_pressed)
 			gJournalResizeStartX,gJournalResizeStartY =3D GetMousePos()
 			if (true) then
@@ -95,6 +159,8 @@
 					--local dx =3D 0
 					gJournalDialog:ResizeDelta(dx,(y-gJournalResizeStartY))
 					gJournalResizeStartX,gJournalResizeStartY =3D x,y
+					JournalUpdateText()
+					=

 					if (gKeyPressed[key_mouse1]) then
 						return false -- continue stepping
 					else
@@ -103,28 +169,22 @@
 					end
 				end)
 			end
-		end end
+		end end =

+		=

 		-- widget.onMouseUp 		=3D function (widget,mousebutton) if (mousebutton =
=3D=3D 1) then widget.gfx:SetMaterial(widget.mat_normal) end end
 	=

-		-- show first page
-		ShowJournalPage(0)
+		-- todo : show text ? =

+		JournalUpdateText()
 	end
 end
 =

-function ShowJournalPage (pagenum)
-	gJournalPage =3D pagenum
-	-- TODO : init journal page
+--[[
+for i =3D 0,15 do =

+	JournalAddText("foobar","journal-test "..i.." a asdasd asd asdasda asdas =
as asd sads")
 end
 =

-function CreateJournal()
-	gJournalDialog =3D guimaker.MakeSortedDialog()
-	=

-	gJournalDialog.Close =3D function()
-        	gJournalDialog:SetVisible(false)
-	end
-	=

-	gJournalDialog.rootwidget.gfx:SetPos( 100, 100 )
-	=

-	local root =3D gJournalDialog.rootwidget
-	MakeBorderGumpPart( root, 2096, 0, 0 )
-end
+BindDown("f",	function (state) =

+	gJournalTestC =3D (gJournalTestC or 0) + 1
+	if (not gActiveEditText) then JournalAddText("foobar","jasdas "..gJournal=
TestC.." asdfhdgh ddhgh g fghfg hfghfgh fghfg ghfgh") end =

+end)
+]]--

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Sat Nov 24 17:18:29 2007
@@ -1,7 +1,22 @@
+
+
+function BindGeneralKeys ()
+	Bind("escape",	function (state) =

+			if (state > 0) then =

+			if (not gActiveEditText) then =

+				if gTargetModeActive then CancelTargetMode() else Terminate() end =

+			else
+				DeactivateCurEditText()
+			end =

+			end =

+		end)
+end
+BindGeneralKeys()
 =

 function BindInGameKeys()
 	UnbindAll()
 	gLastCursor =3D 0
+	BindGeneralKeys()
 	=

 	-- soemthing
 	Bind("return",	function (state) if (state > 0) then ChatLine_ToggleActive=
() end end)
@@ -10,15 +25,6 @@
 	Bind("point",	function (state) if (not gActiveEditText) then if (state > =
0) then ZoomCompass(1.0/gCompassZoomFactor) end end end)
 --	Bind("z",		function (state) if (not gActiveEditText) then if (state > 0=
) then ActivateNextRenderer() end end end)
 	Bind("l",		function (state) if (not gActiveEditText) then gDialog_IrisLog=
o:SetVisible(state > 0) end end)
-	Bind("escape",	function (state) =

-		if (state > 0) then =

-		if (not gActiveEditText) then =

-			if gTargetModeActive then CancelTargetMode() else Terminate() end =

-		else
-			DeactivateCurEditText()
-		end =

-		end =

-	end)
 	Bind("v",		function (state) if (not gActiveEditText) then if (state > 0) =
then Client_TakeScreenshot(gMainWorkingDir.."screenshots/") end end end)
 =

 	-- additional movement key handling in lib.tilefreewalk (for pressed keys)

Modified: trunk/data/lua/lib.mainmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.mainmenu.lua (original)
+++ trunk/data/lua/lib.mainmenu.lua Sat Nov 24 17:18:29 2007
@@ -258,6 +258,7 @@
 end
 =

 function StartMainMenu ()
+	if (gCommandLineSwitches["-jt"]) then ToggleJournal_Old() return end -- j=
ournaltest
 	if (gCommandLineSwitches["-so"]) then StartOfflineMode() return end -- st=
art in offline mode
 =

 	-- start menu sound

Modified: trunk/data/lua/net.other.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.other.lua (original)
+++ trunk/data/lua/net.other.lua Sat Nov 24 17:18:29 2007
@@ -414,7 +414,7 @@
 	local mobilespeaker=3DGetMobile(mobile_serial)
 	if (mobilespeaker) then mobilespeaker:DisplayTextOverHead(string.gsub(tex=
t_message,"<br>","\n"),Uo16Color2Rgb(text_color)) end
 	-- TODO : text_item ?!?
-	-- TODO : JournalAddEntry(somefunc(text_type),text_charname,text_message)
+	JournalAddText(text_charname,plaintext)
 end
 =

 -- Predefined Message (localized Message) 0xC1
@@ -495,7 +495,7 @@
 	Mobile_NameHint(mobile_serial,unitext_item_model,unitext_name,unitext_mes=
sage)
 	printdebug("net",sprintf("NET: UnicodeText speakerid: %i name: %s txtsize=
: %i msg: %s\n",mobile_serial,unitext_name,(unitext_size-48)/2,unitext_mess=
age) )
 	AddFadeLines(unitext_name..": "..string.gsub(unitext_message,"<br>","\n")=
) -- TODO : unicode
-	-- TODO : JournalAddEntry(somefunc(text_type),text_charname,text_message)
+	JournalAddText(unitext_name,unitext_message)
 =

 	-- check if player -> then show text over player head
 	local mobilespeaker=3DGetMobile(mobile_serial)

Modified: trunk/data/lua/obj/obj.player.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.player.lua (original)
+++ trunk/data/lua/obj/obj.player.lua Sat Nov 24 17:18:29 2007
@@ -73,11 +73,13 @@
 	if (flag =3D=3D gWarmode_Normal) then
 		gActWarmode=3DgWarmode_Normal
 		AddFadeLines("Be the peace with you!")
+		JournalAddText("","Be the peace with you!")
 		--printf("NET: kPacket_SetPlayerWarmode id: 0x%02x gWarmode: normal\n",i=
d)
 	end
 	if (flag =3D=3D gWarmode_Combat) then
 		gActWarmode=3DgWarmode_Combat
 		AddFadeLines("You go into War!")
+		JournalAddText("","You go into War!")
 		--printf("NET: kPacket_SetPlayerWarmode id: 0x%02x gWarmode: combat\n",i=
d)
 	end
 	gui.SetWarmode(gActWarmode)



From no-reply at zwischenwelt.org  Sat Nov 24 18:38:56 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sat, 24 Nov 2007 17:38:56 -0000
Subject: [Iris-commit] [IRIS] r1535 - in /trunk/data/lua: lib.3d.dynamic.lua
 lib.3d.renderer.lua lib.loading.lua main.lua net.other.lua
 net/net.dynamic.lua net/net.multi.lua
Message-ID: <20071124180010.63D201C18274@zwischenwelt.org>

Author: sience
Date: Sat Nov 24 18:38:55 2007
New Revision: 1535

Log:
-several cleanups
-display map packet added

Modified:
    trunk/data/lua/lib.3d.dynamic.lua
    trunk/data/lua/lib.3d.renderer.lua
    trunk/data/lua/lib.loading.lua
    trunk/data/lua/main.lua
    trunk/data/lua/net.other.lua
    trunk/data/lua/net/net.dynamic.lua
    trunk/data/lua/net/net.multi.lua

Modified: trunk/data/lua/lib.3d.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.dynamic.lua (original)
+++ trunk/data/lua/lib.3d.dynamic.lua Sat Nov 24 18:38:55 2007
@@ -12,6 +12,7 @@
 	end
 end
 =

+-- helperfunction for CreateDynamicGfx. Please use always for function call
 function Renderer3D:AddDynamicItem( item )
 	self:CreateDynamicGfx(item)
 end
@@ -151,9 +152,8 @@
 		-- creates a light if lights are enabled and static is a lightsource
 		-- note! lights don't cast shadows
 		if (gLightsources) then
-			local arrtiletype =3D {}
-			arrtiletype =3D GetStaticTileType(item.artid)
-			if( TestBit(arrtiletype.miFlags or 0,kTileDataFlag_LightSource) ) then
+			local arrtiletype =3D GetStaticTileType(item.artid)
+			if( arrtiletype and TestBit(arrtiletype.miFlags or 0,kTileDataFlag_Ligh=
tSource) ) then
 				local x,y,z =3D Renderer3D:UOPosToLocal(item.xloc,item.yloc,(item.zloc=
+arrtiletype.miHeight) * 0.1)
 				item.lightname=3DClient_AddPointLight(x,y,z, 0.3,0.3,0.0, 0.3,0.3,0.0,=
 5.0,0.1,0.1,0.0)
 			end

Modified: trunk/data/lua/lib.3d.renderer.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.renderer.lua (original)
+++ trunk/data/lua/lib.3d.renderer.lua Sat Nov 24 18:38:55 2007
@@ -108,7 +108,7 @@
 	self:SetMapEnvironment()
 	=

 	self.gbCamRotChanged =3D true
-	for k,dynamic in pairs(GetDynamicList()) do if (DynamicIsInWorld(dynamic)=
) then self:CreateDynamicGfx(dynamic) end end
+	for k,dynamic in pairs(GetDynamicList()) do if (DynamicIsInWorld(dynamic)=
) then self:AddDynamicItem(dynamic) end end
 	for k,mobile in pairs(GetMobileList()) do self:CreateMobileGfx(mobile) end
 end
 =


Modified: trunk/data/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.loading.lua (original)
+++ trunk/data/lua/lib.loading.lua Sat Nov 24 18:38:55 2007
@@ -218,7 +218,7 @@
 	gMapIndex =3D index
 =

 	gCurrentRenderer:ClearMapCache()
-	print("gMapIndex",index)
+	print("gMapIndex",gMapIndex)
 =

 	if (not gInitialMapLoaded) then LoadingProfile("load MapInfo") end
 	local name				=3D gMaps[index].name

Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Sat Nov 24 18:38:55 2007
@@ -259,8 +259,6 @@
 -- called every frame, after all timer-steppers, see Step() in lib.time.lua
 function MainStep ()
 	LugreStep()
-	--TestGuiSystem2_Step()
-
 	NetStep()
 =

 	if (gInGameStarted) then

Modified: trunk/data/lua/net.other.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.other.lua (original)
+++ trunk/data/lua/net.other.lua Sat Nov 24 18:38:55 2007
@@ -384,6 +384,38 @@
 	gCurrentRenderer:ShowQuestArrow( Questarrow_Active, Questarrow_xloc, Ques=
tarrow_yloc )
 end
 =

+--[[
+Packet Name: Map Packet (cartography/treasure)
+Packet Build:
+BYTE[1] cmd =

+BYTE[4] id =

+BYTE[1] command =

+? 1 =3D add map point. =

+? 2 =3D add new pin with pin number.(insertion. other pins after the numbe=
r are pushed back.) =

+? 3 =3D change pin =

+? 4 =3D remove pin =

+? 5 =3D remove all pins on the map =

+? 6 =3D toggle the 'editable' state of the map. =

+? 7 =3D return msg from the server to the request 6 of the client. =

+BYTE[1] plotting state (1=3Don, 0=3Doff, valid only if command 7) =

+BYTE[2] x location (relative to upper left corner of the map, in pixels, f=
or points) =

+BYTE[2] y location (relative to upper left corner of the map, in pixels, f=
or points)
+]]--
+-- open Map Packet (cartography/treasure)
+-- i think the map is hardcoded into the client (gump id)
+-- char can have different maps, thats why there is a serial
+function gPacketHandler.kPacket_Map_Command ()
+	local input =3D GetRecvFIFO()
+	local id =3D input:PopNetUint8()
+	local map_serial =3D input:PopNetUint32()
+	local map_cmd =3D input:PopNetUint8()
+	local map_plot_state =3D input:PopNetUint8()
+	local map_plot_x =3D input:PopNetUint16()
+	local map_plot_y =3D input:PopNetUint16()
+	printdebug("net",sprintf("NET: Map_Command map_serial: 0x%08x map_cmd: %d=
 map_plot_state: %d map_plot_x: %d map_plot_y: %d\n",
+								map_serial, map_cmd, map_plot_state, map_plot_x, map_plot_y) )
+end
+
 -- Text (Speech) receive 0x1C
 -- Pol use thi spacket to send names when you single click on items or NPC=
s. OSI's method uses 0xC1
 -- TODO : handle System messages

Modified: trunk/data/lua/net/net.dynamic.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.dynamic.lua (original)
+++ trunk/data/lua/net/net.dynamic.lua Sat Nov 24 18:38:55 2007
@@ -45,7 +45,8 @@
 		dynamicdata.amount =3D 1
 	end
 	=

-	--print("artid_base,artidhex,bitwiseand",dynamicdata.artid_base,sprintf("=
0x%04x",dynamicdata.artid_base),BitwiseAND(dynamicdata.artid_base,hex2num("=
0x8000")))
+	printdebug("login",sprintf("NET: Show_Item: artid_base=3D%d artidhex=3D0x=
%04x bitwiseand=3D%d\n",
+				dynamicdata.artid_base,dynamicdata.artid_base,BitwiseAND(dynamicdata.a=
rtid_base,hex2num("0x8000")) )) =

 	=

 	-- dynamicdata.artid_addstack : The number to add to the item's artwork w=
hen Amount > 1.
 	if (TestBit(dynamicdata.artid_base,hex2num("0x8000"))) then =


Modified: trunk/data/lua/net/net.multi.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.multi.lua (original)
+++ trunk/data/lua/net/net.multi.lua Sat Nov 24 18:38:55 2007
@@ -274,11 +274,11 @@
 				dyn.customhouserevision=3Dcustomhouserevision
 				--create a new house
 =

-				-- just a Temp. Fix until 2D Renderer supports CreateDynamicGfx Server=
side Multis
+				-- just a Temp. Fix until 2D Renderer supports AddDynamicItem Serversi=
de Multis
 				if (gCurrentRenderer=3D=3DRenderer3D) then
 					gCurrentRenderer:RemoveDynamicItem( dyn )
 					dyn.lTile=3DlTile
-					gCurrentRenderer:CreateDynamicGfx( dyn )
+					gCurrentRenderer:AddDynamicItem( dyn )
 				end
 			end
 			-- else already in serversidemulti cache and load form here.
@@ -288,11 +288,11 @@
 			dyn.customhouserevision=3Dcustomhouserevision
 			-- create a new house
 =

-			-- just a Temp. Fix until 2D Renderer supports CreateDynamicGfx Servers=
ide Multis
+			-- just a Temp. Fix until 2D Renderer supports AddDynamicItem Serversid=
e Multis
 			if (gCurrentRenderer=3D=3DRenderer3D) then
 				gCurrentRenderer:RemoveDynamicItem( dyn )
 				dyn.lTile=3DlTile
-				gCurrentRenderer:CreateDynamicGfx( dyn )
+				gCurrentRenderer:AddDynamicItem( dyn )
 			end
 		end
 	end



From no-reply at zwischenwelt.org  Sun Nov 25 01:39:34 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sun, 25 Nov 2007 00:39:34 -0000
Subject: [Iris-commit] [IRIS] r1536 - /trunk/data/lua/net.cursor.lua
Message-ID: <20071125003934.70D0C1C18270@zwischenwelt.org>

Author: sience
Date: Sun Nov 25 01:39:32 2007
New Revision: 1536

Log:
-small fix., items in you rbackpack can now be target

Modified:
    trunk/data/lua/net.cursor.lua

Modified: trunk/data/lua/net.cursor.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.cursor.lua (original)
+++ trunk/data/lua/net.cursor.lua Sun Nov 25 01:39:32 2007
@@ -184,11 +184,11 @@
 	if (not gMousePickFoundHit) then CancelTargetMode() return end
 	=

 	local bSendPos =3D true
-	=

-	if (gTargetModeType =3D=3D kTargetModeType_Object) then
+
+--	if (gTargetModeType =3D=3D kTargetModeType_Object) then
 		if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_ContainerItem)  =
then bSendPos =3D false Send_Target_Item(gMousePickFoundHit.item) end =

 		if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_PaperdollItem)  =
then bSendPos =3D false Send_Target_Item(gMousePickFoundHit.item) end
-	end
+--	end
 	--targetcursormodetype must be ignored!
 	if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_Dynamic) 		then b=
SendPos =3D false Send_Target_Dynamic(gMousePickFoundHit.dynamic) end
 	--targetcursormodetype must be ignored!



From no-reply at zwischenwelt.org  Sun Nov 25 03:22:12 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sun, 25 Nov 2007 02:22:12 -0000
Subject: [Iris-commit] [IRIS] r1537 - in /trunk: README
 data/lua/lib.keybinds.lua data/lua/lib.macrolist.lua
 data/lua/lib.mainmenu.lua data/lua/main.lua
Message-ID: <20071125022213.264E01C18272@zwischenwelt.org>

Author: ghoulsblade
Date: Sun Nov 25 03:22:12 2007
New Revision: 1537

Log:
started macrolist code

Added:
    trunk/data/lua/lib.macrolist.lua
Modified:
    trunk/README
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.mainmenu.lua
    trunk/data/lua/main.lua

Modified: trunk/README
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/README (original)
+++ trunk/README Sun Nov 25 03:22:12 2007
@@ -79,11 +79,13 @@
 -hold left mouse button to look around
 -use w,a,s,d,r,f to move cam
 =

-=3D=3D command line switches =3D=3D
+=3D=3D command line switches (mainly for debug) =3D=3D
 -c 								: shows console window under win32
 -g path/to/grannyfile.grn		: prints granny dump
 -gb path/to/grannyfile.grn		: prints granny bone info
 -so 							: start in offline mode
+-jt 							: journal-test (in mainmenu)
+-mt 							: macrolist-test (in mainmenu)
 =

 =3D=3D=3D debug mode =3D=3D=3D
 a : show first model and anim =


Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Sun Nov 25 03:22:12 2007
@@ -37,6 +37,7 @@
 	-- toggel gumps
 	Bind("t",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleStatusAos() end end end)
 	Bind("k",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleSkill() end end end)
+	Bind("m",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleMacroList() end end end)
 	Bind("j",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleJournal() end end end)
 	Bind("b",		function (state) if (not gActiveEditText) then if (state > 0) =
then TogglePlayerBackpack() end end end)
 	Bind("p",		function (state) if (not gActiveEditText) then if (state > 0) =
then TogglePlayerPaperdoll() end end end)
@@ -56,10 +57,10 @@
 	Bind("q",		function (state) if (not gActiveEditText) then if (state > 0) =
then SelectNearestMobile() end end end)
 	Bind("e",		function (state) if (not gActiveEditText) then if (state > 0) =
then SelectNextMobile() end end end)
 	Bind("tab",		function (state) if (state > 0) then if (gActWarmode=3D=3DgW=
armode_Normal) then Send_CombatMode(gWarmode_Combat) else Send_CombatMode(g=
Warmode_Normal) end end end)
-	Bind("m",		function (state) if (not gActiveEditText) then if (state > 0) =
then
-		local player=3DGetMobile(gPlayerBodySerial)
-		if player then player:DisplayTextOverHead("bla bla bla",10,10,10) end
-	end end end)
+	--~ Bind("m",		function (state) if (not gActiveEditText) then if (state >=
 0) then
+		--~ local player=3DGetMobile(gPlayerBodySerial)
+		--~ if player then player:DisplayTextOverHead("bla bla bla",10,10,10) end
+	--~ end end end)
 	Bind("space",	function (state) if (not gActiveEditText) then if (state > =
0) then AttackSelectedMobile() end end end)
 	=

 	-------------------------------------------------------------------------=
----------

Modified: trunk/data/lua/lib.mainmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.mainmenu.lua (original)
+++ trunk/data/lua/lib.mainmenu.lua Sun Nov 25 03:22:12 2007
@@ -259,6 +259,7 @@
 =

 function StartMainMenu ()
 	if (gCommandLineSwitches["-jt"]) then ToggleJournal_Old() return end -- j=
ournaltest
+	if (gCommandLineSwitches["-mt"]) then ToggleMacroList() return end -- mac=
rolist-test
 	if (gCommandLineSwitches["-so"]) then StartOfflineMode() return end -- st=
art in offline mode
 =

 	-- start menu sound

Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Sun Nov 25 03:22:12 2007
@@ -6,6 +6,7 @@
 datapath =3D gMainWorkingDir.."data/"
 libpath =3D datapath.."lua/"
 lugreluapath =3D gMainWorkingDir..(file_exists(gMainWorkingDir.."mylugre")=
 and "mylugre/lua/" or "lugre/lua/")
+gMacroListPath 		=3D datapath.."mymacrolist.lua"
 gConfigPath 		=3D datapath.."config.lua"
 gConfigPathFallback	=3D datapath.."config.lua.dist"
 gSecondsSinceLastFrame =3D 0
@@ -64,6 +65,7 @@
 dofile(libpath .. "lib.data.lua")
 dofile(libpath .. "lib.cliloc.lua")
 dofile(libpath .. "lib.journal.lua")
+dofile(libpath .. "lib.macrolist.lua")
 dofile(libpath .. "lib.walking2.lua")
 dofile(libpath .. "lib.skill.lua")
 dofile(libpath .. "lib.spellbooks.lua")



From no-reply at zwischenwelt.org  Sun Nov 25 13:26:27 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Sun, 25 Nov 2007 12:26:27 -0000
Subject: [Iris-commit] [IRIS] r1538 - in /trunk/data/lua: lib.journal.lua
	lib.skill.lua
Message-ID: <20071125122628.09FA21C18248@zwischenwelt.org>

Author: sience
Date: Sun Nov 25 13:26:27 2007
New Revision: 1538

Log:
-some comments for functionality added

Modified:
    trunk/data/lua/lib.journal.lua
    trunk/data/lua/lib.skill.lua

Modified: trunk/data/lua/lib.journal.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.journal.lua (original)
+++ trunk/data/lua/lib.journal.lua Sun Nov 25 13:26:27 2007
@@ -136,12 +136,13 @@
 		local widget =3D dialog.controls["journal_minimize"]
 		widget.on_mouse_left_down 		=3D function (widget)
 			widget.gfx:SetMaterial(widget.mat_pressed)
+			-- TODO: toggle to gump-id 0x830 on the upper right corner (moveable) .=
.. on doubleclick open journal again
 			gJournalDialog:ResizeMinimize()
 		end
 		=

 		-- resize limits
-		dialog.resize_min_total_x,dialog.resize_min_total_y =3D -100,-66
-		dialog.resize_max_total_x,dialog.resize_max_total_y =3D 334,212
+		dialog.resize_min_total_x,dialog.resize_min_total_y =3D -20,-66	-- -100,=
-66
+		dialog.resize_max_total_x,dialog.resize_max_total_y =3D 60,175	-- 334,212
 		=

 		-- resize btn
 		local widget =3D dialog.controls["journal_resize"]

Modified: trunk/data/lua/lib.skill.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.skill.lua (original)
+++ trunk/data/lua/lib.skill.lua Sun Nov 25 13:26:27 2007
@@ -74,6 +74,7 @@
 		local widget =3D dialog.controls["skill_close"]
 		widget.onMouseDown 		=3D function (widget,mousebutton) if (mousebutton =
=3D=3D 1) then =

 			widget.gfx:SetMaterial(widget.mat_pressed)
+			-- TODO: toggle to gump-id 0x839 on upper right corner (moveable) ... o=
n doubleclick open skills again
 			gSkillDialog:Close()
 		end end
 		=




From no-reply at zwischenwelt.org  Mon Nov 26 04:19:51 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 03:19:51 -0000
Subject: [Iris-commit] [IRIS] r1539 - in /trunk: README
 data/lua/lib.macrolist.lua data/lua/main.lua data/mymacros.lua.dist
Message-ID: <20071126031951.62B271C18228@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 04:19:50 2007
New Revision: 1539

Log:
added macrosystem

Added:
    trunk/data/mymacros.lua.dist
Modified:
    trunk/README
    trunk/data/lua/lib.macrolist.lua
    trunk/data/lua/main.lua

Modified: trunk/README
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/README (original)
+++ trunk/README Mon Nov 26 04:19:50 2007
@@ -78,6 +78,8 @@
 freefly cam mode :
 -hold left mouse button to look around
 -use w,a,s,d,r,f to move cam
+
+to set macros, edit data/mymacros.lua
 =

 =3D=3D command line switches (mainly for debug) =3D=3D
 -c 								: shows console window under win32

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Mon Nov 26 04:19:50 2007
@@ -1,5 +1,104 @@
 -- handles macro list
 =

+--[[ old uo pre-set default :  (not yet implemented in iris)
+--~ SetMacro("alt+b",function() MacroCmd_Open("Spellbook") end)	-- Open Sp=
ellbook -- not yet implemented
+--~ SetMacro("alt+r",function() MacroCmd_Open("") end)	-- Open Overhead Vi=
ew -- not yet implemented
+--~ SetMacro("alt+o",function() MacroCmd_Open("") end)	-- Open Options win=
dow -- not yet implemented
+]]--
+
+gMacroList =3D {}
+
+gMacroOpenCommands =3D {}
+gMacroOpenCommands.Status			=3D function()	ToggleStatusAos()			end
+gMacroOpenCommands.Skill			=3D function()	ToggleSkill() 				end
+gMacroOpenCommands.Journal			=3D function()	ToggleJournal() 			end
+gMacroOpenCommands.Backpack			=3D function()	TogglePlayerBackpack()		end
+gMacroOpenCommands.Paperdoll		=3D function()	TogglePlayerPaperdoll()		end
+gMacroOpenCommands.Compass			=3D function()	ToggleCompass()				end
+
+gMacroReadMobileStats =3D {}
+gMacroReadMobileStats.curHits		=3D true
+gMacroReadMobileStats.maxHits		=3D true
+gMacroReadMobileStats.curMana		=3D true
+gMacroReadMobileStats.maxMana		=3D true
+gMacroReadMobileStats.curStamina	=3D true
+gMacroReadMobileStats.maxStamina	=3D true
+
+-- GetPlayerMobile
+function MacroRead_PlayerStat			(statname) return MacroReadAux_MobileStat(=
GetPlayerMobile(),statname,"MacroRead_PlayerStat") end
+function MacroRead_TargetStat			(statname) return MacroReadAux_MobileStat(=
GetMobile(giSelectedMobile),statname,"MacroRead_TargetStat") end
+
+function MacroCmd_Say					(text)	if (gInGameStarted) then Send_UnicodeSpee=
ch(text) end end
+function MacroCmd_Quit					()		Terminate() end
+function MacroCmd_RepeatLastChat		()		if (gInGameStarted) then ChatLine_Re=
peatLast() end end
+function MacroCmd_RepeatLastDoubleClick	()		if (gInGameStarted) then Repea=
tLastDoubleClick() end end
+function MacroCmd_SelectNearestMobile	()		if (gInGameStarted) then SelectN=
earestMobile() end end
+function MacroCmd_SelectNextMobile		()		if (gInGameStarted) then SelectNex=
tMobile() end end
+function MacroCmd_AttackSelectedMobile	()		if (gInGameStarted) then Attack=
SelectedMobile() end end
+function MacroCmd_ToggleWarmode			()		if (gInGameStarted) then Send_Combat=
Mode((gActWarmode=3D=3DgWarmode_Normal) and gWarmode_Combat or gWarmode_Nor=
mal) end end
+function MacroCmd_Open					(dialogtype)
+	if (not gInGameStarted) then return end
+	local f =3D gMacroOpenCommands[dialogtype] =

+	if (f) then =

+		f() =

+	else =

+		local infotext =3D "MacroCmd_Open : unknown dialogtype "..tostring(dialo=
gtype).." available types:\n"
+		for k,v in pairs(gMacroOpenCommands) do infotext =3D infotext..k.."\n" e=
nd
+		print(infotext)
+		PlainMessageBox(infotext)
+	end
+end
+
+
+function MacroReadAux_MobileStat			(mobile,statname,errormsg_funname)
+	if (not gInGameStarted) then return 0 end
+	if (not gMacroReadMobileStats[statname]) then
+		local infotext =3D "MacroRead_PlayerStat : unknown statname "..tostring(=
statname).." available statnames:\n"
+		for k,v in pairs(gMacroReadMobileStats) do infotext =3D infotext..k.."\n=
" end
+		print(infotext)
+		PlainMessageBox(infotext)
+		return
+	end
+	local mobile =3D GetPlayerMobile()
+	return mobile and mobile.stats and mobile.stats[statname] or 0
+end
+
+
+
+
+function GetMacroKeyComboName (keycode,bCtrl,bAlt,bShift) =

+	local text =3D GetKeyName(keycode)
+	if (bCtrl	) then text =3D "ctrl+"..text end
+	if (bAlt	) then text =3D "alt+"..text end
+	if (bShift	) then text =3D "shift+"..text end
+	return text
+end
+
+function SetMacro (keycomboname,fun) gMacroList[string.gsub(string.lower(k=
eycomboname)," ","")] =3D fun end
+
+function TriggerMacros (keycode) =

+	local bCtrl		=3D gKeyPressed[key_lcontrol]	or gKeyPressed[key_rcontrol]
+	local bAlt		=3D gKeyPressed[key_lalt]		or gKeyPressed[key_ralt]	=

+	local bShift	=3D gKeyPressed[key_lshift]	or gKeyPressed[key_rshift]
+	local name =3D GetMacroKeyComboName(keycode,bCtrl,bAlt,bShift)
+	local macrofun =3D gMacroList[name]
+	if (gMacroPrintAllKeyCombos) then print('to use this macro keycombo : Set=
Macro("'..name..'",function() MacroCmd_Say("test") end)') end
+	if (not macrofun) then return end -- no macro mapped to this keycode
+	=

+	-- protected macro call
+	local success,errormsg_or_result =3D lugrepcall(macrofun)
+	if (not success) then
+		local myErrorText =3D "ERROR executing MACRO for keycombo "..name.." :\n=
"..tostring(errormsg_or_result)
+		PlainMessageBox(myErrorText)
+	end
+end
+
+RegisterListener("keydown",function (keycode,char,bConsumed) =

+	if (not gActiveEditText) then TriggerMacros(keycode) end
+end)
+
+
+--[[
 gMacroActionDescriptions =3D {}
 gMacroActionDescriptions.Say						=3D "Open a text window where you can en=
ter a line of dialog that your character will speak when the Macro is used."
 gMacroActionDescriptions.Emote						=3D "As Say, but may be a different te=
xt color than normal speech (see \"Change Emote Color\" above). Also, any E=
mote text will be placed between two asterisks, for example *grin* or *Broo=
ds darkly*. The traditional function of emote text is to convey actions, at=
titudes, or emotions rather than simple speech."
@@ -49,48 +148,29 @@
 gMacroActionDescriptions.DisableRangeColor			=3D ""
 gMacroActionDescriptions.ToggleRangeColor			=3D ""
 gMacroActionDescriptions.InvokeVirtue				=3D "Allows you to specify a virt=
ue to be activated."
-
---[[ pre-set default : =

-Alt + S - Open Status window
-Alt + B - Open Spellbook
-Alt + C - Toggle between War/Peace modes
-Alt + P - Open Character Window
-Alt + K - Open Skills
-Alt + J - Open Journal
-Alt + I - Open Backpack
-Alt + R - Open Overhead View
-Alt + O - Open Options window
-Alt + X - Quit game
-Alt + B - Bow
-Alt + S - Salute
 ]]--
 =

-function ToggleMacroList () =

-	print("TODO : macrolist")
+
+-- obsolete...
+gMacroListDialog =3D nil
+function ToggleMacroList () end
+function ToggleMacroList_OLD () =

+	if (gMacroListDialog) then CloseMacroListDialog() return end
+	=

+	local rows =3D {
+		{	{"MacroList"} },
+		{	{type=3D"EditText",controlname=3D"note",w=3D400,h=3D24} },
+		{	{"Apply",function () =

+			local mytext =3D gMacroListDialog.controls["note"]:GetText() or ""
+			-- todo....
+			end},
+			{"Close",function () CloseMacroListDialog() end},
+		},
+	}
+	gMacroListDialog =3D guimaker.MakeTableDlg(rows,100,100,false,true)
 end
 =

-function MacroListGetFileName () return gMacroListPath end
-
-function LoadMacroList ()
-	local filename =3D MacroListGetFileName()
-	if (not file_exists(filename)) then return end
-	dofile(filename)
+-- obsolete...
+function CloseMacroListDialog_OLD () =

+	if (gMacroListDialog) then gMacroListDialog:Destroy() gMacroListDialog =
=3D nil end
 end
-
-function SaveMacroList ()
-	local filename =3D MacroListGetFileName()
-	=

-	-- no local config file, copy dist config
-	local fp =3D io.open(gConfigPath,"w")
-	fp:write("-- this is your local config file, here you can override the de=
fault options\n")
-	fp:write("-- gUOPath =3D \"C:\\\\stuff\\\\iris\\\\uo\\\\\" -- enter the p=
ath to your uo data dir here\n")
-	for line in io.lines(gConfigPathFallback) do =

-		if (not string.find(line,"DO NOT EDIT THIS FILE DIRECTLY")) then =

-			fp:write(line.."\n") =

-		end =

-	end
-	fp:close()
-end
-
-
-

Modified: trunk/data/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/main.lua (original)
+++ trunk/data/lua/main.lua Mon Nov 26 04:19:50 2007
@@ -6,9 +6,10 @@
 datapath =3D gMainWorkingDir.."data/"
 libpath =3D datapath.."lua/"
 lugreluapath =3D gMainWorkingDir..(file_exists(gMainWorkingDir.."mylugre")=
 and "mylugre/lua/" or "lugre/lua/")
-gMacroListPath 		=3D datapath.."mymacrolist.lua"
 gConfigPath 		=3D datapath.."config.lua"
 gConfigPathFallback	=3D datapath.."config.lua.dist"
+gMacroPath 			=3D datapath.."mymacros.lua"
+gMacroPathFallback	=3D datapath.."mymacros.lua.dist"
 gSecondsSinceLastFrame =3D 0
 =

 gInGameStarted =3D false
@@ -122,6 +123,28 @@
 	fp:close()
 end
 =

+
+--###############################
+--###        MACROS           ###
+--###############################
+
+dofile(gMacroPathFallback)
+
+if (file_exists(gMacroPath)) then
+	-- execute local config
+	dofile(gMacroPath)
+else
+	-- no local config file, copy dist config
+	local fp =3D io.open(gMacroPath,"w")
+	fp:write("-- this is your local macro file, here you can configure your m=
acro commands\n")
+	for line in io.lines(gMacroPathFallback) do =

+		if (not string.find(line,"DO NOT EDIT THIS FILE DIRECTLY")) then =

+			fp:write(line.."\n") =

+		end =

+	end
+	fp:close()
+end
+
 --###############################
 --###        FUNCTIONS        ###
 --###############################



From no-reply at zwischenwelt.org  Mon Nov 26 04:25:29 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 03:25:29 -0000
Subject: [Iris-commit] [IRIS] r1540 - /trunk/data/mymacros.lua.dist
Message-ID: <20071126032529.5774C1C18248@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 04:25:28 2007
New Revision: 1540

Log:
macrofile

Modified:
    trunk/data/mymacros.lua.dist

Modified: trunk/data/mymacros.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/mymacros.lua.dist (original)
+++ trunk/data/mymacros.lua.dist Mon Nov 26 04:25:28 2007
@@ -23,12 +23,6 @@
 np0,np1,np2,np3,np4,np5,np6,np7,np8,np9,npmult,npadd,npsub,npkomma,npdiv,
 numlock,scroll,ue,plus,komma,minus,point,grid,oe,bslash,console,accent,ae,=
greater,
 NOT RECOMMENDED, but might work too: lshift,lcontrol,lalt,rshift,rcontrol,=
ralt
-]]--
-
--- uncomment this line to print the current keyname on each keypress :
--- gMacroPrintAllKeyCombos =3D true
-
---[[
 =

 available commands : =

 =

@@ -53,6 +47,8 @@
 	MacroRead_TargetStat(statname)	-- read stats of selected target, statname=
 can be one of curHits,maxHits
 ]]--
 =

+-- uncomment this line to print the current keyname on each keypress :
+-- gMacroPrintAllKeyCombos =3D true
 =

 SetMacro("ctrl+s",function() MacroCmd_Open("Status") end)	-- Open Status w=
indow
 SetMacro("alt+c",function() MacroCmd_ToggleWarmode() end)	-- Toggle betwee=
n War/Peace modes
@@ -65,4 +61,3 @@
 SetMacro("alt+s",function() MacroCmd_Say("*salute*") end)	-- Salute
 =

 =

-



From no-reply at zwischenwelt.org  Mon Nov 26 04:37:27 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 03:37:27 -0000
Subject: [Iris-commit] [IRIS] r1541 - in /trunk/data: lua/lib.keybinds.lua
 lua/lib.macrolist.lua mymacros.lua.dist
Message-ID: <20071126033727.DD2F51C18248@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 04:37:27 2007
New Revision: 1541

Log:
changed conflicting keybinds to macros

Modified:
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.macrolist.lua
    trunk/data/mymacros.lua.dist

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Mon Nov 26 04:37:27 2007
@@ -34,16 +34,7 @@
 	Bind("up",      function (state) if (not gActiveEditText) then if (state =
> 0) then CancelAutoWalk() end else ChatLine_HistoryUpDown(1) end end)
 	Bind("u",		function (state) if (not gActiveEditText) then if (state > 0) =
then SetAutoWalkTarget() end end end)
 	=

-	-- toggel gumps
-	Bind("t",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleStatusAos() end end end)
-	Bind("k",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleSkill() end end end)
-	Bind("m",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleMacroList() end end end)
-	Bind("j",		function (state) if (not gActiveEditText) then if (state > 0) =
then ToggleJournal() end end end)
-	Bind("b",		function (state) if (not gActiveEditText) then if (state > 0) =
then TogglePlayerBackpack() end end end)
-	Bind("p",		function (state) if (not gActiveEditText) then if (state > 0) =
then TogglePlayerPaperdoll() end end end)
-	=

 	-- camera controlling
-	Bind("c",		function (state) if (not gActiveEditText) then if (state > 0) =
then gCurrentRenderer:ChangeCamMode() end end end)
 	Bind("x",		function (state) if (not gActiveEditText) then if (state > 0) =
then gCurrentRenderer:CamChangeZoom( 1) end end end)
 	Bind("y",		function (state) if (not gActiveEditText) then if (state > 0) =
then gCurrentRenderer:CamChangeZoom(-1) end end end)
 	Bind("wheelup",		function (state) if (not gActiveEditText) then if (state=
 > 0) then gCurrentRenderer:CamChangeZoom( 0.3) end end end)

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Mon Nov 26 04:37:27 2007
@@ -29,6 +29,7 @@
 function MacroRead_TargetStat			(statname) return MacroReadAux_MobileStat(=
GetMobile(giSelectedMobile),statname,"MacroRead_TargetStat") end
 =

 function MacroCmd_Say					(text)	if (gInGameStarted) then Send_UnicodeSpee=
ch(text) end end
+function MacroCmd_NextCamMode			()		gCurrentRenderer:ChangeCamMode() end
 function MacroCmd_Quit					()		Terminate() end
 function MacroCmd_RepeatLastChat		()		if (gInGameStarted) then ChatLine_Re=
peatLast() end end
 function MacroCmd_RepeatLastDoubleClick	()		if (gInGameStarted) then Repea=
tLastDoubleClick() end end

Modified: trunk/data/mymacros.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/mymacros.lua.dist (original)
+++ trunk/data/mymacros.lua.dist Mon Nov 26 04:37:27 2007
@@ -11,6 +11,8 @@
 you don't need to, but if you like you can do complex scripting here.
 a guide to the lua scripting language is here : http://www.lua.org/pil/
 and a languag-reference is here : http://www.lua.org/manual/5.0/
+
+you can specify modifyers, but currently they have to be in that order : s=
hift+alt+ctrl+f
 =

 list of all keynames : =

 a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,
@@ -28,6 +30,7 @@
 =

 MacroCmd_Say					(text)	-- chat-text, example : MacroCmd_Say("hi all")
 MacroCmd_Quit					()		-- quits the game
+MacroCmd_NextCamMode			()		-- change cam mode
 MacroCmd_RepeatLastChat			()		-- repeat last chat-text
 MacroCmd_RepeatLastDoubleClick	()		-- repeat double click on last object
 MacroCmd_SelectNearestMobile	()		-- =

@@ -61,3 +64,11 @@
 SetMacro("alt+s",function() MacroCmd_Say("*salute*") end)	-- Salute
 =

 =

+SetMacro("j",function() MacroCmd_Open("Journal") end)	-- Open Journal
+SetMacro("b",function() MacroCmd_Open("Backpack") end)	-- Open Backpack
+SetMacro("p",function() MacroCmd_Open("Paperdoll") end)	-- Open Character =
Window
+SetMacro("t",function() MacroCmd_Open("Status") end)	-- Open Status window
+SetMacro("k",function() MacroCmd_Open("Skill") end)	-- Open Skills
+SetMacro("c",function() MacroCmd_NextCamMode() end)	-- change cam mode
+
+



From no-reply at zwischenwelt.org  Mon Nov 26 18:42:33 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 17:42:33 -0000
Subject: [Iris-commit] [IRIS] r1542 - /trunk/src/data.cpp
Message-ID: <20071126174233.74D4A1C182C4@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 18:42:32 2007
New Revision: 1542

Log:
disabled endian swap functions that require SDL and are unused

Modified:
    trunk/src/data.cpp

Modified: trunk/src/data.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/src/data.cpp (original)
+++ trunk/src/data.cpp Mon Nov 26 18:42:32 2007
@@ -175,7 +175,8 @@
 	  return false;
 	#endif
 }
-	=

+
+/*
 uint32	IRIS_SwapU32			(uint32	val) {
 #if SDL_BYTEORDER=3D=3DSDL_BIG_ENDIAN
   //return POSH_SwapU32( val);
@@ -220,7 +221,7 @@
   return val;
 #endif
 }
-
+*/
 =

 // ***** ***** ***** ***** ***** cMapInfo
 =




From no-reply at zwischenwelt.org  Mon Nov 26 19:05:18 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 18:05:18 -0000
Subject: [Iris-commit] [IRIS] r1543 - /trunk/premake.lua
Message-ID: <20071126180518.4A6FF1C182C4@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 19:05:17 2007
New Revision: 1543

Log:
premake binary name set to iris instead of iris2, so we don't have to adjus=
t the old start.sh

Modified:
    trunk/premake.lua

Modified: trunk/premake.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/premake.lua (original)
+++ trunk/premake.lua Mon Nov 26 19:05:17 2007
@@ -30,7 +30,7 @@
   end
 =

 package =3D newpackage()
-package.name =3D "iris2"
+package.name =3D "iris"
 package.kind =3D "exe"
 package.language =3D "c++"
 =




From no-reply at zwischenwelt.org  Mon Nov 26 19:22:51 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 18:22:51 -0000
Subject: [Iris-commit] [IRIS] r1544 - /trunk/bin/plugins_linux.cfg
Message-ID: <20071126182251.ADFAB1C182C4@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 19:22:51 2007
New Revision: 1544

Log:
Plugin_CgProgramManager disabled by default on linux config

Modified:
    trunk/bin/plugins_linux.cfg

Modified: trunk/bin/plugins_linux.cfg
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/bin/plugins_linux.cfg (original)
+++ trunk/bin/plugins_linux.cfg Mon Nov 26 19:22:51 2007
@@ -16,4 +16,4 @@
 Plugin=3DPlugin_ParticleFX.so 	=

 Plugin=3DPlugin_BSPSceneManager.so 	=

 Plugin=3DPlugin_OctreeSceneManager.so 	=

-Plugin=3DPlugin_CgProgramManager.so =

+#~ Plugin=3DPlugin_CgProgramManager.so =




From no-reply at zwischenwelt.org  Mon Nov 26 20:06:00 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 19:06:00 -0000
Subject: [Iris-commit] [IRIS] r1545 - in /trunk: premake premake.lua
	premakelinux.sh
Message-ID: <20071126190601.0A38C1C182C4@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 20:06:00 2007
New Revision: 1545

Log:
added premake fixes from sfz

Added:
    trunk/premake   (with props)
    trunk/premakelinux.sh   (with props)
Modified:
    trunk/premake.lua

Modified: trunk/premake.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/premake.lua (original)
+++ trunk/premake.lua Mon Nov 26 20:06:00 2007
@@ -1,6 +1,13 @@
 project.name =3D "Iris2"
 -- project.path =3D "build"
 -- project.bindir =3D "."
+
+gLugreLuaSrcDir =3D "./lugre/lib/lua-5.0.3/"
+
+-- compile lua
+--local makeresult =3D os.execute("make --directory=3D"..gLugreLuaSrcDir)
+--if (makeresult ~=3D 0) then print("compiling lua failed with exit code",=
makeresult) os.exit(makeresult) end
+--print("successfully compiled lua")
 =

 function addpkgconfiglib (package, libname)
     if options.target =3D=3D "gnu" and os.execute("pkg-config --exists "..=
libname) =3D=3D 0 then
@@ -29,19 +36,51 @@
     end
   end
 =

+-- ---------------------------------------------
+-- ---------------------------------------------
+
+package =3D newpackage()
+package.name =3D "lugrelua"
+package.kind =3D "lib"
+package.language =3D "c++"
+package.buildflags =3D { "extra-warnings", "optimize" }
+package.buildoptions =3D {}
+package.includepaths =3D { gLugreLuaSrcDir.."/include" }
+package.files =3D {
+  matchfiles(gLugreLuaSrcDir.."/include/*.h", gLugreLuaSrcDir.."/src/*.c"),
+}
+
+-- ---------------------------------------------
+-- ---------------------------------------------
+
+package =3D newpackage()
+package.name =3D "lugrelualib"
+package.kind =3D "lib"
+package.language =3D "c++"
+package.buildflags =3D { "extra-warnings", "optimize" }
+package.buildoptions =3D {}
+package.includepaths =3D { gLugreLuaSrcDir.."/include" }
+package.files =3D {
+  matchfiles(gLugreLuaSrcDir.."/include/*.h", gLugreLuaSrcDir.."/src/lib/*=
.c"),
+}
+
+-- ---------------------------------------------
+-- ---------------------------------------------
+
 package =3D newpackage()
 package.name =3D "iris"
 package.kind =3D "exe"
 package.language =3D "c++"
-
+-- project.bindir =3D "bin"
 package.buildflags =3D { "extra-warnings", "optimize" }
 package.buildoptions =3D {}
 =

-package.includepaths =3D { "lugre/include", "include" }
+package.includepaths =3D { "lugre/include", gLugreLuaSrcDir.."/include/", =
"include" }
 =

-package.libpaths =3D {}
+--package.libpaths =3D { gLugreLuaSrcDir.."/lib/" }
 package.linkoptions =3D {}
-package.links =3D {}
+package.links =3D { "lugrelua","lugrelualib" }
+--package.links =3D { "lua","lualib" }
 =

 package.defines =3D { =

 	"USE_OPENAL",
@@ -54,8 +93,8 @@
 =

 addpkgconfiglib(package, "OGRE")
 addpkgconfiglib(package, "OIS")
-addpkgconfiglib(package, "lua50")
-addpkgconfiglib(package, "lualib50")
+--~ addpkgconfiglib(package, "lua50")
+--~ addpkgconfiglib(package, "lualib50")
 addpkgconfiglib(package, "openal")
 addpkgconfiglib(package, "vorbisfile")
 =




From no-reply at zwischenwelt.org  Mon Nov 26 22:24:30 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 21:24:30 -0000
Subject: [Iris-commit] [IRIS] r1546 - in /trunk/data:
 compositors/EdgeDetection.compositor compositors/EdgeDetection.material
 compositors/edgesFP.source compositors/edgesVP.source config.lua.dist
 lua/lib.keybinds.lua lua/lib.spellbooks.lua lua/obj/obj.container.lua
Message-ID: <20071126212430.1E4D81C18279@zwischenwelt.org>

Author: sience
Date: Mon Nov 26 22:24:29 2007
New Revision: 1546

Log:
-edge detection fullscreen shader added (key "F9")
-spellweaving spellbook added (thx to cougar)

Added:
    trunk/data/compositors/EdgeDetection.compositor
    trunk/data/compositors/EdgeDetection.material
    trunk/data/compositors/edgesFP.source
    trunk/data/compositors/edgesVP.source
Modified:
    trunk/data/config.lua.dist
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.spellbooks.lua
    trunk/data/lua/obj/obj.container.lua

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Mon Nov 26 22:24:29 2007
@@ -250,7 +250,7 @@
 -- activates Lightsources
 gLightsources =3D false
 =

--- huedfx
+-- activates Particle Effects
 gParticleEffectSystem =3D true
 =

 gDisableSmoothWalk =3D false

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Mon Nov 26 22:24:29 2007
@@ -80,7 +80,7 @@
 		Client_SetAmbientLight(gAmbientLight.r, gAmbientLight.g, gAmbientLight.b=
, 1)
  	end end end)
 	Bind("f9",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
-		local vp =3D OgreAddCompositor(GetMainViewport(), "B&W")
+		local vp =3D OgreAddCompositor(GetMainViewport(), "EdgeDetection")
 	 end end end)
 	Bind("f10",		function (state) if (not gActiveEditText) then if (state > 0=
) then ShowDevTool() end end end)
 	Bind("f11",		function (state) if (not gActiveEditText) then if ((state > =
0) and (gCurrentRenderer =3D=3D Renderer3D)) then ShowFallBackTool() end en=
d end)

Modified: trunk/data/lua/lib.spellbooks.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.spellbooks.lua (original)
+++ trunk/data/lua/lib.spellbooks.lua Mon Nov 26 22:24:29 2007
@@ -414,6 +414,31 @@
 	}
 }
 =

+gSpellBooks[SpellweavingSpellbook] =3D {
+	name		=3D"Spellweaving",
+	gumpid		=3Dhex2num("0x2B2F"),
+	minigumpid	=3Dhex2num("0x2B2D"),
+	iconoffset	=3Dhex2num("0x59D8"),
+	startindex	=3Dhex2num("0x258"),
+	circles	=3D{[1]=3D"First Circle",[2]=3D"Second Circle"},
+
+	pages	=3D{ [1]=3D1, [2]=3D1 },
+
+	spells	=3D{
+		[1] =3D { [1] =3D "Arcane Circle", [2] =3D "Gift Of Renewal", [3] =3D "I=
mmolating Weapon", [4] =3D "Attunement", [5] =3D "Thunderstorm",[6] =3D "Na=
ture Fury", [7] =3D "Summon Fey", [8] =3D "Summon Fiend" },
+		[2] =3D {	[1] =3D "Reaper Form", [2] =3D "Wildfire",[3] =3D "Essence Of =
Wind", [4] =3D "Dryad Allure", [5] =3D "Ethereal Voyage", [6] =3D "Word Of =
Death", [7] =3D "Gift Of Life",[8] =3D "Arcane Empowerment" },
+		},
+
+	reagenz =3D { [1]=3D"Mana Cost : 24", [2]=3D"Mana Cost: 32", [3]=3D"Mana =
Cost: 40", [4]=3D"Mana Cost: 10", [5]=3D"Mana Cost: 34", [6]=3D"Mana Cost: =
50",
+				[7]=3D"Min. Skill: 0", [8]=3D"Skill Needed: 10", [9]=3D"Skill Needed: =
38", [10]=3D"Skill Needed: 66", [11]=3D"Skill Needed: 52", [12]=3D"Skill Ne=
eded: 80",
+				[13]=3D"Min. Skill: 55", [14]=3D"Min. Skill: 65",[14]=3D"Mana Cost: 70=
", [15]=3D"Skill Needed: 24" },
+
+	spell_reags =3D {
+		[1] =3D { [1]=3D{[1]=3D1,[2]=3D7 }, [2]=3D{[1]=3D1,[2]=3D7 }, [3]=3D{[1]=
=3D2,[2]=3D8 }, [4]=3D{[1]=3D1,[2]=3D7 }, [5]=3D{[1]=3D2,[2]=3D8 }, [6]=3D{=
[1]=3D1,[2]=3D7}, [7]=3D{[1]=3D4,[2]=3D9}, [8]=3D{[1]=3D4,[2]=3D15} },
+		[2] =3D {	[1]=3D{[1]=3D5,[2]=3D11 }, [2]=3D{[1]=3D6,[2]=3D10}, [3]=3D{[1=
]=3D3,[2]=3D11 }, [4]=3D{[1]=3D3,[2]=3D12}, [5]=3D{[1]=3D2,[2]=3D15}, [6]=
=3D{[1]=3D6,[2]=3D12}, [7]=3D{[1]=3D14,[2]=3D9}, [8]=3D{[1]=3D6,[2]=3D9} }
+	}
+}
+
 gSpellbookExpansion =3D {}
 gSpellbookExpansion["AOS"]=3D hex2num("0x00")		--Mage, Necromancer and Pal=
adin spells
 gSpellbookExpansion["SE"]=3D hex2num("0x01")		--Samurai and Ninja Spells

Modified: trunk/data/lua/obj/obj.container.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/obj/obj.container.lua (original)
+++ trunk/data/lua/obj/obj.container.lua Mon Nov 26 22:24:29 2007
@@ -61,6 +61,7 @@
 =

 -- called from kPacket_Open_Container
 function HandleOpenContainer	(containerdata)
+	if (not gGumpLoader) then return end
 	--containerdata.serial
 	--containerdata.gumpid
 	--print("# HandleOpenContainer",containerdata.serial,containerdata.gumpid)



From no-reply at zwischenwelt.org  Mon Nov 26 23:19:53 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 22:19:53 -0000
Subject: [Iris-commit] [IRIS] r1547 - in /trunk/data: lua/lib.macrolist.lua
 lua/net/net.skill.lua mymacros.lua.dist
Message-ID: <20071126221953.5856D1C18279@zwischenwelt.org>

Author: ghoulsblade
Date: Mon Nov 26 23:19:52 2007
New Revision: 1547

Log:
added MacroCmd_Skill and MacroCmd_Spell , moved infos from data/mymacros.lu=
a.dist to a wiki page

Modified:
    trunk/data/lua/lib.macrolist.lua
    trunk/data/lua/net/net.skill.lua
    trunk/data/mymacros.lua.dist

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Mon Nov 26 23:19:52 2007
@@ -23,6 +23,8 @@
 gMacroReadMobileStats.maxMana		=3D true
 gMacroReadMobileStats.curStamina	=3D true
 gMacroReadMobileStats.maxStamina	=3D true
+
+gMacroSpellsByName =3D nil
 =

 -- GetPlayerMobile
 function MacroRead_PlayerStat			(statname) return MacroReadAux_MobileStat(=
GetPlayerMobile(),statname,"MacroRead_PlayerStat") end
@@ -40,31 +42,76 @@
 function MacroCmd_Open					(dialogtype)
 	if (not gInGameStarted) then return end
 	local f =3D gMacroOpenCommands[dialogtype] =

-	if (f) then =

-		f() =

-	else =

-		local infotext =3D "MacroCmd_Open : unknown dialogtype "..tostring(dialo=
gtype).." available types:\n"
-		for k,v in pairs(gMacroOpenCommands) do infotext =3D infotext..k.."\n" e=
nd
-		print(infotext)
-		PlainMessageBox(infotext)
+	if (not f) then return MacroErrorNameMismatch("MacroCmd_Open",dialogtype,=
gMacroOpenCommands) end
+	f() =

+end
+
+
+function MacroCmd_Skill					(skillname)
+	local skillid =3D gCharCreateSkillIDs[skillname] -- zero based
+	if (not skillid) then return MacroErrorNameMismatch("MacroCmd_Skill",skil=
lname,gCharCreateSkillIDs) end
+	skillid =3D skillid + 1 -- one based needed below
+	if (glSkillActive[skillid] ~=3D 1) then return MacroError("MacroCmd_Skill=
 : skill is passive : "..tostring(skillname)) end
+	Send_Request_SkillUse(skillid)
+end
+
+function MacroCmd_Spell					(spellname)
+	if (not gMacroSpellsByName) then
+		gMacroSpellsByName =3D {}
+		for spellbookid,spellbookdata in pairs(gSpellBooks) do
+			local startindex =3D spellbookdata.startindex
+			for circle,spelllist in pairs(spellbookdata.spells) do
+				local spellnumber =3D table.getn(spelllist)
+				for spellindex,myspellname in pairs(spelllist) do =

+					gMacroSpellsByName[myspellname] =3D spellindex+(circle-1)*spellnumber=
 + startindex
+				end
+			end
+		end
 	end
+	local spellid =3D gMacroSpellsByName[spellname]
+	if (not spellid) then return MacroErrorNameMismatch("MacroCmd_Spell",spel=
lname,gMacroSpellsByName) end
+	Send_Spell(spellid)
+	-- gSpellBooks
+	-- Send_Spell(spellbutton.spell+gSpellBooks[spellbook.itemid].startindex)
+	-- spellbutton.spell=3Dspell+(circle-1)*spellnumber
+	--[[
+		local spellnumber=3Dtable.getn(gSpellBooks[spellbook.itemid].spells[circ=
le])
+		...
+		for spell=3D1, spellnumber do
+			if (TestBit(spellbook.matrix[circle], BitwiseSHL(1,spell-1))) then
+				-- increase number of available spells
+				spellcounter=3Dspellcounter+1
+				local spellbutton =3D MakeBorderGumpPart(curparent, hex2num("0x837"), =
60 + rightspacer, 20+((spellcounter+1)*15) - top_align)
+				spellbutton.spell=3Dspell+(circle-1)*spellnumber
+				spellbutton.mbIgnoreMouseOver =3D false
+				spellbutton.onLeftClick =3D function (widget)
+											Send_Spell(spellbutton.spell+gSpellBooks[spellbook.itemid].star=
tindex,gSpellbookExpansion["AOS"])
+										end
+			end
+		end
+]]--
 end
 =

 =

 function MacroReadAux_MobileStat			(mobile,statname,errormsg_funname)
 	if (not gInGameStarted) then return 0 end
-	if (not gMacroReadMobileStats[statname]) then
-		local infotext =3D "MacroRead_PlayerStat : unknown statname "..tostring(=
statname).." available statnames:\n"
-		for k,v in pairs(gMacroReadMobileStats) do infotext =3D infotext..k.."\n=
" end
-		print(infotext)
-		PlainMessageBox(infotext)
-		return
+	if (not gMacroReadMobileStats[statname]) then =

+		return MacroErrorNameMismatch("MacroRead_PlayerStat",statname,gMacroRead=
MobileStats) =

 	end
 	local mobile =3D GetPlayerMobile()
 	return mobile and mobile.stats and mobile.stats[statname] or 0
 end
 =

-
+function MacroErrorNameMismatch (cmd,name,list_by_key) =

+	local infotext =3D cmd.." : unknown name "..tostring(name).." available n=
ames:\n"
+	for k,v in pairs(list_by_key) do infotext =3D infotext..k.."\n" end
+	MacroError(infotext)
+end
+
+function MacroError (infotext) =

+	print(infotext)
+	PlainMessageBox(infotext)
+end
 =

 =

 function GetMacroKeyComboName (keycode,bCtrl,bAlt,bShift) =


Modified: trunk/data/lua/net/net.skill.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.skill.lua (original)
+++ trunk/data/lua/net/net.skill.lua Mon Nov 26 23:19:52 2007
@@ -3,7 +3,7 @@
 =

 -- Request SkillUse
 function Send_Request_SkillUse(skillid)
-	local s =3D tostring(skillid-1).." 0"	-- i dont know why we must -1 her :)
+	local s =3D tostring(skillid-1).." 0"	-- i dont know why we must -1 here =
:)
 	local size =3D 4+string.len(s)+1
 	=

 	local out =3D GetSendFIFO()

Modified: trunk/data/mymacros.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/mymacros.lua.dist (original)
+++ trunk/data/mymacros.lua.dist Mon Nov 26 23:19:52 2007
@@ -3,51 +3,8 @@
 -- DO NOT EDIT THIS FILE DIRECTLY, you can override individual settings th=
ere.
 --[[
 Here you can define macros, =

-which can be triggered by keycombos like ctrl-shift-a or similar,
-much like the uo macrolist dialog, =

-without a nice ingame edit-dialog, but with full scripting support, =

-e.g. you can add conditions or similar.
-
-you don't need to, but if you like you can do complex scripting here.
-a guide to the lua scripting language is here : http://www.lua.org/pil/
-and a languag-reference is here : http://www.lua.org/manual/5.0/
-
-you can specify modifyers, but currently they have to be in that order : s=
hift+alt+ctrl+f
-
-list of all keynames : =

-a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,
-0,1,2,3,4,5,6,7,8,9,
-f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f11,f12,f13,f14,f15,
-mouse1,mouse2,mouse3,mouse4,mouse5,wheelup,wheeldown,
-backspace,tab,stopclear,return,np_enter,pause,capslock,escape,space,
-pgup,pgdn,end,home,left,up,right,down,screen,ins,del,
-lwin,rwin,menu,
-np0,np1,np2,np3,np4,np5,np6,np7,np8,np9,npmult,npadd,npsub,npkomma,npdiv,
-numlock,scroll,ue,plus,komma,minus,point,grid,oe,bslash,console,accent,ae,=
greater,
-NOT RECOMMENDED, but might work too: lshift,lcontrol,lalt,rshift,rcontrol,=
ralt
-
-available commands : =

-
-MacroCmd_Say					(text)	-- chat-text, example : MacroCmd_Say("hi all")
-MacroCmd_Quit					()		-- quits the game
-MacroCmd_NextCamMode			()		-- change cam mode
-MacroCmd_RepeatLastChat			()		-- repeat last chat-text
-MacroCmd_RepeatLastDoubleClick	()		-- repeat double click on last object
-MacroCmd_SelectNearestMobile	()		-- =

-MacroCmd_SelectNextMobile		()		-- cycle through mobiles
-MacroCmd_AttackSelectedMobile	()		-- (26.11.2007 : currently broken, only =
runs to target, but doesn't attack)
-MacroCmd_ToggleWarmode			()		-- switch between war and peace mode
-MacroCmd_Open					(dialogtype) -- open dialog, =

-	-- dialogtype can be one of Status,Skill,Journal,Backpack,Paperdoll,Compa=
ss
-	-- example : MacroCmd_Open("Journal")
-
-you can also make conditional macros like
-	if (MacroRead_PlayerStat("curHits") < 0.5*MacroRead_PlayerStat("maxHits")=
) then MacroCmd_Say("i'm half-dead !") end
-	will trigger if the player health is below 50%
-
-currently available read functions for that :
-	MacroRead_PlayerStat(statname)	-- read player stats, statname can be one =
of curHits,maxHits,curMana,maxMana,curStamina,maxStamina
-	MacroRead_TargetStat(statname)	-- read stats of selected target, statname=
 can be one of curHits,maxHits
+which can be triggered by keycombos like ctrl-shift-a or similar.
+See http://www.iris2.de/index.php/Macros for more infos.
 ]]--
 =

 -- uncomment this line to print the current keyname on each keypress :
@@ -63,7 +20,6 @@
 SetMacro("alt+b",function() MacroCmd_Say("*bow*") end)	-- Bow
 SetMacro("alt+s",function() MacroCmd_Say("*salute*") end)	-- Salute
 =

-
 SetMacro("j",function() MacroCmd_Open("Journal") end)	-- Open Journal
 SetMacro("b",function() MacroCmd_Open("Backpack") end)	-- Open Backpack
 SetMacro("p",function() MacroCmd_Open("Paperdoll") end)	-- Open Character =
Window
@@ -71,4 +27,5 @@
 SetMacro("k",function() MacroCmd_Open("Skill") end)	-- Open Skills
 SetMacro("c",function() MacroCmd_NextCamMode() end)	-- change cam mode
 =

-
+-- SetMacro("ctrl+h",function() MacroCmd_Spell("Heal") end)
+-- SetMacro("ctrl+a",function() MacroCmd_Skill("Anatomy") end)



From no-reply at zwischenwelt.org  Tue Nov 27 00:11:39 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 23:11:39 -0000
Subject: [Iris-commit] [IRIS] r1548 - in /trunk/data: lua/lib.compass.lua
 lua/lib.fallback.lua lua/lib.gui.iris.lua lua/lib.keybinds.lua
 lua/lib.macrolist.lua mymacros.lua.dist
Message-ID: <20071126231139.B36B01C182C4@zwischenwelt.org>

Author: ghoulsblade
Date: Tue Nov 27 00:11:38 2007
New Revision: 1548

Log:
converted most old keybinds to macro system, cleaned macrocode a bit

Modified:
    trunk/data/lua/lib.compass.lua
    trunk/data/lua/lib.fallback.lua
    trunk/data/lua/lib.gui.iris.lua
    trunk/data/lua/lib.keybinds.lua
    trunk/data/lua/lib.macrolist.lua
    trunk/data/mymacros.lua.dist

Modified: trunk/data/lua/lib.compass.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.compass.lua (original)
+++ trunk/data/lua/lib.compass.lua Tue Nov 27 00:11:38 2007
@@ -123,9 +123,9 @@
 end
 =

 -- show/hide compass, called from lib.input.lua on keypress (n)
-function ToggleCompass (bKeyIsDown)
+function ToggleCompass ()
 	if (gDisableCompass) then return end
-	if (bKeyIsDown and gIrisCompassDialog) then
+	if (gIrisCompassDialog) then
 		gIrisCompassDialog.bDoUpdate =3D not gIrisCompassDialog.bDoUpdate
 		gIrisCompassDialog:SetVisible(gIrisCompassDialog.bDoUpdate)
 		if (gIrisCompassDialog.radar) then gIrisCompassDialog.radar:SetVisible( =
gIrisCompassDialog.bDoUpdate ) end

Modified: trunk/data/lua/lib.fallback.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.fallback.lua (original)
+++ trunk/data/lua/lib.fallback.lua Tue Nov 27 00:11:38 2007
@@ -48,6 +48,7 @@
 =

 =

 function ShowFallBackTool (x,y,z,radius)
+	if (gCurrentRenderer ~=3D Renderer3D) then return end
 	if (not x) then =

 		-- default params : read current mousepos
 		gCurrentRenderer:MousePick()

Modified: trunk/data/lua/lib.gui.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gui.iris.lua (original)
+++ trunk/data/lua/lib.gui.iris.lua Tue Nov 27 00:11:38 2007
@@ -3,6 +3,11 @@
 =

 -- list of all open stats dialogs serial->dialog
 gStatusDialogs =3D {}
+
+function ToggleLogo ()
+	gShowIrisLogo =3D not gShowIrisLogo =

+	gDialog_IrisLogo:SetVisible(gShowIrisLogo)
+end
 =

 -- create player status dialog and stuff like this
 function PlayerGuiInit ()

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Tue Nov 27 00:11:38 2007
@@ -20,39 +20,19 @@
 	=

 	-- soemthing
 	Bind("return",	function (state) if (state > 0) then ChatLine_ToggleActive=
() end end)
-	Bind("n",		function (state) if (not gActiveEditText) then ToggleCompass(s=
tate > 0) end end)
-	Bind("komma",	function (state) if (not gActiveEditText) then if (state > =
0) then ZoomCompass(gCompassZoomFactor) end end end)
-	Bind("point",	function (state) if (not gActiveEditText) then if (state > =
0) then ZoomCompass(1.0/gCompassZoomFactor) end end end)
---	Bind("z",		function (state) if (not gActiveEditText) then if (state > 0=
) then ActivateNextRenderer() end end end)
-	Bind("l",		function (state) if (not gActiveEditText) then gDialog_IrisLog=
o:SetVisible(state > 0) end end)
-	Bind("v",		function (state) if (not gActiveEditText) then if (state > 0) =
then Client_TakeScreenshot(gMainWorkingDir.."screenshots/") end end end)
-
+	=

 	-- additional movement key handling in lib.tilefreewalk (for pressed keys)
 	Bind("right",   function (state) if (not gActiveEditText) then if (state =
> 0) then CancelAutoWalk() end end end) =

 	Bind("left",    function (state) if (not gActiveEditText) then if (state =
> 0) then CancelAutoWalk() end end end) =

 	Bind("down",    function (state) if (not gActiveEditText) then if (state =
> 0) then CancelAutoWalk() end else ChatLine_HistoryUpDown(-1) end end) =

 	Bind("up",      function (state) if (not gActiveEditText) then if (state =
> 0) then CancelAutoWalk() end else ChatLine_HistoryUpDown(1) end end)
-	Bind("u",		function (state) if (not gActiveEditText) then if (state > 0) =
then SetAutoWalkTarget() end end end)
 	=

-	-- camera controlling
-	Bind("x",		function (state) if (not gActiveEditText) then if (state > 0) =
then gCurrentRenderer:CamChangeZoom( 1) end end end)
-	Bind("y",		function (state) if (not gActiveEditText) then if (state > 0) =
then gCurrentRenderer:CamChangeZoom(-1) end end end)
-	Bind("wheelup",		function (state) if (not gActiveEditText) then if (state=
 > 0) then gCurrentRenderer:CamChangeZoom( 0.3) end end end)
-	Bind("wheeldown",	function (state) if (not gActiveEditText) then if (stat=
e > 0) then gCurrentRenderer:CamChangeZoom(-0.3) end end end)
 	=

-	-- repeat last command
-	Bind("g",		function (state) if (not gActiveEditText) then if (state > 0) =
then ChatLine_RepeatLast() end end end)
-	Bind("h",		function (state) if (not gActiveEditText) then if (state > 0) =
then RepeatLastDoubleClick() end end end)
 	=

-	-- select commands
-	Bind("q",		function (state) if (not gActiveEditText) then if (state > 0) =
then SelectNearestMobile() end end end)
-	Bind("e",		function (state) if (not gActiveEditText) then if (state > 0) =
then SelectNextMobile() end end end)
-	Bind("tab",		function (state) if (state > 0) then if (gActWarmode=3D=3DgW=
armode_Normal) then Send_CombatMode(gWarmode_Combat) else Send_CombatMode(g=
Warmode_Normal) end end end)
 	--~ Bind("m",		function (state) if (not gActiveEditText) then if (state >=
 0) then
 		--~ local player=3DGetMobile(gPlayerBodySerial)
 		--~ if player then player:DisplayTextOverHead("bla bla bla",10,10,10) end
 	--~ end end end)
-	Bind("space",	function (state) if (not gActiveEditText) then if (state > =
0) then AttackSelectedMobile() end end end)
 	=

 	-------------------------------------------------------------------------=
----------
 	Bind("f7",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
@@ -82,13 +62,6 @@
 	Bind("f9",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
 		local vp =3D OgreAddCompositor(GetMainViewport(), "EdgeDetection")
 	 end end end)
-	Bind("f10",		function (state) if (not gActiveEditText) then if (state > 0=
) then ShowDevTool() end end end)
-	Bind("f11",		function (state) if (not gActiveEditText) then if ((state > =
0) and (gCurrentRenderer =3D=3D Renderer3D)) then ShowFallBackTool() end en=
d end)
-	Bind("f12",		function (state) if (not gActiveEditText) then if (state > 0=
) then
-		ToggleCompass(state > 0)
-		Client_TakeGridScreenshot(gMainWorkingDir.."screenshots/")
-		ToggleCompass(state > 0)
-	end end end)
 =

 	if (false) then
 		local commandchar =3D "["

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Tue Nov 27 00:11:38 2007
@@ -15,6 +15,7 @@
 gMacroOpenCommands.Backpack			=3D function()	TogglePlayerBackpack()		end
 gMacroOpenCommands.Paperdoll		=3D function()	TogglePlayerPaperdoll()		end
 gMacroOpenCommands.Compass			=3D function()	ToggleCompass()				end
+gMacroOpenCommands.Logo				=3D function()	ToggleLogo() end
 =

 gMacroReadMobileStats =3D {}
 gMacroReadMobileStats.curHits		=3D true
@@ -46,8 +47,22 @@
 	f() =

 end
 =

+function MacroCmd_WalkToMouse			() 				if (gInGameStarted) then SetAutoWal=
kTarget() end end
+function MacroCmd_ShowFallBackTool		() 				if (gInGameStarted) then ShowFa=
llBackTool() end end
+function MacroCmd_ShowDevTool			() 				if (gInGameStarted) then ShowDevToo=
l() end end =

+function MacroCmd_ZoomCompass			(zoomfactor)	if (gInGameStarted) then Zoom=
Compass(zoomfactor) end end
+function MacroCmd_ActivateNextRenderer	()				if (gInGameStarted) then Acti=
vateNextRenderer() end end
+function MacroCmd_CamChangeZoom			(zoomadd)		if (gInGameStarted) then gCur=
rentRenderer:CamChangeZoom(zoomadd) end end
+function MacroCmd_Screenshot			()				Client_TakeScreenshot(gMainWorkingDir=
.."screenshots/") end
+function MacroCmd_GridScreenshot		() 			=

+	if (not gInGameStarted) then return end
+	ToggleCompass()
+	Client_TakeGridScreenshot(gMainWorkingDir.."screenshots/")
+	ToggleCompass()
+end
 =

 function MacroCmd_Skill					(skillname)
+	if (not gInGameStarted) then return end
 	local skillid =3D gCharCreateSkillIDs[skillname] -- zero based
 	if (not skillid) then return MacroErrorNameMismatch("MacroCmd_Skill",skil=
lname,gCharCreateSkillIDs) end
 	skillid =3D skillid + 1 -- one based needed below
@@ -56,6 +71,7 @@
 end
 =

 function MacroCmd_Spell					(spellname)
+	if (not gInGameStarted) then return end
 	if (not gMacroSpellsByName) then
 		gMacroSpellsByName =3D {}
 		for spellbookid,spellbookdata in pairs(gSpellBooks) do
@@ -71,25 +87,6 @@
 	local spellid =3D gMacroSpellsByName[spellname]
 	if (not spellid) then return MacroErrorNameMismatch("MacroCmd_Spell",spel=
lname,gMacroSpellsByName) end
 	Send_Spell(spellid)
-	-- gSpellBooks
-	-- Send_Spell(spellbutton.spell+gSpellBooks[spellbook.itemid].startindex)
-	-- spellbutton.spell=3Dspell+(circle-1)*spellnumber
-	--[[
-		local spellnumber=3Dtable.getn(gSpellBooks[spellbook.itemid].spells[circ=
le])
-		...
-		for spell=3D1, spellnumber do
-			if (TestBit(spellbook.matrix[circle], BitwiseSHL(1,spell-1))) then
-				-- increase number of available spells
-				spellcounter=3Dspellcounter+1
-				local spellbutton =3D MakeBorderGumpPart(curparent, hex2num("0x837"), =
60 + rightspacer, 20+((spellcounter+1)*15) - top_align)
-				spellbutton.spell=3Dspell+(circle-1)*spellnumber
-				spellbutton.mbIgnoreMouseOver =3D false
-				spellbutton.onLeftClick =3D function (widget)
-											Send_Spell(spellbutton.spell+gSpellBooks[spellbook.itemid].star=
tindex,gSpellbookExpansion["AOS"])
-										end
-			end
-		end
-]]--
 end
 =

 =

@@ -121,6 +118,8 @@
 	if (bShift	) then text =3D "shift+"..text end
 	return text
 end
+
+function ClearAllMacros () gMacroList =3D {} end
 =

 function SetMacro (keycomboname,fun) gMacroList[string.gsub(string.lower(k=
eycomboname)," ","")] =3D fun end
 =


Modified: trunk/data/mymacros.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/mymacros.lua.dist (original)
+++ trunk/data/mymacros.lua.dist Tue Nov 27 00:11:38 2007
@@ -10,22 +10,47 @@
 -- uncomment this line to print the current keyname on each keypress :
 -- gMacroPrintAllKeyCombos =3D true
 =

-SetMacro("ctrl+s",function() MacroCmd_Open("Status") end)	-- Open Status w=
indow
-SetMacro("alt+c",function() MacroCmd_ToggleWarmode() end)	-- Toggle betwee=
n War/Peace modes
-SetMacro("alt+p",function() MacroCmd_Open("Paperdoll") end)	-- Open Charac=
ter Window
-SetMacro("alt+k",function() MacroCmd_Open("Skill") end)	-- Open Skills
-SetMacro("alt+j",function() MacroCmd_Open("Journal") end)	-- Open Journal
-SetMacro("alt+i",function() MacroCmd_Open("Backpack") end)	-- Open Backpack
-SetMacro("alt+x",function() MacroCmd_Quit() end)	-- Quit game
-SetMacro("alt+b",function() MacroCmd_Say("*bow*") end)	-- Bow
-SetMacro("alt+s",function() MacroCmd_Say("*salute*") end)	-- Salute
+-- uncomment this line to clear all preset macros
+-- ClearAllMacros()
 =

-SetMacro("j",function() MacroCmd_Open("Journal") end)	-- Open Journal
-SetMacro("b",function() MacroCmd_Open("Backpack") end)	-- Open Backpack
-SetMacro("p",function() MacroCmd_Open("Paperdoll") end)	-- Open Character =
Window
-SetMacro("t",function() MacroCmd_Open("Status") end)	-- Open Status window
-SetMacro("k",function() MacroCmd_Open("Skill") end)	-- Open Skills
-SetMacro("c",function() MacroCmd_NextCamMode() end)	-- change cam mode
+SetMacro("ctrl+s",	function() MacroCmd_Open("Status") end)	-- Open Status =
window
+SetMacro("alt+c",	function() MacroCmd_ToggleWarmode() end)	-- Toggle betwe=
en War/Peace modes
+SetMacro("alt+p",	function() MacroCmd_Open("Paperdoll") end)	-- Open Chara=
cter Window
+SetMacro("alt+k",	function() MacroCmd_Open("Skill") end)	-- Open Skills
+SetMacro("alt+j",	function() MacroCmd_Open("Journal") end)	-- Open Journal
+SetMacro("alt+i",	function() MacroCmd_Open("Backpack") end)	-- Open Backpa=
ck
+SetMacro("alt+x",	function() MacroCmd_Quit() end)	-- Quit game
+SetMacro("alt+b",	function() MacroCmd_Say("*bow*") end)	-- Bow
+SetMacro("alt+s",	function() MacroCmd_Say("*salute*") end)	-- Salute
 =

--- SetMacro("ctrl+h",function() MacroCmd_Spell("Heal") end)
--- SetMacro("ctrl+a",function() MacroCmd_Skill("Anatomy") end)
+SetMacro("j",		function() MacroCmd_Open("Journal") end)	-- Open Journal
+SetMacro("b",		function() MacroCmd_Open("Backpack") end)	-- Open Backpack
+SetMacro("p",		function() MacroCmd_Open("Paperdoll") end)	-- Open Characte=
r Window
+SetMacro("t",		function() MacroCmd_Open("Status") end)	-- Open Status wind=
ow
+SetMacro("k",		function() MacroCmd_Open("Skill") end)	-- Open Skills
+SetMacro("c",		function() MacroCmd_NextCamMode() end)	-- change cam mode
+
+-- SetMacro("ctrl+h",	function() MacroCmd_Spell("Heal") end)
+-- SetMacro("ctrl+a",	function() MacroCmd_Skill("Anatomy") end)
+
+SetMacro("l",			function() MacroCmd_Open("Logo") end)
+SetMacro("n",			function() MacroCmd_Open("Compass") end)
+SetMacro("tab",			function() MacroCmd_ToggleWarmode() end)
+SetMacro("komma",		function() MacroCmd_ZoomCompass(1*1.5) end)
+SetMacro("point",		function() MacroCmd_ZoomCompass(1/1.5) end)
+SetMacro("f10",			function() MacroCmd_ShowDevTool() end)
+SetMacro("f11",			function() MacroCmd_ShowFallBackTool() end)
+SetMacro("f12",			function() MacroCmd_GridScreenshot() end)
+SetMacro("v",			function() MacroCmd_Screenshot() end)
+SetMacro("x",			function() MacroCmd_CamChangeZoom( 1) end)
+SetMacro("y",			function() MacroCmd_CamChangeZoom(-1) end)
+SetMacro("wheelup",		function() MacroCmd_CamChangeZoom( 0.3) end)
+SetMacro("wheeldown",	function() MacroCmd_CamChangeZoom(-0.3) end)
+
+SetMacro("g",			function() MacroCmd_RepeatLastChat() end)
+SetMacro("h",			function() MacroCmd_RepeatLastDoubleClick() end)
+SetMacro("q",			function() MacroCmd_SelectNearestMobile() end)
+SetMacro("e",			function() MacroCmd_SelectNextMobile() end)
+SetMacro("space",		function() MacroCmd_AttackSelectedMobile() end) -- curr=
ently broken
+SetMacro("z",			function() MacroCmd_ActivateNextRenderer() end) -- current=
ly broken
+SetMacro("u",			function() MacroCmd_WalkToMouse() end) -- currently broken



From no-reply at zwischenwelt.org  Tue Nov 27 00:36:41 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Mon, 26 Nov 2007 23:36:41 -0000
Subject: [Iris-commit] [IRIS] r1549 - in /trunk: README
	data/lua/lib.keybinds.lua
Message-ID: <20071126233641.59B081C182C4@zwischenwelt.org>

Author: ghoulsblade
Date: Tue Nov 27 00:36:40 2007
New Revision: 1549

Log:
adjusted readme and added note to keybinds.lua

Modified:
    trunk/README
    trunk/data/lua/lib.keybinds.lua

Modified: trunk/README
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/README (original)
+++ trunk/README Tue Nov 27 00:36:40 2007
@@ -79,7 +79,7 @@
 -hold left mouse button to look around
 -use w,a,s,d,r,f to move cam
 =

-to set macros, edit data/mymacros.lua
+to set macros and edit keybinds, edit data/mymacros.lua
 =

 =3D=3D command line switches (mainly for debug) =3D=3D
 -c 								: shows console window under win32

Modified: trunk/data/lua/lib.keybinds.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.keybinds.lua (original)
+++ trunk/data/lua/lib.keybinds.lua Tue Nov 27 00:36:40 2007
@@ -18,7 +18,9 @@
 	gLastCursor =3D 0
 	BindGeneralKeys()
 	=

-	-- soemthing
+     -- most keybinds have been moved to the macrosystem, see data/mymacro=
s.lua
+
+     -- chatline
 	Bind("return",	function (state) if (state > 0) then ChatLine_ToggleActive=
() end end)
 	=

 	-- additional movement key handling in lib.tilefreewalk (for pressed keys)
@@ -34,6 +36,7 @@
 		--~ if player then player:DisplayTextOverHead("bla bla bla",10,10,10) end
 	--~ end end end)
 	=

+	-- debug and testing...
 	-------------------------------------------------------------------------=
----------
 	Bind("f7",		function (state) if (not gActiveEditText) then if (state > 0)=
 then
 		if (gAmbientLight.r < 1.0) then



From no-reply at zwischenwelt.org  Tue Nov 27 12:57:42 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 27 Nov 2007 11:57:42 -0000
Subject: [Iris-commit] [IRIS] r1550 - /trunk/premake.lua
Message-ID: <20071127115743.274631C18228@zwischenwelt.org>

Author: hagish
Date: Tue Nov 27 12:57:36 2007
New Revision: 1550

Log:
adjusted premake to put bin into the bin directory

Modified:
    trunk/premake.lua

Modified: trunk/premake.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/premake.lua (original)
+++ trunk/premake.lua Tue Nov 27 12:57:36 2007
@@ -71,7 +71,7 @@
 package.name =3D "iris"
 package.kind =3D "exe"
 package.language =3D "c++"
--- project.bindir =3D "bin"
+project.bindir =3D "bin"
 package.buildflags =3D { "extra-warnings", "optimize" }
 package.buildoptions =3D {}
 =




From no-reply at zwischenwelt.org  Tue Nov 27 13:26:37 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 27 Nov 2007 12:26:37 -0000
Subject: [Iris-commit] [IRIS] r1551 - in /trunk/data: lua/lib.macrolist.lua
	mymacros.lua.dist
Message-ID: <20071127122637.F2EA81C18228@zwischenwelt.org>

Author: ghoulsblade
Date: Tue Nov 27 13:26:37 2007
New Revision: 1551

Log:
added itemslot macro commands

Modified:
    trunk/data/lua/lib.macrolist.lua
    trunk/data/mymacros.lua.dist

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Tue Nov 27 13:26:37 2007
@@ -17,6 +17,7 @@
 gMacroOpenCommands.Compass			=3D function()	ToggleCompass()				end
 gMacroOpenCommands.Logo				=3D function()	ToggleLogo() end
 =

+gMacroItemSlots =3D {}
 gMacroReadMobileStats =3D {}
 gMacroReadMobileStats.curHits		=3D true
 gMacroReadMobileStats.maxHits		=3D true
@@ -59,6 +60,23 @@
 	ToggleCompass()
 	Client_TakeGridScreenshot(gMainWorkingDir.."screenshots/")
 	ToggleCompass()
+end
+
+-- set itemserial =3D 0 to clear
+-- itemserial defaults to the serial of the item currently under the mouse
+function MacroCmd_ItemSlot_Set	(slotnumber,itemserial) 	=

+	if (not gInGameStarted) then return end
+	if (not itemserial) then itemserial =3D gCurrentRenderer:GetMouseHitSeria=
l() end -- itemserial_under_mouse
+	if (itemserial =3D=3D 0) then itemserial =3D nil end -- set 0 to clear
+	print("MacroCmd_ItemSlot_Set",slotnumber,itemserial)
+	gMacroItemSlots[slotnumber] =3D itemserial
+end
+
+function MacroCmd_ItemSlot_Use	(slotnumber)
+	local itemserial =3D gMacroItemSlots[slotnumber]
+	if (not itemserial) then return MacroError("MacroCmd_ItemSlot_Use : no it=
em in slot "..tostring(slotnumber)) end
+	print("MacroCmd_ItemSlot_Use",slotnumber,itemserial)
+	Send_DoubleClick(itemserial)
 end
 =

 function MacroCmd_Skill					(skillname)

Modified: trunk/data/mymacros.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/mymacros.lua.dist (original)
+++ trunk/data/mymacros.lua.dist Tue Nov 27 13:26:37 2007
@@ -54,3 +54,16 @@
 SetMacro("space",		function() MacroCmd_AttackSelectedMobile() end) -- curr=
ently broken
 SetMacro("z",			function() MacroCmd_ActivateNextRenderer() end) -- current=
ly broken
 SetMacro("u",			function() MacroCmd_WalkToMouse() end) -- currently broken
+
+
+SetMacro("ctrl+f1",		function() MacroCmd_ItemSlot_Set(1) end)
+SetMacro("ctrl+f2",		function() MacroCmd_ItemSlot_Set(2) end)
+SetMacro("ctrl+f3",		function() MacroCmd_ItemSlot_Set(3) end)
+SetMacro("ctrl+f4",		function() MacroCmd_ItemSlot_Set(4) end)
+
+SetMacro("f1",			function() MacroCmd_ItemSlot_Use(1) end)
+SetMacro("f2",			function() MacroCmd_ItemSlot_Use(2) end)
+SetMacro("f3",			function() MacroCmd_ItemSlot_Use(3) end)
+SetMacro("f4",			function() MacroCmd_ItemSlot_Use(4) end)
+
+



From no-reply at zwischenwelt.org  Tue Nov 27 13:28:54 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 27 Nov 2007 12:28:54 -0000
Subject: [Iris-commit] [IRIS] r1552 - /trunk/data/lua/lib.macrolist.lua
Message-ID: <20071127122854.60A311C18223@zwischenwelt.org>

Author: ghoulsblade
Date: Tue Nov 27 13:28:54 2007
New Revision: 1552

Log:
itemslot fadelines message

Modified:
    trunk/data/lua/lib.macrolist.lua

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Tue Nov 27 13:28:54 2007
@@ -69,6 +69,7 @@
 	if (not itemserial) then itemserial =3D gCurrentRenderer:GetMouseHitSeria=
l() end -- itemserial_under_mouse
 	if (itemserial =3D=3D 0) then itemserial =3D nil end -- set 0 to clear
 	print("MacroCmd_ItemSlot_Set",slotnumber,itemserial)
+	AddFadeLines("ItemSlot "..tostring(slotnumber).." set")
 	gMacroItemSlots[slotnumber] =3D itemserial
 end
 =




From no-reply at zwischenwelt.org  Tue Nov 27 13:38:39 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 27 Nov 2007 12:38:39 -0000
Subject: [Iris-commit] [IRIS] r1553 - /trunk/data/lua/lib.macrolist.lua
Message-ID: <20071127123839.EF6101C18223@zwischenwelt.org>

Author: ghoulsblade
Date: Tue Nov 27 13:38:39 2007
New Revision: 1553

Log:
fadeline displays slotnumber and itemname on macro-slot-set

Modified:
    trunk/data/lua/lib.macrolist.lua

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Tue Nov 27 13:38:39 2007
@@ -69,7 +69,9 @@
 	if (not itemserial) then itemserial =3D gCurrentRenderer:GetMouseHitSeria=
l() end -- itemserial_under_mouse
 	if (itemserial =3D=3D 0) then itemserial =3D nil end -- set 0 to clear
 	print("MacroCmd_ItemSlot_Set",slotnumber,itemserial)
-	AddFadeLines("ItemSlot "..tostring(slotnumber).." set")
+	local item =3D itemserial and GetObjectBySerial(itemserial)
+	local itemname =3D item and GetStaticTileTypeName(item.artid) or "empty"
+	AddFadeLines("ItemSlot "..tostring(slotnumber).." set to "..tostring(item=
name))
 	gMacroItemSlots[slotnumber] =3D itemserial
 end
 =




From no-reply at zwischenwelt.org  Tue Nov 27 17:25:28 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 27 Nov 2007 16:25:28 -0000
Subject: [Iris-commit] [IRIS] r1554 - /trunk/start.sh
Message-ID: <20071127162528.DDE211C18228@zwischenwelt.org>

Author: ghoulsblade
Date: Tue Nov 27 17:25:28 2007
New Revision: 1554

Log:
adjusted start.sh to use the binary in the bin dir created by premake

Modified:
    trunk/start.sh

Modified: trunk/start.sh
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/start.sh (original)
+++ trunk/start.sh Tue Nov 27 17:25:28 2007
@@ -2,5 +2,6 @@
 pushd bin
 #../src/irisogre
 # start, and transmit up to 8 parameters (i don't know how to transmit all=
, and 8 should be enough for a while)
-../iris $1 $2 $3 $4 $5 $6 $7 $8 =

+./iris $1 $2 $3 $4 $5 $6 $7 $8 =

+#~ ../iris $1 $2 $3 $4 $5 $6 $7 $8 =

 popd



From no-reply at zwischenwelt.org  Tue Nov 27 20:55:18 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Tue, 27 Nov 2007 19:55:18 -0000
Subject: [Iris-commit] [IRIS] r1555 - in /trunk: INSTALL
 data/lua/lib.3d.cam.lua data/lua/lib.gumpparser.lua
 data/lua/lib.input.iris.lua data/lua/lib.journal.lua
 data/lua/lib.mousepick.lua data/lua/lib.tilefreewalk.lua
 data/lua/net.other.lua data/lua/net.trade.lua
Message-ID: <20071127195518.263391C18228@zwischenwelt.org>

Author: ghoulsblade
Date: Tue Nov 27 20:55:17 2007
New Revision: 1555

Log:
fixed npcshop/vendor order, prevented cam movement for mouseclick on gumps,=
 fixed item dragdrop, improved journal linecalc a bit, prevented walk when =
rightlcicking things, unicode workaround for german umlauts, adjusted INSTA=
LL for premake instead of scons

Modified:
    trunk/INSTALL
    trunk/data/lua/lib.3d.cam.lua
    trunk/data/lua/lib.gumpparser.lua
    trunk/data/lua/lib.input.iris.lua
    trunk/data/lua/lib.journal.lua
    trunk/data/lua/lib.mousepick.lua
    trunk/data/lua/lib.tilefreewalk.lua
    trunk/data/lua/net.other.lua
    trunk/data/lua/net.trade.lua

Modified: trunk/INSTALL
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/INSTALL (original)
+++ trunk/INSTALL Tue Nov 27 20:55:17 2007
@@ -18,8 +18,7 @@
 =

 =3D=3D compile from source =3D=3D
 =

-scons configure && scons
-(you need scons to compile, e.g. apt-get install scons)
+./premakelinux.sh
 =

 to start the compiled executable run
 ./start.sh 				in main directory =


Modified: trunk/data/lua/lib.3d.cam.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.cam.lua (original)
+++ trunk/data/lua/lib.3d.cam.lua Tue Nov 27 20:55:17 2007
@@ -34,7 +34,7 @@
  =

 function Renderer3D:CamKeyDown(key) =

 	if (not gActiveEditText) then =

-		if (key =3D=3D gInput_CamMouseButton and (not self.gCamMoveWithMouse)) t=
hen =

+		if (key =3D=3D gInput_CamMouseButton and (not self.gCamMoveWithMouse) an=
d (not gLastMouseDownWidget)) then =

 			self.gCamMoveWithMouse =3D true =

 			self.gCamMoveWithMouse_OffX,self.gCamMoveWithMouse_OffY =3D GetMousePos=
()
 		end

Modified: trunk/data/lua/lib.gumpparser.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gumpparser.lua (original)
+++ trunk/data/lua/lib.gumpparser.lua Tue Nov 27 20:55:17 2007
@@ -173,7 +173,7 @@
 					local msg =3D HtmlParser( gClilocLoader and gClilocLoader:Get(bToken[=
6]) or "no_cliloc" )
 --					print("Cliloc Msg ("..bToken[6].."): "..msg.text)
 					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,
-																	bToken[4], bToken[5], msg.text, msg.charh, {1.0,1.0,1.0,1=
.0},
+																	bToken[4], bToken[5], UnicodeFix(msg.text), msg.charh, {1=
.0,1.0,1.0,1.0},
 																	msg.center, msg.div, gFontNameDefault)
 				--xmfhtmlgumpcolor <x> <y> <width> <height> <cliloc-nr> <background> <=
scrollbar> <color>
 				--Description:	<background> and <scrollbar> can be 0 or 1 and define w=
hether the background is transparent and
@@ -183,7 +183,7 @@
 					local msg =3D HtmlParser(  gClilocLoader and gClilocLoader:Get(bToken=
[6]) or "no_cliloc" )
 --					print("Cliloc Msg ("..bToken[6].."): "..msg.text)
 					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,
-																	bToken[4], bToken[5], msg.text, msg.charh, {1.0,1.0,1.0,1=
.0},
+																	bToken[4], bToken[5], UnicodeFix(msg.text), msg.charh, {1=
.0,1.0,1.0,1.0},
 																	msg.center, msg.div, gFontNameDefault)
 				--gumppic <x> <y> <gumpid> [hue=3D353]
 				--Description:  Adds a graphic to the gump, where <id> ist the graphic=
 id of an item.
@@ -208,7 +208,7 @@
 				-- TODO : HUE-color
 				elseif ((command =3D=3D "text") and (table.getn(bToken)>=3D 5)) then
 					local text =3D Gumpdata.textline[tonumber(bToken[5])] or "No text"
-					local widget =3D guimaker.MakeText (curparent, bToken[2], bToken[3]+g=
Horizontal_Textcorrection, text,
+					local widget =3D guimaker.MakeText (curparent, bToken[2], bToken[3]+g=
Horizontal_Textcorrection, UnicodeFix(text),
 														gFontGumpSize, {190/255,237/255,231/255,1.0}, gFontNameDefau=
lt)
 				--Button <x> <y> <released-id> <pressed-id> <quit> <page-id> <return-v=
alue>
 				--Description:  Adds a button to the gump with the specified coordinat=
es and button graphics.
@@ -259,7 +259,7 @@
 				elseif ((command =3D=3D "textentry") and (table.getn(bToken)>=3D 8)) t=
hen
 					local widget =3D CreatePlainEditText (curparent, bToken[2], bToken[3]=
, bToken[4], bToken[5], {1.0,1.0,1.0,1.0})
 					local text =3D Gumpdata.textline[tonumber(bToken[8])] or "No textentr=
y"
-					widget:SetText(text)
+					widget:SetText(UnicodeFix(text))
 =

 					widget.mbIgnoreMouseOver =3D false
 					widget.returnmsg =3D tonumber(bToken[7])
@@ -290,7 +290,7 @@
 				elseif ((command =3D=3D "croppedtext") and (table.getn(bToken)>=3D 7))=
 then
 					local msg =3D HtmlParser( Gumpdata.textline[tonumber(bToken[7])] )
 					local widget =3D guimaker.MakeWrappedClippedText (curparent, bToken[2=
], bToken[3]+gHorizontal_Textcorrection,
-																	bToken[4], bToken[5], msg.text, msg.charh, {92/255,92/255=
,178/255,1.0},
+																	bToken[4], bToken[5], UnicodeFix(msg.text), msg.charh, {9=
2/255,92/255,178/255,1.0},
 																	msg.center, msg.div, gFontNameDefault)
 				--radio <x> <y> <released gumpid> <pressed gumpid> <status> <return-va=
lue>
 				--Description:  Same as Checkbox, but only one Radiobutton can be pres=
sed at the same time, except they are per linked via the 'Group' command.

Modified: trunk/data/lua/lib.input.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.input.iris.lua (original)
+++ trunk/data/lua/lib.input.iris.lua Tue Nov 27 20:55:17 2007
@@ -17,6 +17,7 @@
 RegisterListener("mouse_right_up",			function () CancelAutoWalk() end)
 =

 RegisterListener("mouse_left_click_double",	function () IrisDoubleClick() =
end)
-RegisterListener("mouse_left_drag_start",	function () MouseDownUODragDrop(=
) end)
+--~ RegisterListener("mouse_left_drag_start",	function () MouseDownUODragD=
rop() end)
+RegisterListener("mouse_left_down",			function () MouseDownUODragDrop() en=
d)
 =

 -- for keybinds see data/lua/lib.keybinds.lua

Modified: trunk/data/lua/lib.journal.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.journal.lua (original)
+++ trunk/data/lua/lib.journal.lua Tue Nov 27 20:55:17 2007
@@ -75,7 +75,7 @@
 	local left,top,w,h =3D gJournalDialog:GetLTWH()
 	local bx1,by1,bx2,by2 =3D JournalGetTextBorder()
 	local iw,ih =3D w-bx1-bx2	, h-by1-by2
-	local maxlines =3D math.max(0,math.floor(ih/gFontGumpSize)-1)
+	local maxlines =3D math.max(0,math.floor(ih/(gFontGumpSize + 5))-1)
 	local text =3D ""
 	local iNumLines =3D table.getn(gJournalEntries)
 	for i=3Dmath.max(1,iNumLines-maxlines),iNumLines do text =3D text..gJourn=
alEntries[i] end

Modified: trunk/data/lua/lib.mousepick.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.mousepick.lua (original)
+++ trunk/data/lua/lib.mousepick.lua Tue Nov 27 20:55:17 2007
@@ -64,9 +64,11 @@
 =

 function IrisRightClick ()
 	local iSerial =3D gCurrentRenderer:GetMouseHitSerial()
+	gLastRightClickSerial =3D nil
 	if (iSerial and iSerial ~=3D 0) then =

 		printdebug("UO","IrisRightClick: serial=3D0x%08x\n",iSerial)
 		Send_PopupRequest(iSerial) =

+		gLastRightClickSerial =3D iSerial
 	end
 end
 =


Modified: trunk/data/lua/lib.tilefreewalk.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.tilefreewalk.lua (original)
+++ trunk/data/lua/lib.tilefreewalk.lua Tue Nov 27 20:55:17 2007
@@ -74,7 +74,7 @@
 =

 function gTileFreeWalk:Step	()
 	if (gCurrentRenderer ~=3D Renderer3D) then return end
-	local bWalkInMouseDir	=3D gKeyPressed[key_mouse2] and (not gLastMouseDown=
Widget)
+	local bWalkInMouseDir	=3D gKeyPressed[key_mouse2] and (not gLastMouseDown=
Widget) and (not gLastRightClickSerial)
 	local bWalkForward		=3D (not gActiveEditText) and gKeyPressed[key_up]		=

 	local bWalkBackwards	=3D (not gActiveEditText) and gKeyPressed[key_down]	=

 	local bTurnLeft			=3D (not gActiveEditText) and gKeyPressed[key_left]	=


Modified: trunk/data/lua/net.other.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.other.lua (original)
+++ trunk/data/lua/net.other.lua Tue Nov 27 20:55:17 2007
@@ -163,6 +163,24 @@
 	print("PingPong")
 end
 =

+
+-- hack to replace german umlauts by two letters (ae)
+function UnicodeFix (text) =

+	--~ local mytext =3D ""
+	--~ local len =3D string.len(text)
+	--~ for i=3D1,len do mytext =3D mytext..string.byte(text,i).."_"..string.=
sub(text,i,i).."#" end
+	--~ print("UnicodeFix ##"..mytext.."##")
+	text =3D string.gsub(text,"\196","AE")
+	text =3D string.gsub(text,"\214","OE")
+	text =3D string.gsub(text,"\220","UE")
+	text =3D string.gsub(text,"\228","ae")
+	text =3D string.gsub(text,"\246","oe")
+	text =3D string.gsub(text,"\252","ue")
+	text =3D string.gsub(text,"\223","ss")
+	return text
+end
+
+
 -- TODO : implement all subpackets
 function gPacketHandler.kPacket_Generic_Command()
 	local input =3D GetRecvFIFO()
@@ -440,6 +458,7 @@
 =

 	printdebug("net",sprintf("NET: Text id: 0x%08x model id: 0x%08x Message: =
%s\n",mobile_serial,text_item_model,text_message) )
 	local plaintext =3D string.gsub(text_message,"<br>","\n")
+	plaintext =3D UnicodeFix(plaintext)
 	AddFadeLines(sprintf("%s: %s",text_charname,plaintext)) -- TODO : color,f=
ont,...
 	=

 	-- check if player -> then show text over player head
@@ -507,6 +526,7 @@
 		plaintext =3D string.gsub(text_message,"<br>","\n")
 	end
 	-- TODO : Display as TOOLTIP !
+	plaintext =3D UnicodeFix(plaintext)
 	AddFadeLines(sprintf("%s: %s",text_charname,plaintext)) -- TODO : color,f=
ont,...
 end
 =

@@ -526,6 +546,8 @@
 =

 	Mobile_NameHint(mobile_serial,unitext_item_model,unitext_name,unitext_mes=
sage)
 	printdebug("net",sprintf("NET: UnicodeText speakerid: %i name: %s txtsize=
: %i msg: %s\n",mobile_serial,unitext_name,(unitext_size-48)/2,unitext_mess=
age) )
+	=

+	unitext_message =3D UnicodeFix(unitext_message)
 	AddFadeLines(unitext_name..": "..string.gsub(unitext_message,"<br>","\n")=
) -- TODO : unicode
 	JournalAddText(unitext_name,unitext_message)
 =


Modified: trunk/data/lua/net.trade.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.trade.lua (original)
+++ trunk/data/lua/net.trade.lua Tue Nov 27 20:55:17 2007
@@ -149,9 +149,9 @@
 		local sorteditems =3D {}
 		for k,v in pairs(container:GetContent()) do table.insert(sorteditems,v) =
end
 		if (gPolServer) then
+			table.sort(sorteditems,CompareSerialAsc)
+		else
 			table.sort(sorteditems,CompareSerialDesc)
-		else
-			table.sort(sorteditems,CompareSerialAsc)
 		end
 		=

 		-- check if the shop matches the container



From no-reply at zwischenwelt.org  Wed Nov 28 17:35:51 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 28 Nov 2007 16:35:51 -0000
Subject: [Iris-commit] [IRIS] r1556 - in /trunk/data: lua/lib.journal.lua
 lua/lib.macrolist.lua lua/net.cursor.lua mymacros.lua.dist
Message-ID: <20071128163551.1FBE71C1829E@zwischenwelt.org>

Author: ghoulsblade
Date: Wed Nov 28 17:35:50 2007
New Revision: 1556

Log:
MacroCmd_TargetLast

Modified:
    trunk/data/lua/lib.journal.lua
    trunk/data/lua/lib.macrolist.lua
    trunk/data/lua/net.cursor.lua
    trunk/data/mymacros.lua.dist

Modified: trunk/data/lua/lib.journal.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.journal.lua (original)
+++ trunk/data/lua/lib.journal.lua Wed Nov 28 17:35:50 2007
@@ -75,7 +75,7 @@
 	local left,top,w,h =3D gJournalDialog:GetLTWH()
 	local bx1,by1,bx2,by2 =3D JournalGetTextBorder()
 	local iw,ih =3D w-bx1-bx2	, h-by1-by2
-	local maxlines =3D math.max(0,math.floor(ih/(gFontGumpSize + 5))-1)
+	local maxlines =3D math.max(0,math.floor(ih/(gFontGumpSize + 4))-1)
 	local text =3D ""
 	local iNumLines =3D table.getn(gJournalEntries)
 	for i=3Dmath.max(1,iNumLines-maxlines),iNumLines do text =3D text..gJourn=
alEntries[i] end

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Wed Nov 28 17:35:50 2007
@@ -46,6 +46,19 @@
 	local f =3D gMacroOpenCommands[dialogtype] =

 	if (not f) then return MacroErrorNameMismatch("MacroCmd_Open",dialogtype,=
gMacroOpenCommands) end
 	f() =

+end
+
+gMacroLastTarget =3D nil
+function MacroRememberTarget (hitobject)
+	gMacroLastTarget =3D {}
+	for k,v in pairs(hitobject) do gMacroLastTarget[k] =3D v end
+end
+
+function MacroCmd_TargetLast	() 		-- repeat the last target	=

+	RegisterListener("Hook_StartTargetMode",function () =

+			if (gMacroLastTarget) then CompleteTargetMode(gMacroLastTarget) end
+			return true
+		end)
 end
 =

 function MacroCmd_WalkToMouse			() 				if (gInGameStarted) then SetAutoWal=
kTarget() end end

Modified: trunk/data/lua/net.cursor.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.cursor.lua (original)
+++ trunk/data/lua/net.cursor.lua Wed Nov 28 17:35:50 2007
@@ -176,13 +176,18 @@
 		CleanupTargetMode()
 		gAutoTargetMobile =3D nil
 	end
-end
-
-function CompleteTargetMode ()
-	gCurrentRenderer:MousePick()
-	--AddFadeLines("CompleteTargetMode")
-	if (not gMousePickFoundHit) then CancelTargetMode() return end
-	=

+	NotifyListener("Hook_StartTargetMode")
+end
+
+function CompleteTargetMode (hitobject)
+	if (not hitobject) then
+		gCurrentRenderer:MousePick()
+		--AddFadeLines("CompleteTargetMode")
+		if (not gMousePickFoundHit) then CancelTargetMode() return end
+		hitobject =3D gMousePickFoundHit
+	end
+	=

+	MacroRememberTarget(hitobject)
 	local bSendPos =3D true
 =

 --	if (gTargetModeType =3D=3D kTargetModeType_Object) then

Modified: trunk/data/mymacros.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/mymacros.lua.dist (original)
+++ trunk/data/mymacros.lua.dist Wed Nov 28 17:35:50 2007
@@ -66,4 +66,5 @@
 SetMacro("f3",			function() MacroCmd_ItemSlot_Use(3) end)
 SetMacro("f4",			function() MacroCmd_ItemSlot_Use(4) end)
 =

+SetMacro("f5",			function() MacroCmd_ItemSlot_Use(1) MacroCmd_TargetLast()=
 end)
 =




From no-reply at zwischenwelt.org  Wed Nov 28 17:45:18 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 28 Nov 2007 16:45:18 -0000
Subject: [Iris-commit] [IRIS] r1557 - /trunk/data/lua/lib.macrolist.lua
Message-ID: <20071128164519.00F041C1829E@zwischenwelt.org>

Author: ghoulsblade
Date: Wed Nov 28 17:45:17 2007
New Revision: 1557

Log:
MacroCmd_TargetLast improved to avoid stacking

Modified:
    trunk/data/lua/lib.macrolist.lua

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Wed Nov 28 17:45:17 2007
@@ -48,15 +48,19 @@
 	f() =

 end
 =

-gMacroLastTarget =3D nil
+gMacroLastTargetMemory =3D nil
+gMacroTargetLastRunning =3D false
 function MacroRememberTarget (hitobject)
-	gMacroLastTarget =3D {}
-	for k,v in pairs(hitobject) do gMacroLastTarget[k] =3D v end
+	gMacroLastTargetMemory =3D {}
+	for k,v in pairs(hitobject) do gMacroLastTargetMemory[k] =3D v end
 end
 =

 function MacroCmd_TargetLast	() 		-- repeat the last target	=

+	if (gMacroTargetLastRunning) then return end
+	gMacroTargetLastRunning =3D true
 	RegisterListener("Hook_StartTargetMode",function () =

-			if (gMacroLastTarget) then CompleteTargetMode(gMacroLastTarget) end
+			if (gMacroLastTargetMemory) then CompleteTargetMode(gMacroLastTargetMem=
ory) end
+			gMacroTargetLastRunning =3D false
 			return true
 		end)
 end



From no-reply at zwischenwelt.org  Wed Nov 28 17:58:36 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 28 Nov 2007 16:58:36 -0000
Subject: [Iris-commit] [IRIS] r1558 - /trunk/data/lua/net.cursor.lua
Message-ID: <20071128165836.93E351C18279@zwischenwelt.org>

Author: ghoulsblade
Date: Wed Nov 28 17:58:36 2007
New Revision: 1558

Log:
MacroCmd_TargetLast fix

Modified:
    trunk/data/lua/net.cursor.lua

Modified: trunk/data/lua/net.cursor.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.cursor.lua (original)
+++ trunk/data/lua/net.cursor.lua Wed Nov 28 17:58:36 2007
@@ -191,20 +191,20 @@
 	local bSendPos =3D true
 =

 --	if (gTargetModeType =3D=3D kTargetModeType_Object) then
-		if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_ContainerItem)  =
then bSendPos =3D false Send_Target_Item(gMousePickFoundHit.item) end =

-		if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_PaperdollItem)  =
then bSendPos =3D false Send_Target_Item(gMousePickFoundHit.item) end
+		if (hitobject.hittype =3D=3D kMousePickHitType_ContainerItem)  then bSen=
dPos =3D false Send_Target_Item(hitobject.item) end =

+		if (hitobject.hittype =3D=3D kMousePickHitType_PaperdollItem)  then bSen=
dPos =3D false Send_Target_Item(hitobject.item) end
 --	end
 	--targetcursormodetype must be ignored!
-	if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_Dynamic) 		then b=
SendPos =3D false Send_Target_Dynamic(gMousePickFoundHit.dynamic) end
+	if (hitobject.hittype =3D=3D kMousePickHitType_Dynamic) 		then bSendPos =
=3D false Send_Target_Dynamic(hitobject.dynamic) end
 	--targetcursormodetype must be ignored!
-	if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_Mobile)  		then b=
SendPos =3D false Send_Target_Mobile(gMousePickFoundHit.mobile) end =

+	if (hitobject.hittype =3D=3D kMousePickHitType_Mobile)  		then bSendPos =
=3D false Send_Target_Mobile(hitobject.mobile) end =

 	=

 	-- in object and pos pick ?
-	if (gMousePickFoundHit.hittype =3D=3D kMousePickHitType_Static) then =

+	if (hitobject.hittype =3D=3D kMousePickHitType_Static) then =

 		bSendPos =3D false =

 =

 		local x,y,z =3D gCurrentRenderer:GetMouseHitTileCoords()
-		Send_Target_Static(x,y,z,gMousePickFoundHit.entity)
+		Send_Target_Static(x,y,z,hitobject.entity)
 	end
 		=

 	if (bSendPos) then



From no-reply at zwischenwelt.org  Wed Nov 28 23:16:32 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Wed, 28 Nov 2007 22:16:32 -0000
Subject: [Iris-commit] [IRIS] r1559 - /trunk/data/lua/lib.uodragdrop.lua
Message-ID: <20071128221632.6BAA81C1829E@zwischenwelt.org>

Author: ghoulsblade
Date: Wed Nov 28 23:16:31 2007
New Revision: 1559

Log:
split drag with shift

Modified:
    trunk/data/lua/lib.uodragdrop.lua

Modified: trunk/data/lua/lib.uodragdrop.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.uodragdrop.lua (original)
+++ trunk/data/lua/lib.uodragdrop.lua Wed Nov 28 23:16:31 2007
@@ -278,7 +278,7 @@
 	-- TODO better amount handling
 	local amount =3D gDragDrop.item.amount
 	-- take only half the amount if shift is pressed
-	if gKeyPressed[key_lalt] and amount then amount =3D math.floor(amount / 2=
) end
+	if (gKeyPressed[key_lalt] or gKeyPressed[key_lshift]) and amount then amo=
unt =3D math.floor(amount / 2) end
 =

 	Send_Take_Object(gDragDrop.item.serial,amount)
 	gui.bMouseBlocked =3D true



From no-reply at zwischenwelt.org  Thu Nov 29 01:35:37 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 29 Nov 2007 00:35:37 -0000
Subject: [Iris-commit] [IRIS] r1560 - /trunk/data/lua/lib.macrolist.lua
Message-ID: <20071129003537.786041C1829E@zwischenwelt.org>

Author: ghoulsblade
Date: Thu Nov 29 01:35:37 2007
New Revision: 1560

Log:
improved macro code a bit

Modified:
    trunk/data/lua/lib.macrolist.lua

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Thu Nov 29 01:35:37 2007
@@ -55,12 +55,13 @@
 	for k,v in pairs(hitobject) do gMacroLastTargetMemory[k] =3D v end
 end
 =

-function MacroCmd_TargetLast	() 		-- repeat the last target	=

+function MacroCmd_TargetLast	(completefun) 		-- repeat the last target	=

 	if (gMacroTargetLastRunning) then return end
 	gMacroTargetLastRunning =3D true
 	RegisterListener("Hook_StartTargetMode",function () =

 			if (gMacroLastTargetMemory) then CompleteTargetMode(gMacroLastTargetMem=
ory) end
 			gMacroTargetLastRunning =3D false
+			if (completefun) then completefun() end
 			return true
 		end)
 end
@@ -77,6 +78,19 @@
 	ToggleCompass()
 	Client_TakeGridScreenshot(gMainWorkingDir.."screenshots/")
 	ToggleCompass()
+end
+
+
+function MacroCmd_Item_UseByName	(itemnamepart)
+	local backpack_container =3D GetPlayerBackPackContainer()
+	if (not backpack_container) then return end
+	for k,item in pairs(container:GetContent()) do =

+		local name =3D GetStaticTileTypeName(item.artid)
+		if (name and string.find(name,itemnamepart)) then
+			Send_DoubleClick(item.serial)
+			return true
+		end
+	end
 end
 =

 -- set itemserial =3D 0 to clear



From no-reply at zwischenwelt.org  Thu Nov 29 01:43:33 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 29 Nov 2007 00:43:33 -0000
Subject: [Iris-commit] [IRIS] r1561 - /trunk/data/lua/lib.macrolist.lua
Message-ID: <20071129004336.39AE21C18279@zwischenwelt.org>

Author: ghoulsblade
Date: Thu Nov 29 01:43:32 2007
New Revision: 1561

Log:
improved macro code a bit

Modified:
    trunk/data/lua/lib.macrolist.lua

Modified: trunk/data/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.macrolist.lua (original)
+++ trunk/data/lua/lib.macrolist.lua Thu Nov 29 01:43:32 2007
@@ -84,7 +84,7 @@
 function MacroCmd_Item_UseByName	(itemnamepart)
 	local backpack_container =3D GetPlayerBackPackContainer()
 	if (not backpack_container) then return end
-	for k,item in pairs(container:GetContent()) do =

+	for k,item in pairs(backpack_container:GetContent()) do =

 		local name =3D GetStaticTileTypeName(item.artid)
 		if (name and string.find(name,itemnamepart)) then
 			Send_DoubleClick(item.serial)



From no-reply at zwischenwelt.org  Thu Nov 29 02:16:02 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 29 Nov 2007 01:16:02 -0000
Subject: [Iris-commit] [IRIS] r1562 - /trunk/data/lua/net.other.lua
Message-ID: <20071129011603.082001C1829E@zwischenwelt.org>

Author: ghoulsblade
Date: Thu Nov 29 02:16:01 2007
New Revision: 1562

Log:
texthook for macros

Modified:
    trunk/data/lua/net.other.lua

Modified: trunk/data/lua/net.other.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.other.lua (original)
+++ trunk/data/lua/net.other.lua Thu Nov 29 02:16:01 2007
@@ -460,12 +460,13 @@
 	local plaintext =3D string.gsub(text_message,"<br>","\n")
 	plaintext =3D UnicodeFix(plaintext)
 	AddFadeLines(sprintf("%s: %s",text_charname,plaintext)) -- TODO : color,f=
ont,...
+	JournalAddText(text_charname,plaintext)
+	NotifyListener("Hook_Text",text_charname,plaintext)
 	=

 	-- check if player -> then show text over player head
 	local mobilespeaker=3DGetMobile(mobile_serial)
 	if (mobilespeaker) then mobilespeaker:DisplayTextOverHead(string.gsub(tex=
t_message,"<br>","\n"),Uo16Color2Rgb(text_color)) end
 	-- TODO : text_item ?!?
-	JournalAddText(text_charname,plaintext)
 end
 =

 -- Predefined Message (localized Message) 0xC1
@@ -528,6 +529,8 @@
 	-- TODO : Display as TOOLTIP !
 	plaintext =3D UnicodeFix(plaintext)
 	AddFadeLines(sprintf("%s: %s",text_charname,plaintext)) -- TODO : color,f=
ont,...
+	JournalAddText(text_charname,plaintext)
+	NotifyListener("Hook_Text",text_charname,plaintext)
 end
 =

 --server response packet for kPacket_Speech_Unicode (0xAD)
@@ -550,6 +553,7 @@
 	unitext_message =3D UnicodeFix(unitext_message)
 	AddFadeLines(unitext_name..": "..string.gsub(unitext_message,"<br>","\n")=
) -- TODO : unicode
 	JournalAddText(unitext_name,unitext_message)
+	NotifyListener("Hook_Text",unitext_name,unitext_message)
 =

 	-- check if player -> then show text over player head
 	local mobilespeaker=3DGetMobile(mobile_serial)



From no-reply at zwischenwelt.org  Thu Nov 29 18:29:47 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 29 Nov 2007 17:29:47 -0000
Subject: [Iris-commit] [IRIS] r1563 - /trunk/data/lua/lib.uodragdrop.lua
Message-ID: <20071129172948.009D51C18222@zwischenwelt.org>

Author: ghoulsblade
Date: Thu Nov 29 18:29:46 2007
New Revision: 1563

Log:
ctrl-drag : amount 1

Modified:
    trunk/data/lua/lib.uodragdrop.lua

Modified: trunk/data/lua/lib.uodragdrop.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.uodragdrop.lua (original)
+++ trunk/data/lua/lib.uodragdrop.lua Thu Nov 29 18:29:46 2007
@@ -279,6 +279,7 @@
 	local amount =3D gDragDrop.item.amount
 	-- take only half the amount if shift is pressed
 	if (gKeyPressed[key_lalt] or gKeyPressed[key_lshift]) and amount then amo=
unt =3D math.floor(amount / 2) end
+	if (gKeyPressed[key_lctrl]) and amount then amount =3D 1 end
 =

 	Send_Take_Object(gDragDrop.item.serial,amount)
 	gui.bMouseBlocked =3D true



From no-reply at zwischenwelt.org  Thu Nov 29 18:32:40 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 29 Nov 2007 17:32:40 -0000
Subject: [Iris-commit] [IRIS] r1564 - /trunk/data/lua/lib.uodragdrop.lua
Message-ID: <20071129173240.7A11C1C18223@zwischenwelt.org>

Author: ghoulsblade
Date: Thu Nov 29 18:32:40 2007
New Revision: 1564

Log:
ctrl-drag : amount 1

Modified:
    trunk/data/lua/lib.uodragdrop.lua

Modified: trunk/data/lua/lib.uodragdrop.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.uodragdrop.lua (original)
+++ trunk/data/lua/lib.uodragdrop.lua Thu Nov 29 18:32:40 2007
@@ -279,7 +279,7 @@
 	local amount =3D gDragDrop.item.amount
 	-- take only half the amount if shift is pressed
 	if (gKeyPressed[key_lalt] or gKeyPressed[key_lshift]) and amount then amo=
unt =3D math.floor(amount / 2) end
-	if (gKeyPressed[key_lctrl]) and amount then amount =3D 1 end
+	if ((gKeyPressed[key_lcontrol]	or gKeyPressed[key_rcontrol]) and amount t=
hen amount =3D 1 end
 =

 	Send_Take_Object(gDragDrop.item.serial,amount)
 	gui.bMouseBlocked =3D true



From no-reply at zwischenwelt.org  Thu Nov 29 18:33:14 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Thu, 29 Nov 2007 17:33:14 -0000
Subject: [Iris-commit] [IRIS] r1565 - /trunk/data/lua/lib.uodragdrop.lua
Message-ID: <20071129173314.999971C18222@zwischenwelt.org>

Author: ghoulsblade
Date: Thu Nov 29 18:33:13 2007
New Revision: 1565

Log:
ctrl-drag : amount 1

Modified:
    trunk/data/lua/lib.uodragdrop.lua

Modified: trunk/data/lua/lib.uodragdrop.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.uodragdrop.lua (original)
+++ trunk/data/lua/lib.uodragdrop.lua Thu Nov 29 18:33:13 2007
@@ -279,7 +279,7 @@
 	local amount =3D gDragDrop.item.amount
 	-- take only half the amount if shift is pressed
 	if (gKeyPressed[key_lalt] or gKeyPressed[key_lshift]) and amount then amo=
unt =3D math.floor(amount / 2) end
-	if ((gKeyPressed[key_lcontrol]	or gKeyPressed[key_rcontrol]) and amount t=
hen amount =3D 1 end
+	if ((gKeyPressed[key_lcontrol]	or gKeyPressed[key_rcontrol]) and amount) =
then amount =3D 1 end
 =

 	Send_Take_Object(gDragDrop.item.serial,amount)
 	gui.bMouseBlocked =3D true



From no-reply at zwischenwelt.org  Fri Nov 30 17:26:57 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 30 Nov 2007 16:26:57 -0000
Subject: [Iris-commit] [IRIS] r1566 - in /trunk: data/ data/lua/
	data/lua/gui/ data/lua/net/ vs8/
Message-ID: <20071130162657.E80C61C182BB@zwischenwelt.org>

Author: sience
Date: Fri Nov 30 17:26:56 2007
New Revision: 1566

Log:
-several small updates

Modified:
    trunk/data/lua/gui/gui.paperdoll.lua
    trunk/data/lua/lib.loading.lua
    trunk/data/lua/lib.net.lua
    trunk/data/lua/lib.protocol.lua
    trunk/data/lua/net.other.lua
    trunk/data/lua/net.trade.lua
    trunk/data/lua/net/net.world.lua
    trunk/data/skippedfallbacks.lua
    trunk/vs8/iris.vcproj
    trunk/vs8/premake.lua

Modified: trunk/data/lua/gui/gui.paperdoll.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/gui/gui.paperdoll.lua (original)
+++ trunk/data/lua/gui/gui.paperdoll.lua Fri Nov 30 17:26:56 2007
@@ -235,7 +235,7 @@
 	end
 =

 	if (not animid) then
-		print("WARNING : CreatePaperdollItemWidget : unknown itemtype")
+		print("WARNING : CreatePaperdollItemWidget : unknown itemtype -> forced =
Crash")
 		Crash()
 		-- TODO : dummy gfx ?
 	end

Modified: trunk/data/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.loading.lua (original)
+++ trunk/data/lua/lib.loading.lua Fri Nov 30 17:26:56 2007
@@ -174,10 +174,6 @@
 	=

 	gLoadingProfileLastTime =3D 0
 	gLoadingProfileLastAction =3D false
-	=

-	--DebugCallLogStopIgnore()
-	--MeshExporter()
-	--Crash()
 end
 =

 -- don't load new map immediately, several mapchanges might be sent at log=
in quickly

Modified: trunk/data/lua/lib.net.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.net.lua (original)
+++ trunk/data/lua/lib.net.lua Fri Nov 30 17:26:56 2007
@@ -63,6 +63,7 @@
 	if (not gMainConnection) then return end
 	if gMainConnection and not gMainConnection:IsConnected() then
 		-- TODO handle me
+		print("FATAL ! NetTrafficStep (not connected anymore) -> forced Crash")
 		Crash()
 	end
 	-- EncodeOut

Modified: trunk/data/lua/lib.protocol.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.protocol.lua (original)
+++ trunk/data/lua/lib.protocol.lua Fri Nov 30 17:26:56 2007
@@ -71,13 +71,20 @@
 	while (input:Size() >=3D 1) do
 		local iId =3D input:PeekNetUint8(0)
 		local iPacketSize =3D gPacketSizeById[iId]
-		if (not iPacketSize) then print("unkown packet received : ",iId) Crash()=
 end -- triggers only if nil, not for 0
+		if (not iPacketSize) then
+			print("Packet with unknown Packetsize received : ",iId)
+			print("WARNING : HandlePackets -> forced Crash")
+			Crash()	-- triggers only if nil, not for 0
+		end
 		if (iPacketSize =3D=3D 0 and input:Size() < 3) then return end -- packet=
 incomplete
 		if (iPacketSize =3D=3D 0) then iPacketSize =3D input:PeekNetUint16(1) end
 		if (input:Size() < iPacketSize) then return end -- packet incomplete
 		=

 		-- protocoll broken -> crash
-		if iPacketSize <=3D 0 then Crash() end
+		if iPacketSize <=3D 0 then
+			print("WARNING : HandlePackets -> forced Crash")
+			Crash()
+		end
 		=

 		local popped_start =3D input:GetTotalPopped()
 		LogIncomingPacket(input,iPacketSize) -- log packet
@@ -100,9 +107,6 @@
 		=

 		local used_len =3D input:GetTotalPopped() - popped_start =

 		if (used_len ~=3D iPacketSize) then
-			--printf("FATAL ERROR : packet was not fully processed, used_len=3D%d f=
ull_len=3D%d %s\n",used_len,iPacketSize,packet_debuginfo)
-			--Crash()
-
 			printf("WARNING : packet was not fully processed, used_len=3D%d full_le=
n=3D%d %s\n",used_len,iPacketSize,packet_debuginfo)
 			local unusedlen =3D iPacketSize-used_len
 			if (unusedlen > 0) then input:PopRaw(unusedlen) end

Modified: trunk/data/lua/net.other.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.other.lua (original)
+++ trunk/data/lua/net.other.lua Fri Nov 30 17:26:56 2007
@@ -381,6 +381,7 @@
 	local rest =3D size - used
 	if (rest < 0) then
 		printf("FATAL ! kPacket_Generic_Command : subcmd 0x%02x (used=3D%d size=
=3D%d) popped too much\n",subcmd,used,size)
+		print("FATAL ! kPacket_Generic_Command -> forced Crash")
 		Crash()
 	end
 	if (rest > 0) then
@@ -730,6 +731,7 @@
 	=

 	if (1 + 2 + 4*4 + 2 + newgump.Length_Data > size) then =

 		printf("NET: broken kPacket_Generic_Gump packet, gumplen =3D 0x%08x\n",n=
ewgump.Length_Data)
+		print("FATAL ! kPacket_Generic_Gump -> forced Crash")
 		Crash()
 	end
 	=

@@ -773,7 +775,8 @@
 =

 	if (28 + newgump.Length_CompressedData > size) then =

 		printf("NET: BROKEN - kPacket_Compressed_Gump packet, compressed gumplen=
 =3D 0x%08x\n",newgump.Length_CompressedData)
-		print("Error: Server Sends bad COmpressed Gumpdata ! Please report.")
+		print("Error: Server Sends bad Compressed Gumpdata ! Please report.")
+		print("FATAL ! kPacket_Compressed_Gump -> forced Crash")
 		Crash()
 	end
 =


Modified: trunk/data/lua/net.trade.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net.trade.lua (original)
+++ trunk/data/lua/net.trade.lua Fri Nov 30 17:26:56 2007
@@ -67,9 +67,17 @@
 	if (shop.goodcount > 0) then
 		local playerBackpackContainer =3D GetPlayerBackPackContainer()
 		local playerMobile =3D GetPlayerMobile()
-		if (not playerBackpackContainer)	then print("FATAL : kPacket_Shop_Sell :=
 playerBackpackContainer not found") Crash() end
-		if (not playerMobile)				then print("FATAL : kPacket_Shop_Sell : playerM=
obile not found") Crash() end
-	=

+		if (not playerBackpackContainer)	then
+			print("FATAL : kPacket_Shop_Sell : playerBackpackContainer not found")
+			print("FATAL ! kPacket_Shop_Sell -> forced Crash")
+			Crash()
+		end
+		if (not playerMobile) then
+			print("FATAL : kPacket_Shop_Sell : playerMobile not found")
+			print("FATAL ! kPacket_Shop_Sell -> forced Crash")
+			Crash()
+		end
+
 		if (false) then -- debug
 			for k,item in pairs(GetContainerContentList(playerBackpackContainer)) d=
o =

 				printf("item serial=3D0x%08x artid=3D0x%04x in backpack\n",item.serial=
,item.artid)
@@ -95,8 +103,16 @@
 			--- old : see also get obj with good.itemserial from playerBackpackCont=
ainer
 =

 			if (good.item) then -- item is not always available, especially if its =
in the backpack, and that has not been opened yet
-				if (good.itemartid ~=3D good.item.artid)	then printf("FATAL : kPacket_=
Shop_Sell : artid mismatch 0x%04x !=3D 0x%04x\n",good.itemartid,good.item.a=
rtid) Crash()  end
-				if (good.itemamount ~=3D good.item.amount)	then printf("FATAL : kPacke=
t_Shop_Sell : amount mismatch 0x%04x !=3D 0x%04x\n",good.itemamount,good.it=
em.amount) Crash()  end
+				if (good.itemartid ~=3D good.item.artid)	then
+					printf("FATAL : kPacket_Shop_Sell : artid mismatch 0x%04x !=3D 0x%04x=
\n",good.itemartid,good.item.artid)
+					print("FATAL ! kPacket_Shop_Sell -> forced Crash")
+					Crash()
+				end
+				if (good.itemamount ~=3D good.item.amount) then
+					printf("FATAL : kPacket_Shop_Sell : amount mismatch 0x%04x !=3D 0x%04=
x\n",good.itemamount,good.item.amount)
+					print("FATAL ! kPacket_Shop_Sell -> forced Crash")
+					Crash()
+				end
 			end
 			=

 			local nameint =3D tonumber(good.name)
@@ -143,8 +159,12 @@
 		-- get associated container (probably on one of the special layers, kLay=
er_NPCBuyRestock or NPCBuyNoRestock)
 		-- usually sent together with this packet as kPacket_Container_Contents
 		local container =3D GetContainer(shop.shopContainerID)
-		if (not container) then print("FATAL ! shop container not found",vardump=
(shop.shopContainerID)) Crash() end
-		=

+		if (not container) then
+			print("FATAL ! shop container not found",vardump(shop.shopContainerID))
+			print("FATAL ! kPacket_Shop_Data -> forced Crash")
+			Crash()
+		end
+
 		-- goods are associate with items in container sorted by serial, ascendi=
ng or descending, depending on server Emu
 		local sorteditems =3D {}
 		for k,v in pairs(container:GetContent()) do table.insert(sorteditems,v) =
end

Modified: trunk/data/lua/net/net.world.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/net/net.world.lua (original)
+++ trunk/data/lua/net/net.world.lua Fri Nov 30 17:26:56 2007
@@ -48,5 +48,6 @@
 	local input =3D GetRecvFIFO()
 	local id =3D input:PopNetUint8()
 	print("Serverside Logout because of inactivity.")
+	print("FATAL ! kPacket_Logout -> forced Crash")
 	Crash()
 end

Modified: trunk/data/skippedfallbacks.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/skippedfallbacks.lua (original)
+++ trunk/data/skippedfallbacks.lua Fri Nov 30 17:26:56 2007
@@ -415,3 +415,5 @@
 RegisterSkippedArtBillboardFallBack(5768) -- 0x1688 name=3Dcatapult
 RegisterSkippedArtBillboardFallBack(5731) -- 0x1663 name=3Dcatapult
 RegisterSkippedArtBillboardFallBack(2395) -- 0x095b name=3Dfireplace
+RegisterSkippedArtBillboardFallBack(7509) -- 0x1d55 name=3Dskeleton
+RegisterSkippedArtBillboardFallBack(7510) -- 0x1d56 name=3Dskeleton

Modified: trunk/vs8/iris.vcproj
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/vs8/iris.vcproj (original)
+++ trunk/vs8/iris.vcproj Fri Nov 30 17:26:56 2007
@@ -124,7 +124,7 @@
 				OmitFramePointers=3D"true"
 				EnableFiberSafeOptimizations=3D"false"
 				WholeProgramOptimization=3D"true"
-				AdditionalIncludeDirectories=3D"&quot;$(INCLUDE)&quot;;&quot;$(OGRE_HO=
ME)\include\&quot;;&quot;$(OGRE_HOME)\include\OIS\&quot;;..\include\;..\inc=
lude\zlib;..\include\fmodx;&quot;..\lugre\lib\lua-5.0.3\include\&quot;;..\l=
ugre\include;&quot;c:\Programme\Microsoft Platform SDK\Include\&quot;"
+				AdditionalIncludeDirectories=3D"&quot;$(INCLUDE)&quot;;&quot;$(OGRE_HO=
ME)\include\&quot;;&quot;$(OGRE_HOME)\include\OIS\&quot;;..\include\;..\inc=
lude\zlib;..\include\fmodx;&quot;..\lugre\lib\lua-5.0.3\include\&quot;;..\l=
ugre\lib\cadune_tree\include;..\lugre\include;&quot;c:\Programme\Microsoft =
Platform SDK\Include\&quot;"
 				PreprocessorDefinitions=3D"WIN32;USE_FMOD;MAIN_WORKING_DIR=3D\&quot;..=
/\&quot;"
 				RuntimeLibrary=3D"0"
 				EnableEnhancedInstructionSet=3D"1"
@@ -335,444 +335,512 @@
 			</File>
 		</Filter>
 		<Filter
-			Name=3D"lugre_src"
+			Name=3D"lugre"
 			>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_beam.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_beam_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_bitmask.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_bitmask_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_BorderColourClipPaneOverlay.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_camera_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_ColourClipPaneOverlay.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_ColourClipTextOverlay.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_CompassOverlay.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_fifo_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_game.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_gfx2D.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_gfx2D_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_gfx3D.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_gfx3D_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_input.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_listener.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_luaxml.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_main.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_material_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_meshshape.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_net.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_net_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_ode.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_ogrewrapper.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_profile.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_random.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_random_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_rendertexture_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_robrenderable.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_RobRenderableOverlay.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_robstring.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_scripting.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_scripting.general.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_scripting.ogre.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_shell.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_SortedOverlayContainer.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_sound.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_sound_fmod.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_sound_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_thread.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_thread_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_timer.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_transform_mesh.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_viewport_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_widget.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\lugre_widget_L.cpp"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\tinystr.cpp"
-				>
-				<FileConfiguration
-					Name=3D"Debug|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-				<FileConfiguration
-					Name=3D"Release|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\tinyxml.cpp"
-				>
-				<FileConfiguration
-					Name=3D"Debug|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-				<FileConfiguration
-					Name=3D"Release|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\tinyxmlerror.cpp"
-				>
-				<FileConfiguration
-					Name=3D"Debug|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-				<FileConfiguration
-					Name=3D"Release|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\src\tinyxmlparser.cpp"
-				>
-				<FileConfiguration
-					Name=3D"Debug|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-				<FileConfiguration
-					Name=3D"Release|Win32"
-					>
-					<Tool
-						Name=3D"VCCLCompilerTool"
-						ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
-						XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
-					/>
-				</FileConfiguration>
-			</File>
+			<Filter
+				Name=3D"include"
+				>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_beam.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_bitmask.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_BorderColourClipPaneOverlay.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_cadune.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_camera.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_ColourClipPaneOverlay.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_ColourClipTextOverlay.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_CompassOverlay.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_fifo.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_game.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_gfx2D.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_gfx3D.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_input.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_listener.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_luabind.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_luaxml.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_main.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_meshshape.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_net.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_ode.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_ogrefonthelper.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_ogrewrapper.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_prefix.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_profile.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_random.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_rendertexture.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_robrenderable.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_RobRenderableOverlay.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_robstring.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_scripting.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_shell.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_smartptr.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_SortedOverlayContainer.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_sound.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_thread.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_timer.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_viewport.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\lugre_widget.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\tinystr.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\include\tinyxml.h"
+					>
+				</File>
+			</Filter>
+			<Filter
+				Name=3D"src"
+				>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_beam.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_beam_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_bitmask.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_bitmask_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_BorderColourClipPaneOverlay.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_cadune_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_camera_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_ColourClipPaneOverlay.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_ColourClipTextOverlay.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_CompassOverlay.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_fifo_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_game.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_gfx2D.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_gfx2D_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_gfx3D.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_gfx3D_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_input.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_listener.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_luaxml.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_main.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_material_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_meshshape.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_net.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_net_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_ode.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_ode_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_ogrewrapper.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_profile.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_random.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_random_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_rendertexture_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_robrenderable.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_RobRenderableOverlay.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_robstring.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_scripting.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_scripting.general.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_scripting.ogre.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_shell.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_SortedOverlayContainer.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_sound.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_sound_fmod.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_sound_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_thread.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_thread_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_timer.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_transform_mesh.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_viewport_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_widget.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\lugre_widget_L.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\tinystr.cpp"
+					>
+					<FileConfiguration
+						Name=3D"Debug|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+					<FileConfiguration
+						Name=3D"Release|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\tinyxml.cpp"
+					>
+					<FileConfiguration
+						Name=3D"Debug|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+					<FileConfiguration
+						Name=3D"Release|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\tinyxmlerror.cpp"
+					>
+					<FileConfiguration
+						Name=3D"Debug|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+					<FileConfiguration
+						Name=3D"Release|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\src\tinyxmlparser.cpp"
+					>
+					<FileConfiguration
+						Name=3D"Debug|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+					<FileConfiguration
+						Name=3D"Release|Win32"
+						>
+						<Tool
+							Name=3D"VCCLCompilerTool"
+							ObjectFile=3D"$(IntDir)\$(InputName)1.obj"
+							XMLDocumentationFileName=3D"$(IntDir)\$(InputName)1.xdc"
+						/>
+					</FileConfiguration>
+				</File>
+			</Filter>
 		</Filter>
 		<Filter
-			Name=3D"lugre_includes"
+			Name=3D"candune_tree"
 			>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_beam.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_bitmask.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_BorderColourClipPaneOverlay.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_camera.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_ColourClipPaneOverlay.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_ColourClipTextOverlay.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_CompassOverlay.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_fifo.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_game.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_gfx2D.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_gfx3D.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_input.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_listener.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_luabind.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_luaxml.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_main.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_meshshape.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_net.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_ode.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_ogrefonthelper.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_ogrewrapper.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_prefix.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_profile.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_random.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_rendertexture.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_robrenderable.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_RobRenderableOverlay.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_robstring.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_scripting.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_shell.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_smartptr.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_SortedOverlayContainer.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_sound.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_thread.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_timer.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_viewport.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\lugre_widget.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\tinystr.h"
-				>
-			</File>
-			<File
-				RelativePath=3D"..\lugre\include\tinyxml.h"
-				>
-			</File>
+			<Filter
+				Name=3D"src"
+				>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\src\CTParameters.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\src\CTSection.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\src\CTSerializer.cpp"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\src\CTStem.cpp"
+					>
+				</File>
+			</Filter>
+			<Filter
+				Name=3D"include"
+				>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\include\CaduneTree.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\include\CTParameters.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\include\CTPrerequisites.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\include\CTSection.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\include\CTSerializer.h"
+					>
+				</File>
+				<File
+					RelativePath=3D"..\lugre\lib\cadune_tree\include\CTStem.h"
+					>
+				</File>
+			</Filter>
 		</Filter>
 	</Files>
 	<Globals>

Modified: trunk/vs8/premake.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/vs8/premake.lua (original)
+++ trunk/vs8/premake.lua Fri Nov 30 17:26:56 2007
@@ -18,26 +18,28 @@
 	matchrecursive ("../include/*.h"),
 	matchrecursive ("../src/*.cpp"),
 	matchrecursive ("../lugre/include/*.h"),
-	matchrecursive ("../lugre/src/*.cpp")
+	matchrecursive ("../lugre/src/*.cpp"),
+	matchrecursive ("../lugre/lib/cadune_tree/include/*.h"),
+	matchrecursive ("../lugre/lib/cadune_tree/src/*.cpp")
 }
 package.includepaths =3D {
-	"$(INCLUDE)",				--Microsoft Platform SDK
-	"$(OGRE_HOME)/include",
-	"$(OGRE_HOME)/include/OIS",
+	"$(INCLUDE)",				-- Microsoft Platform SDK
+	"$(OGRE_HOME)/include",		-- Ogre3D
+	"$(OGRE_HOME)/include/OIS", -- Ogre3D - Open Input System
 	"../include",
 	"../include/zlib",
 	"../include/fmodx",
-	"../include/lua",
-	"../include/boost",
 	"../lugre/include",
-	"c:/Programme/Microsoft Platform SDK/Include/"		--Microsoft Platform SDK
+	"../lugre/lib/lua-5.0.3/include",
+	"../lugre/lib/cadune_tree/include",
+	"c:/Programme/Microsoft Platform SDK/Include/"		-- Microsoft Platform SDK
 }
 package.libpaths =3D {
 	"$(LIB)",
 	"$(OGRE_HOME)/lib",
 	"../libs/fmodx",
 	"../libs/zlib",
-	"../libs/lua",
+	"../lugre/lib/lua-5.0.3/lib/static",
 	"c:/Programme/Microsoft Platform SDK/Lib"
 }
 package.defines =3D { "USE_FMOD" }
@@ -63,8 +65,7 @@
 	"User32.Lib",
 	"zlibd.lib",
 	"ws2_32.lib",
-	"LibLua+CRT.lib",
-	"LibLuaLib+CRT.lib",
+	"lua50.lib",
 	"fmodex_vc.lib"
 }
 package.config["Debug"].objdir =3D "obj/debug"
@@ -85,8 +86,7 @@
 	"User32.Lib",
 	"zlib.lib",
 	"ws2_32.lib",
-	"LibLua+CRT.lib",
-	"LibLuaLib+CRT.lib",
+	"lua50.lib",
 	"fmodex_vc.lib"
 }
 package.config["Release"].objdir =3D "obj/release"



From no-reply at zwischenwelt.org  Fri Nov 30 18:51:38 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 30 Nov 2007 17:51:38 -0000
Subject: [Iris-commit] [IRIS] r1567 - in /trunk/data/lua: lib.debugmenu.lua
	lib.mount.lua
Message-ID: <20071130175139.D1C2B1C182BB@zwischenwelt.org>

Author: ghoulsblade
Date: Fri Nov 30 18:51:37 2007
New Revision: 1567

Log:
fixed packhorse model

Modified:
    trunk/data/lua/lib.debugmenu.lua
    trunk/data/lua/lib.mount.lua

Modified: trunk/data/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.debugmenu.lua (original)
+++ trunk/data/lua/lib.debugmenu.lua Fri Nov 30 18:51:37 2007
@@ -25,6 +25,10 @@
 end
 =

 gDebugTestMobiles =3D {
+	{artid=3D	hex2num("0x76") , content=3D{}}, --horse ok
+	{artid=3D	hex2num("0x78") , content=3D{}}, --horse ok
+	=

+	=

 	{artid=3D400,hue=3D33780, content=3D{
 		{artid=3Dhex2num("0x3EA2"),layer=3DkLayer_Mount},
 		[4]=3D{artid=3D5422,hue=3D1728,animid=3D430},[26]=3D{artid=3D3701,hue=3D=
0,animid=3D422},

Modified: trunk/data/lua/lib.mount.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.mount.lua (original)
+++ trunk/data/lua/lib.mount.lua Fri Nov 30 18:51:37 2007
@@ -63,6 +63,7 @@
 gMountGrannyOverride[hex2num("0xB2")] =3D gStandardHorse =

 gMountGrannyOverride[hex2num("0xB3")] =3D gStandardHorse =

 gMountGrannyOverride[hex2num("0xBE")] =3D gStandardHorse =

+gMountGrannyOverride[hex2num("0x123")] =3D hex2num("0x76") -- packhorse, n=
ot C8 (standardhorse) =

 gMountGrannyOverride[hex2num("0x317")] =3D gStandardHorse
 gMountGrannyOverride[hex2num("0x31A")] =3D gStandardHorse
 gMountGrannyOverride[hex2num("0x31F")] =3D gStandardHorse



From no-reply at zwischenwelt.org  Fri Nov 30 21:44:22 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 30 Nov 2007 20:44:22 -0000
Subject: [Iris-commit] [IRIS] r1568 - /trunk/premake.lua
Message-ID: <20071130204422.376FD1C18279@zwischenwelt.org>

Author: hagish
Date: Fri Nov 30 21:44:21 2007
New Revision: 1568

Log:
added cadune stuff

Modified:
    trunk/premake.lua

Modified: trunk/premake.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/premake.lua (original)
+++ trunk/premake.lua Fri Nov 30 21:44:21 2007
@@ -75,7 +75,7 @@
 package.buildflags =3D { "extra-warnings", "optimize" }
 package.buildoptions =3D {}
 =

-package.includepaths =3D { "lugre/include", gLugreLuaSrcDir.."/include/", =
"include" }
+package.includepaths =3D { "lugre/include", gLugreLuaSrcDir.."/include/", =
"include", "lugre/lib/cadune_tree/include/" }
 =

 --package.libpaths =3D { gLugreLuaSrcDir.."/lib/" }
 package.linkoptions =3D {}
@@ -105,6 +105,7 @@
 =

 package.files =3D {
   matchrecursive("lugre/include/*.h", "lugre/src/*.cpp"),
+  matchrecursive("lugre/lib/cadune_tree/include/*.h", "lugre/lib/cadune_tr=
ee/src/*.cpp"),
   matchrecursive("include/*.h", "src/*.cpp"),
 }
 package.excludes =3D {



From no-reply at zwischenwelt.org  Fri Nov 30 21:45:18 2007
From: no-reply at zwischenwelt.org (no-reply at zwischenwelt.org)
Date: Fri, 30 Nov 2007 20:45:18 -0000
Subject: [Iris-commit] [IRIS] r1569 - /trunk/premake.lua
Message-ID: <20071130204519.05C1B1C182BB@zwischenwelt.org>

Author: hagish
Date: Fri Nov 30 21:45:18 2007
New Revision: 1569

Log:
small premake fix

Modified:
    trunk/premake.lua

Modified: trunk/premake.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/premake.lua (original)
+++ trunk/premake.lua Fri Nov 30 21:45:18 2007
@@ -71,7 +71,7 @@
 package.name =3D "iris"
 package.kind =3D "exe"
 package.language =3D "c++"
-project.bindir =3D "bin"
+package.bindir =3D "bin"
 package.buildflags =3D { "extra-warnings", "optimize" }
 package.buildoptions =3D {}
 =




