<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Iris-commit] [IRIS] r1774 - /trunk/lua/lib.debugmenu.lua
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/iris-commit/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1774%20-%20/trunk/lua/lib.debugmenu.lua&In-Reply-To=%3C20080115235135.360271C1804C%40zwischenwelt.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000588.html">
   <LINK REL="Next"  HREF="000590.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Iris-commit] [IRIS] r1774 - /trunk/lua/lib.debugmenu.lua</H1>
    <B>no-reply at zwischenwelt.org</B> 
    <A HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1774%20-%20/trunk/lua/lib.debugmenu.lua&In-Reply-To=%3C20080115235135.360271C1804C%40zwischenwelt.org%3E"
       TITLE="[Iris-commit] [IRIS] r1774 - /trunk/lua/lib.debugmenu.lua">no-reply at zwischenwelt.org
       </A><BR>
    <I>Wed Jan 16 00:51:33 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000588.html">[Iris-commit] [IRIS] r1773 - in /trunk: data/config.lua.dist lua/lib.loading.lua lua/lib.macrolist.lua lua/lib.terrain.multitex.lua
</A></li>
        <LI>Next message: <A HREF="000590.html">[Iris-commit] [IRIS] r1775 - /trunk/lua/lib.granny.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#589">[ date ]</a>
              <a href="thread.html#589">[ thread ]</a>
              <a href="subject.html#589">[ subject ]</a>
              <a href="author.html#589">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mystiq
Date: Wed Jan 16 00:51:32 2008
New Revision: 1774

Log:
Added menu for switching models(F7 key), full creature models table and com=
mented out ones that crash.

Modified:
    trunk/lua/lib.debugmenu.lua

Modified: trunk/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.debugmenu.lua (original)
+++ trunk/lua/lib.debugmenu.lua Wed Jan 16 00:51:32 2008
@@ -14,6 +14,9 @@
 gDebugMenuAnimIndex =3D -1 -- (-1) shows rest pos
 gDebugMenuAnimIndex =3D 0
 gDebugMenuModelIndex =3D 1
+gDebugMenuModel =3D { artid=3D400, content=3D{} }
+gDebugMenuModelName =3D &quot;&quot;
+gDebugMenuModelTable =3D {}
 gDebugMenuMainGfxPos =3D {-0.5,0.5,-0.15}
 =

 function RepairEquipIndex (arr) =

@@ -24,130 +27,379 @@
 	end
 end
 =

-gDebugTestMobiles =3D {
+--[[
+--player characters with equipment
+gDebugMenuModelTable =3D {
 	-- male
 	{artid=3D401, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D5399,animid=3D434},{artid=3D5435,animid=3D466},{artid=3D8=
251,animid=3D700},{artid=3D3701,animid=3D422},})},
 	--female
 	{artid=3D400, content=3D({{artid=3D5905,animid=3D476},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D5909,animid=3D406},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8251,animid=3D700},}=
)},
-
-	{artid=3D hex2num(&quot;5&quot;) , content=3D{}},		--birds_eagle
-	{artid=3D hex2num(&quot;39&quot;) , content=3D{}},	--mongbats_mongbat
-	{artid=3D hex2num(&quot;105&quot;) , content=3D{}},	--dragons_wyrm_ancient
-
-	-- llamas_llama_pack - broken (crash) -&gt; mapped to id: 220 (grannyfilter)
-	{artid=3D 292 , content=3D{}},
-	-- k=C3=A4fer - broken animation
-	{artid=3D hex2num(&quot;0xA9&quot;) , content=3D{}},
-	--791 broken horse
-	{artid=3D hex2num(&quot;0x317&quot;), content=3D{}},
-
-	{artid=3D	hex2num(&quot;0xB1&quot;) , content=3D{}}, -- 177 broken
-	{artid=3D	hex2num(&quot;0x72&quot;) , content=3D{}}, -- 114 broken =

-	{artid=3D	hex2num(&quot;0x73&quot;) , content=3D{}},  -- 115 broken
-	{artid=3D	hex2num(&quot;0x75&quot;) , content=3D{}}, -- 117 broken
-
-	{artid=3D hex2num(&quot;0xD5&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xF1&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xF3&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xCC&quot;) , content=3D{}}, -- 204, broken horse
-	{artid=3D	hex2num(&quot;0xC8&quot;) , content=3D{}}, -- 200 : standard horse
-	{artid=3D	hex2num(&quot;0xE2&quot;) , content=3D{}}, -- 226 broken
-	{artid=3D	hex2num(&quot;0xE4&quot;) , content=3D{}}, -- 228 broken
-	{artid=3D hex2num(&quot;0xFC&quot;), content=3D{}},
-	{artid=3D	hex2num(&quot;0xDC&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xD2&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xDA&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xDB&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xD5&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x90&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x74&quot;) , content=3D{}},  -- 116 broken
-	{artid=3D	hex2num(&quot;0xB2&quot;) , content=3D{}},  -- 178 broken
-	{artid=3D	hex2num(&quot;0x84&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xB3&quot;) , content=3D{}},  -- 179 broken
-	{artid=3D	hex2num(&quot;0xBB&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xBC&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x317&quot;) , content=3D{}}, -- brokenanim
-	{artid=3D	hex2num(&quot;0x31A&quot;) , content=3D{}}, -- brokenanim
-	{artid=3D	hex2num(&quot;0x31F&quot;) , content=3D{}}, -- brokenanim
-	{artid=3D	hex2num(&quot;0xBE&quot;) , content=3D{}},  -- 190 broken
-	{artid=3D hex2num(&quot;0x11C&quot;) , content=3D{}}, -- 284 anim broken, scale bro=
ken..
-	{artid=3D	hex2num(&quot;0xFB&quot;) , content=3D{}}, =

-
-	{artid=3D400,hue=3D33780, content=3D{[4]=3D{artid=3D5422,hue=3D1728,animi=
d=3D430},[26]=3D{artid=3D3701,hue=3D0,animid=3D422},[16]=3D{artid=3D8269,hu=
e=3D1147,animid=3D906},[27]=3D{artid=3D3701,hue=3D0,animid=3D422},[17]=3D{a=
rtid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,hue=3D1147,animid=
=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D{artid=3D3701,hue=
=3D0,animid=3D422},}},
-	{artid=3D400,hue=3D33780, content=3D{[26]=3D{artid=3D3701,hue=3D0,animid=
=3D422},[16]=3D{artid=3D8269,hue=3D1147,animid=3D906},[27]=3D{artid=3D3701,=
hue=3D0,animid=3D422},[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D=
{artid=3D8252,hue=3D1147,animid=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=
=3D466},[21]=3D{artid=3D3701,hue=3D0,animid=3D422},}},
-	{artid=3D400,hue=3D33780, content=3D{[27]=3D{artid=3D3701,hue=3D0,animid=
=3D422},[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,=
hue=3D1147,animid=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D=
{artid=3D3701,hue=3D0,animid=3D422},}},
-	{artid=3D400,hue=3D33780, content=3D{[11]=3D{artid=3D8252,hue=3D1147,anim=
id=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D{artid=3D3701,h=
ue=3D0,animid=3D422},}},
-
-	{artid=3D400, content=3D{}},
-	{artid=3D400, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D401, content=3D{}},
-	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D014, content=3D{}},
-	{artid=3D778, content=3D{}},
-	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[4]=3D{artid=
=3D5137,animid=3D529},[6]=3D{artid=3D9797,animid=3D682},[7]=3D{artid=3D5140=
,animid=3D530},[19]=3D{artid=3D5136,animid=3D528},[16]=3D{artid=3D8256,anim=
id=3D800},[21]=3D{artid=3D3701,animid=3D422},[13]=3D{artid=3D5141,animid=3D=
527},[29]=3D{artid=3D3708,animid=3D0},[11]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D401, content=3D({{artid=3D3932,animid=3D631},{artid=3D7107,animi=
d=3D993},{artid=3D5137,animid=3D529},{artid=3D9797,animid=3D682},{artid=3D5=
140,animid=3D530},{artid=3D5136,animid=3D528},{artid=3D8256,animid=3D800},{=
artid=3D3701,animid=3D422},{artid=3D5141,animid=3D527},{artid=3D3708,animid=
=3D0},{artid=3D8266,animid=3D903},})},
-
-	{artid=3D400, content=3D({{artid=3D3519,animid=3D972},})},
-	{artid=3D400, content=3D({{artid=3D3519,animid=3D972},{artid=3D5901,animi=
d=3D479},{artid=3D5422,animid=3D430},{artid=3D5399,animid=3D434},{artid=3D5=
907,animid=3D404},{artid=3D3701,animid=3D422},{artid=3D8252,animid=3D701},}=
)},
-	{artid=3D987, content=3D({{artid=3D5182,animid=3D624},{artid=3D5903,animi=
d=3D480},{artid=3D5399,animid=3D434},{artid=3D5130,animid=3D565},{artid=3D5=
397,animid=3D468},{artid=3D3701,animid=3D422},{artid=3D7939,animid=3D469},}=
)},
-	{artid=3D401, content=3D({{artid=3D2594,animid=3D500},{artid=3D5899,animi=
d=3D477},{artid=3D7933,animid=3D435},{artid=3D5431,animid=3D455},{artid=3D5=
397,animid=3D468},{artid=3D5441,animid=3D490},{artid=3D8261,animid=3D710},{=
artid=3D3701,animid=3D422},})},
-	{artid=3D401, content=3D({{artid=3D2594,animid=3D500},{artid=3D5905,animi=
d=3D476},{artid=3D5399,animid=3D434},{artid=3D5431,animid=3D455},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8262,animid=3D712},}=
)},
-	{artid=3D401, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D5399,animid=3D434},{artid=3D5435,animid=3D466},{artid=3D8=
251,animid=3D700},{artid=3D3701,animid=3D422},})},
-	{artid=3D400, content=3D({{artid=3D5905,animid=3D476},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D5909,animid=3D406},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8251,animid=3D700},}=
)},
-	{artid=3D400, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D8266,animid=3D903},{artid=3D3=
701,animid=3D422},})},
---[[
-	-- meshes only crash when using vertex-shader
-	{artid=3D040, content=3D{}},
-	{artid=3D	hex2num(&quot;0x76&quot;) , content=3D{}},
-	{artid=3D	hex2num(&quot;0x77&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x78&quot;) , content=3D{}},
-	{artid=3D	hex2num(&quot;0x79&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x3C&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xC8&quot;) , content=3D{}}, =

-	{artid=3D hex2num(&quot;0x123&quot;) , content=3D{}},
-	{artid=3D199, content=3D{}},
-	{artid=3D225, content=3D{}}, -- timberwolf
-	{artid=3D256, content=3D{}},
-	{artid=3D	hex2num(&quot;0x319&quot;) , content=3D{}},
-	{artid=3D400,hue=3D33780, content=3D{
-		{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount},
-		[4]=3D{artid=3D5422,hue=3D1728,animid=3D430},[26]=3D{artid=3D3701,hue=3D=
0,animid=3D422},
-		[16]=3D{artid=3D8269,hue=3D1147,animid=3D906},[27]=3D{artid=3D3701,hue=
=3D0,animid=3D422},
-		[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,hue=
=3D1147,animid=3D701},
-		[21]=3D{artid=3D3701,hue=3D0,animid=3D422},}},   =

-	{artid=3D401, content=3D({{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount=
},{artid=3D5899,animid=3D477},{artid=3D5422,animid=3D430},{artid=3D5399,ani=
mid=3D434},{artid=3D5435,animid=3D466},{artid=3D8251,animid=3D700},{artid=
=3D3701,animid=3D422},})},
-	{artid=3D400, content=3D({{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount=
},{artid=3D5899,animid=3D477},{artid=3D5422,animid=3D430},{artid=3D5399,ani=
mid=3D434},{artid=3D5435,animid=3D466},{artid=3D8251,animid=3D700},{artid=
=3D3701,animid=3D422},})},
-]]--
---[[
-	{artid=3D2011, content=3D{{animid=3D2002}}}, -- 02:feet 11:ulegs
-	{artid=3D1466, content=3D{}}, -- flimmer, need culling? (fixed)
-	{artid=3D1700, content=3D{}}, -- hair, texcoords or normals broken ? (fix=
ed)
-	{artid=3D500, content=3D{}}, -- lantern, texcoords broken ?! (fixed)
-	{artid=3D468, content=3D{}}, -- cape, texcoords broken ? culling? (fixed)
-	{artid=3D1468, content=3D{}}, -- cape, texcoords broken ? culling? (fixed)
-	{artid=3D490, content=3D{}}, -- sash, texcoords broken ? culling? (fixed)
-	{artid=3D1490, content=3D{}},  -- sash, texcoords broken ? culling? (fixe=
d)
-
-	{artid=3D1924, content=3D{{animid=3D3012}}},
-	{artid=3D3604, content=3D{{animid=3D3012}}},
-	{artid=3D1925, content=3D{{animid=3D3012}}},
-	{artid=3D3605, content=3D{{animid=3D3012}}},
-
-	{artid=3D3006, content=3D{}}, -- female lower legs, sience was having pro=
blem with them, 2 submeshes !
-	{artid=3D2013, content=3D{}},
-	{artid=3D2009, content=3D{}},
-	{artid=3D2012, content=3D{}},
-	{artid=3D3013, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
-]]--
+}
+--]]
+
+--creatures
+--used regular expression to make these &quot;^(\d+)(.*?\s){8}(.*?)[\s]{0,}$&quot; a=
nd replace with &quot;{artid=3D$1 , content=3D{}}, \t--$3&quot; in PSpad
+--removed duplicates by hand
+--commented ones crashes (no shaders used)
+gDebugMenuModelTable =3D {
+	{artid=3D187 , content=3D{}}, 	--ridgeback_ridgeback
+	{artid=3D193 , content=3D{}}, 	--ridgeback_ridgeback_ethereal
+	{artid=3D188 , content=3D{}}, 	--ridgeback_savage
+	{artid=3D787 , content=3D{}}, 	--ant_lion
+	{artid=3D157 , content=3D{}}, 	--arachnids_spider_black_widow
+	{artid=3D173 , content=3D{}}, 	--arachnids_spider_black_widow
+	{artid=3D11 , content=3D{}}, 	--arachnids_spider_dread
+	{artid=3D19 , content=3D{}}, 	--arachnids_spider_dread
+	{artid=3D20 , content=3D{}}, 	--arachnids_spider_frost
+	{artid=3D28 , content=3D{}}, 	--arachnids_spider_giant
+	{artid=3D779 , content=3D{}}, 	--bogling
+	{artid=3D780 , content=3D{}}, 	--bog_thing
+	{artid=3D232 , content=3D{}}, 	--bovines_bull_brown
+	{artid=3D233 , content=3D{}}, 	--bovines_bull_spotted
+	{artid=3D216 , content=3D{}}, 	--bovines_cow_brown
+	{artid=3D231 , content=3D{}}, 	--bovines_cow_spotted
+	{artid=3D211 , content=3D{}}, 	--bruins_bear_black
+	{artid=3D167 , content=3D{}}, 	--bruins_bear_brown
+	{artid=3D212 , content=3D{}}, 	--bruins_bear_grizzly
+	{artid=3D213 , content=3D{}}, 	--bruins_bear_polar
+	{artid=3D217 , content=3D{}}, 	--canines_dog_hound
+	{artid=3D97 , content=3D{}}, 	--canines_hell_hound
+	{artid=3D98 , content=3D{}}, 	--canines_hell_hound
+	{artid=3D225 , content=3D{}}, 	--canines_wolf_timber
+	{artid=3D99 , content=3D{}}, 	--canines_wolf_dark
+	{artid=3D23 , content=3D{}}, 	--canines_wolf_dire
+	{artid=3D25 , content=3D{}}, 	--canines_wolf_grey
+	{artid=3D27 , content=3D{}}, 	--canines_wolf_grey
+	{artid=3D100 , content=3D{}}, 	--canines_wolf_silver
+	{artid=3D34 , content=3D{}}, 	--canines_wolf_white
+	{artid=3D37 , content=3D{}}, 	--canines_wolf_white
+	{artid=3D101 , content=3D{}}, 	--centaurs_centaur
+	{artid=3D792 , content=3D{}}, 	--chaos_demon
+	{artid=3D786 , content=3D{}}, 	--chariot
+	{artid=3D756 , content=3D{}}, 	--clockwork_overseer
+	{artid=3D757 , content=3D{}}, 	--clockwork_minion
+	{artid=3D763 , content=3D{}}, 	--clockwork_minion
+	{artid=3D75 , content=3D{}}, 	--cyclops_cyclops
+	{artid=3D9 , content=3D{}}, 	--daemons_daemon
+	{artid=3D10 , content=3D{}}, 	--daemons_daemon
+	{artid=3D38 , content=3D{}}, 	--daemons_daemon_black_gate
+	{artid=3D40 , content=3D{}}, 	--daemons_daemon_elder
+	{artid=3D102 , content=3D{}}, 	--daemons_daemon_exodus
+	{artid=3D43 , content=3D{}}, 	--daemons_daemon_ice_fiend
+--	{artid=3D774 , content=3D{}}, 	--Dawn_Girl
+	{artid=3D237 , content=3D{}}, 	--deer_doe
+	{artid=3D234 , content=3D{}}, 	--deer_stag
+	{artid=3D151 , content=3D{}}, 	--dolphins_dolphin
+	{artid=3D103 , content=3D{}}, 	--dragons_dragon_asian
+	{artid=3D12 , content=3D{}}, 	--dragons_dragon_retro_grey
+	{artid=3D172 , content=3D{}}, 	--dragons_dragon_retro_red
+	{artid=3D59 , content=3D{}}, 	--dragons_dragon_retro_red
+	{artid=3D49 , content=3D{}}, 	--dragons_wyrm_retro_white
+	{artid=3D180 , content=3D{}}, 	--dragons_wyrm_retro_white
+	{artid=3D60 , content=3D{}}, 	--dragons_dragon_retro_grey
+	{artid=3D61 , content=3D{}}, 	--dragons_dragon_retro_red
+--#This is here so the skeletal and ethereal can map animations to it
+	{artid=3D105 , content=3D{}}, 	--dragons_wyrm_ancient
+
+	{artid=3D46 , content=3D{}}, 	--Mf_Dragon_Rust
+	{artid=3D106 , content=3D{}}, 	--dragons_wyrm_shadow
+	{artid=3D104 , content=3D{}}, 	--dragons_dragon_skeletal
+	{artid=3D62 , content=3D{}}, 	--dragons_wyvern
+	{artid=3D14 , content=3D{}}, 	--elementals_earth_elemental
+	{artid=3D107 , content=3D{}}, 	--elementals_agapite_elemental
+	{artid=3D108 , content=3D{}}, 	--elementals_bronze_elemental
+	{artid=3D109 , content=3D{}}, 	--elementals_copper_elemental
+	{artid=3D110 , content=3D{}}, 	--elementals_copper_dull_elemental
+	{artid=3D166 , content=3D{}}, 	--elementals_gold_elemental
+	{artid=3D111 , content=3D{}}, 	--elementals_iron_elemental
+	{artid=3D112 , content=3D{}}, 	--elementals_valorite_elemental
+	{artid=3D113 , content=3D{}}, 	--elementals_verite_elemental
+	{artid=3D158 , content=3D{}}, 	--elementals_acid_elemental
+	{artid=3D13 , content=3D{}}, 	--elementals_air_elemental
+	{artid=3D159 , content=3D{}}, 	--elementals_blood_elemental
+	{artid=3D160 , content=3D{}}, 	--elementals_blood_elemental
+	{artid=3D15 , content=3D{}}, 	--elementals_fire_elemental
+	{artid=3D161 , content=3D{}}, 	--elementals_ice_elemental
+	{artid=3D162 , content=3D{}}, 	--elementals_poison_elemental
+	{artid=3D163 , content=3D{}}, 	--elementals_snow_elemental
+	{artid=3D16 , content=3D{}}, 	--elementals_water_elemental
+	{artid=3D164 , content=3D{}}, 	--ethereals_energy_vortex
+	{artid=3D165 , content=3D{}}, 	--ethereals_wisp
+	{artid=3D58 , content=3D{}}, 	--ethereals_wisp
+	{artid=3D200 , content=3D{}}, 	--equines_horse_dappled_brown
+	{artid=3D190 , content=3D{}}, 	--equines_horse_firesteed
+	{artid=3D820 , content=3D{}}, 	--equines_horse_dappled_brown
+	{artid=3D291 , content=3D{}}, 	--equines_horse_dappled_brown_pack
+	{artid=3D226 , content=3D{}}, 	--equines_horse_dappled_grey
+	{artid=3D846 , content=3D{}}, 	--equines_horse_dappled_grey
+	{artid=3D204 , content=3D{}}, 	--equines_horse_dark_brown
+	{artid=3D824 , content=3D{}}, 	--equines_horse_dark_brown
+	{artid=3D228 , content=3D{}}, 	--equines_horse_tan
+	{artid=3D848 , content=3D{}}, 	--equines_horse_tan
+	{artid=3D114 , content=3D{}}, 	--equines_horse_dark_steed
+	{artid=3D115 , content=3D{}}, 	--equines_horse_ethereal
+	{artid=3D116 , content=3D{}}, 	--equines_horse_nightmare
+	{artid=3D177 , content=3D{}}, 	--equines_horse_nightmare
+	{artid=3D178 , content=3D{}}, 	--equines_horse_nightmare
+	{artid=3D179 , content=3D{}}, 	--equines_horse_nightmare
+	{artid=3D117 , content=3D{}}, 	--equines_horse_silver_steed
+	{artid=3D118 , content=3D{}}, 	--equines_horse_war_brittanian
+	{artid=3D119 , content=3D{}}, 	--equines_horse_war_mage_council
+	{artid=3D120 , content=3D{}}, 	--equines_horse_war_minax
+	{artid=3D121 , content=3D{}}, 	--equines_horse_war_shadowlord
+	{artid=3D122 , content=3D{}}, 	--equines_unicorn
+	{artid=3D192 , content=3D{}}, 	--equines_unicorn_ethereal
+	{artid=3D123 , content=3D{}}, 	--ethereal_warriors_male
+	{artid=3D175 , content=3D{}}, 	--ethereal_warriors_male
+	{artid=3D2 , content=3D{}}, 	--ettins_ettin
+	{artid=3D18 , content=3D{}}, 	--ettins_ettin
+	{artid=3D63 , content=3D{}}, 	--felines_cougar
+	{artid=3D64 , content=3D{}}, 	--felines_leopard_snow
+	{artid=3D65 , content=3D{}}, 	--felines_leopard_snow
+	{artid=3D214 , content=3D{}}, 	--felines_panther
+	{artid=3D127 , content=3D{}}, 	--felines_predator_hellcat
+	{artid=3D128 , content=3D{}}, 	--fey_race_pixie
+	{artid=3D176 , content=3D{}}, 	--fey_race_pixie
+	{artid=3D781 , content=3D{}}, 	--fire_ant_worker
+	{artid=3D782 , content=3D{}}, 	--fire_ant_warrior
+	{artid=3D783 , content=3D{}}, 	--fire_ant_queen
+	{artid=3D804 , content=3D{}}, 	--fire_ant_matriarch
+	{artid=3D805 , content=3D{}}, 	--black_ant_worker
+	{artid=3D806 , content=3D{}}, 	--black_ant_warrior
+	{artid=3D807 , content=3D{}}, 	--black_ant_queen
+	{artid=3D808 , content=3D{}}, 	--black_ant_matriarch
+	{artid=3D8 , content=3D{}}, 	--flails_corpser
+	{artid=3D47 , content=3D{}}, 	--flails_reaper
+	{artid=3D66 , content=3D{}}, 	--flails_swamp_tentacles
+	{artid=3D129 , content=3D{}}, 	--flails_swamp_tentacles
+	{artid=3D80 , content=3D{}}, 	--frogs_frog_giant
+	{artid=3D4 , content=3D{}}, 	--gargoyles_gargoyle
+	{artid=3D130 , content=3D{}}, 	--gargoyles_gargoyle_blistering
+	{artid=3D67 , content=3D{}}, 	--gargoyles_gargoyle_stone
+	{artid=3D753 , content=3D{}}, 	--gargoyles_gargoyle_slave
+	{artid=3D754 , content=3D{}}, 	--gargoyles_gargoyle_enforcer
+	{artid=3D755 , content=3D{}}, 	--gargoyles_gargoyle_guard
+	{artid=3D758 , content=3D{}}, 	--gargoyles_gargoyle_shopkeeper
+	{artid=3D22 , content=3D{}}, 	--gazers_gazer
+	{artid=3D68 , content=3D{}}, 	--gazers_gazer_elder
+	{artid=3D69 , content=3D{}}, 	--gazers_gazer_elder
+	{artid=3D131 , content=3D{}}, 	--genies_efreet
+	{artid=3D791 , content=3D{}}, 	--giant_beetle
+	{artid=3D195 , content=3D{}}, 	--giant_beetle_ethereal
+	{artid=3D752 , content=3D{}}, 	--golem_iron
+	{artid=3D29 , content=3D{}}, 	--gorillas_silverback
+	{artid=3D30 , content=3D{}}, 	--harpies_harpy
+	{artid=3D73 , content=3D{}}, 	--harpies_harpy_stone
+	{artid=3D31 , content=3D{}}, 	--headless_headless
+	{artid=3D776 , content=3D{}}, 	--horde_demon
+	{artid=3D795 , content=3D{}}, 	--horde_demon
+	{artid=3D796 , content=3D{}}, 	--horde_demon
+	{artid=3D74 , content=3D{}}, 	--imps_imp
+	{artid=3D168 , content=3D{}}, 	--imps_shadow_fiend
+	{artid=3D764 , content=3D{}}, 	--Juka_Warrior
+	{artid=3D765 , content=3D{}}, 	--Juka_Mage
+--	{artid=3D768 , content=3D{}}, 	--Juggernaut	seems that this doesnt even=
 exist?! nothing found with this id
+	{artid=3D132 , content=3D{}}, 	--kirin_kirin
+	{artid=3D191 , content=3D{}}, 	--kirin_kirin_ethereal
+	{artid=3D998 , content=3D{}}, 	--kirin_kirin
+	{artid=3D77 , content=3D{}}, 	--krakens_kraken
+	{artid=3D24 , content=3D{}}, 	--liche_liche_retro
+	{artid=3D78 , content=3D{}}, 	--liche_liche_lord_retro
+	{artid=3D79 , content=3D{}}, 	--liche_liche_lord_retro
+	{artid=3D82 , content=3D{}}, 	--liche_liche_lord_retro
+	{artid=3D33 , content=3D{}}, 	--lizard_race_lizardman
+	{artid=3D35 , content=3D{}}, 	--lizard_race_lizardman
+	{artid=3D36 , content=3D{}}, 	--lizard_race_lizardman
+	{artid=3D202 , content=3D{}}, 	--lizards_alligator_brown
+	{artid=3D133 , content=3D{}}, 	--lizards_alligator_small
+	{artid=3D134 , content=3D{}}, 	--lizards_komodo_dragon
+	{artid=3D206 , content=3D{}}, 	--lizards_lava_lizard
+	{artid=3D220 , content=3D{}}, 	--llamas_llama
+	{artid=3D828 , content=3D{}}, 	--llamas_llama
+	{artid=3D170 , content=3D{}}, 	--llamas_llama_ethereal
+	{artid=3D292 , content=3D{}}, 	--llamas_llama_pack
+	{artid=3D124 , content=3D{}}, 	--mages_evil_mage
+	{artid=3D125 , content=3D{}}, 	--mages_evil_mage_master
+	{artid=3D126 , content=3D{}}, 	--mages_evil_mage_master
+	{artid=3D770 , content=3D{}}, 	--Meer_Mage
+	{artid=3D771 , content=3D{}}, 	--Meer_Warrior
+	{artid=3D797 , content=3D{}}, 	--mf_dragon_fire
+	{artid=3D798 , content=3D{}}, 	--mf_dragon_rust
+	{artid=3D39 , content=3D{}}, 	--mongbats_mongbat
+	{artid=3D766 , content=3D{}}, 	--NPC_Kabur
+	{artid=3D767 , content=3D{}}, 	--NPC_Blackthorn_Cohort
+	{artid=3D769 , content=3D{}}, 	--NPC_Blackthorn
+	{artid=3D772 , content=3D{}}, 	--NPC_Adranath
+	{artid=3D773 , content=3D{}}, 	--NPC_Cpt_Dasha
+	{artid=3D1 , content=3D{}}, 	--ogres_ogre
+	{artid=3D83 , content=3D{}}, 	--ogres_ogre_lord
+	{artid=3D84 , content=3D{}}, 	--ogres_ogre_lord
+	{artid=3D135 , content=3D{}}, 	--ogres_ogre_lord_arctic
+	{artid=3D136 , content=3D{}}, 	--ophidians_ophidian_archmage
+	{artid=3D137 , content=3D{}}, 	--ophidians_ophidian_knight
+	{artid=3D85 , content=3D{}}, 	--ophidians_ophidian_mage
+	{artid=3D87 , content=3D{}}, 	--ophidians_ophidian_queen
+	{artid=3D86 , content=3D{}}, 	--ophidians_ophidian_warrior
+	{artid=3D17 , content=3D{}}, 	--orcs_orc
+	{artid=3D41 , content=3D{}}, 	--orcs_orc
+	{artid=3D7 , content=3D{}}, 	--orcs_orc_captain
+	{artid=3D138 , content=3D{}}, 	--orcs_orc_lord
+	{artid=3D139 , content=3D{}}, 	--orcs_orc_lord
+	{artid=3D140 , content=3D{}}, 	--orcs_orc_shaman
+	{artid=3D181 , content=3D{}}, 	--orcs_orc_scout
+	{artid=3D182 , content=3D{}}, 	--orcs_orc_bomber
+	{artid=3D189 , content=3D{}}, 	--orcs_orc_lord
+	{artid=3D210 , content=3D{}}, 	--ostards_ostard_desert
+	{artid=3D825 , content=3D{}}, 	--ostards_ostard_desert
+	{artid=3D218 , content=3D{}}, 	--ostards_ostard_forest
+	{artid=3D826 , content=3D{}}, 	--ostards_ostard_forest
+	{artid=3D219 , content=3D{}}, 	--ostards_ostard_frenzied
+	{artid=3D827 , content=3D{}}, 	--ostards_ostard_frenzied
+	{artid=3D171 , content=3D{}}, 	--ostards_ostard_ethereal
+	{artid=3D141 , content=3D{}}, 	--paladins_paladin
+	{artid=3D775 , content=3D{}}, 	--plague_beast
+	{artid=3D290 , content=3D{}}, 	--porcines_boar
+	{artid=3D203 , content=3D{}}, 	--porcines_pig
+	{artid=3D42 , content=3D{}}, 	--rat_race_ratman
+	{artid=3D44 , content=3D{}}, 	--rat_race_ratman
+	{artid=3D45 , content=3D{}}, 	--rat_race_ratman
+	{artid=3D142 , content=3D{}}, 	--rat_race_ratman
+	{artid=3D143 , content=3D{}}, 	--rat_race_shaman
+	{artid=3D215 , content=3D{}}, 	--rodents_rat_giant
+	{artid=3D839 , content=3D{}}, 	--ridgeback_ridgeback
+	{artid=3D840 , content=3D{}}, 	--ridgeback_giant
+	{artid=3D841 , content=3D{}}, 	--ridgeback_flame
+	{artid=3D842 , content=3D{}}, 	--ridgeback_hatchling
+	{artid=3D209 , content=3D{}}, 	--ruminants_goat_billy
+	{artid=3D88 , content=3D{}}, 	--ruminants_goat_mountain
+	{artid=3D207 , content=3D{}}, 	--ruminants_sheep
+	{artid=3D223 , content=3D{}}, 	--ruminants_sheep_shorn
+	{artid=3D790 , content=3D{}}, 	--sand_vortex
+	{artid=3D48 , content=3D{}}, 	--scorpions_giant
+	{artid=3D144 , content=3D{}}, 	--sea_horse_sea_horse
+	{artid=3D150 , content=3D{}}, 	--sea_serpents_sea_serpent
+	{artid=3D145 , content=3D{}}, 	--sea_serpents_sea_serpent
+	{artid=3D21 , content=3D{}}, 	--serpents_snake_giant
+	{artid=3D89 , content=3D{}}, 	--serpents_snake_giant_ice
+	{artid=3D90 , content=3D{}}, 	--serpents_snake_giant_lava
+	{artid=3D91 , content=3D{}}, 	--serpents_snake_giant_silver
+	{artid=3D92 , content=3D{}}, 	--serpents_snake_giant_silver
+	{artid=3D93 , content=3D{}}, 	--serpents_snake_giant_silver
+	{artid=3D146 , content=3D{}}, 	--shadowlords_shadowlord
+	{artid=3D793 , content=3D{}}, 	--skeletal_mount
+	{artid=3D50 , content=3D{}}, 	--skeletons_skeleton
+	{artid=3D56 , content=3D{}}, 	--skeletons_skeleton
+	{artid=3D57 , content=3D{}}, 	--skeletons_skeleton
+	{artid=3D147 , content=3D{}}, 	--skeletons_skeleton_knight
+	{artid=3D148 , content=3D{}}, 	--skeletons_skeleton_mage
+	{artid=3D51 , content=3D{}}, 	--slimes_slime
+	{artid=3D94 , content=3D{}}, 	--slimes_slime_frost
+	{artid=3D96 , content=3D{}}, 	--slimes_slime_frost
+	{artid=3D574 , content=3D{}}, 	--spirits_blade_spirit
+	{artid=3D26 , content=3D{}}, 	--spirits_ghost
+	{artid=3D149 , content=3D{}}, 	--succubi_succubus
+	{artid=3D174 , content=3D{}}, 	--succubi_succubus
+	{artid=3D794 , content=3D{}}, 	--swamp_dragon
+	{artid=3D194 , content=3D{}}, 	--swamp_dragon_ethereal
+	{artid=3D799 , content=3D{}}, 	--swamp_dragon_armor
+	{artid=3D778 , content=3D{}}, 	--swarm
+	{artid=3D152 , content=3D{}}, 	--terathan_terathan_avenger
+	{artid=3D71 , content=3D{}}, 	--terathan_terathan_drone
+	{artid=3D72 , content=3D{}}, 	--terathan_terathan_queen
+	{artid=3D70 , content=3D{}}, 	--terathan_terathan_warrior
+	{artid=3D76 , content=3D{}}, 	--titans_titan
+	{artid=3D53 , content=3D{}}, 	--trolls_troll
+	{artid=3D54 , content=3D{}}, 	--trolls_troll
+	{artid=3D55 , content=3D{}}, 	--trolls_troll_frost
+	{artid=3D153 , content=3D{}}, 	--walking_dead_ghoul
+	{artid=3D154 , content=3D{}}, 	--walking_dead_mummy
+	{artid=3D155 , content=3D{}}, 	--walking_dead_rotting_corpse
+	{artid=3D3 , content=3D{}}, 	--walking_dead_zombie
+	{artid=3D221 , content=3D{}}, 	--walrus_walrus_male
+	=

+--## Age of Shadows Stuff								=

+
+	{artid=3D300 , content=3D{}}, 	--crystal_elemental
+	{artid=3D301 , content=3D{}}, 	--treefellow
+	{artid=3D302 , content=3D{}}, 	--skittering_hopper
+	{artid=3D303 , content=3D{}}, 	--devourer
+	{artid=3D304 , content=3D{}}, 	--flesh_golem
+	{artid=3D305 , content=3D{}}, 	--gore_fiend
+	{artid=3D306 , content=3D{}}, 	--impaler
+	{artid=3D307 , content=3D{}}, 	--gibberling
+	{artid=3D308 , content=3D{}}, 	--bonedemon
+	{artid=3D309 , content=3D{}}, 	--patchskeleton
+	{artid=3D310 , content=3D{}}, 	--wailingbanshee
+--	{artid=3D311 , content=3D{}}, 	--shadow_knight
+	{artid=3D312 , content=3D{}}, 	--abysmal_horror
+	{artid=3D313 , content=3D{}}, 	--Darknight_Creeper
+	{artid=3D314 , content=3D{}}, 	--ravager
+	{artid=3D315 , content=3D{}}, 	--flesh_renderer
+	{artid=3D316 , content=3D{}}, 	--wander
+	{artid=3D317 , content=3D{}}, 	--vampire_bat
+	{artid=3D318 , content=3D{}}, 	--demon_knight
+	{artid=3D319 , content=3D{}}, 	--mound_of_maggots
+
+	{artid=3D777 , content=3D{}}, 	--doppleganger
+	{artid=3D784 , content=3D{}}, 	--arcane_demon
+	{artid=3D785 , content=3D{}}, 	--four_armed_demon
+	{artid=3D788 , content=3D{}}, 	--sphinx
+	{artid=3D789 , content=3D{}}, 	--quagmire
+	=

+--## Samurai Empire creatures								=

+	{artid=3D240 , content=3D{}}, 	--Kappa
+	{artid=3D241 , content=3D{}}, 	--Oni
+	{artid=3D242 , content=3D{}}, 	--Bimbobushi
+	{artid=3D243 , content=3D{}}, 	--Hai_Riyo
+	{artid=3D244 , content=3D{}}, 	--Rune_Beetle
+	{artid=3D245 , content=3D{}}, 	--Yomotsu_Warrior
+	{artid=3D246 , content=3D{}}, 	--Kitsun_Tsuki
+	{artid=3D247 , content=3D{}}, 	--Fan_Dancer
+	{artid=3D248 , content=3D{}}, 	--Wild_Guar
+	{artid=3D249 , content=3D{}}, 	--Yamandon
+	{artid=3D250 , content=3D{}}, 	--Tri_Wolf
+	{artid=3D251 , content=3D{}}, 	--Vampyric_Beast
+	{artid=3D252 , content=3D{}}, 	--Lady_of_the_Snow
+	{artid=3D253 , content=3D{}}, 	--Yomotsu_Priest
+	{artid=3D254 , content=3D{}}, 	--Crane
+	{artid=3D255 , content=3D{}}, 	--Yomotsu_Elder
+	{artid=3D169 , content=3D{}}, 	--Giant_Beetle_Fire
+	{artid=3D196 , content=3D{}}, 	--Denkou_Yajuu
+	{artid=3D199 , content=3D{}}, 	--Gouzen_Ha
+	=

+--## ep1 creatures
+
+	{artid=3D264 , content=3D{}}, 	--Changling
+--	{artid=3D257 , content=3D{}}, 	--DreadHorn
+	{artid=3D266 , content=3D{}}, 	--Dryad
+	{artid=3D265 , content=3D{}}, 	--Hydra
+	{artid=3D264 , content=3D{}}, 	--Changling
+	{artid=3D258 , content=3D{}}, 	--LadyMelisande
+	{artid=3D280 , content=3D{}}, 	--MinotaurArmored
+	{artid=3D281 , content=3D{}}, 	--LeatherMinotaur
+	{artid=3D263 , content=3D{}}, 	--Minotaur
+	{artid=3D259 , content=3D{}}, 	--MonstrousInterredGrizzle
+	{artid=3D272 , content=3D{}}, 	--MonstrousInterredGrizzle		=

+	{artid=3D256 , content=3D{}}, 	--Paroxysmus
+	{artid=3D271 , content=3D{}}, 	--Satyr
+	{artid=3D262 , content=3D{}}, 	--TormentedMinotaur
+	{artid=3D267 , content=3D{}}, 	--Troglodyte
+	{artid=3D261 , content=3D{}}, 	--Shimmering_Effusion
+	{artid=3D273 , content=3D{}}, 	--Fetid_Essence
+	{artid=3D276 , content=3D{}}, 	--Raptalon
+	{artid=3D277 , content=3D{}}, 	--CuShidhe
+	 										=

+	{artid=3D278 , content=3D{}}, 	--Squirrel
+	{artid=3D279 , content=3D{}}, 	--Ferret
+	{artid=3D282 , content=3D{}}, 	--Parrot
+	{artid=3D283 , content=3D{}}, 	--Crow
+	{artid=3D284 , content=3D{}}, 	--MondainSteed01
+	{artid=3D285 , content=3D{}}, 	--ReaperForm
+	=

+--#Time Lord
+
+	{artid=3D689 , content=3D{}}, 	--shadowlords_shadowlord
+	{artid=3D704 , content=3D{}} 	--shadowlords_shadowlord
 }
 =

 -- 0:none 1:normal 2:invert 3:sample 4:sample-invert		-- bonestart
@@ -162,7 +414,6 @@
 function AnimInvertMode () return 1,0 end
 =

 function DebugMenuShowModel ()
-	local index =3D gDebugMenuModelIndex
 	if (gDebugBodyGfx) then gDebugBodyGfx:Destroy() end
 	if (gDebugRootGfx) then gDebugRootGfx:Destroy() gDebugRootGfx =3D nil end
 	if (gDebugRootGfx2) then gDebugRootGfx2:Destroy() gDebugRootGfx =3D nil e=
nd
@@ -173,10 +424,10 @@
 	=

 	-- granny =

 	if (gCurDebugMode =3D=3D kDebugMode_Granny) then
-		local mobile =3D gDebugTestMobiles[index]
+		local mobile =3D gDebugMenuModel
 		if (not mobile) then return end
 		RepairEquipIndex(mobile.content)
-		AddFadeLines(sprintf(&quot;DebugMenuShowModel model=3D%04x(=3D%d) anim=3D%d[%=
s]&quot;,mobile.artid,mobile.artid,gDebugMenuAnimIndex,GetAnimName(mobile.artid,=
gDebugMenuAnimIndex) or &quot;&quot;))
+		AddFadeLines(sprintf(&quot;DebugMenuShowModel model=3D%04x(=3D%d) anim=3D%d[%=
s] %s&quot;,mobile.artid,mobile.artid,gDebugMenuAnimIndex,GetAnimName(mobile.art=
id,gDebugMenuAnimIndex) or &quot;&quot;, gDebugMenuModelName or &quot;&quot;))
 =

 		gDebugBodyGfx =3D CreateBodyGfx(gDebugRootGfx)
 		gDebugBodyGfx:MarkForUpdate(mobile.artid,mobile.hue,mobile.content)
@@ -343,6 +594,10 @@
 	Bind(&quot;f6&quot;, function (state) if (not gActiveEditText) then if (state &gt; 0) =
then =

 		if (gCurDebugMode =3D=3D kDebugMode_Static) then ShowDebugMenuArtList(0,=
kDebugMode_Static) end
 		end end end)
+	Bind(&quot;f7&quot;, function (state) if (not gActiveEditText) then if (state &gt; 0) =
then =

+		ShowDebugMenuToolbox()
+		end end end)
+		=

 --[[	=

 	Bind(&quot;t&quot;, function (state) if (not gActiveEditText) then if (state &gt; 0) t=
hen =

 		if (gCurDebugMode =3D=3D kDebugMode_Static) then
@@ -456,3 +711,167 @@
 =

 	guimaker.MakeTableDlg(rows,10,10,true,true,gGuiDefaultStyleSet,&quot;window&quot;)
 end
+
+--debug tools window
+--notes: works, but crashes if index is out of table range (mystiqq)
+function ShowDebugMenuToolbox()
+	--return if the dialog is already open
+	if (gDebugMenuToolboxDialog ~=3D nil) then
+		return
+	end
+
+	local vw,vh =3D GetViewportSize()
+	local x,y =3D vw / 2, vh / 2
+
+	--for updating edit boxes on the fly, &quot;binds&quot; control name to global vari=
able. see UpdateEditText function
+	local textControls =3D function()
+			local tmp =3D {
+				cModelArtID =3D gDebugMenuModel.artid,
+				cModelIdx =3D gDebugMenuModelIndex,
+				cModelName =3D gDebugMenuModelName
+			}
+			return tmp
+		end
+	=

+	=

+	local rows =3D {
+		{
+			{type=3D&quot;Label&quot;,	text=3D&quot;            &quot;},
+			{type=3D&quot;Label&quot;,	text=3D&quot;&quot;},
+			{type=3D&quot;Label&quot;,	text=3D&quot;      &quot;},
+			{type=3D&quot;Label&quot;,	text=3D&quot;&quot;},
+			{type=3D&quot;Label&quot;,	text=3D&quot;      &quot;},
+			{type=3D&quot;Label&quot;,	text=3D&quot;   Info               &quot;},
+		},
+		{
+			{type=3D&quot;Label&quot;,	text=3D&quot;Art ID&quot;},
+			{type=3D&quot;Button&quot;,text=3D&quot;-&quot;,onMouseDown=3Dfunction (widget)
+					--get the edit text field
+					local tmp =3D tonumber(widget.dialog.controls[&quot;cModelArtID&quot;].plaintex=
t) - 1
+					local modeltable =3D {}
+					modeltable[&quot;artid&quot;], modeltable[&quot;content&quot;] =3D ((tmp ~=3D nil) and tm=
p or 0), {}
+					--load model (globals)
+					DebugMenuLoadModel(modeltable)
+					--update edit field(s)
+					UpdateEditText(widget, textControls())
+					--show/update the model
+					DebugMenuShowModel()
+				end
+			}, =

+			{type=3D&quot;EditText&quot;,	w=3D40,h=3D16,text=3D&quot;&quot;,controlname=3D&quot;cModelArtID&quot;=
},
+			{type=3D&quot;Button&quot;,text=3D&quot;+&quot;,onMouseDown=3Dfunction (widget)
+					--get the edit text field
+					local tmp =3D tonumber(widget.dialog.controls[&quot;cModelArtID&quot;].plaintex=
t) + 1
+					local modeltable =3D {}
+					modeltable[&quot;artid&quot;], modeltable[&quot;content&quot;] =3D ((tmp ~=3D nil) and tm=
p or 0), {}
+					--load model (globals)
+					DebugMenuLoadModel(modeltable)
+					--update edit field(s)
+					UpdateEditText(widget, textControls())
+					--show/update the model
+					DebugMenuShowModel()
+				end
+			}, =

+			{type=3D&quot;Button&quot;,text=3D&quot;Set&quot;,onMouseDown=3Dfunction (widget)
+					--get the edit text field
+					local tmp =3D tonumber(widget.dialog.controls[&quot;cModelArtID&quot;].plaintex=
t)
+					local modeltable =3D {}
+					modeltable[&quot;artid&quot;], modeltable[&quot;content&quot;] =3D ((tmp ~=3D nil) and tm=
p or 0), {}
+					--load model (globals)
+					DebugMenuLoadModel(modeltable)
+					--update edit field(s)
+					UpdateEditText(widget, textControls())
+					--show/update the model
+					DebugMenuShowModel()
+				end
+			},
+			{type=3D&quot;EditText&quot;,	w=3D80,h=3D16,text=3D&quot;&quot;,controlname=3D&quot;cModelName&quot;},
+		},
+		{
+			{type=3D&quot;Label&quot;,	text=3D&quot;Table Index&quot;},
+			{type=3D&quot;Button&quot;,text=3D&quot;-&quot;,onMouseDown=3Dfunction (widget)
+					--get the edit text field
+					gDebugMenuModelIndex =3D tonumber(widget.dialog.controls[&quot;cModelIdx&quot;]=
.plaintext) - 1
+					--load model (globals)
+					DebugMenuLoadModel(gDebugMenuModelTable[gDebugMenuModelIndex])
+					--update edit field(s)
+					UpdateEditText(widget, textControls())
+					--show/update the model
+					DebugMenuShowModel()
+				end
+			}, =

+			{type=3D&quot;EditText&quot;,	w=3D40,h=3D16,text=3D&quot;&quot;,controlname=3D&quot;cModelIdx&quot;},
+			{type=3D&quot;Button&quot;,text=3D&quot;+&quot;,onMouseDown=3Dfunction (widget)
+					--get the edit text field
+					gDebugMenuModelIndex =3D tonumber(widget.dialog.controls[&quot;cModelIdx&quot;]=
.plaintext) + 1
+					--load model (globals)
+					DebugMenuLoadModel(gDebugMenuModelTable[gDebugMenuModelIndex])
+					--update edit field(s)
+					UpdateEditText(widget, textControls())
+					--show/update the model
+					DebugMenuShowModel()
+				end
+			}, =

+			{type=3D&quot;Button&quot;,text=3D&quot;Get&quot;,onMouseDown=3Dfunction (widget)
+					--get the edit text field
+					gDebugMenuModelIndex =3D tonumber(widget.dialog.controls[&quot;cModelIdx&quot;]=
.plaintext)
+					--load model (globals)
+					DebugMenuLoadModel(gDebugMenuModelTable[gDebugMenuModelIndex])
+					--update edit field(s)
+					UpdateEditText(widget, textControls())
+					--show/update the model
+					DebugMenuShowModel()
+				end
+			},
+		},
+		{
+			{type=3D&quot;Label&quot;,	text=3D&quot;&quot;},	--separator
+		},
+		{
+			{type=3D&quot;Button&quot;,text=3D&quot;Close&quot;,onMouseDown=3Dfunction (widget)
+					--close the window
+					widget.dialog:Destroy()
+					--set the closed dialog to null
+					gDebugMenuToolboxDialog =3D nil
+				end
+			}, =

+		},
+	}	--end rows
+	=

+	=

+	=

+	gDebugMenuToolboxDialog =3D guimaker.MakeTableDlg(rows,x,y,true,true, gGu=
iDefaultStyleSet,&quot;window&quot;)
+	--fill the edit text boxes
+	UpdateEditText(gDebugMenuToolboxDialog.rootwidget, textControls())
+	-- center the window
+	x =3D x - (gDebugMenuToolboxDialog.rootwidget.gfx:GetWidth() / 2)
+	y =3D y - (gDebugMenuToolboxDialog.rootwidget.gfx:GetHeight() / 2)
+	gDebugMenuToolboxDialog.rootwidget.gfx:SetPos(x,y)
+	gDebugMenuToolboxDialog.rootwidget:UpdateClip()
+end
+
+--load model table (artid, content), see gDebugMenuModelTable
+function DebugMenuLoadModel (model_table)
+	local modelinfo =3D GetGrannyModelInfo(model_table.artid)
+	--check whether the id is valid &amp; model exists
+	if (not modelinfo) then =

+		print(&quot;DebugMenuLoadModel&quot;, &quot;Invalid model&quot;, model_table.artid) =

+		return
+	end
+	gDebugMenuModel =3D {} --prevent referencing
+	--load model info to globals
+	gDebugMenuModel =3D model_table
+	gDebugMenuModelName =3D modelinfo.modelname
+end
+
+--Update edit text fields in 'widget' using table &quot;controlname=3Dvalue,...&quot;
+function UpdateEditText(widget,controls)
+	if (type(controls) ~=3D &quot;table&quot;) then return end
+	local tmp
+	for key,value in pairs(controls) do
+		tmp =3D widget.dialog.controls[key]
+		tmp:SetText(value)
+		--print(&quot;Key:&quot;, key, &quot;Value:&quot;, value)	--debug
+	end
+end
+


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000588.html">[Iris-commit] [IRIS] r1773 - in /trunk: data/config.lua.dist lua/lib.loading.lua lua/lib.macrolist.lua lua/lib.terrain.multitex.lua
</A></li>
	<LI>Next message: <A HREF="000590.html">[Iris-commit] [IRIS] r1775 - /trunk/lua/lib.granny.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#589">[ date ]</a>
              <a href="thread.html#589">[ thread ]</a>
              <a href="subject.html#589">[ subject ]</a>
              <a href="author.html#589">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/iris-commit">More information about the Iris-commit
mailing list</a><br>
</body></html>
