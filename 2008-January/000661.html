<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Iris-commit] [IRIS] r1847 - in /trunk: bin/ data/ data/grannys/materials/ data/grannys/programs/ lua/ vs8/
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/iris-commit/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1847%20-%20in%20/trunk%3A%20bin/%20data/%0A%20data/grannys/materials/%20data/grannys/programs/%20lua/%20vs8/&In-Reply-To=%3C20080123185022.3AF7A1C18739%40zwischenwelt.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000660.html">
   <LINK REL="Next"  HREF="000662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Iris-commit] [IRIS] r1847 - in /trunk: bin/ data/ data/grannys/materials/ data/grannys/programs/ lua/ vs8/</H1>
    <B>no-reply at zwischenwelt.org</B> 
    <A HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1847%20-%20in%20/trunk%3A%20bin/%20data/%0A%20data/grannys/materials/%20data/grannys/programs/%20lua/%20vs8/&In-Reply-To=%3C20080123185022.3AF7A1C18739%40zwischenwelt.org%3E"
       TITLE="[Iris-commit] [IRIS] r1847 - in /trunk: bin/ data/ data/grannys/materials/ data/grannys/programs/ lua/ vs8/">no-reply at zwischenwelt.org
       </A><BR>
    <I>Wed Jan 23 19:50:20 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000660.html">[Iris-commit] [IRIS] r1846 - in /trunk/data/models: atlas/	materials/ meta/
</A></li>
        <LI>Next message: <A HREF="000662.html">[Iris-commit] [IRIS] r1848 - in /trunk/lua: lib.3d.map.lua	lib.terrain.multitex.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#661">[ date ]</a>
              <a href="thread.html#661">[ thread ]</a>
              <a href="subject.html#661">[ subject ]</a>
              <a href="author.html#661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: sience
Date: Wed Jan 23 19:50:19 2008
New Revision: 1847

Log:
-fps in top stats are now visible
-lights disabled  by default
-terrainshadow option added again
-skin shader bugfixed
-debugmode grannys added
-boat ID's added
-shadow setup optimized
-project updated
-new win32 binary

Modified:
    trunk/bin/iris2.exe
    trunk/data/config.lua.dist
    trunk/data/grannys/materials/grannybase.material
    trunk/data/grannys/programs/skinningTwoWeightsVp.glsl
    trunk/lua/lib.3d.map.lua
    trunk/lua/lib.debugmenu.lua
    trunk/lua/lib.gui.iris.lua
    trunk/lua/lib.terrain.multitex.lua
    trunk/lua/lib.uoids.lua
    trunk/lua/main.lua
    trunk/vs8/iris.vcproj

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Wed Jan 23 19:50:19 2008
@@ -266,12 +266,13 @@
 -- shadow settings
 --&quot;none&quot;, &quot;stencil_modulative&quot;, &quot;stencil_additive&quot;, &quot;texture_modulative&quot;, =
&quot;texture_additive&quot;, &quot;texture_additive_integrated&quot;, &quot;texture_modulative_inte=
grated&quot;
 gShadowTechnique =3D &quot;texture_additive&quot;
+gTerrainCastShadows =3D false
 gStaticsCastShadows =3D true
 gDynamicsCastShadows =3D true
 gMobileCastShadows =3D true
 =

 -- activates Lightsources
-gLightsources =3D true
+gLightsources =3D false
 =

 -- activates Particle Effects
 gParticleEffectSystem =3D true

Modified: trunk/data/grannys/materials/grannybase.material
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/grannys/materials/grannybase.material (original)
+++ trunk/data/grannys/materials/grannybase.material Wed Jan 23 19:50:19 20=
08
@@ -45,11 +45,10 @@
 =

 		pass
 		{
-			cull_hardware none
-			cull_software none
+//			cull_hardware none
+//			cull_software none
 			scene_blend alpha_blend
-			alpha_rejection greater_equal 255
-
+			alpha_rejection greater_equal 50
 			texture_unit
 			{
 				texture stone512.dds

Modified: trunk/data/grannys/programs/skinningTwoWeightsVp.glsl
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/grannys/programs/skinningTwoWeightsVp.glsl (original)
+++ trunk/data/grannys/programs/skinningTwoWeightsVp.glsl Wed Jan 23 19:50:=
19 2008
@@ -10,6 +10,7 @@
 uniform mat4 viewProjectionMatrix;
 uniform vec4 lightPos[2];
 uniform vec4 lightDiffuseColour[2];
+uniform vec4 ambient;
 =

 void main()
 {
@@ -46,7 +47,8 @@
 	vec3 lightDir1 =3D normalize(lightPos[1].xyz -  (blendPos.xyz * lightPos[=
1].w));
 		=

 	gl_FrontSecondaryColor =3D vec4(0);
-	gl_FrontColor =3D vec4(0.5, 0.5, 0.5, 1.0) =

+	//vec4(0.5, 0.5, 0.5, 1.0)
+	gl_FrontColor =3D ambient =

 		+ clamp(dot(lightDir0, blendNorm), 0.0, 1.0) * lightDiffuseColour[0]
 		+ clamp(dot(lightDir1, blendNorm), 0.0, 1.0) * lightDiffuseColour[1];
 =


Modified: trunk/lua/lib.3d.map.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.3d.map.lua (original)
+++ trunk/lua/lib.3d.map.lua Wed Jan 23 19:50:19 2008
@@ -461,7 +461,7 @@
 					chunk.terraingfx =3D CreateRootGfx3D()
 					chunk.terraingfx:SetMesh(meshname)
 					chunk.terraingfx:SetPosition(x,y,0)
-					chunk.terraingfx:SetCastShadows(false)
+					chunk.terraingfx:SetCastShadows(gTerrainCastShadows)
 					chunk.terraingfx:SetVisible(self.gbBlendOutTerrainVisible)
 				end
 			end

Modified: trunk/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.debugmenu.lua (original)
+++ trunk/lua/lib.debugmenu.lua Wed Jan 23 19:50:19 2008
@@ -29,127 +29,7 @@
 --[[
 --player characters with equipment
 gDebugTestMobiles =3D {
-	-- male
-	{artid=3D401, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D5399,animid=3D434},{artid=3D5435,animid=3D466},{artid=3D8=
251,animid=3D700},{artid=3D3701,animid=3D422},})},
-	--female
-	{artid=3D400, content=3D({{artid=3D5905,animid=3D476},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D5909,animid=3D406},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8251,animid=3D700},}=
)},
-
-	{artid=3D hex2num(&quot;5&quot;) , content=3D{}},		--birds_eagle
-	{artid=3D hex2num(&quot;39&quot;) , content=3D{}},	--mongbats_mongbat
-	{artid=3D hex2num(&quot;105&quot;) , content=3D{}},	--dragons_wyrm_ancient
-
-	-- llamas_llama_pack - broken (crash) -&gt; mapped to id: 220 (grannyfilter)
-	{artid=3D 292 , content=3D{}},
-	-- k=C3=A4fer - broken animation
-	{artid=3D hex2num(&quot;0xA9&quot;) , content=3D{}},
-	--791 broken horse
-	{artid=3D hex2num(&quot;0x317&quot;), content=3D{}},
-
-	{artid=3D	hex2num(&quot;0xB1&quot;) , content=3D{}}, -- 177 broken
-	{artid=3D	hex2num(&quot;0x72&quot;) , content=3D{}}, -- 114 broken =

-	{artid=3D	hex2num(&quot;0x73&quot;) , content=3D{}},  -- 115 broken
-	{artid=3D	hex2num(&quot;0x75&quot;) , content=3D{}}, -- 117 broken
-
-	{artid=3D hex2num(&quot;0xD5&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xF1&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xF3&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xCC&quot;) , content=3D{}}, -- 204, broken horse
-	{artid=3D	hex2num(&quot;0xC8&quot;) , content=3D{}}, -- 200 : standard horse
-	{artid=3D	hex2num(&quot;0xE2&quot;) , content=3D{}}, -- 226 broken
-	{artid=3D	hex2num(&quot;0xE4&quot;) , content=3D{}}, -- 228 broken
-	{artid=3D hex2num(&quot;0xFC&quot;), content=3D{}},
-	{artid=3D	hex2num(&quot;0xDC&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xD2&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xDA&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xDB&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xD5&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x90&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x74&quot;) , content=3D{}},  -- 116 broken
-	{artid=3D	hex2num(&quot;0xB2&quot;) , content=3D{}},  -- 178 broken
-	{artid=3D	hex2num(&quot;0x84&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xB3&quot;) , content=3D{}},  -- 179 broken
-	{artid=3D	hex2num(&quot;0xBB&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xBC&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x317&quot;) , content=3D{}}, -- brokenanim
-	{artid=3D	hex2num(&quot;0x31A&quot;) , content=3D{}}, -- brokenanim
-	{artid=3D	hex2num(&quot;0x31F&quot;) , content=3D{}}, -- brokenanim
-	{artid=3D	hex2num(&quot;0xBE&quot;) , content=3D{}},  -- 190 broken
-	{artid=3D hex2num(&quot;0x11C&quot;) , content=3D{}}, -- 284 anim broken, scale bro=
ken..
-	{artid=3D	hex2num(&quot;0xFB&quot;) , content=3D{}}, =

-
-	{artid=3D400,hue=3D33780, content=3D{[4]=3D{artid=3D5422,hue=3D1728,animi=
d=3D430},[26]=3D{artid=3D3701,hue=3D0,animid=3D422},[16]=3D{artid=3D8269,hu=
e=3D1147,animid=3D906},[27]=3D{artid=3D3701,hue=3D0,animid=3D422},[17]=3D{a=
rtid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,hue=3D1147,animid=
=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D{artid=3D3701,hue=
=3D0,animid=3D422},}},
-	{artid=3D400,hue=3D33780, content=3D{[26]=3D{artid=3D3701,hue=3D0,animid=
=3D422},[16]=3D{artid=3D8269,hue=3D1147,animid=3D906},[27]=3D{artid=3D3701,=
hue=3D0,animid=3D422},[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D=
{artid=3D8252,hue=3D1147,animid=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=
=3D466},[21]=3D{artid=3D3701,hue=3D0,animid=3D422},}},
-	{artid=3D400,hue=3D33780, content=3D{[27]=3D{artid=3D3701,hue=3D0,animid=
=3D422},[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,=
hue=3D1147,animid=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D=
{artid=3D3701,hue=3D0,animid=3D422},}},
-	{artid=3D400,hue=3D33780, content=3D{[11]=3D{artid=3D8252,hue=3D1147,anim=
id=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D{artid=3D3701,h=
ue=3D0,animid=3D422},}},
-
-	{artid=3D400, content=3D{}},
-	{artid=3D400, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D401, content=3D{}},
-	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D014, content=3D{}},
-	{artid=3D778, content=3D{}},
-	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[4]=3D{artid=
=3D5137,animid=3D529},[6]=3D{artid=3D9797,animid=3D682},[7]=3D{artid=3D5140=
,animid=3D530},[19]=3D{artid=3D5136,animid=3D528},[16]=3D{artid=3D8256,anim=
id=3D800},[21]=3D{artid=3D3701,animid=3D422},[13]=3D{artid=3D5141,animid=3D=
527},[29]=3D{artid=3D3708,animid=3D0},[11]=3D{artid=3D8266,animid=3D903},}},
-	{artid=3D401, content=3D({{artid=3D3932,animid=3D631},{artid=3D7107,animi=
d=3D993},{artid=3D5137,animid=3D529},{artid=3D9797,animid=3D682},{artid=3D5=
140,animid=3D530},{artid=3D5136,animid=3D528},{artid=3D8256,animid=3D800},{=
artid=3D3701,animid=3D422},{artid=3D5141,animid=3D527},{artid=3D3708,animid=
=3D0},{artid=3D8266,animid=3D903},})},
-
-	{artid=3D400, content=3D({{artid=3D3519,animid=3D972},})},
-	{artid=3D400, content=3D({{artid=3D3519,animid=3D972},{artid=3D5901,animi=
d=3D479},{artid=3D5422,animid=3D430},{artid=3D5399,animid=3D434},{artid=3D5=
907,animid=3D404},{artid=3D3701,animid=3D422},{artid=3D8252,animid=3D701},}=
)},
-	{artid=3D987, content=3D({{artid=3D5182,animid=3D624},{artid=3D5903,animi=
d=3D480},{artid=3D5399,animid=3D434},{artid=3D5130,animid=3D565},{artid=3D5=
397,animid=3D468},{artid=3D3701,animid=3D422},{artid=3D7939,animid=3D469},}=
)},
-	{artid=3D401, content=3D({{artid=3D2594,animid=3D500},{artid=3D5899,animi=
d=3D477},{artid=3D7933,animid=3D435},{artid=3D5431,animid=3D455},{artid=3D5=
397,animid=3D468},{artid=3D5441,animid=3D490},{artid=3D8261,animid=3D710},{=
artid=3D3701,animid=3D422},})},
-	{artid=3D401, content=3D({{artid=3D2594,animid=3D500},{artid=3D5905,animi=
d=3D476},{artid=3D5399,animid=3D434},{artid=3D5431,animid=3D455},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8262,animid=3D712},}=
)},
-	{artid=3D401, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D5399,animid=3D434},{artid=3D5435,animid=3D466},{artid=3D8=
251,animid=3D700},{artid=3D3701,animid=3D422},})},
-	{artid=3D400, content=3D({{artid=3D5905,animid=3D476},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D5909,animid=3D406},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8251,animid=3D700},}=
)},
-	{artid=3D400, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D8266,animid=3D903},{artid=3D3=
701,animid=3D422},})},
-
-	-- meshes only crash when using vertex-shader
-	{artid=3D040, content=3D{}},
-	{artid=3D	hex2num(&quot;0x76&quot;) , content=3D{}},
-	{artid=3D	hex2num(&quot;0x77&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x78&quot;) , content=3D{}},
-	{artid=3D	hex2num(&quot;0x79&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0x3C&quot;) , content=3D{}}, =

-	{artid=3D	hex2num(&quot;0xC8&quot;) , content=3D{}}, =

-	{artid=3D hex2num(&quot;0x123&quot;) , content=3D{}},
-	{artid=3D199, content=3D{}},
-	{artid=3D225, content=3D{}}, -- timberwolf
-	{artid=3D256, content=3D{}},
-	{artid=3D	hex2num(&quot;0x319&quot;) , content=3D{}},
-	{artid=3D400,hue=3D33780, content=3D{
-		{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount},
-		[4]=3D{artid=3D5422,hue=3D1728,animid=3D430},[26]=3D{artid=3D3701,hue=3D=
0,animid=3D422},
-		[16]=3D{artid=3D8269,hue=3D1147,animid=3D906},[27]=3D{artid=3D3701,hue=
=3D0,animid=3D422},
-		[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,hue=
=3D1147,animid=3D701},
-		[21]=3D{artid=3D3701,hue=3D0,animid=3D422},}},   =

-	{artid=3D401, content=3D({{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount=
},{artid=3D5899,animid=3D477},{artid=3D5422,animid=3D430},{artid=3D5399,ani=
mid=3D434},{artid=3D5435,animid=3D466},{artid=3D8251,animid=3D700},{artid=
=3D3701,animid=3D422},})},
-	{artid=3D400, content=3D({{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount=
},{artid=3D5899,animid=3D477},{artid=3D5422,animid=3D430},{artid=3D5399,ani=
mid=3D434},{artid=3D5435,animid=3D466},{artid=3D8251,animid=3D700},{artid=
=3D3701,animid=3D422},})},
-
-	{artid=3D2011, content=3D{{animid=3D2002}}}, -- 02:feet 11:ulegs
-	{artid=3D1466, content=3D{}}, -- flimmer, need culling? (fixed)
-	{artid=3D1700, content=3D{}}, -- hair, texcoords or normals broken ? (fix=
ed)
-	{artid=3D500, content=3D{}}, -- lantern, texcoords broken ?! (fixed)
-	{artid=3D468, content=3D{}}, -- cape, texcoords broken ? culling? (fixed)
-	{artid=3D1468, content=3D{}}, -- cape, texcoords broken ? culling? (fixed)
-	{artid=3D490, content=3D{}}, -- sash, texcoords broken ? culling? (fixed)
-	{artid=3D1490, content=3D{}},  -- sash, texcoords broken ? culling? (fixe=
d)
-
-	{artid=3D1924, content=3D{{animid=3D3012}}},
-	{artid=3D3604, content=3D{{animid=3D3012}}},
-	{artid=3D1925, content=3D{{animid=3D3012}}},
-	{artid=3D3605, content=3D{{animid=3D3012}}},
-
-	{artid=3D3006, content=3D{}}, -- female lower legs, sience was having pro=
blem with them, 2 submeshes !
-	{artid=3D2013, content=3D{}},
-	{artid=3D2009, content=3D{}},
-	{artid=3D2012, content=3D{}},
-	{artid=3D3013, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
-	{artid=3D3009, content=3D{}},
-	{artid=3D3012, content=3D{}},
+
 }
 ]]--
 =

@@ -158,6 +38,13 @@
 --removed duplicates by hand
 --commented ones crashes (no shaders used)
 gDebugMenuModelTable =3D {
+	--female
+	{artid=3D401, content=3D{}},
+	{artid=3D401, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D5399,animid=3D434},{artid=3D5435,animid=3D466},{artid=3D8=
251,animid=3D700},{artid=3D3701,animid=3D422},})},
+	-- male
+	{artid=3D400, content=3D{}},
+	{artid=3D400, content=3D({{artid=3D5905,animid=3D476},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D5909,animid=3D406},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8251,animid=3D700},}=
)},
+
 	{artid=3D187 , content=3D{}}, 	--ridgeback_ridgeback
 	{artid=3D193 , content=3D{}}, 	--ridgeback_ridgeback_ethereal
 	{artid=3D188 , content=3D{}}, 	--ridgeback_savage
@@ -516,6 +403,127 @@
 =

 	{artid=3D689 , content=3D{}}, 	--shadowlords_shadowlord
 	{artid=3D704 , content=3D{}} 	--shadowlords_shadowlord
+--[[
+--------------------------------------------------------------------------
+--				custom assigned Models (only for testing)
+--------------------------------------------------------------------------
+	{artid=3D hex2num(&quot;5&quot;) , content=3D{}},		--birds_eagle
+	{artid=3D hex2num(&quot;39&quot;) , content=3D{}},	--mongbats_mongbat
+	{artid=3D hex2num(&quot;105&quot;) , content=3D{}},	--dragons_wyrm_ancient
+
+	-- llamas_llama_pack - broken (crash) -&gt; mapped to id: 220 (grannyfilter)
+	{artid=3D 292 , content=3D{}},
+	-- k=C3=A4fer - broken animation
+	{artid=3D hex2num(&quot;0xA9&quot;) , content=3D{}},
+	--791 broken horse
+	{artid=3D hex2num(&quot;0x317&quot;), content=3D{}},
+
+	{artid=3D	hex2num(&quot;0xB1&quot;) , content=3D{}}, -- 177 broken
+	{artid=3D	hex2num(&quot;0x72&quot;) , content=3D{}}, -- 114 broken =

+	{artid=3D	hex2num(&quot;0x73&quot;) , content=3D{}},  -- 115 broken
+	{artid=3D	hex2num(&quot;0x75&quot;) , content=3D{}}, -- 117 broken
+
+	{artid=3D hex2num(&quot;0xD5&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xF1&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xF3&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xCC&quot;) , content=3D{}}, -- 204, broken horse
+	{artid=3D	hex2num(&quot;0xC8&quot;) , content=3D{}}, -- 200 : standard horse
+	{artid=3D	hex2num(&quot;0xE2&quot;) , content=3D{}}, -- 226 broken
+	{artid=3D	hex2num(&quot;0xE4&quot;) , content=3D{}}, -- 228 broken
+	{artid=3D hex2num(&quot;0xFC&quot;), content=3D{}},
+	{artid=3D	hex2num(&quot;0xDC&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xD2&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xDA&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xDB&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xD5&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0x90&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0x74&quot;) , content=3D{}},  -- 116 broken
+	{artid=3D	hex2num(&quot;0xB2&quot;) , content=3D{}},  -- 178 broken
+	{artid=3D	hex2num(&quot;0x84&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xB3&quot;) , content=3D{}},  -- 179 broken
+	{artid=3D	hex2num(&quot;0xBB&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xBC&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0x317&quot;) , content=3D{}}, -- brokenanim
+	{artid=3D	hex2num(&quot;0x31A&quot;) , content=3D{}}, -- brokenanim
+	{artid=3D	hex2num(&quot;0x31F&quot;) , content=3D{}}, -- brokenanim
+	{artid=3D	hex2num(&quot;0xBE&quot;) , content=3D{}},  -- 190 broken
+	{artid=3D hex2num(&quot;0x11C&quot;) , content=3D{}}, -- 284 anim broken, scale bro=
ken..
+	{artid=3D	hex2num(&quot;0xFB&quot;) , content=3D{}}, =

+
+	{artid=3D400,hue=3D33780, content=3D{[4]=3D{artid=3D5422,hue=3D1728,animi=
d=3D430},[26]=3D{artid=3D3701,hue=3D0,animid=3D422},[16]=3D{artid=3D8269,hu=
e=3D1147,animid=3D906},[27]=3D{artid=3D3701,hue=3D0,animid=3D422},[17]=3D{a=
rtid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,hue=3D1147,animid=
=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D{artid=3D3701,hue=
=3D0,animid=3D422},}},
+	{artid=3D400,hue=3D33780, content=3D{[26]=3D{artid=3D3701,hue=3D0,animid=
=3D422},[16]=3D{artid=3D8269,hue=3D1147,animid=3D906},[27]=3D{artid=3D3701,=
hue=3D0,animid=3D422},[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D=
{artid=3D8252,hue=3D1147,animid=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=
=3D466},[21]=3D{artid=3D3701,hue=3D0,animid=3D422},}},
+	{artid=3D400,hue=3D33780, content=3D{[27]=3D{artid=3D3701,hue=3D0,animid=
=3D422},[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,=
hue=3D1147,animid=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D=
{artid=3D3701,hue=3D0,animid=3D422},}},
+	{artid=3D400,hue=3D33780, content=3D{[11]=3D{artid=3D8252,hue=3D1147,anim=
id=3D701},[12]=3D{artid=3D5435,hue=3D0,animid=3D466},[21]=3D{artid=3D3701,h=
ue=3D0,animid=3D422},}},
+
+	{artid=3D400, content=3D{}},
+	{artid=3D400, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
+	{artid=3D401, content=3D{}},
+	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
+	{artid=3D014, content=3D{}},
+	{artid=3D778, content=3D{}},
+	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[2]=3D{artid=
=3D7107,animid=3D993},[4]=3D{artid=3D5137,animid=3D529},[6]=3D{artid=3D9797=
,animid=3D682},[7]=3D{artid=3D5140,animid=3D530},[19]=3D{artid=3D5136,animi=
d=3D528},[16]=3D{artid=3D8256,animid=3D800},[21]=3D{artid=3D3701,animid=3D4=
22},[13]=3D{artid=3D5141,animid=3D527},[29]=3D{artid=3D3708,animid=3D0},[11=
]=3D{artid=3D8266,animid=3D903},}},
+	{artid=3D401, content=3D{[1]=3D{artid=3D3932,animid=3D631},[4]=3D{artid=
=3D5137,animid=3D529},[6]=3D{artid=3D9797,animid=3D682},[7]=3D{artid=3D5140=
,animid=3D530},[19]=3D{artid=3D5136,animid=3D528},[16]=3D{artid=3D8256,anim=
id=3D800},[21]=3D{artid=3D3701,animid=3D422},[13]=3D{artid=3D5141,animid=3D=
527},[29]=3D{artid=3D3708,animid=3D0},[11]=3D{artid=3D8266,animid=3D903},}},
+	{artid=3D401, content=3D({{artid=3D3932,animid=3D631},{artid=3D7107,animi=
d=3D993},{artid=3D5137,animid=3D529},{artid=3D9797,animid=3D682},{artid=3D5=
140,animid=3D530},{artid=3D5136,animid=3D528},{artid=3D8256,animid=3D800},{=
artid=3D3701,animid=3D422},{artid=3D5141,animid=3D527},{artid=3D3708,animid=
=3D0},{artid=3D8266,animid=3D903},})},
+
+	{artid=3D400, content=3D({{artid=3D3519,animid=3D972},})},
+	{artid=3D400, content=3D({{artid=3D3519,animid=3D972},{artid=3D5901,animi=
d=3D479},{artid=3D5422,animid=3D430},{artid=3D5399,animid=3D434},{artid=3D5=
907,animid=3D404},{artid=3D3701,animid=3D422},{artid=3D8252,animid=3D701},}=
)},
+	{artid=3D987, content=3D({{artid=3D5182,animid=3D624},{artid=3D5903,animi=
d=3D480},{artid=3D5399,animid=3D434},{artid=3D5130,animid=3D565},{artid=3D5=
397,animid=3D468},{artid=3D3701,animid=3D422},{artid=3D7939,animid=3D469},}=
)},
+	{artid=3D401, content=3D({{artid=3D2594,animid=3D500},{artid=3D5899,animi=
d=3D477},{artid=3D7933,animid=3D435},{artid=3D5431,animid=3D455},{artid=3D5=
397,animid=3D468},{artid=3D5441,animid=3D490},{artid=3D8261,animid=3D710},{=
artid=3D3701,animid=3D422},})},
+	{artid=3D401, content=3D({{artid=3D2594,animid=3D500},{artid=3D5905,animi=
d=3D476},{artid=3D5399,animid=3D434},{artid=3D5431,animid=3D455},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8262,animid=3D712},}=
)},
+	{artid=3D401, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D5399,animid=3D434},{artid=3D5435,animid=3D466},{artid=3D8=
251,animid=3D700},{artid=3D3701,animid=3D422},})},
+	{artid=3D400, content=3D({{artid=3D5905,animid=3D476},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D5909,animid=3D406},{artid=3D5=
441,animid=3D490},{artid=3D3701,animid=3D422},{artid=3D8251,animid=3D700},}=
)},
+	{artid=3D400, content=3D({{artid=3D5899,animid=3D477},{artid=3D5422,animi=
d=3D430},{artid=3D7933,animid=3D435},{artid=3D8266,animid=3D903},{artid=3D3=
701,animid=3D422},})},
+
+	-- meshes only crash when using vertex-shader
+	{artid=3D040, content=3D{}},
+	{artid=3D	hex2num(&quot;0x76&quot;) , content=3D{}},
+	{artid=3D	hex2num(&quot;0x77&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0x78&quot;) , content=3D{}},
+	{artid=3D	hex2num(&quot;0x79&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0x3C&quot;) , content=3D{}}, =

+	{artid=3D	hex2num(&quot;0xC8&quot;) , content=3D{}}, =

+	{artid=3D hex2num(&quot;0x123&quot;) , content=3D{}},
+	{artid=3D199, content=3D{}},
+	{artid=3D225, content=3D{}}, -- timberwolf
+	{artid=3D256, content=3D{}},
+	{artid=3D	hex2num(&quot;0x319&quot;) , content=3D{}},
+	{artid=3D400,hue=3D33780, content=3D{
+		{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount},
+		[4]=3D{artid=3D5422,hue=3D1728,animid=3D430},[26]=3D{artid=3D3701,hue=3D=
0,animid=3D422},
+		[16]=3D{artid=3D8269,hue=3D1147,animid=3D906},[27]=3D{artid=3D3701,hue=
=3D0,animid=3D422},
+		[17]=3D{artid=3D8059,hue=3D1652,animid=3D913},[11]=3D{artid=3D8252,hue=
=3D1147,animid=3D701},
+		[21]=3D{artid=3D3701,hue=3D0,animid=3D422},}},   =

+	{artid=3D401, content=3D({{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount=
},{artid=3D5899,animid=3D477},{artid=3D5422,animid=3D430},{artid=3D5399,ani=
mid=3D434},{artid=3D5435,animid=3D466},{artid=3D8251,animid=3D700},{artid=
=3D3701,animid=3D422},})},
+	{artid=3D400, content=3D({{artid=3Dhex2num(&quot;0x3EA2&quot;),layer=3DkLayer_Mount=
},{artid=3D5899,animid=3D477},{artid=3D5422,animid=3D430},{artid=3D5399,ani=
mid=3D434},{artid=3D5435,animid=3D466},{artid=3D8251,animid=3D700},{artid=
=3D3701,animid=3D422},})},
+
+	{artid=3D2011, content=3D{{animid=3D2002}}}, -- 02:feet 11:ulegs
+	{artid=3D1466, content=3D{}}, -- flimmer, need culling? (fixed)
+	{artid=3D1700, content=3D{}}, -- hair, texcoords or normals broken ? (fix=
ed)
+	{artid=3D500, content=3D{}}, -- lantern, texcoords broken ?! (fixed)
+	{artid=3D468, content=3D{}}, -- cape, texcoords broken ? culling? (fixed)
+	{artid=3D1468, content=3D{}}, -- cape, texcoords broken ? culling? (fixed)
+	{artid=3D490, content=3D{}}, -- sash, texcoords broken ? culling? (fixed)
+	{artid=3D1490, content=3D{}},  -- sash, texcoords broken ? culling? (fixe=
d)
+
+	{artid=3D1924, content=3D{{animid=3D3012}}},
+	{artid=3D3604, content=3D{{animid=3D3012}}},
+	{artid=3D1925, content=3D{{animid=3D3012}}},
+	{artid=3D3605, content=3D{{animid=3D3012}}},
+
+	{artid=3D3006, content=3D{}}, -- female lower legs, sience was having pro=
blem with them, 2 submeshes !
+	{artid=3D2013, content=3D{}},
+	{artid=3D2009, content=3D{}},
+	{artid=3D2012, content=3D{}},
+	{artid=3D3013, content=3D{}},
+	{artid=3D3009, content=3D{}},
+	{artid=3D3012, content=3D{}},
+	{artid=3D3009, content=3D{}},
+	{artid=3D3012, content=3D{}},
+	{artid=3D3009, content=3D{}},
+	{artid=3D3012, content=3D{}},
+	{artid=3D3009, content=3D{}},
+	{artid=3D3012, content=3D{}},
+]]--
 }
 =

 -- 0:none 1:normal 2:invert 3:sample 4:sample-invert		-- bonestart

Modified: trunk/lua/lib.gui.iris.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.gui.iris.lua (original)
+++ trunk/lua/lib.gui.iris.lua Wed Jan 23 19:50:19 2008
@@ -36,7 +36,7 @@
 	if (gMyTicks &gt; gMemStats_NextUpdate) then
 		gMemStats_NextUpdate =3D gMyTicks + 1000
 		local mem_dyn, mem_tresh =3D gcinfo()
-		local text =3D sprintf(&quot;%5.1ffps %0.1fmb %dt %db OGRE %0.fmb / %0.1fmb L=
UA&quot;,OgreAvgFPS(),memoryusage / 1024 / 1024, OgreTriangleCount(), OgreBatchC=
ount(), mem_dyn / 1024, mem_tresh / 1024)
+		local text =3D sprintf(&quot;%5.1ffps %0.1fmb %dt %db OGRE | %0.fmb/%0.1fmb L=
UA&quot;,OgreAvgFPS(),memoryusage / 1024 / 1024, OgreTriangleCount(), OgreBatchC=
ount(), mem_dyn / 1024, mem_tresh / 1024)
 		if (not gMemoryUsageField) then
 			local vw,vh =3D GetViewportSize()
 			local w,h =3D 0,12
@@ -50,7 +50,7 @@
 			gMemoryUsageField.text.gfx:SetText(text)
 		end
 		local tw,th =3D gMemoryUsageField.text.gfx:GetTextBounds()
-		gMemoryUsageField.text.gfx:SetPos(-tw,0)
+		gMemoryUsageField.text.gfx:SetPos(-tw+90,0)
 	end
 end
 =


Modified: trunk/lua/lib.terrain.multitex.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.terrain.multitex.lua (original)
+++ trunk/lua/lib.terrain.multitex.lua Wed Jan 23 19:50:19 2008
@@ -190,6 +190,6 @@
 	gfx:SetPosition(x,y,z)
 	Gfx3D_SetMultiTexTerrain(gfx,gGroundBlockLoader,bx,by,kMultiTexTerrainChu=
nkSize,kMultiTexTerrainChunkSize)
 	gfx:SetMaterial(MultiTexTerrainGetMat())
-	gfx:SetCastShadows(false)
+	gfx:SetCastShadows(gTerrainCastShadows)
 	return gfx
 end

Modified: trunk/lua/lib.uoids.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.uoids.lua (original)
+++ trunk/lua/lib.uoids.lua Wed Jan 23 19:50:19 2008
@@ -69,6 +69,38 @@
 gTextAllianceChat		=3D hex2num(&quot;0x0E&quot;)
 gTextCommandPrompts		=3D hex2num(&quot;0x0F&quot;)
 gTextEncodedCmd			=3D hex2num(&quot;0xC0&quot;)
+
+gBoats =3D {}
+--Small boat
+gBoats[hex2num(&quot;0x4000&quot;)] =3D 16093	--Small Boat Facing North
+gBoats[hex2num(&quot;0x4001&quot;)] =3D 15962	--Small Boat Facing East
+gBoats[hex2num(&quot;0x4002&quot;)] =3D 16098	--Small Boat Facing South
+gBoats[hex2num(&quot;0x4003&quot;)] =3D 15980	--Small Boat Facing West
+--Small Dragon Boat
+gBoats[hex2num(&quot;0x4004&quot;)] =3D 16093	--Small Dragon Boat Facing North
+gBoats[hex2num(&quot;0x4005&quot;)] =3D 15962	--Small Dragon Boat Facing East
+gBoats[hex2num(&quot;0x4006&quot;)] =3D 16098	--Small Dragon Boat Facing South
+gBoats[hex2num(&quot;0x4007&quot;)] =3D 15980	--Small Dragon Boat Facing West
+--Medium Boat
+gBoats[hex2num(&quot;0x4008&quot;)] =3D 16093	--Medium Boat Facing North
+gBoats[hex2num(&quot;0x4009&quot;)] =3D 15962	--Medium Boat Facing East
+gBoats[hex2num(&quot;0x400A&quot;)] =3D 16098	--Medium Boat Facing South
+gBoats[hex2num(&quot;0x400B&quot;)] =3D 15980	--Medium Boat Facing West
+--Median Dragon Dragon Boat
+gBoats[hex2num(&quot;0x400C&quot;)] =3D 16093	--Medium Dragon Boat Facing North
+gBoats[hex2num(&quot;0x400D&quot;)] =3D 15962	--Medium Dragon Boat Facing East
+gBoats[hex2num(&quot;0x400E&quot;)] =3D 16098	--Medium Dragon Boat Facing South
+gBoats[hex2num(&quot;0x400F&quot;)] =3D 15980	--Medium Dragon Boat Facing West
+--Large Boat
+gBoats[hex2num(&quot;0x4010&quot;)] =3D 16093	--Long Boat Facing North
+gBoats[hex2num(&quot;0x4011&quot;)] =3D 15962	--Long Boat Facing East
+gBoats[hex2num(&quot;0x4012&quot;)] =3D 16098	--Long Boat Facing South
+gBoats[hex2num(&quot;0x4013&quot;)] =3D 15980	--Long Boat Facing West
+--Large Dragon Boat
+gBoats[hex2num(&quot;0x4014&quot;)] =3D 16093	--Long Dragon Boat Facing North
+gBoats[hex2num(&quot;0x4015&quot;)] =3D 15962	--Long Dragon Boat Facing East
+gBoats[hex2num(&quot;0x4016&quot;)] =3D 16098	--Long Dragon Boat Facing South
+gBoats[hex2num(&quot;0x4017&quot;)] =3D 15980	--Long Dragon Boat Facing West
 =

 -- Paperdoll Layer
 gLayerType =3D {}

Modified: trunk/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/main.lua (original)
+++ trunk/lua/main.lua Wed Jan 23 19:50:19 2008
@@ -287,20 +287,20 @@
 		OgreSetShadowFarDistance(gSightRange*18.0)
 =

  		if ((gShadowTechnique =3D=3D &quot;texture_modulative&quot;) or (gShadowTechnique=
 =3D=3D &quot;texture_additive&quot;)) then
- 			OgreSetShadowTextureSize(2048)
- 			OgreSetShadowTextureSelfShadow(false)
+ 			OgreSetShadowTextureSelfShadow(false)		--fixed function self shadowing=
 only work on OpenGL
+			OgreSetShadowCasterRenderBackFaces(false)
+			OgreSetShadowTextureSize(2048)
 		end
 =

 		if (gShadowTechnique =3D=3D &quot;texture_additive_integrated&quot;) then
+			OgreSetShadowTextureSelfShadow(true)
 			OgreSetShadowCasterRenderBackFaces(false)
 			OgreSetShadowTextureCasterMaterial(&quot;Ogre/DepthShadowmap/Caster/Float&quot;)
-			--OgreSetShadowTextureReceiverMaterial(&quot;Ogre/DepthShadowmap/BasicTempla=
teMaterial&quot;)
-			OgreSetShadowTextureSettings(2048, 3, PF_FLOAT32_R)
-			OgreSetShadowTextureSelfShadow(false)
-			--OgreSetShadowTextureCasterMaterial(matname)
-			--OgreSetShadowTextureReceiverMaterial(matname)
-			--OgreSetShadowTexturePixelFormat(PF_FLOAT32_R) --only for accuracy
-			OgreSetShadowFarDistance(gSightRange*18.0)
+			OgreSetShadowTextureReceiverMaterial(&quot;Ogre/DepthShadowmap/BasicTemplate=
Material&quot;)
+			OgreSetShadowTextureSize(2048)
+			--OgreSetShadowTextureCount(3)
+			--OgreSetShadowTextureSettings(2048, 3, PF_FLOAT32_R)
+			--OgreSetShadowTexturePixelFormat(PF_FLOAT32_R)
  		end
  	end
 =


Modified: trunk/vs8/iris.vcproj
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/vs8/iris.vcproj (original)
+++ trunk/vs8/iris.vcproj Wed Jan 23 19:50:19 2008
@@ -371,6 +371,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=3D&quot;..\lugre\include\lugre_caelum.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=3D&quot;..\lugre\include\lugre_camera.h&quot;
 					&gt;
 				&lt;/File&gt;
@@ -439,6 +443,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=3D&quot;..\lugre\include\lugre_meshloader.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=3D&quot;..\lugre\include\lugre_meshshape.h&quot;
 					&gt;
 				&lt;/File&gt;
@@ -456,6 +464,10 @@
 				&lt;/File&gt;
 				&lt;File
 					RelativePath=3D&quot;..\lugre\include\lugre_ogrewrapper.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=3D&quot;..\lugre\include\lugre_paged_geometry.h&quot;
 					&gt;
 				&lt;/File&gt;
 				&lt;File
@@ -563,6 +575,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=3D&quot;..\lugre\src\lugre_caelum_L.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=3D&quot;..\lugre\src\lugre_camera_L.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -643,6 +659,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=3D&quot;..\lugre\src\lugre_meshloader.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=3D&quot;..\lugre\src\lugre_meshshape.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -667,6 +687,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=3D&quot;..\lugre\src\lugre_paged_geometry_L.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=3D&quot;..\lugre\src\lugre_profile.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -727,6 +751,14 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=3D&quot;..\lugre\src\lugre_sound_openal.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=3D&quot;..\lugre\src\lugre_sound_openal2.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=3D&quot;..\lugre\src\lugre_texatlas.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -765,156 +797,84 @@
 				&lt;File
 					RelativePath=3D&quot;..\lugre\src\tinystr.cpp&quot;
 					&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Debug|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Release|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
 				&lt;/File&gt;
 				&lt;File
 					RelativePath=3D&quot;..\lugre\src\tinyxml.cpp&quot;
 					&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Debug|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Release|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
 				&lt;/File&gt;
 				&lt;File
 					RelativePath=3D&quot;..\lugre\src\tinyxmlerror.cpp&quot;
 					&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Debug|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Release|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
 				&lt;/File&gt;
 				&lt;File
 					RelativePath=3D&quot;..\lugre\src\tinyxmlparser.cpp&quot;
-					&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Debug|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
-					&lt;FileConfiguration
-						Name=3D&quot;Release|Win32&quot;
-						&gt;
-						&lt;Tool
-							Name=3D&quot;VCCLCompilerTool&quot;
-							ObjectFile=3D&quot;$(IntDir)\$(InputName)1.obj&quot;
-							XMLDocumentationFileName=3D&quot;$(IntDir)\$(InputName)1.xdc&quot;
-						/&gt;
-					&lt;/FileConfiguration&gt;
-				&lt;/File&gt;
-			&lt;/Filter&gt;
-		&lt;/Filter&gt;
-		&lt;Filter
-			Name=3D&quot;candune_tree&quot;
-			&gt;
-			&lt;Filter
-				Name=3D&quot;src&quot;
-				&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTParameters.cpp&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTSection.cpp&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTSerializer.cpp&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTStem.cpp&quot;
 					&gt;
 				&lt;/File&gt;
 			&lt;/Filter&gt;
 			&lt;Filter
-				Name=3D&quot;include&quot;
-				&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CaduneTree.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTParameters.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTPrerequisites.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTSection.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTSerializer.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTStem.h&quot;
+				Name=3D&quot;md5&quot;
+				&gt;
+				&lt;File
+					RelativePath=3D&quot;..\lugre\lib\md5\src\md5.c&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=3D&quot;..\lugre\lib\md5\include\md5.h&quot;
 					&gt;
 				&lt;/File&gt;
 			&lt;/Filter&gt;
-		&lt;/Filter&gt;
-		&lt;Filter
-			Name=3D&quot;md5&quot;
-			&gt;
-			&lt;File
-				RelativePath=3D&quot;..\lugre\lib\md5\src\md5.c&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
-				RelativePath=3D&quot;..\lugre\lib\md5\include\md5.h&quot;
-				&gt;
-			&lt;/File&gt;
+			&lt;Filter
+				Name=3D&quot;candune_tree&quot;
+				&gt;
+				&lt;Filter
+					Name=3D&quot;src&quot;
+					&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTParameters.cpp&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTSection.cpp&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTSerializer.cpp&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\src\CTStem.cpp&quot;
+						&gt;
+					&lt;/File&gt;
+				&lt;/Filter&gt;
+				&lt;Filter
+					Name=3D&quot;include&quot;
+					&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CaduneTree.h&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTParameters.h&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTPrerequisites.h&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTSection.h&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTSerializer.h&quot;
+						&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=3D&quot;..\lugre\lib\cadune_tree\include\CTStem.h&quot;
+						&gt;
+					&lt;/File&gt;
+				&lt;/Filter&gt;
+			&lt;/Filter&gt;
 		&lt;/Filter&gt;
 	&lt;/Files&gt;
 	&lt;Globals&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000660.html">[Iris-commit] [IRIS] r1846 - in /trunk/data/models: atlas/	materials/ meta/
</A></li>
	<LI>Next message: <A HREF="000662.html">[Iris-commit] [IRIS] r1848 - in /trunk/lua: lib.3d.map.lua	lib.terrain.multitex.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#661">[ date ]</a>
              <a href="thread.html#661">[ thread ]</a>
              <a href="subject.html#661">[ subject ]</a>
              <a href="author.html#661">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/iris-commit">More information about the Iris-commit
mailing list</a><br>
</body></html>
