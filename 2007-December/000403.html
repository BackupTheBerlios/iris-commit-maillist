<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Iris-commit] [IRIS] r1587 - in /trunk: bin/ data/ data/base/font/ data/lua/ data/models/materials/ src/
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/iris-commit/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1587%20-%20in%20/trunk%3A%20bin/%20data/%20data/base/font/%0A%20data/lua/%20data/models/materials/%20src/&In-Reply-To=%3C20071202103318.8059C1C182B3%40zwischenwelt.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000402.html">
   <LINK REL="Next"  HREF="000404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Iris-commit] [IRIS] r1587 - in /trunk: bin/ data/ data/base/font/ data/lua/ data/models/materials/ src/</H1>
    <B>no-reply at zwischenwelt.org</B> 
    <A HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1587%20-%20in%20/trunk%3A%20bin/%20data/%20data/base/font/%0A%20data/lua/%20data/models/materials/%20src/&In-Reply-To=%3C20071202103318.8059C1C182B3%40zwischenwelt.org%3E"
       TITLE="[Iris-commit] [IRIS] r1587 - in /trunk: bin/ data/ data/base/font/ data/lua/ data/models/materials/ src/">no-reply at zwischenwelt.org
       </A><BR>
    <I>Sun Dec  2 11:33:18 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000402.html">[Iris-commit] [IRIS] r1586 - /trunk/doc/generate_lua_api.php
</A></li>
        <LI>Next message: <A HREF="000404.html">[Iris-commit] [IRIS] r1588 - in /trunk/data: base/font/Berlin_sans32.png base/font/berlin_sans32.png config.lua.dist lua/net.other.lua lua/obj/obj.container.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#403">[ date ]</a>
              <a href="thread.html#403">[ thread ]</a>
              <a href="subject.html#403">[ subject ]</a>
              <a href="author.html#403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: sience
Date: Sun Dec  2 11:33:17 2007
New Revision: 1587

Log:
-berlin outline font added
-sdl headers removed from data.cpp
-hudnames activated again
-some font fixes

Added:
    trunk/data/base/font/
    trunk/data/base/font/Berlin_sans32.png   (with props)
    trunk/data/base/font/berlin_sans32.fontdef
Modified:
    trunk/bin/resources.cfg
    trunk/data/config.lua.dist
    trunk/data/lua/lib.3d.mobile.lua
    trunk/data/lua/lib.gfm.lua
    trunk/data/lua/lib.journal.lua
    trunk/data/models/materials/textures.material
    trunk/src/data.cpp

Modified: trunk/bin/resources.cfg
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/bin/resources.cfg (original)
+++ trunk/bin/resources.cfg Sun Dec  2 11:33:17 2007
@@ -8,6 +8,7 @@
 FileSystem=3D./
 FileSystem=3D../data/base
 FileSystem=3D../data/base/ui
+FileSystem=3D../data/base/font
 FileSystem=3D../data/skybox
 FileSystem=3D../data/particles/materials
 FileSystem=3D../data/particles/particles

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Sun Dec  2 11:33:17 2007
@@ -27,11 +27,11 @@
 gHideOfflineModeTeleportMenu =3D true		-- currently broken
 =

 -- Font settings
-gFontNameDefault	=3D &quot;TrebuchetMSBold&quot;
-gFontSizeDefault	=3D 16
-gFontChatSize		=3D 12
-gFontGumpSize		=3D 12
-gHudNamesFontSize	=3D 12
+gFontNameDefault =3D &quot;BerlinSans32&quot;		--&quot;TrebuchetMSBold&quot;
+gFontSizeDefault =3D 15
+gFontChatSize =3D 18
+gFontGumpSize =3D 15
+gHudNamesFontSize	=3D 16
 =

 -- uo fonts
 if false then

Modified: trunk/data/lua/lib.3d.mobile.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.3d.mobile.lua (original)
+++ trunk/data/lua/lib.3d.mobile.lua Sun Dec  2 11:33:17 2007
@@ -153,15 +153,11 @@
 	=

 	if (mobile.name) then
 		if (not gHideHUDNames) then =

-			if (not mobile.hudname) then =

-				-- hudtext
-				local text =3D mobile.name
+			if (not mobile.hudname) then
 				local w,h =3D 0,12
 				local x,y =3D 0,0
 				local r,g,b =3D GetNotorietyColor(mobile.notoriety)
 				local col_text =3D {r,g,b,1}
-				--local tw,th =3D gFPSField.text.gfx:GetTextBounds()	=

-				=

 				=

 				if (not gHudNamesDialogLayer) then
 					local col_back =3D {0,0,0,0}
@@ -170,11 +166,16 @@
 					gHudNamesDialogLayer:SendToBack()
 				end
 				=

-				mobile.hudname =3D guimaker.MakeText(gHudNamesDialogLayer.panel,0,0,te=
xt,gHudNamesFontSize,col_text)
+				mobile.hudname =3D guimaker.MakeText(gHudNamesDialogLayer.panel,0,0, m=
obile.name, gHudNamesFontSize, col_text, gFontNameDefault)
 				mobile.hudname.gfx:SetTrackPosSceneNode(mobile.headpos)
-				--mobile.hudname.gfx:SetTrackPosSceneNode(mobile.gfx)
+
 				mobile.hudname.gfx.mbTrackHideIfClamped =3D true
 				mobile.hudname.gfx.mbTrackHideIfBehindCam =3D true
+
+				local vw,vh =3D GetViewportSize()
+				mobile.hudname.gfx.mvTrackClampMin =3D {0,0}
+				mobile.hudname.gfx.mvTrackClampMax =3D {vw,vh}
+
 				mobile.hudname.gfx:SetTextAlignment(kGfx2DAlign_Center)
 				mobile.hudname.lastn =3D mobile.notoriety
 				mobile.hudname.lastname =3D mobile.name

Modified: trunk/data/lua/lib.gfm.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.gfm.lua (original)
+++ trunk/data/lua/lib.gfm.lua Sun Dec  2 11:33:17 2007
@@ -233,7 +233,7 @@
 				hex2num(gump.attr.normal), hex2num(gump.attr.over), hex2num(gump.attr.=
pressed),
 				attr.left, attr.top, attr.width, attr.height )
 	elseif (attr.class =3D=3D &quot;label&quot;) then
-			widget =3D guimaker.MakeText(dialog.rootwidget,attr.left,attr.top,text[=
1],gFontGumpSize,{0,0,0,1.0},gFontNameDefault)
+			widget =3D guimaker.MakeText(dialog.rootwidget,attr.left,attr.top,text[=
1],gFontGumpSize,{1.0,1.0,1.0,1.0},gFontNameDefault)
 			if (text.attr.align =3D=3D &quot;center&quot;) then
 				local w,h =3D widget.gfx:GetTextBounds()
 				widget.gfx:SetPos(attr.left+attr.width/2 - w/2,attr.top)

Modified: trunk/data/lua/lib.journal.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.journal.lua (original)
+++ trunk/data/lua/lib.journal.lua Sun Dec  2 11:33:17 2007
@@ -100,7 +100,7 @@
 		=

 		-- create text
 		local parent =3D gJournalDialog.rootwidget
-		local col =3D {0,0,0,1}
+		local col =3D {1,1,1,1}
 		local bx1,by1,bx2,by2 =3D JournalGetTextBorder()
 		gJournalDialog.maintext =3D guimaker.MakeText(parent,bx1,by1,&quot;&quot;,gFontGum=
pSize,col,gFontNameDefault)
 		table.insert(gJournalDialog.clippedWidgets,gJournalDialog.maintext)

Modified: trunk/data/models/materials/textures.material
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/models/materials/textures.material (original)
+++ trunk/data/models/materials/textures.material Sun Dec  2 11:33:17 2007
@@ -6789,7 +6789,7 @@
 	} =

 }
 =

-material tex_533 : tex_base =

+material tex_533 : tex_base_alpha =

 { =

 	technique =

 	{ =

@@ -6803,7 +6803,7 @@
 	} =

 }
 =

-material tex_534 : tex_base =

+material tex_534 : tex_base_alpha
 { =

 	technique =

 	{ =

@@ -6817,7 +6817,7 @@
 	} =

 }
 =

-material tex_535 : tex_base =

+material tex_535 : tex_base_alpha =

 { =

 	technique =

 	{ =

@@ -6831,7 +6831,7 @@
 	} =

 }
 =

-material tex_536 : tex_base =

+material tex_536 : tex_base_alpha
 { =

 	technique =

 	{ =

@@ -6845,7 +6845,7 @@
 	} =

 }
 =

-material tex_537 : tex_base =

+material tex_537 : tex_base_alpha
 { =

 	technique =

 	{ =

@@ -6859,7 +6859,7 @@
 	} =

 }
 =

-material tex_538 : tex_base =

+material tex_538 : tex_base_alpha
 { =

 	technique =

 	{ =


Modified: trunk/src/data.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/src/data.cpp (original)
+++ trunk/src/data.cpp Sun Dec  2 11:33:17 2007
@@ -2,7 +2,6 @@
 #include &quot;data.h&quot;
 #include &lt;stdio.h&gt;
 #include &quot;tinyxml.h&quot;
-#include &lt;SDL/SDL_endian.h&gt;
 #include &lt;iostream&gt;
 #include &lt;fstream&gt;
 #include &lt;Ogre.h&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000402.html">[Iris-commit] [IRIS] r1586 - /trunk/doc/generate_lua_api.php
</A></li>
	<LI>Next message: <A HREF="000404.html">[Iris-commit] [IRIS] r1588 - in /trunk/data: base/font/Berlin_sans32.png base/font/berlin_sans32.png config.lua.dist lua/net.other.lua lua/obj/obj.container.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#403">[ date ]</a>
              <a href="thread.html#403">[ thread ]</a>
              <a href="subject.html#403">[ subject ]</a>
              <a href="author.html#403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/iris-commit">More information about the Iris-commit
mailing list</a><br>
</body></html>
