<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Iris-commit] [IRIS] r1284 - in /trunk: bin/iris2.exe data/config.lua.dist data/lua/lib.mainmenu.lua data/skippedfallbacks.lua src/scripting.cpp
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/iris-commit/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1284%20-%20in%20/trunk%3A%20bin/iris2.exe%0A%20data/config.lua.dist%20data/lua/lib.mainmenu.lua%20data/skippedfallbacks.lua%0A%20src/scripting.cpp&In-Reply-To=%3C20070714164712.B7AFBB145F8%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000099.html">
   <LINK REL="Next"  HREF="000101.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Iris-commit] [IRIS] r1284 - in /trunk: bin/iris2.exe data/config.lua.dist data/lua/lib.mainmenu.lua data/skippedfallbacks.lua src/scripting.cpp</H1>
    <B>no-reply at zwischenwelt.org</B> 
    <A HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r1284%20-%20in%20/trunk%3A%20bin/iris2.exe%0A%20data/config.lua.dist%20data/lua/lib.mainmenu.lua%20data/skippedfallbacks.lua%0A%20src/scripting.cpp&In-Reply-To=%3C20070714164712.B7AFBB145F8%40localhost.localdomain%3E"
       TITLE="[Iris-commit] [IRIS] r1284 - in /trunk: bin/iris2.exe data/config.lua.dist data/lua/lib.mainmenu.lua data/skippedfallbacks.lua src/scripting.cpp">no-reply at zwischenwelt.org
       </A><BR>
    <I>Sat Jul 14 18:47:12 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000099.html">[Iris-commit] [IRIS] r1283 - in /trunk: bin/ data/ data/base/ data/lua/ data/skybox/ data/terrain/materials/ data/terrain/programs/ data/terrain/textures/
</A></li>
        <LI>Next message: <A HREF="000101.html">[Iris-commit] [IRIS] r1285 - /branches/stable_release/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100">[ date ]</a>
              <a href="thread.html#100">[ thread ]</a>
              <a href="subject.html#100">[ subject ]</a>
              <a href="author.html#100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: sience
Date: Sat Jul 14 18:47:11 2007
New Revision: 1284

Log:
-point lightsources don't cast shadows
-skippedfallbacks added
-the jarrys shard added to config.lua.dist
-some obsolete options removed from config.lua.dist

Modified:
    trunk/bin/iris2.exe
    trunk/data/config.lua.dist
    trunk/data/lua/lib.mainmenu.lua
    trunk/data/skippedfallbacks.lua
    trunk/src/scripting.cpp

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.

Modified: trunk/data/config.lua.dist
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/config.lua.dist (original)
+++ trunk/data/config.lua.dist Sat Jul 14 18:47:11 2007
@@ -91,19 +91,24 @@
 		gPassword =3D &quot;admin&quot;,	-- Password
 		gLoginServerIP =3D &quot;localhost&quot;,
 		gLoginServerPort =3D 2593,
-		gGameServerSlot =3D 0,
-		gCharacterSlotAdd =3D 0,
-		gServerSeed =3D hex2num(&quot;0xFFFFFFFF&quot;),
-		gPolServer =3D false
-	}
-	=

+		gServerSeed =3D hex2num(&quot;0xFFFFFFFF&quot;),
+		gPolServer =3D false
+	}
+
+gShardList[&quot;Jarrys (chinese)&quot;] =3D {
+		gLoginname =3D &quot;&quot;,	-- Loginname
+		gPassword =3D &quot;&quot;,		-- Password
+		gLoginServerIP =3D &quot;login.uofans.com&quot;, =

+		gLoginServerPort =3D 2593, =

+		gServerSeed =3D 1, =

+		gPolServer =3D false =

+	}
+
 gShardList[&quot;uodemise.com&quot;] =3D {
 		gLoginname =3D &quot;&quot;,	-- Loginname
 		gPassword =3D &quot;&quot;,		-- Password
 		gLoginServerIP =3D &quot;login.uodemise.com&quot;,
 		gLoginServerPort =3D 2593,
-		gGameServerSlot =3D 0,
-		gCharacterSlotAdd =3D 0,
 		gServerSeed =3D hex2num(&quot;0xFFFFFFFF&quot;),
 		gPolServer =3D false
 	}
@@ -113,8 +118,6 @@
 		gPassword =3D &quot;&quot;,		-- Password
 		gLoginServerIP =3D &quot;login.uogamers.com&quot;,
 		gLoginServerPort =3D 2593,
-		gGameServerSlot =3D 0,
-		gCharacterSlotAdd =3D 0,
 		gServerSeed =3D hex2num(&quot;0xFFFFFFFF&quot;),
 		gPolServer =3D false
 	}
@@ -124,9 +127,8 @@
 		gPassword =3D &quot;&quot;,		-- Password
 		gLoginServerIP =3D &quot;dfi.defianceuo.com&quot;, =

 		gLoginServerPort =3D 2593,
-		gGameServerSlot =3D 0,
-		gCharacterSlotAdd =3D 0,
-		gServerSeed =3D hex2num(&quot;0xFFFFFFFF&quot;),
+		gServerSeed =3D hex2num(&quot;0xFFFFFFFF&quot;),
+		gPolServer =3D false
 	}
 =

 -- in config.lua you can add shards like this: 	=

@@ -136,13 +138,10 @@
 -- gShardList[&quot;uodemise.com&quot;].gLoginname =3D &quot;YOUR_USERNAME&quot; =

 -- gShardList[&quot;uodemise.com&quot;].gPassword =3D &quot;YOUR_PASSWORD&quot; =

 =

--- for pol servers use this: 	=

--- gShardList[&quot;localhost&quot;].gPolServer=3Dtrue 	=

--- gShardList[&quot;localhost&quot;].gLoginServerPort=3D5003 	=

--- gShardList[&quot;localhost&quot;].gGameServerPort=3D5003 	=

--- gShardList[&quot;localhost&quot;].gGameServerSlot=3D0
--- gShardList[&quot;localhost&quot;].gCharacterSlotAdd=3D0 =

-
+-- for pol servers use this:
+-- gShardList[&quot;localhost&quot;].gPolServer=3Dtrue
+-- gShardList[&quot;localhost&quot;].gLoginServerPort=3D5003
+-- gShardList[&quot;localhost&quot;].gGameServerPort=3D5003
 =

 =

 -- Standard Serversettings
@@ -165,8 +164,6 @@
 gPassword =3D &quot;&quot;				-- Password
 gLoginServerIP =3D &quot;localhost&quot;
 gLoginServerPort =3D 2593		-- runuos standard loginserver port
-gGameServerSlot =3D 0			-- choose gameserver from gameserverlist
-gCharacterSlotAdd =3D 0			-- choose character from characterlist
 gServerSeed =3D hex2num(&quot;0xFFFFFFFF&quot;)	-- should be the IP of the User
 gPolServer =3D false			-- is it a Pol (Penultima Online) server?
 =

@@ -227,11 +224,12 @@
 -- sample shadow setting
 gEnableShadows =3D false
 if (gEnableShadows) then
-	gShadowTechnique =3D &quot;stencil_additive&quot;
+	gShadowTechnique =3D &quot;stencil_modulative&quot;
+	gTerrainCastShadows =3D false
 	gMobileCastShadows =3D true
 end
 =

--- activate Shader 2.0 for Terrainengine (true/false)
+-- activate Shader 2.0 for TerrainShader Engine
 gTerrainShader =3D false
 =

 -- activates Lightsources

Modified: trunk/data/lua/lib.mainmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/lua/lib.mainmenu.lua (original)
+++ trunk/data/lua/lib.mainmenu.lua Sat Jul 14 18:47:11 2007
@@ -60,11 +60,8 @@
 =

 --gameserverlist selection
 function MainMenuShowServerList (serverlist)
-	if (gPolServer) then gGameServerSlot=3DgGameServerSlot+1 end -- TODO : ob=
solete ??? --pol uses gameserverslot+1
-	=

 	local MySelectServer =3D function(server) =

 		AddFadeLines(sprintf(&quot;connecting to server %s[%d]&quot;,server.name or &quot;???&quot;,=
server.index or 0))
-		printdebug(&quot;login&quot;,&quot;NET: select gameserver&quot;,server.name,server.index,gGa=
meServerSlot)
 		=

 --		ProtocolSend_SystemSpecs()
 		=

@@ -106,7 +103,7 @@
 	--check first, if the choose slot is available!
 	=

 	local MySelectChar =3D function(widget) =

-		ProtocolSend_Character_Select(widget.iCharNum + gCharacterSlotAdd,gGameS=
erverAccount)
+		ProtocolSend_Character_Select(widget.iCharNum,gGameServerAccount)
 		widget.dialog:Destroy()
 	end
 	local MyCreateCharTemplatePicker =3D function(widget) =


Modified: trunk/data/skippedfallbacks.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/skippedfallbacks.lua (original)
+++ trunk/data/skippedfallbacks.lua Sat Jul 14 18:47:11 2007
@@ -352,3 +352,5 @@
 RegisterSkippedArtBillboardFallBack(7540) -- 0x1d74 name=3Dskeleton
 RegisterSkippedArtBillboardFallBack(7250) -- 0x1c52 name=3Dcoffin
 RegisterSkippedArtBillboardFallBack(7249) -- 0x1c51 name=3Dcoffin
+RegisterSkippedArtBillboardFallBack(7254) -- 0x1c56 name=3Dcoffin
+RegisterSkippedArtBillboardFallBack(7253) -- 0x1c55 name=3Dcoffin

Modified: trunk/src/scripting.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/src/scripting.cpp (original)
+++ trunk/src/scripting.cpp Sat Jul 14 18:47:11 2007
@@ -704,7 +704,8 @@
 	pLight-&gt;setPosition(luaL_checknumber(L,1),luaL_checknumber(L,2),luaL_chec=
knumber(L,3));
 	pLight-&gt;setDiffuseColour(luaL_checknumber(L,4),luaL_checknumber(L,5),luaL=
_checknumber(L,6));
 	pLight-&gt;setSpecularColour(luaL_checknumber(L,7),luaL_checknumber(L,8),lua=
L_checknumber(L,9));
-	pLight-&gt;setAttenuation(luaL_checknumber(L,10),luaL_checknumber(L,11),luaL=
_checknumber(L,12),luaL_checknumber(L,13));
+	pLight-&gt;setAttenuation(luaL_checknumber(L,10),luaL_checknumber(L,11),luaL=
_checknumber(L,12),luaL_checknumber(L,13));
+	pLight-&gt;setCastShadows(false);
 	lua_pushstring(L,sName.c_str());
 	return 1;
 }
@@ -1120,8 +1121,7 @@
 		else if(strcmp(tech,&quot;texture_modulative_integrated&quot;) =3D=3D 0)p-&gt;setShad=
owTechnique(Ogre::SHADOWTYPE_TEXTURE_MODULATIVE_INTEGRATED);
 		else p-&gt;setShadowTechnique(Ogre::SHADOWTYPE_NONE);
 	}
-
-	return 0;
+    return 0;
 }
 =

 /// for lua :   void	  OgreSetShadowTextureSize  (int size)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000099.html">[Iris-commit] [IRIS] r1283 - in /trunk: bin/ data/ data/base/ data/lua/ data/skybox/ data/terrain/materials/ data/terrain/programs/ data/terrain/textures/
</A></li>
	<LI>Next message: <A HREF="000101.html">[Iris-commit] [IRIS] r1285 - /branches/stable_release/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100">[ date ]</a>
              <a href="thread.html#100">[ thread ]</a>
              <a href="subject.html#100">[ subject ]</a>
              <a href="author.html#100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/iris-commit">More information about the Iris-commit
mailing list</a><br>
</body></html>
