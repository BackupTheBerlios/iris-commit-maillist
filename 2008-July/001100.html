<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Iris-commit] [IRIS] r2292 - in /trunk: data/base/ui/ lua/ lua/gui/	lua/net/
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/iris-commit/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r2292%20-%20in%20/trunk%3A%20data/base/ui/%20lua/%20lua/gui/%0A%09lua/net/&In-Reply-To=%3C20080708085411.B24FA1524030%40zwischenwelt.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001099.html">
   <LINK REL="Next"  HREF="001101.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Iris-commit] [IRIS] r2292 - in /trunk: data/base/ui/ lua/ lua/gui/	lua/net/</H1>
    <B>no-reply at zwischenwelt.org</B> 
    <A HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r2292%20-%20in%20/trunk%3A%20data/base/ui/%20lua/%20lua/gui/%0A%09lua/net/&In-Reply-To=%3C20080708085411.B24FA1524030%40zwischenwelt.org%3E"
       TITLE="[Iris-commit] [IRIS] r2292 - in /trunk: data/base/ui/ lua/ lua/gui/	lua/net/">no-reply at zwischenwelt.org
       </A><BR>
    <I>Tue Jul  8 10:54:09 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001099.html">[Iris-commit] [IRIS] r2291 - /trunk/data/base/ui/tabbed.png
</A></li>
        <LI>Next message: <A HREF="001101.html">[Iris-commit] [IRIS] r2293 - /trunk/lua/gui/gui.chat.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1100">[ date ]</a>
              <a href="thread.html#1100">[ thread ]</a>
              <a href="subject.html#1100">[ subject ]</a>
              <a href="author.html#1100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: hagish
Date: Tue Jul  8 10:54:07 2008
New Revision: 2292

Log:
*first tabbed chat window
*weapon abilities work-in-progress

Modified:
    trunk/data/base/ui/tabbed.png
    trunk/lua/gui/gui.gumpparser.lua
    trunk/lua/gui/gui.main.lua
    trunk/lua/gui/gui.skill.lua
    trunk/lua/lib.3d.cam.lua
    trunk/lua/lib.3d.walksmooth.lua
    trunk/lua/lib.compass.lua
    trunk/lua/lib.cursor.lua
    trunk/lua/lib.debugmenu.lua
    trunk/lua/lib.macrolist.lua
    trunk/lua/lib.mainmenu.lua
    trunk/lua/lib.pathfind.lua
    trunk/lua/lib.protocol.lua
    trunk/lua/lib.static.lua
    trunk/lua/lib.uodragdrop.lua
    trunk/lua/main.lua
    trunk/lua/net.popup.lua
    trunk/lua/net.walk.lua
    trunk/lua/net/net.aoscommand.lua
    trunk/lua/net/net.mobile.lua
    trunk/lua/net/net.other.lua

Modified: trunk/data/base/ui/tabbed.png
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/data/base/ui/tabbed.png (original)
+++ trunk/data/base/ui/tabbed.png Tue Jul  8 10:54:07 2008
@@ -1,6 +1,10 @@
 =C2=89PNG
 =1A
-=00=00=00
IHDR=00=00=00=C2=80=00=00=00=C2=80=08=06=00=00=00=C3=83&gt;a=C3=8B=00=00=00=01=
sRGB=00=C2=AE=C3=8E=1C=C3=A9=00=00=00=06bKGD=00=C3=BF=00=C3=BF=00=C3=BF=C2=
=A0=C2=BD=C2=A7=C2=93=00=00=00	pHYs=00=00=0B=10=00=00=0B=10=01=C2=AD#=C2=BD=
u=00=00=00=07tIME=07=C3=98=07=06=0F=0B8eX=C2=91F=00=00=00=19tEXtComment=00C=
reated with GIMPW=C2=81=0E=17=00=00=05=0EIDATx=C3=9A=C3=AD=C2=9D=C2=BFO=14A=
=14=C3=87=C3=9F^=08=05=C2=9D=C2=89=C2=9A=10=C2=88=C2=9D=C2=95=164=C3=84=C2=
=86F=C3=BF=03!t=C2=B4(=C2=94JB=C2=A21 =14=C2=9A=C2=90=00%=08-=1D=01=C3=BE=
=03m=C2=AE=C2=B9=C3=90Xheg0&amp;j=C3=A2=7F=C3=80Y=C2=90=3D=C3=A7=C3=B6=C3=97=C3=
=8C=C3=AC=C3=AC=C3=AC=C3=AC=C3=9D}&gt;	=C2=B9;=C2=B8=C3=99]=C3=B6}g=C3=B6=C3=
=8D=C3=9B=C2=B7oDD=C2=A4+=C3=92=15K\=C3=9B=C2=84=C3=98'=C2=A4i=C3=95}=C2=82=
=C2=BA&quot;=C3=9D=10=C3=BB=C3=84=C3=94=C3=99=C2=8CE&quot;=C2=91=C2=88=C3=88=C3=ACt=
=C2=AB=C3=B0$]^]G=C3=AA=C3=A7=C2=B8=C2=9D=C2=8An=1BQb=1B=0F=C3=AE=16=7F=C3=
=BF=C3=AB/=C3=BD&gt;u=C3=9B=C2=88=12=C3=9B=C2=80=C2=84=00=C3=94=0Fg=C2=A7=C3=
=BB=C2=B9_\X|=C2=A1=C3=ADE=C2=9A=C3=B6=C2=99=C2=BF=C3=9F=C3=99y=C2=99=C3=9B=
f}}O=C2=BBOM{,l#=00=11=C2=91=C2=95=C3=95=C3=8D=C3=94=C2=97=0E=0F=C2=B6
-=C2=8Dk=C3=92=C2=BE=C2=88w=C3=AF?=C2=A4~=C3=B7=C3=BA=C3=95=C3=B3B=C3=A3=C2=
=9A=C2=B4=C2=87=12=02=10=11=C2=B9?9=C3=95=C3=B7yw=C3=BB=C2=A8=C3=B7~m=C3=A3=
=C2=99=C3=ACn=1F=C2=A5^=C3=B3=C3=9A~=C3=BB=C3=B9=C3=83=C3=A8@=C3=AE=C3=9D=
=C2=BE=C3=93=C3=B7=C3=B9=C3=A4=C3=B8=C2=BC=C3=B7~iy^N=C2=8E=C3=8FS=C2=AFym=
=C2=BF=C3=BF=C3=B9=C2=8De]=04 &quot;=C3=B2h=C3=AE=C3=BFI=C2=9D{=C3=B2=C2=B4=C3=
=AFok=1B=C3=8F2_ED=C3=9A=1F/z=C3=AF;m;C&lt;=C2=9C=C2=B9=C3=95{?3=C3=BB=C2=B8=
=C3=AFoK=C3=8B=C3=B3=C2=99=C2=AF&quot;&quot;=C2=9F/?=C3=B5=C3=9E=7F=C3=B9=C3=BC=17=C2=
=ABV!=C2=80,=C3=83=C2=9B=10=C2=B7Q=C2=85`C=C3=92=C3=B06mT!=C2=80=C3=A14=C2=
=90S=C2=80=002=1D=C2=B62=C2=BD?k$=C3=909=C2=80=C2=AA=C3=83V=C2=A6=C3=B7g=C2=
=8D=048=C2=80%=04pyu=1D=C3=A5M=C3=95\YX|=C2=91=C2=8A#=C3=84=C3=B3|_S=C2=B5=
=C3=B5=C3=B5=C2=BDT=1C=01=C2=B8=04=C2=80=C2=89=00T=C2=AF=C3=9E=05=C2=9B=C3=
=AD=C2=A8^=C2=BD=0BUmg=C2=A4=05=C2=A0=C3=8E=C3=AB]=C2=B0=C3=99=C2=8E:=C2=AF=
w=C2=A1=C2=AA=C3=AD=C2=8C=C3=8C40=C2=BEQ=C2=A2=C3=86=C3=99}=C2=8D=00=C3=89=
=C2=9B2=C3=AA&gt;}=C2=8D=00Y=C3=BF=1F(=02=C3=88:1q=C2=84=C2=AF=C2=8A=11@=C3=9D=
Nr_=C3=B1=C3=8D=C2=A3=C2=B7o=C2=AAw=04'=C3=86o=C2=B6=1F]=C3=A1=08=16
- =C2=84=0F=C3=90=C3=AB=C2=95=C2=96=C3=86=C3=A9=C2=8Atm{2#@=03}=C2=80=C2=BA=
=C2=8D=C2=81=C3=B1=C2=99=06=C2=82N=00=C2=B3=C3=93=C2=AD=C2=AE=C3=A9-_[=C3=
=8EN=C3=B7=C3=BB=C2=92E=C3=88=08j=C2=B0=0F=C2=B0=C2=B2=C2=BA)=C3=B7'=C2=A7=
=C2=A4=C3=BD=C3=B1=C3=82)=1C=1C=C3=9F=0CZY=C3=9DL=C2=85=C2=83Cf!=C2=81=C2=
=81=13X'!=C2=B2=C2=90=C3=80P=00q/=C2=B6=19	=C3=8A=C3=9C=06=0E=C2=91=C2=85=
=04=1A=01=C2=A8=C3=89=1C=C2=9D=C2=B6yFPYBd!A=C2=8E=00=C2=92'0=C3=99=C2=9B=
=C2=8A2=C2=82=C2=B2z=C2=A3)!=C2=B2=C2=90=10=C2=80=C3=A1=C3=90ir=3D=3D;=C3=
=9Dw=1EzCd!!=00=03#_=1Ax=C3=93&amp;N=1B4L=00U=C2=86eu&quot;=C3=89=0B=C3=8B=1E=1El=C3=
=89=C3=AE=C3=B6Q%YH=C2=9D=C3=B6=11=0E=C2=A0=05=C2=AD=C2=90a=C3=99=10YH=C2=
=90=10@^=C2=80=C3=85=C3=86=C2=90&gt;=C3=9B@
=02h=02!=C2=B2=C2=90=C2=A0A=02=08=C2=91=C2=85=04=C2=81=04=C2=90=C3=B5=C2=88=
=C2=B8=C3=8F,$n=065L=00=C2=91H=14=C2=89D=C2=BA=1B9=C2=AE=C3=8CN=C2=B7=C2=BA=
=C3=B1=C2=BE0u=C2=83(=C3=9B+=C3=8B=C2=B6a=04h=C3=A0=080=C3=8C=C3=BB=03=18=
=18=C2=ACz=C2=86mI=C2=97=10=C3=A8=C2=8Eqb=C2=BC=C2=B8}=13=C2=82G=C2=B6=C2=
=892.X'=C2=84=C2=B8=C2=96t=C3=B1=C2=8DI=C3=89=18=C3=97$=14=C3=9F=C3=94=C2=
=99=C3=A4R*#=C3=88=C2=B5=C2=A4=C2=8BoLJ=C3=86=C2=B8&amp;=C2=A1=C3=B8=C2=A6=C2=
=AE$=C2=97=C3=92)a=C2=A6%]|=C3=A3R2=C3=864	=C3=857!=C2=93\=C2=9Cr=02MJ=C2=
=BA=C3=B8=C3=86=C2=B5d=C2=8CI=12=C2=8AoB&amp;=C2=B98'=C2=85=C2=BA=16u=C3=B0=C2=
=81m=C3=89=18=C3=97=C3=9B=C3=90&gt;=C2=A8+=C3=89=C2=85=07CF=C2=9CR=02=C2=A8=C2=
=AA=C2=A4K]#AV=C3=89=C2=98=C2=AAJ=C3=A1=C3=945=12=C3=B8Jr=C2=B1=12=C2=80=C3=
=8F=C2=92.=C2=BE=C2=89K=C3=86=C3=B8LB=C3=B1=C2=8D=C2=8F$=17.=01\=02=C3=9C=
=C2=BC=C3=AF=C2=A6St=C2=9C=C2=83=C2=92&lt;=C3=A2=C3=B38[&quot;7=C2=A1=C3=87=C2=A2=
=C2=9F=C2=BC=C3=B9=C3=B7 Pt=C2=9C=C2=83=C2=92&lt;br=C2=9Cel(=C2=A2&lt;=C2=A49j=C3=
=8F=C3=985%=C3=A2g=C3=AB=03=C2=94=C3=B9=7F=C2=8A|=C2=87=C2=BE8@=C3=93=C3=83=
=C2=A3=C2=A3=C2=8E=C3=8E=0Ee=C3=82=C3=87=C2=<A HREF="https://lists.berlios.de/mailman/listinfo/iris-commit">A9 at PS</A>=C3=82=C2=A3=C2=A0=C2=BF,T=
=11&gt;=C3=8E=C2=8C=046!&lt;
-f=C2=8E=C2=A1k=C3=B8xL=17=C2=80=C2=80=C3=81=C2=A1L=C3=B8=C2=988=00q=C2=80=
=C2=B4=C3=83@=C3=AF=1F=C2=8E=C2=91=C3=80$|=C3=9C=12=C3=B1=C3=BB=C2=8C=1E=C2=
=84=C2=9F:=16=C2=85=C2=8F=C2=B9=04p	=10=C2=BC=C3=BC!=C2=9E%X=0B=C2=80g=C3=
=AB=C2=86'N=C3=80=08=C3=80=08=C3=804=10=10=00 =00@=00=C2=80=00=00=01=00=02=
=00=04=00=08=00=10=00 =00@=00=08=00=10=00 =00@=00=C2=80=00=00=01=00=02=00=
=04=00=08=00=10=00 =00@=00=C2=80=00=00=01=00=02=00=04=00=08=00=10=00 =00@=
=00=C2=80=00`=C3=A8=04@=C2=89=C2=98=C3=A1=C2=80=121#=0EE=C2=A2=18=01=C3=B0=
=01=C3=80P=00=C2=BA=05#`p9;=C3=9D/\=C2=8C=C2=BAo=04=C2=88=17=1C=C3=B0=C2=BD=
X!=C3=B8%=C2=B6_=C3=96=02=12\=02=C2=A0=C2=8F1=C2=9D=C2=8A=C2=A8=1C&gt;x=3D=C3=
=9FY=00=C3=AAj=13=C2=9D6K=C3=864=C3=95=C3=8BO.=19S=C3=89=08=C2=90\g&amp;Ys=1E=
=C3=A37k=C2=9E=C2=AF=C3=9A=C3=83=C3=A4=C2=9A_(=C2=80=C2=BC=05=06XK`0=C2=BC=
=C3=BD2=C3=AB=0B=C3=B7=C3=96
,=C3=BAR=C3=95=C3=AB=C3=95B=C3=B5`C=00=00=00=00=00=00=00=00=00=00=00=00=00=
=00=00=00=00=00=00=00=C2=80Q=C3=A5=1F=C2=91 =C2=8C=C3=95=C3=9D9 =C2=88=00=
=00=00=00IEND=C2=AEB`=C2=82
+=00=00=00
IHDR=00=00=00=C2=80=00=00=00=C2=80=08=06=00=00=00=C3=83&gt;a=C3=8B=00=00=00=01=
sRGB=00=C2=AE=C3=8E=1C=C3=A9=00=00=00=06bKGD=00=C3=BF=00=C3=BF=00=C3=BF=C2=
=A0=C2=BD=C2=A7=C2=93=00=00=00	pHYs=00=00=0B=10=00=00=0B=10=01=C2=AD#=C2=BD=
u=00=00=00=07tIME=07=C3=98=07=07	=08=1A'$=C2=98=C2=B6=00=00=00=19tEXtCommen=
t=00Created with GIMPW=C2=81=0E=17=00=00=06&lt;IDATx=C3=9A=C3=AD=C2=9DOh=14W=
=1C=C3=87=7Fo	=1E=C2=84=C2=A2=C2=85=C2=B6&quot;=06=C2=A1=C2=A0Ph=0F=C3=B6=10JA
+=C3=8D=C2=B9=14=C3=AA=C2=92S{=C2=A8=C2=8869=C2=95T=08=C2=B4=16S=03=C2=B6 =
=C3=84%'5&quot;zHN=C3=8B*=C2=84=C3=9E=C2=84=08=C2=B2=10B=0E=C3=B1P!=C3=90=C2=85=
=C3=82b)=C3=95B[z=C3=8F=C3=B4=C2=B0=C2=BEu=C3=BE=C2=BCy=7F=C3=A7=C3=AD=C3=
=8C=C2=BC=C3=BD~ =C3=AC=C3=AC=C3=AE=C2=BC=C2=99=C3=99y=C3=9F=C3=B7=C3=9E=C3=
=AF=C3=BD=C3=A6=C2=97=C3=9F#&quot;=C2=A2=C2=88(&quot;C\=C3=8B=C2=94qN=C2=90=C2=A51=C3=
=AA=1B=14=11Ee=C2=9C=13U-f=C2=82=111&quot;=C2=A2=C2=A9=C3=89=C2=86=C3=B4&amp;=C3=AD&lt;=
=C3=9Bg=C3=B1=C3=B7=C2=BC\=1C=C3=951X=C3=AA=18=C3=AF=C2=BE%=C3=9F=C3=BF=C3=
=A9s=C3=B59U=C3=87`=C2=A9c=C3=98=C3=BCV=C3=93=C3=BDk%=C2=80=C3=B8=C2=9BN=C2=
=BB=C2=95=C2=BBcsf^=C3=99=C2=8A=14=C3=A5=C2=85=C2=9F_=C2=BB=C3=B6Mn=C2=99=
=C2=85=C2=85=C3=AB=C3=8As*=C3=8A=C3=9B^k=C3=A4=C3=BA=C2=BBj)=00&quot;=C2=A2=C3=
=99=C2=B9=C3=85=C3=8CN7o\=C2=91=C3=9E=04=C2=9D=C3=B22~=C3=BC=C3=A9V=C3=A6=
=C2=B3=C3=AF=C2=BE=C3=BDJZ=C2=B9:=C3=A5U=C2=AC=C2=ADod&gt;=C3=BB=C3=A2=C3=B3O=
=C2=85=C2=BF5o=C3=9F=C3=9A=0F=01=C2=A2=0FO=1E=3D=C2=96x=C2=BF=C2=BC=C2=B4:=
=C3=9C=C2=BEx=C3=B9=02-/=C2=ADf^=C3=B3=C3=8A=C3=BE=C3=BA=C3=87=C3=AFZ=17r=
=C3=BC=C2=8D7=C2=937=C3=BC=C3=B6=C3=BDW7=C3=BA=C3=BC=19Z=C2=BB}?=C3=B3=C2=
=9AW=C2=B6=C3=BF=C3=97=0B=C3=AD=1Bp=C3=A4=C3=90=C3=A1=C3=84=C3=BB=C2=87??=
=C3=96=C3=9A=C3=AF=C3=8F=7F=C3=BF	=C3=83=06=C3=88=C3=BB=C3=A2=C2=83=C3=93=
=C2=AFn=C3=AA=C3=A9=C3=A9=C3=8F=12=C3=9F]=C2=BC|A=C3=B8JD=C3=94=C3=9D|0=C3=
=9C=C3=9E=C3=AE=C2=BE0=C2=BA=C2=98=C3=B7N=C2=BD&gt;=C3=9C&gt;5=C3=B5q=C2=B2=C2=B5=
=C2=9D?#|%&quot;z=C2=B2=C3=B3h=C2=B8=C3=BD=C3=8B=C2=93=C2=BF=C2=8Do=C3=82=C3=9B'=
^=1Bn=C2=9Fx=C3=A7}=C3=A1&gt;=C2=BD=C2=BD=C3=9D=C3=A1=C3=B6o=C2=BD=C3=BF=C3=82=
1=02e_=C2=A6+^=07^&amp;.=04=13=C3=92=15oR&amp;.=04Sx=C3=85=1F=C3=BF=C3=B0k=C3=A1=C3=
=B7=C3=BD=C2=AD=C2=95=C2=8C=10=C2=82=17=C3=808=C3=81+&gt;=C2=8A=C3=84v'c=03C=
=7F=C3=B3=C3=AE=C2=97a=C3=B9=01=C3=B2=0C6=C2=9B=C3=96/=C3=AA	T=06`=C3=9C`=
=C2=B3i=C3=BD=C2=A2=C2=9E@=C3=87=00=C2=8C=1Bq=C3=93g=C3=AFQ=14E=C2=B9=C2=95=
=C3=8F=C2=85=11E=11M=C2=9F=C2=BD=17=C2=8C=01=C2=98=10=C3=80=C3=8E=C2=B3}=C3=
=A6kJ=C3=93=C2=9C=C2=99=17=C3=8E=C2=95=C2=9F&gt;=C3=9Fg=C2=B2=C2=A9=C2=9A=0B=
=0B=0B=C3=973~=C2=84=C2=A2=7Fk=C3=9E=C3=AF=C3=82=10P#=C3=8E]=C3=ADH[=C2=BE=
=C2=A8'`=C2=8CQ=C3=BF=C2=93=C2=8F=C3=82=1C=02=C3=92V=C2=BD=0B&amp;=C3=87=C2=89[=
=C3=B5.=14u=C2=9CqA(=C2=80=C3=B8=C2=BC=C3=9E=05=C2=93=C3=A3=C3=84=C3=A7=C3=
=B5.=C2=98=1E=C3=A7=C3=8E=C2=A5=C3=A6=C3=90=C3=80=C3=93=C2=811Fw.5=C3=83=11=
=C2=80=C3=A8=C3=A1=C2=8C=C2=AF=1E=C2=80=C2=9FKtN_=3D=C2=80=C3=A8\S=C2=93=C2=
=8D(=C3=AE=C3=AD=C3=ABo=C2=AD(E=C3=80=18=1Bt=C3=BD/=C2=A7=C2=83D=03=17=C2=
=B1=C3=AA9A=C3=A5m=00=C3=91=03=16=C3=AE=C3=A1+=C2=A2=07=C2=88=1F'}.~=C3=B3~=
=C3=B8=C2=BExC=C3=B0=C3=A0=C2=81=C3=81=C3=B1=C2=99=C3=84H[[=C3=9F=C2=A0#=C2=
=87=0ESoo7!=C2=82=C2=B8M=C3=80?K=C3=BB=01=C3=96=C3=967=C3=82u=05=C3=BB=C2=
=B6=01x=C2=8Bd=C2=86=16tD=14=C2=89=04=C2=AB*#=12_=C2=9E=C2=B3=C2=87=C3=BB=
=03=C3=92=15=0F=1B=C2=A0@=1B=C3=80=C2=B4=12]=C3=919_oo7Q=C3=B9=C3=BD=C2=AD=
=C2=95D=C3=A5=C3=B7=C3=B6v=C2=83=C3=B3=02b=1A=C3=B8=12=C3=AE=C3=9B=C2=8F=1B=
wy=0F=C2=85=C2=82=15@=C3=9A0*=C2=92N=C2=BBE=C3=8D=C2=99=C3=B9=C2=88;M=C3=8A=
=C2=88=08=C3=8A=C3=AB=05=C3=92O=C3=B5=C3=B2=C3=86u=C3=91=C3=A3=C3=A0 {=C2=
=80=C3=99=C2=B9E:y=C3=B4=18u7=1F8=C2=B9=C2=83=C3=B9=C3=83=C2=A0=C3=99=C2=B9=
=C3=85=C2=8C;=C2=B8=C3=8C($=C2=9D=C3=8AN{	;=C3=ADV0=C2=AE=C3=9F=C3=8A
=01eD!=C2=A9=C2=BEK=0BO=C3=A7:=C2=82=14=00o=C3=85&amp;=3D=C2=81=C3=8Dc=C3=A0QG!=
=C2=99=C3=BA=C3=AF=C3=AB=C3=AE=C3=AF=C2=B7=12@&lt;=C2=98c=C2=BB=C2=AB=1F=11dK=
=19QH G=00=C3=A9=1B=C2=98nM=C2=B2=C2=88 Qk=C3=94=C2=A5=C2=8C($=08@=C2=B3=C3=
=AB=C3=94y|=C3=9Ai=C2=B7=C2=B4=C2=9E=C3=BF=C3=8B(#
+	=02=C2=B00=C2=8Cl=C2=8D6P1=01=14=C3=A9=C2=96U=C2=89$=C3=8F-{=C3=B3=C3=86=
=15Z^Z-$
+i=C2=BB=C2=BB=C3=AA=C3=9C=0B=C2=8D=13=C2=8D2=C3=9D=C2=B2eD!=C2=81=C2=94=00=
=C3=B2=1C,&amp;=15=C3=A9=C2=B3=0C=18=C2=81=00=C2=AA@=19QH=C2=A0B=02(#
+	=C2=94$=C2=802=C2=A2=C2=90P=C3=95=15=12=00#b=C2=8C=C2=88=C3=B9=0E=C2=A7=
=C2=9A=C2=9AlD=C3=BC\=C2=A8=C3=AA
+a=C3=9B*m=C3=8B=C2=A0=07=C2=A8`=0F=10=C3=B2=C3=B9=00=C2=A8
F-=C3=834=C2=A5K=19=C2=A8=C2=AE=C3=B1=C3=A0=01y=C3=B9*8=C2=8FF=C2=99=C2=92=
=C3=868 =C3=845=C2=A5=C2=8BotR=C3=86=C2=B8=06=C2=A1=C3=B8f=C2=94)i=C2=AC&quot;=
=C2=82\S=C2=BA=C3=B8F'e=C2=8Ck=10=C2=8AolR=C3=AD=C2=8CL=00D=C3=BA)]|=C3=A3=
=C2=922F7=08=C3=857e=06=C2=B98=C3=85=04=C3=AA=C2=A4t=C3=B1=C2=8Dk=C3=8A=18=
=C2=9D =14=C3=9F=C2=94=19=C3=A4=C3=A2=1C=14=C3=AA=C2=9A=C3=94=C3=81=07=C2=
=A6)c\=1FC=C3=BB`TA.
=02c=C2=8D=C2=95=00=C2=8AJ=C3=A92=C2=AA=C2=9E@=C2=942=C2=A6=C2=A8T8=C2=A3=
=C3=AA	|=05=C2=B9=18	=C3=80gJ=17=C3=9F=C3=B0=C2=941&gt;=C2=83P|=C3=A3#=C3=88=
=05C=00=C2=86=007=C3=AB=C2=BB=C3=AA=C3=88=C2=AE=C2=B3.=C3=81#&gt;=C2=AF=C2=B3A=
4p=3D=C3=8A=C3=BE=C3=B2=C3=A6=C3=<A HREF="https://lists.berlios.de/mailman/listinfo/iris-commit">9Fu at v</A>=C2=9Du	=1E=C3=91=C2=B9N=C2=9B:$=C2=
=8A=C3=BD=C2=93f=C3=88=19=C2=B1ET=C3=85=C3=A3gj=03=C3=98=C3=BC=1E=C2=99=C3=
=AD=C2=90=C3=B0=03T=C3=9D=3D:=C3=AE=C2=A8=C3=AA=C3=81=C3=86}=C2=9Cq=04U=C3=
=85=3D
+=C3=94=C3=83B=11=C3=AEc=C2=A1'=C2=B0
+=C3=AEQ=C2=A0g=18=C2=BA=C2=BA=C2=8F'T=0E=08P=1Fl=C3=9C=C3=87=C3=B0=03=C3=
=80=0F=C2=905=18=C3=90=C3=BA=C3=83=C3=A8	t=C3=9C=C3=87
&quot;=C2=BF=C3=BF=C2=A3=07=C3=8A=C2=9F:=C3=8A=C3=9C=C3=87=18=020=04=10=C2=AC=C3=
=BC=C2=80g	=C3=86=02=C3=80=C3=BF=C3=96=C2=85=C3=A3'@=0F=C2=80=1E=00=C3=93@=
=00=01=00=08=00@=00=00=02=00=10=00=C2=80=00=00=04=00 =00=00=01=00=08=00@=00=
=10=00=C2=80=00=00=04=00 =00=00=01=00=08=00@=00=00=02=00=10=00=C2=80=00=00=
=04=00 =00=00=01=00=08=00@=00=00=02=00=10=00=C2=80=00=00=04=00 =00=00=01=C2=
=80=C3=A0=04=C2=80=141a=C2=80=141c=0E=C2=92D=C2=A1=07=C2=80
=004=05=C2=A0Z0=02=C3=94=C2=97N=C2=BB%]=C2=8C:=C3=91=03=C3=B0=05=07|/V=08=
=C3=BC=C3=82=C3=ABO=C2=B4=C2=80=04=C2=86=00=C2=90`B=C2=A5&quot;d=0E=C2=AF_=C3=8B=
w=16@|=C2=B5=C2=89=C3=AD.=C2=96=C2=8C=C2=A9=C2=AA=C2=95=C2=9F^2=C2=A6=C2=90=
=1E =C2=BD=C3=8EL:=C3=A7&lt;*=C2=BFZ=C3=B3=C3=BCx}=C3=A8=C2=8C=C3=B9R=01=C3=A4=
-0=C2=80=C2=B5=04=C3=AAa=C3=AD=C3=9B=C2=AC/&lt;\7P=C2=B6S=C3=91=C3=AB=C3=95=C2=
=82=C3=A2A=1D=02=00=00=00=00=00=00=00=00=00=00=00=00=00=00=00=00=00=00=00=
=00=00=00=00=00=000=C2=AE=C3=BC=0Fnn7=05e=3D=1F=C3=83=00=00=00=00IEND=C2=AE=
B`=C2=82

Modified: trunk/lua/gui/gui.gumpparser.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/gui/gui.gumpparser.lua (original)
+++ trunk/lua/gui/gui.gumpparser.lua Tue Jul  8 10:54:07 2008
@@ -889,7 +889,7 @@
 			-- TODO : display tooltip
 			elseif ((command =3D=3D &quot;tooltip&quot;) and (table.getn(bToken)&gt;=3D 2)) then
 				local msg =3D HtmlParser( gClilocLoader and gClilocLoader:Get(bToken[2=
]) or &quot;no_cliloc&quot; )
-				AddFadeLines(&quot;HtmlGumpparser - tooltip (TODO):&quot;..msg.text)
+				GuiAddChatLine(&quot;HtmlGumpparser - tooltip (TODO):&quot;..msg.text)
 			else
 				printdebug(&quot;gump&quot;,&quot;UNKNOWN Generic Gump Command: &quot;..command)
 			end

Modified: trunk/lua/gui/gui.main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/gui/gui.main.lua (original)
+++ trunk/lua/gui/gui.main.lua Tue Jul  8 10:54:07 2008
@@ -12,3 +12,4 @@
 dofile(libpath .. &quot;gui/gui.skill.lua&quot;)
 dofile(libpath .. &quot;gui/gui.spellbook.lua&quot;)
 dofile(libpath .. &quot;gui/gui.trade.lua&quot;)
+dofile(libpath .. &quot;gui/gui.chat.lua&quot;)

Modified: trunk/lua/gui/gui.skill.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/gui/gui.skill.lua (original)
+++ trunk/lua/gui/gui.skill.lua Tue Jul  8 10:54:07 2008
@@ -76,7 +76,7 @@
 	-- print(&quot;SKILL DEBUG&quot;,value,last_value,base_value,last_base_value)
 	if value and last_value and (last_value ~=3D value) then
 		-- display change
-		AddFadeLines(&quot;Skill &quot;..name..&quot; is now &quot;..sprintf(&quot;%3.1f&quot;,value / 10)..&quot; =
-&gt; &quot;..sprintf(&quot;%3.1f&quot;,(value-last_value) / 10),gStatsInfoFadeLineColor)
+		GuiAddChatLine(&quot;Skill &quot;..name..&quot; is now &quot;..sprintf(&quot;%3.1f&quot;,value / 10)..=
&quot; -&gt; &quot;..sprintf(&quot;%3.1f&quot;,(value-last_value) / 10),gStatsInfoFadeLineColor)
 	end
 	=

 	-- update entry

Modified: trunk/lua/lib.3d.cam.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.3d.cam.lua (original)
+++ trunk/lua/lib.3d.cam.lua Tue Jul  8 10:54:07 2008
@@ -116,9 +116,9 @@
 	self.gCamLookAheadDist =3D self.gCamLookAheadDistList[self.gCamMode]
 	self.gbCamRotChanged =3D true
 	if (self.gCamMode =3D=3D self.kCamMode_Ego) then self.gfCamAngV =3D 0.0 s=
elf.gfCamAngH =3D kPi - 0 end
-	if (self.gCamMode =3D=3D self.kCamMode_Ego) then AddFadeLines(&quot;CamMode:Eg=
o&quot;) end
-	if (self.gCamMode =3D=3D self.kCamMode_Third) then AddFadeLines(&quot;CamMode:=
ThirdPerson&quot;) end
-	if (self.gCamMode =3D=3D self.kCamMode_FreeMove) then AddFadeLines(&quot;CamMo=
de:Free&quot;) end
+	if (self.gCamMode =3D=3D self.kCamMode_Ego) then GuiAddChatLine(&quot;CamMode:=
Ego&quot;) end
+	if (self.gCamMode =3D=3D self.kCamMode_Third) then GuiAddChatLine(&quot;CamMod=
e:ThirdPerson&quot;) end
+	if (self.gCamMode =3D=3D self.kCamMode_FreeMove) then GuiAddChatLine(&quot;Cam=
Mode:Free&quot;) end
 	=

 	self:BlendOutLayersAbovePlayer()
 end

Modified: trunk/lua/lib.3d.walksmooth.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.3d.walksmooth.lua (original)
+++ trunk/lua/lib.3d.walksmooth.lua Tue Jul  8 10:54:07 2008
@@ -25,7 +25,7 @@
 		mobile.gfx3d_walksmooth_last_dir  =3D mobile.dir =

 		mobile.gfx3d_walksmooth_last_time =3D gMyTicks
 		local timediff =3D mobile.gfx3d_walksmooth_last_time - (mobile.gfx3d_wal=
ksmooth_prelast_time or 0)
-		--AddFadeLines(&quot;walksmooth&quot;..&quot;:&quot;..timediff..&quot;,&quot;..mobile.xloc..&quot;,&quot;..mobil=
e.yloc..&quot;,&quot;..sprintf(&quot;0x%02x&quot;,mobile.dir))
+		--GuiAddChatLine(&quot;walksmooth&quot;..&quot;:&quot;..timediff..&quot;,&quot;..mobile.xloc..&quot;,&quot;..mob=
ile.yloc..&quot;,&quot;..sprintf(&quot;0x%02x&quot;,mobile.dir))
 	end
 	=

 end

Modified: trunk/lua/lib.compass.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.compass.lua (original)
+++ trunk/lua/lib.compass.lua Tue Jul  8 10:54:07 2008
@@ -410,7 +410,7 @@
 	=

 	gfCompassCurrentZoomFactor =3D math.min(1, gfCompassCurrentZoomFactor / f=
actor)
 	=

-	--AddFadeLines(&quot;visrad=3D&quot;..gCompassVisibleRad)
+	--GuiAddChatLine(&quot;visrad=3D&quot;..gCompassVisibleRad)
 	gCompassVisibleRad =3D max(gCompassVisibleRad,giCompassDetailLimit)
 	local bRough =3D IsRoughCompassActive()
 	gIrisCompassDialog.detailcompass.gfx:SetVisible( not bRough )

Modified: trunk/lua/lib.cursor.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.cursor.lua (original)
+++ trunk/lua/lib.cursor.lua Tue Jul  8 10:54:07 2008
@@ -99,7 +99,7 @@
 end
 =

 function StartTargetMode ()
-	AddFadeLines(&quot;please pick a Target&quot;)
+	GuiAddChatLine(&quot;please pick a Target&quot;)
 	SetUOCursor(kCursorIndex_Target)
 	gTargetModeActive =3D true
 	if (gAutoTargetMobile) then
@@ -112,7 +112,7 @@
 =

 -- client side cancel
 function CancelTargetMode ()
-	AddFadeLines(&quot;Target Mode canceled&quot;)
+	GuiAddChatLine(&quot;Target Mode canceled&quot;)
 	CleanupTargetMode()
 end
 =


Modified: trunk/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.debugmenu.lua (original)
+++ trunk/lua/lib.debugmenu.lua Tue Jul  8 10:54:07 2008
@@ -602,7 +602,7 @@
 		local mobile =3D gDebugMenuModelTable[index]
 		if (not mobile) then return end
 		RepairEquipIndex(mobile.content)
-		AddFadeLines(sprintf(&quot;DebugMenuShowModel model=3D%04x(=3D%d) anim=3D%d[%=
s] %s&quot;,mobile.artid,mobile.artid,gDebugMenuAnimIndex,GetAnimName(mobile.art=
id,gDebugMenuAnimIndex) or &quot;&quot;, gDebugMenuModelName or &quot;&quot;))
+		GuiAddChatLine(sprintf(&quot;DebugMenuShowModel model=3D%04x(=3D%d) anim=3D%d=
[%s] %s&quot;,mobile.artid,mobile.artid,gDebugMenuAnimIndex,GetAnimName(mobile.a=
rtid,gDebugMenuAnimIndex) or &quot;&quot;, gDebugMenuModelName or &quot;&quot;))
 =

 		gDebugBodyGfx =3D CreateBodyGfx(gDebugRootGfx)
 		gDebugBodyGfx:MarkForUpdate(mobile.artid,mobile.hue,mobile.content)
@@ -628,7 +628,7 @@
 		if gDebugLastMeshName then ReloadMesh(gDebugLastMeshName) end
 		gDebugLastMeshName =3D meshname
 		local tricount =3D meshname and CountMeshTriangles(meshname) or 0
-		AddFadeLines(sprintf(&quot;static %04x(=3D%d) hue=3D%d tricount=3D%d %s&quot;,iTil=
eType,iTileType,iHue,tricount,GetStaticTileTypeName(iTileType) or &quot;&quot;))
+		GuiAddChatLine(sprintf(&quot;static %04x(=3D%d) hue=3D%d tricount=3D%d %s&quot;,iT=
ileType,iTileType,iHue,tricount,GetStaticTileTypeName(iTileType) or &quot;&quot;))
 		if (meshname and meshname ~=3D false) then
 			gDebugRootGfx:SetMesh(meshname)
 			gDebugRootGfx:SetOrientation(GetStaticMeshOrientation(iTileType))
@@ -869,7 +869,7 @@
 			if (gEnableSVNRemoveInStaticDebug) then -- BE CAREFUL WITH THAT !!!!  g=
EnableSVNRemoveInStaticDebug
 				local i =3D gDebugMenuModelIndex
 				os.execute(&quot;svn rm &quot; .. GetModelPath(i))
-				AddFadeLines(sprintf(&quot;SVN REMOVE 0x%04x(=3D%d) %s&quot;,i,i,GetModelPath(i)=
))
+				GuiAddChatLine(sprintf(&quot;SVN REMOVE 0x%04x(=3D%d) %s&quot;,i,i,GetModelPath(=
i)))
 			end	=

 		end	=

 		end end end)
@@ -889,7 +889,7 @@
 			local i =3D gDebugMenuModelIndex
 			local notepath =3D &quot;debugstatic.txt&quot;
 			local text =3D sprintf(&quot;DebugStaticNOTE 0x%04x(=3D%d) %s %s&quot;,i,i,GetMod=
elPath(i),GetStaticTileTypeName(i) or &quot;&quot;)
-			AddFadeLines(notepath..&quot;:&quot;..text)
+			GuiAddChatLine(notepath..&quot;:&quot;..text)
 			local f =3D io.open(notepath,&quot;a&quot;)
 			f:write(text..&quot;\n&quot;)
 			f:close()

Modified: trunk/lua/lib.macrolist.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.macrolist.lua (original)
+++ trunk/lua/lib.macrolist.lua Tue Jul  8 10:54:07 2008
@@ -141,7 +141,7 @@
 	print(&quot;MacroCmd_ItemSlot_Set&quot;,slotnumber,itemserial)
 	local item =3D itemserial and GetObjectBySerial(itemserial)
 	local itemname =3D item and GetStaticTileTypeName(item.artid) or &quot;empty&quot;
-	AddFadeLines(&quot;ItemSlot &quot;..tostring(slotnumber)..&quot; set to &quot;..tostring(item=
name))
+	GuiAddChatLine(&quot;ItemSlot &quot;..tostring(slotnumber)..&quot; set to &quot;..tostring(it=
emname))
 	gMacroItemSlots[slotnumber] =3D itemserial
 end
 =


Modified: trunk/lua/lib.mainmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.mainmenu.lua (original)
+++ trunk/lua/lib.mainmenu.lua Tue Jul  8 10:54:07 2008
@@ -27,12 +27,12 @@
 	=

 	if ((not gLoginname) or gLoginname =3D=3D &quot;&quot; or (not gPassword) or gPassw=
ord =3D=3D &quot;&quot;) then
 		local text =3D &quot;cannot connect to shard '&quot;..shardname..&quot;', no username/p=
assword specified&quot;
-		AddFadeLines(text)
+		GuiAddChatLine(text)
 		PlainMessageBox(text,gGuiDefaultStyleSet,gGuiDefaultStyleSet)
 		return
 	end
 	=

-	AddFadeLines(&quot;connecting to shard '&quot;..shardname..&quot;' on &quot;..gLoginServerIP.=
.&quot;:&quot;..gLoginServerPort)
+	GuiAddChatLine(&quot;connecting to shard '&quot;..shardname..&quot;' on &quot;..gLoginServerI=
P..&quot;:&quot;..gLoginServerPort)
 	=

 	-- todo : move to gui ?
 	gDialog_IrisLogo:SetVisible(false)
@@ -41,7 +41,7 @@
 	gNet_State =3D NetConnectWithKey(gLoginServerIP,gLoginServerPort,gServerS=
eed)
 	if (not gNet_State) then =

 		local text =3D &quot;connecting to shard '&quot;..shardname..&quot;' on &quot;..gLoginServer=
IP..&quot;:&quot;..gLoginServerPort..&quot; FAILED !&quot;
-		AddFadeLines(text)
+		GuiAddChatLine(text)
 		PlainMessageBox(text,gGuiDefaultStyleSet,gGuiDefaultStyleSet)
 		return
 	end
@@ -206,7 +206,7 @@
 --gameserverlist selection
 function MainMenuShowServerList (serverlist)
 	local MySelectServer =3D function(server) =

-		AddFadeLines(sprintf(&quot;connecting to server %s[%d]&quot;,server.name or &quot;???&quot;,=
server.index or 0))
+		GuiAddChatLine(sprintf(&quot;connecting to server %s[%d]&quot;,server.name or &quot;???=
&quot;,server.index or 0))
 		=

 --		Send_SystemSpecs()
 		=


Modified: trunk/lua/lib.pathfind.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.pathfind.lua (original)
+++ trunk/lua/lib.pathfind.lua Tue Jul  8 10:54:07 2008
@@ -128,7 +128,7 @@
 end
 	=

 function Pathfinding_FromTo	(sx,sy,sz, dx,dy,dz)
-	AddFadeLines(&quot;pathfinding...&quot;)
+	GuiAddChatLine(&quot;pathfinding...&quot;)
 	sz =3D sz
 	dz =3D dz
 	job.create(function()
@@ -202,10 +202,10 @@
 	end,function(a,b) =

 		-- print(&quot;FINISHED&quot;,a,b)
 		if a and countarr(b) &gt; 0 then =

-			AddFadeLines(&quot;path found :)&quot;)
+			GuiAddChatLine(&quot;path found :)&quot;)
 			gWalkPathToGo =3D b
 		else
-			AddFadeLines(&quot;no path found :(&quot;)
+			GuiAddChatLine(&quot;no path found :(&quot;)
 		end
 	end)
 end

Modified: trunk/lua/lib.protocol.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.protocol.lua (original)
+++ trunk/lua/lib.protocol.lua Tue Jul  8 10:54:07 2008
@@ -65,7 +65,7 @@
 		for k,v in pairs(gNoLogPackets) do if (v =3D=3D iId) then bDoLog =3D fal=
se end end
 		if (bDoLog) then =

 			printdebug(&quot;net&quot;,sprintf(&quot;NET: ProtocolPacketRecvHandler &quot;..packet_debu=
ginfo))
-			if (gbPacketLogToFadeLines) then AddFadeLines(&quot;recv &quot;..packet_debuginfo=
) end
+			if (gbPacketLogToFadeLines) then GuiAddChatLine(&quot;recv &quot;..packet_debugin=
fo) end
 		end
 		=

 		if (sPacketTypeName) then =


Modified: trunk/lua/lib.static.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.static.lua (original)
+++ trunk/lua/lib.static.lua Tue Jul  8 10:54:07 2008
@@ -124,6 +124,8 @@
 	-- TODO currently just ignores the art atlas lockkeeper
 	local sMatName,iWidth,iHeight,iCenterX,iCenterY,u0,v0,u1,v1 =3D ArtAtlasL=
oadAndLockDirect(iTileTypeID+0x4000,0,nil)
 	-- print(&quot;###&quot;, iTileTypeID, sMatName,iWidth,iHeight,iCenterX,iCenterY,u0=
,v0,u1,v1)
+	=

+	if not sMatName then return nil end
 	=

 	gFallbackModelCacheGfx:SetSimpleRenderable()
 	gFallbackModelCacheGfx:SetMaterial(sMatName)

Modified: trunk/lua/lib.uodragdrop.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.uodragdrop.lua (original)
+++ trunk/lua/lib.uodragdrop.lua Tue Jul  8 10:54:07 2008
@@ -211,7 +211,7 @@
 end
 =

 function PrepareUODragDrop (item,widget,matname,w,h,offx,offy)
-	--AddFadeLines(&quot;dragdrop : prepare&quot;)
+	--GuiAddChatLine(&quot;dragdrop : prepare&quot;)
 	CancelUODragDrop() -- cancel last ? shouldn't happen
 	gDragDrop =3D {}
 	gDragDrop.item =3D item
@@ -263,7 +263,7 @@
 end
 =

 function StartUODragDrop ()
-	AddFadeLines(&quot;dragdrop : start&quot;)
+	GuiAddChatLine(&quot;dragdrop : start&quot;)
 	gDragDrop.started =3D true
 	if (gDragDrop.widget and gDragDrop.widget:IsAlive()) then gDragDrop.widge=
t.gfx:SetVisible(false) end
 	SetDragIcon(gDragDrop.matname,gDragDrop.w,gDragDrop.h,gDragDrop.offx,gDra=
gDrop.offy)
@@ -296,7 +296,7 @@
 -- end A : nothing happened, client side cancel
 function CancelUODragDrop ()
 	if (not gDragDrop) then return end
-	--AddFadeLines(&quot;dragdrop : cancel&quot;)
+	--GuiAddChatLine(&quot;dragdrop : cancel&quot;)
 	if (gDragDrop.started) then UODragDropToOldPosition() end
 	CleanUpUODragDrop()
 end
@@ -311,7 +311,7 @@
 -- end B : something happened
 function CompleteUODragDrop () =

 	if (not gDragDrop) then return end
-	--AddFadeLines(&quot;dragdrop : complete&quot;)
+	--GuiAddChatLine(&quot;dragdrop : complete&quot;)
 =

 	gCurrentRenderer:MousePick()
 	=

@@ -395,7 +395,7 @@
 			-- TODO : if layer is not empty, drop dragged item to backpack, take it=
em from layer to backpack, equip dragged item
 			-- NOTE : if layer is not empty and it's not possible to put item to ba=
ckpack -&gt; check and solve this problem!
 			--		  (for now i added &quot;or 0&quot; for x and y to function &quot;UODragDropToOldP=
osition()&quot; )
-			AddFadeLines(&quot;you already have something equipped there !&quot;)
+			GuiAddChatLine(&quot;you already have something equipped there !&quot;)
 			CancelUODragDrop()
 		else
 			-- success ! (hopefully)

Modified: trunk/lua/main.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/main.lua (original)
+++ trunk/lua/main.lua Tue Jul  8 10:54:07 2008
@@ -377,6 +377,8 @@
 =

 	gInGameStarted =3D true
 	=

+	GuiInitChat()
+	=

 	NotifyListener(&quot;Hook_StartInGame&quot;)
 end
 =


Modified: trunk/lua/net.popup.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/net.popup.lua (original)
+++ trunk/lua/net.popup.lua Tue Jul  8 10:54:07 2008
@@ -131,7 +131,7 @@
 		if (mousebutton =3D=3D 2) then widget.dialog.uoPopupMenu:Cancel() end
 	end
 =

-	--AddFadeLines(sprintf(&quot;display popup serial=3D%08x numentries=3D%d&quot;,popu=
pmenu.serial,popupmenu.numentries))
+	--GuiAddChatLine(sprintf(&quot;display popup serial=3D%08x numentries=3D%d&quot;,po=
pupmenu.serial,popupmenu.numentries))
 	for k,entry in pairs(popupmenu.entries) do		=

 		local i =3D k - 1
 		entry.widget_text =3D guimaker.MakeText(dialog.rootwidget, entryoffx, en=
tryoffy + i * entryheight,
@@ -151,7 +151,7 @@
 		end
 		-- local w,h =3D entry.widget_text.gfx:GetTextBounds() -- TODO : so far =
useless, as parent cannot be resized ... =

 		=

-		--AddFadeLines(sprintf(&quot; entry tag=3D%04x flags=3D%04x color=3D%04x text=
=3D%s&quot;,entry.tag,entry.flags,entry.color,entry.text))
+		--GuiAddChatLine(sprintf(&quot; entry tag=3D%04x flags=3D%04x color=3D%04x te=
xt=3D%s&quot;,entry.tag,entry.flags,entry.color,entry.text))
 	end
 	=

 	--[[

Modified: trunk/lua/net.walk.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/net.walk.lua (original)
+++ trunk/lua/net.walk.lua Tue Jul  8 10:54:07 2008
@@ -60,7 +60,7 @@
 	local tdiff =3D gLastLogTime and (gMyTicks-gLastLogTime) or 0
 	local prefix =3D sprintf(&quot;WalkLog t=3D%5d k=3D%2d r=3D%2d&quot;,tdiff,FastWalk=
_CountKeys(),countarr(gWalkRequests))
 	print(prefix,unpack(arg)) =

-	--~ AddFadeLines(prefix..arrdump(arg))
+	--~ GuiAddChatLine(prefix..arrdump(arg))
 	gLastLogTime =3D gMyTicks
 end
 =


Modified: trunk/lua/net/net.aoscommand.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/net/net.aoscommand.lua (original)
+++ trunk/lua/net/net.aoscommand.lua Tue Jul  8 10:54:07 2008
@@ -79,3 +79,9 @@
 	out:SendPacket()
 	printdebug(&quot;mobile&quot;,sprintf(&quot;NET: kPacket_AOS_Command: mobile_serial=3D0x=
%08x ability=3D%d\n&quot;,mobile_serial,weaponabilitytype))
 end
+
+
+
+function Send_AOSCommand_WeaponAbility	(mobile_serial, weaponability)
+	Send_AOSCommand(kPacket_AOS_Command_WeaponAbilityRequest, mobile_serial, =
weaponability)
+end

Modified: trunk/lua/net/net.mobile.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/net/net.mobile.lua (original)
+++ trunk/lua/net/net.mobile.lua Tue Jul  8 10:54:07 2008
@@ -178,11 +178,11 @@
 		-- overload check
 		if stats.curWeight and stats.maxWeight then
 			if stats.curWeight &gt; stats.maxWeight and gPlayerLastOverloadCheckWeight=
 ~=3D stats.curWeight then
-				AddFadeLines(&quot;You carry to much!!!! &quot;..stats.curWeight.. &quot; / &quot;..stats.=
maxWeight,gStatsInfoFadeLineColor)
+				GuiAddChatLine(&quot;You carry to much!!!! &quot;..stats.curWeight.. &quot; / &quot;..stat=
s.maxWeight,gStatsInfoFadeLineColor)
 				gPlayerLastOverloadCheckWeight =3D stats.curWeight
 			end
 			if stats.curWeight &lt; stats.maxWeight and gPlayerLastOverloadCheckWeight=
 then
-				AddFadeLines(&quot;Weight is normal! &quot;..stats.curWeight.. &quot; / &quot;..stats.maxW=
eight,gStatsInfoFadeLineColor)
+				GuiAddChatLine(&quot;Weight is normal! &quot;..stats.curWeight.. &quot; / &quot;..stats.ma=
xWeight,gStatsInfoFadeLineColor)
 				gPlayerLastOverloadCheckWeight =3D nil
 			end
 		end

Modified: trunk/lua/net/net.other.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/net/net.other.lua (original)
+++ trunk/lua/net/net.other.lua Tue Jul  8 10:54:07 2008
@@ -282,6 +282,21 @@
 		Open_Spellbook(spellbook)
 	end
 =

+	--Enable/Disable SE Spell Icons
+	--OnCastSuccessful(spellid), OnEffectEnd (spellid), ClearCurrentMove, Cle=
arAllMoves, SetCurrentMove
+	if (subcmd =3D=3D kPacket_Generic_SubCommand_EnableSESpellIcons) then -- =
0x25
+		local temp =3D input:PopNetUint8()		--always 1
+		local abilityID =3D input:PopNetUint8()	--abilityID
+		local active =3D input:PopNetUint8()		--0/1 On/Off
+		printf(&quot;ABILITY\tSE Spell Icons abilityID: 0x%02x active: 0x%02x\n&quot;, abi=
lityID, active)
+	end
+
+	-- Subcommand 0x21: (AOS) Ability icon confirm.
+	-- Note: no data, just (bf 00 05 21) =

+	if (subcmd =3D=3D kPacket_Generic_SubCommand_Ability_Icon) then	-- 0x21
+		print(&quot;ABILITY&quot;,&quot;kPacket_Generic_SubCommand_Ability_Icon&quot;)
+	end
+
 	-- Receives a CustomHouse Serial &amp; Revision Hash Number
 	if (subcmd =3D=3D kPacket_Generic_SubCommand_RevisionCustomHouse) then	--=
 0x1D
 		local customhouseserial =3D input:PopNetUint32()
@@ -312,23 +327,14 @@
 		local olddamage_amount =3D input:PopNetUint8()
 --		printf(&quot;NET: Generic_SubCommand_OldDamage: mobile-serial: 0x%08x Damag=
e_Amount: %i\n&quot;,olddamage_serial,olddamage_amount)
 		if (olddamage_serial =3D=3D gPlayerBodySerial) then
-			AddFadeLines(sprintf(&quot;%s&quot;,olddamage_amount)..&quot; Damage received&quot;)
+			GuiAddChatLine(sprintf(&quot;%s&quot;,olddamage_amount)..&quot; Damage received&quot;)
 		else
-			AddFadeLines(sprintf(&quot;%s&quot;,olddamage_amount)..&quot; Damage done&quot;)
+			GuiAddChatLine(sprintf(&quot;%s&quot;,olddamage_amount)..&quot; Damage done&quot;)
 		end
 		=

 		-- show fading damage over the mobile
 		-- TODO totally untested
 		gCurrentRenderer:NotifyDamage(olddamage_serial,olddamage_amount)
-	end
-
-	--Enable/Disable SE Spell Icons
-	--OnCastSuccessful(spellid), OnEffectEnd (spellid), ClearCurrentMove, Cle=
arAllMoves, SetCurrentMove
-	if (subcmd =3D=3D kPacket_Generic_SubCommand_EnableSESpellIcons) then -- =
0x25
-		local temp =3D input:PopNetUint8()		--always 1
-		local abilityID =3D input:PopNetUint8()	--abilityID
-		local active =3D input:PopNetUint8()		--0/1 On/Off
-		--printf(&quot;NET: SE Spell Icons abilityID: 0x%02x active: 0x%02x\n&quot;, abili=
tyID, active)
 	end
 =

 	--Speed Mode: 0x0 =3D Normal movement, 0x1 =3D Fast movement, 0x2 =3D Slo=
w movement, 0x3 and above =3D Hybrid movement
@@ -432,7 +438,7 @@
 	printdebug(&quot;net&quot;,sprintf(&quot;NET: Text id: 0x%08x model id: 0x%08x Message: =
%s\n&quot;,mobile_serial,text_item_model,text_message) )
 	local plaintext =3D string.gsub(text_message,&quot;&lt;br&gt;&quot;,&quot;\n&quot;)
 	plaintext =3D UnicodeFix(plaintext)
-	AddFadeLines(sprintf(&quot;%s: %s&quot;,text_charname,plaintext)) -- TODO : color,f=
ont,...
+	GuiAddChatLine(sprintf(&quot;%s: %s&quot;,text_charname,plaintext)) -- TODO : color=
,font,...
 	JournalAddText(text_charname,plaintext)
 	NotifyListener(&quot;Hook_Text&quot;,text_charname,plaintext)
 	=

@@ -484,9 +490,9 @@
 	=

 	if show_below then
 		if string.len(text_charname) &gt; 0 then =

-			AddFadeLines(sprintf(&quot;%s: %s&quot;,text_charname,plaintext)) -- TODO : color=
,font,...
+			GuiAddChatLine(sprintf(&quot;%s: %s&quot;,text_charname,plaintext)) -- TODO : col=
or,font,...
 		else
-			AddFadeLines(plaintext) -- TODO : color,font,...
+			GuiAddChatLine(plaintext) -- TODO : color,font,...
 		end
 	end
 	=

@@ -549,7 +555,7 @@
 	printdebug(&quot;net&quot;,sprintf(&quot;NET: UnicodeText speakerid: %i name: %s txtsize=
:<i> %i msg: %s\n&quot;,mobile_serial,unitext_name,(unitext_size-48)/2,unitext_mess=
</I>age) )
 =

 	if show_below then =

-		AddFadeLines(unitext_name..&quot;: &quot;..string.gsub(unitext_message,&quot;&lt;br&gt;&quot;,&quot;\n&quot;=
),{r,g,b,1}) -- TODO : unicode
+		GuiAddChatLine(unitext_name..&quot;: &quot;..string.gsub(unitext_message,&quot;&lt;br&gt;&quot;,&quot;\=
n&quot;),{r,g,b,1}) -- TODO : unicode
 	end
 	if show_journal then
 		JournalAddText(unitext_name,unitext_message)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001099.html">[Iris-commit] [IRIS] r2291 - /trunk/data/base/ui/tabbed.png
</A></li>
	<LI>Next message: <A HREF="001101.html">[Iris-commit] [IRIS] r2293 - /trunk/lua/gui/gui.chat.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1100">[ date ]</a>
              <a href="thread.html#1100">[ thread ]</a>
              <a href="subject.html#1100">[ subject ]</a>
              <a href="author.html#1100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/iris-commit">More information about the Iris-commit
mailing list</a><br>
</body></html>
