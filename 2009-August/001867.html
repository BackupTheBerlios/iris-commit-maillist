<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Iris-commit] [IRIS] r3104 - in /trunk: bin/iris2.exe lua/lib.3d.renderer.lua lua/lib.loading.lua lua/lib.test.lua lua/lib.unifont.lua lua/net/net.multi.lua lua/profiles/gfx_ultrahigh.lua src/data_font.cpp src/data_font_L.cpp vc9/iris.vcproj
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/iris-commit/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r3104%20-%20in%20/trunk%3A%20bin/iris2.exe%0A%20lua/lib.3d.renderer.lua%20lua/lib.loading.lua%20lua/lib.test.lua%0A%20lua/lib.unifont.lua%20lua/net/net.multi.lua%20lua/profiles/gfx_ultrahigh.lua%0A%20src/data_font.cpp%20src/data_font_L.cpp%20vc9/iris.vcproj&In-Reply-To=%3C20090822172354.C2EB17A9810A%40simon%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001866.html">
   <LINK REL="Next"  HREF="001868.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Iris-commit] [IRIS] r3104 - in /trunk: bin/iris2.exe lua/lib.3d.renderer.lua lua/lib.loading.lua lua/lib.test.lua lua/lib.unifont.lua lua/net/net.multi.lua lua/profiles/gfx_ultrahigh.lua src/data_font.cpp src/data_font_L.cpp vc9/iris.vcproj</H1>
    <B>no-reply at zwischenwelt.org</B> 
    <A HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r3104%20-%20in%20/trunk%3A%20bin/iris2.exe%0A%20lua/lib.3d.renderer.lua%20lua/lib.loading.lua%20lua/lib.test.lua%0A%20lua/lib.unifont.lua%20lua/net/net.multi.lua%20lua/profiles/gfx_ultrahigh.lua%0A%20src/data_font.cpp%20src/data_font_L.cpp%20vc9/iris.vcproj&In-Reply-To=%3C20090822172354.C2EB17A9810A%40simon%3E"
       TITLE="[Iris-commit] [IRIS] r3104 - in /trunk: bin/iris2.exe lua/lib.3d.renderer.lua lua/lib.loading.lua lua/lib.test.lua lua/lib.unifont.lua lua/net/net.multi.lua lua/profiles/gfx_ultrahigh.lua src/data_font.cpp src/data_font_L.cpp vc9/iris.vcproj">no-reply at zwischenwelt.org
       </A><BR>
    <I>Sat Aug 22 19:23:54 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001866.html">[Iris-commit] [IRIS] r3103 - /trunk/lua/gui/gui.helper.lua
</A></li>
        <LI>Next message: <A HREF="001868.html">[Iris-commit] [IRIS] r3105 - in /trunk/lua: config_declarations.lua lib.3d.renderer.lua lib.configdialog.lua main.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1867">[ date ]</a>
              <a href="thread.html#1867">[ thread ]</a>
              <a href="subject.html#1867">[ subject ]</a>
              <a href="author.html#1867">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: sience
Date: Sat Aug 22 19:23:54 2009
New Revision: 3104

Log:
-old fontsystem outcommented
-added new files from lugre to VC9 project files
-activated Caelum &amp; Watershader in UltraHigh Profile
-added comment to net.multi.lua
-new win32 binary

Modified:
    trunk/bin/iris2.exe
    trunk/lua/lib.3d.renderer.lua
    trunk/lua/lib.loading.lua
    trunk/lua/lib.test.lua
    trunk/lua/lib.unifont.lua
    trunk/lua/net/net.multi.lua
    trunk/lua/profiles/gfx_ultrahigh.lua
    trunk/src/data_font.cpp
    trunk/src/data_font_L.cpp
    trunk/vc9/iris.vcproj

Modified: trunk/bin/iris2.exe
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
Binary files - no diff available.

Modified: trunk/lua/lib.3d.renderer.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.3d.renderer.lua (original)
+++ trunk/lua/lib.3d.renderer.lua Sat Aug 22 19:23:54 2009
@@ -317,6 +317,7 @@
 =

 function Renderer3D:SetupShadows (strShadowTechnique)
     local shadowfardist=3D5*cMapBlock_3D_Terrain.iLoadRadius+gFogValue
+    print(&quot;setShadowFarDistance =3D &quot; .. shadowfardist)
 =

     if ((strShadowTechnique =3D=3D &quot;stencil_modulative&quot;) or (strShadowTech=
nique =3D=3D &quot;stencil_additive&quot;)) then
         ----- currently doesn't work with Fastbatch

Modified: trunk/lua/lib.loading.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.loading.lua (original)
+++ trunk/lua/lib.loading.lua Sat Aug 22 19:23:54 2009
@@ -10,12 +10,12 @@
 gLoadingProfileLastAction =3D false
 =

 -- store global uni font infos
-gUniFontHeight =3D {}
-gUniFontName =3D {}
+--gUniFontHeight =3D {}
+--gUniFontName =3D {}
 gUniFontLoaderList =3D {}
 =

 -- which uni font chat should be used in chat over the head
-gChatText_UniFontNumber =3D 1
+--gChatText_UniFontNumber =3D 1
 =

 -- profiles the time took by the different loading phases, and displays a =
text about what is currently being loaded
 function LoadingProfile (sCurAction,bIsPreOgre)
@@ -75,6 +75,8 @@
     end
 end
 =

+--[[
+-- deprecated, old guisystem, doesn't support unicode well, see lib.unifon=
t.lua for an alternative
 -- create a ogre font from a uo unifont file
 -- name =3D resourcename
 -- filename =3D unifont filename
@@ -87,6 +89,7 @@
     end
     return 0
 end
+]]--
 =

 function CreateUniFontLoaderIfFileExists(filename)
     if not file_exists(filename) then return end
@@ -101,7 +104,8 @@
         gUniFontLoaderList[0] =3D CreateUniFontLoaderIfFileExists(CorrectP=
ath(Addfilepath(gUnifontFile))) -- unifont.mul
         for i=3D1,6 do gUniFontLoaderList[i] =3D CreateUniFontLoaderIfFile=
Exists(CorrectPath(Addfilepath(gUnifonts..i..&quot;.mul&quot;))) end -- unifont1.mul =
 - 6
     end
-    =

+--[[
+    -- deprecated, old guisystem, doesn't support unicode well, see lib.un=
ifont.lua for an alternative
     if (gGenerateOldUnifontTextures) then
         LoadingProfile(&quot;generate old font textures&quot;)
         CreateUniFontTexture(gUniFontLoaderList,&quot;font_unifont0&quot;)
@@ -110,6 +114,7 @@
             gUniFontHeight[i] =3D CreateUniFontTexture(gUniFontLoaderList[=
i],gUniFontName[i])
         end
     end
+]]--
 end
 =

 function Load_Cliloc ()

Modified: trunk/lua/lib.test.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.test.lua (original)
+++ trunk/lua/lib.test.lua Sat Aug 22 19:23:54 2009
@@ -432,6 +432,8 @@
 	Crash()
 end
 =

+--[[
+--deprecated, old guisystem, doesn't support unicode well, see lib.unifont=
.lua for an alternative
 function TestUniFontLoader()
 	print(CreateUniFontLoader)
 	l =3D CreateUniFontLoader(CorrectPath( Addfilepath(gUnifonts..&quot;2.mul&quot;) ))
@@ -441,6 +443,7 @@
 	l:Destroy()
 	Crash()
 end
+]]--
 =

 function StartMeshLoaderTest ()
 	if (gDialog_IrisLogo) then gDialog_IrisLogo:SetVisible(false) end

Modified: trunk/lua/lib.unifont.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.unifont.lua (original)
+++ trunk/lua/lib.unifont.lua Sat Aug 22 19:23:54 2009
@@ -1,50 +1,12 @@
--- handles uo unicode fonts textureatlas =

--- see also lugre/lib.gui.flow.lua
--- todo : use lib.atlasgroup.lua here ?
+--[[ ***** see Iris2 COPYING for license info ***** ]]--
+--[[ \brief
+        handles uo unicode fonts textureatlas
+        see also lugre/lib.gui.flow.lua
+        todo : use lib.atlasgroup.lua here ?
+]]--
 =

 gUniFontTexAtlasSize =3D 512
 gUniFontLastTextureAtlas =3D nil
-
---~ gUniFontLoaderList[0] =3D unifont.mul
---~ gUniFontLoaderList[i] =3D unifont(1-6).mul
-
---[[
-	-- texatlas
-	local w =3D 1024
-	local iArtMapIDList =3D {65,129,321,449,513}
-	local sFilePath =3D &quot;mytexatlas.png&quot;
-	local sFileNameOrPath =3D &quot;art_fallback.png&quot;
-	local pTexAtlas =3D CreateTexAtlas(w,w)
-	local img =3D CreateImage()
-	for k,id in pairs(iArtMapIDList) do
-		local iArtMapID =3D hex2num(&quot;0x00004000&quot;) + id
-		if (gArtMapLoader:ExportToImage(img,iArtMapID)) then
-			local b =3D 4
-			local img2 =3D ImageScale(img,64-b-b,64-b-b)
-			local bSuccess,l,r,t,b =3D pTexAtlas:AddImage(img2)
-			img2:Destroy()
-		end
-	end
-	--~ local sTexName =3D	pTexAtlas:MakeTexture()
-	pTexAtlas:MakeImage(img)
-	img:SaveAsFile(sFilePath)
-	pTexAtlas:Destroy()
-	img:Destroy()
-	=

-	=

-	-- spritelist
-	local spritelist =3D CreateSpriteList(GetGUILayer_Dialogs(),false,true)
-	spritelist.asgroup =3D spritelist:CastToRenderGroup2D()
-	spritelist.asgroup:SetClip(24,4,122,22)
-	spritelist:SetMaterial(GetPlainTextureMat(&quot;guibase.png&quot;))
-	spritelist:ResizeList(1)
-	print(&quot;--SpriteList_Open&quot;)
-	SpriteList_Open(spritelist)
-	local iSpriteIndex, l,t,w,h, u0,v0, uvw, uvh, z, r,g,b,a =3D 0, 0,0,32*4,=
32*4, 0,0, 1,1, 0,  1,0,0,0
-	--~ SpriteList_SetSprite(iSpriteIndex, l,t,w,h, u0,v0, uvw, uvh, z)
-	SpriteList_SetSpriteEx(iSpriteIndex, l,t,w,h, u0,v0, uvw,0, 0,uvh, z, r,g=
,b,a)
-	SpriteList_Close()
-]]--
 =

 function UniFont_AtlasUpdate ()
 	if (not gUniFontLastTextureAtlas.bDirty) then return end
@@ -174,4 +136,43 @@
 	return myfont
 end
 =

+--~ gUniFontLoaderList[0] =3D unifont.mul
+--~ gUniFontLoaderList[i] =3D unifont(1-6).mul
 =

+--[[
+	-- texatlas
+	local w =3D 1024
+	local iArtMapIDList =3D {65,129,321,449,513}
+	local sFilePath =3D &quot;mytexatlas.png&quot;
+	local sFileNameOrPath =3D &quot;art_fallback.png&quot;
+	local pTexAtlas =3D CreateTexAtlas(w,w)
+	local img =3D CreateImage()
+	for k,id in pairs(iArtMapIDList) do
+		local iArtMapID =3D hex2num(&quot;0x00004000&quot;) + id
+		if (gArtMapLoader:ExportToImage(img,iArtMapID)) then
+			local b =3D 4
+			local img2 =3D ImageScale(img,64-b-b,64-b-b)
+			local bSuccess,l,r,t,b =3D pTexAtlas:AddImage(img2)
+			img2:Destroy()
+		end
+	end
+	--~ local sTexName =3D	pTexAtlas:MakeTexture()
+	pTexAtlas:MakeImage(img)
+	img:SaveAsFile(sFilePath)
+	pTexAtlas:Destroy()
+	img:Destroy()
+	=

+	=

+	-- spritelist
+	local spritelist =3D CreateSpriteList(GetGUILayer_Dialogs(),false,true)
+	spritelist.asgroup =3D spritelist:CastToRenderGroup2D()
+	spritelist.asgroup:SetClip(24,4,122,22)
+	spritelist:SetMaterial(GetPlainTextureMat(&quot;guibase.png&quot;))
+	spritelist:ResizeList(1)
+	print(&quot;--SpriteList_Open&quot;)
+	SpriteList_Open(spritelist)
+	local iSpriteIndex, l,t,w,h, u0,v0, uvw, uvh, z, r,g,b,a =3D 0, 0,0,32*4,=
32*4, 0,0, 1,1, 0,  1,0,0,0
+	--~ SpriteList_SetSprite(iSpriteIndex, l,t,w,h, u0,v0, uvw, uvh, z)
+	SpriteList_SetSpriteEx(iSpriteIndex, l,t,w,h, u0,v0, uvw,0, 0,uvh, z, r,g=
,b,a)
+	SpriteList_Close()
+]]--

Modified: trunk/lua/net/net.multi.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/net/net.multi.lua (original)
+++ trunk/lua/net/net.multi.lua Sat Aug 22 19:23:54 2009
@@ -53,7 +53,7 @@
 	local id =3D input:PopNetUint8()
 	local iPacketSize =3D input:PopNetUint16()
 	local compresstype =3D input:PopNetUint8()	-- (0=3Dnothing, 3=3Dzlib)
-	local unknown1 =3D input:PopNetUint8()
+	local unknown1 =3D input:PopNetUint8()	--Enable Response (0x01 =3D yes, 0=
x00 =3D no)
 	local customhouseserial =3D input:PopNetUint32()
 	local customhouserevision =3D input:PopNetUint32()
 	local tilecount =3D input:PopNetUint16()	--components.size()
@@ -99,11 +99,13 @@
 				local planetype =3D BitwiseAND(planeid,0x20)
 				=

 				-- calculate planeid
-				if planetype =3D=3D 0x20 then planeid =3D BitwiseXOR(planeid,0x20) =

-				else planeid =3D planeid - 9 end
+				if ( planetype =3D=3D 0x20 ) then
+					planeid =3D BitwiseXOR(planeid,0x20) =

+				else
+					planeid =3D planeid - 9
+				end
 							=

 				local uncompressedsize =3D input:PopNetUint8()
-
 				local compressedsize =3D input:PopNetUint8()
 				local bothsizes =3D input:PopNetUint8()		--? Write( (byte)(((size &gt;&gt; 4=
) &amp; 0xF0) | ((deflatedLength &gt;&gt; 8) &amp; 0xF)) );
 				=

@@ -114,7 +116,7 @@
 						planeid,planetype,uncompressedsize,compressedsize,bothsizes))
 			=

 				-- switch between stair and plane buffers
-				if planetype =3D=3D 0x20 then
+				if ( planetype =3D=3D 0x20 ) then
 					-- ------------------------------------------------------------------=
--------
 					-- planelayers
 					-- ------------------------------------------------------------------=
--------

Modified: trunk/lua/profiles/gfx_ultrahigh.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/profiles/gfx_ultrahigh.lua (original)
+++ trunk/lua/profiles/gfx_ultrahigh.lua Sat Aug 22 19:23:54 2009
@@ -9,7 +9,11 @@
 =

 gConfig:Set(&quot;gPreloadStaticMesh&quot;,true)
 =

---~ gConfig:Set(&quot;gUseCaelumSkysystem&quot;,true)  19.10 : deactivated, as this =
seems to trigger crash when recalling into/outside a cave : =

+gConfig:Set(&quot;gUseCaelumSkysystem&quot;,true)
+    -- SiENcE: this bug seems to be fixed with the shaderbug
+    --  19.10 : deactivated, as this seems to trigger crash when recalling=
 into/outside a cave : =

 	-- <A HREF="http://www.vetus-mundus.de/phpbb2/viewtopic.php?p=3D107468#107468">http://www.vetus-mundus.de/phpbb2/viewtopic.php?p=3D107468#107468</A>
 =

+gConfig:Set(&quot;gUseWaterShader&quot;,true)
+	=

 gConfig:Set(&quot;gArtMapLoaderType&quot;,&quot;FullFile&quot;)

Modified: trunk/src/data_font.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/src/data_font.cpp (original)
+++ trunk/src/data_font.cpp Sat Aug 22 19:23:54 2009
@@ -69,7 +69,6 @@
 	*/
 }
 =

-
 const int cUniFontFileLoader::GetLetterNumbers(){return 0xFFFF;}
 const float cUniFontFileLoader::GetLetterUsage(){
 	std::map&lt;const char *,int&gt; lCache;
@@ -160,11 +159,7 @@
 }
 =

 =

-
-
 // ***** ***** ***** ***** ***** builder
-
-
 =

 =

 bool	WriteFontGlyphToImage		(Ogre::Image&amp; pDest,cUniFontFileLoader&amp; oUniFo=
ntFileLoader,const int iCharCode,
@@ -193,10 +188,7 @@
 	return true;
 }
 =

-
-
-
-
+/*
 // deprecated, old guisystem, doesn't support unicode well, see lib.unifon=
t.lua for an alternative
 Ogre::FontPtr	GenerateUniFont	(cUniFontFileLoader&amp; oUniFontFileLoader, con=
st char *szName, =

 	const int code_first, const int code_last,
@@ -341,12 +333,10 @@
 	//img.resize(texw*2,texh*2,Ogre::Image::FILTER_NEAREST);
 	=

 	// save on disk
-	/*
-	printf(&quot;save image...\n&quot;);
-	std::string filename =3D std::string(szName) + std::string(&quot;.png&quot;);
-	img.save(filename);
-	printf(&quot;done\n&quot;);
-	*/
+// 	printf(&quot;save image...\n&quot;);
+// 	std::string filename =3D std::string(szName) + std::string(&quot;.png&quot;);
+// 	img.save(filename);
+// 	printf(&quot;done\n&quot;);
 	=

 	// generate texture name from the fontname
 	std::string sTexName =3D std::string(szName) + std::string(&quot;_tex&quot;);
@@ -355,11 +345,11 @@
 	Ogre::TexturePtr t =3D Ogre::TextureManager::getSingleton().loadImage(sTe=
xName,Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,
 		img,Ogre::TEX_TYPE_2D,0);
 	=

-	/*
-	Ogre::DataStreamPtr imgstream(new Ogre::MemoryDataStream(buffer,buffersiz=
e));
-	Ogre::TexturePtr t =3D Ogre::TextureManager::getSingleton().loadRawData(s=
TexName,
-		Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,
-		imgstream, texw, texh, Ogre::PF_A4R4G4B4 );*/
+	=

+// 	Ogre::DataStreamPtr imgstream(new Ogre::MemoryDataStream(buffer,buffer=
size));
+// 	Ogre::TexturePtr t =3D Ogre::TextureManager::getSingleton().loadRawDat=
a(sTexName,
+// 		Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,
+// 		imgstream, texw, texh, Ogre::PF_A4R4G4B4 );
 	=

 	// assign texture to font
 	font-&gt;setSource(sTexName);
@@ -384,3 +374,4 @@
 	=

 	return font;
 }
+*/

Modified: trunk/src/data_font_L.cpp
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/src/data_font_L.cpp (original)
+++ trunk/src/data_font_L.cpp Sat Aug 22 19:23:54 2009
@@ -1,5 +1,4 @@
 #include &quot;data_luabind_common.h&quot;
-
 =

 class cUniFontFileLoader_L : public cLuaBind&lt;cUniFontFileLoader&gt; { public:
 	// implementation of cLuaBind
@@ -16,7 +15,7 @@
 			REGISTER_METHOD(WriteGlyphToImage);
 			REGISTER_METHOD(GetGlyphInfo);
 			REGISTER_METHOD(GetDefaultHeight);
-			REGISTER_METHOD(CreateOgreFont);
+//			REGISTER_METHOD(CreateOgreFont);
 			#undef REGISTER_METHOD
 		}
 =

@@ -62,7 +61,7 @@
 			lua_pushnumber(L,h-&gt;miHeight);
 			return 4;
 		}	=

-
+/*
 		/// for lua CreateOgreFont(fontname)
 		static int	CreateOgreFont				(lua_State *L) { PROFILE =

 			cUniFontFileLoader* target =3D checkudata_alive(L);
@@ -75,15 +74,12 @@
 			=

 			return 0; =

 		}	=

-		=

+*/		=

 		// see also l_ExportOgreFont in lugre/src/lugre_scripting.ogre.cpp
 		=

 		virtual const char* GetLuaTypeName () { return &quot;iris.unifontloader&quot;; }
 };
 =

-
-
 void	LuaRegisterData_Font		 	(lua_State *L) {
 	cLuaBind&lt;cUniFontFileLoader&gt;::GetSingletonPtr(new cUniFontFileLoader_L())=
-&gt;LuaRegister(L);
 }
-

Modified: trunk/vc9/iris.vcproj
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/vc9/iris.vcproj (original)
+++ trunk/vc9/iris.vcproj Sat Aug 22 19:23:54 2009
@@ -613,6 +613,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=3D&quot;..\lugre\include\lugre_luabind_direct.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=3D&quot;..\lugre\include\lugre_luacallback.h&quot;
 					&gt;
 				&lt;/File&gt;
@@ -1002,6 +1006,10 @@
 				&lt;/File&gt;
 				&lt;File
 					RelativePath=3D&quot;..\lugre\src\lugre_utils.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=3D&quot;..\lugre\src\lugre_vertexbuffer_L.cpp&quot;
 					&gt;
 				&lt;/File&gt;
 				&lt;File


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001866.html">[Iris-commit] [IRIS] r3103 - /trunk/lua/gui/gui.helper.lua
</A></li>
	<LI>Next message: <A HREF="001868.html">[Iris-commit] [IRIS] r3105 - in /trunk/lua: config_declarations.lua lib.3d.renderer.lua lib.configdialog.lua main.lua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1867">[ date ]</a>
              <a href="thread.html#1867">[ thread ]</a>
              <a href="subject.html#1867">[ subject ]</a>
              <a href="author.html#1867">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/iris-commit">More information about the Iris-commit
mailing list</a><br>
</body></html>
