<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Iris-commit] [IRIS] r2813 - /trunk/lua/lib.debugmenu.lua
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/iris-commit/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r2813%20-%20/trunk/lua/lib.debugmenu.lua&In-Reply-To=%3C20081231144731.A7A471C187FD%40zwischenwelt.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001616.html">
   <LINK REL="Next"  HREF="001618.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Iris-commit] [IRIS] r2813 - /trunk/lua/lib.debugmenu.lua</H1>
    <B>no-reply at zwischenwelt.org</B> 
    <A HREF="mailto:iris-commit%40lists.berlios.de?Subject=Re%3A%20%5BIris-commit%5D%20%5BIRIS%5D%20r2813%20-%20/trunk/lua/lib.debugmenu.lua&In-Reply-To=%3C20081231144731.A7A471C187FD%40zwischenwelt.org%3E"
       TITLE="[Iris-commit] [IRIS] r2813 - /trunk/lua/lib.debugmenu.lua">no-reply at zwischenwelt.org
       </A><BR>
    <I>Wed Dec 31 15:47:31 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001616.html">[Iris-commit] [IRIS] r2812 - in /trunk/lua: lib.3d.renderer.lua lib.debugmenu.lua net/net.effect.lua
</A></li>
        <LI>Next message: <A HREF="001618.html">[Iris-commit] [IRIS] r2814 - in /trunk/src: data_anim.cpp data_artmap.cpp data_font.cpp data_gump.cpp data_radar.cpp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1617">[ date ]</a>
              <a href="thread.html#1617">[ thread ]</a>
              <a href="subject.html#1617">[ subject ]</a>
              <a href="author.html#1617">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ghoulsblade
Date: Wed Dec 31 15:47:31 2008
New Revision: 2813

Log:
particle system reload

Modified:
    trunk/lua/lib.debugmenu.lua

Modified: trunk/lua/lib.debugmenu.lua
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
--- trunk/lua/lib.debugmenu.lua (original)
+++ trunk/lua/lib.debugmenu.lua Wed Dec 31 15:47:31 2008
@@ -1239,36 +1239,38 @@
 =

 -- ***** ***** ***** ***** ***** particles
 =

-gMyDebugParticleNames =3D {
-	&quot;Large Fireball&quot;,
-	&quot;Magic Arrow&quot;,
-	&quot;ConsecrateWeapon1&quot;,
-	&quot;ConsecrateWeapon2&quot;,
-	&quot;StranglePart1&quot;,
-	&quot;StranglePart2&quot;,
-	&quot;Teleport&quot;,
-	&quot;Healing&quot;, -- 8
-	&quot;ParalyzeField&quot;,
-	&quot;PoisonField&quot;,
-	&quot;FireField&quot;,
-	&quot;Moongate&quot;,
-	&quot;bluering&quot;,
-	&quot;Wither&quot;,
-	&quot;PainSpike&quot;,
-	&quot;PoisonStrike&quot;,
-	&quot;Explosion&quot;,
-	&quot;MindRot&quot;,
+gMyDebugParticleData =3D {
+	{&quot;Large Fireball&quot;		, &quot;/cavern/code/iris/data/particles/particles/fireball=
s.particle&quot;},
+	{&quot;Magic Arrow&quot;			, &quot;/cavern/code/iris/data/particles/particles/fireballs.=
particle&quot;},
+	{&quot;ConsecrateWeapon1&quot;	, &quot;/cavern/code/iris/data/particles/particles/Consec=
rateWeapon.particle&quot;},
+	{&quot;ConsecrateWeapon2&quot;	, &quot;/cavern/code/iris/data/particles/particles/Consec=
rateWeapon.particle&quot;},
+	{&quot;StranglePart1&quot;		, &quot;/cavern/code/iris/data/particles/particles/Strangle.=
particle&quot;},
+	{&quot;StranglePart2&quot;		, &quot;/cavern/code/iris/data/particles/particles/Strangle.=
particle&quot;},
+	{&quot;Teleport&quot;				, &quot;/cavern/code/iris/data/particles/particles/healing.part=
icle&quot;},
+	{&quot;Healing&quot;				, &quot;/cavern/code/iris/data/particles/particles/healing.parti=
cle&quot;},--8
+	{&quot;ParalyzeField&quot;		, &quot;/cavern/code/iris/data/particles/particles/Fields.pa=
rticle&quot;},
+	{&quot;PoisonField&quot;			, &quot;/cavern/code/iris/data/particles/particles/Fields.par=
ticle&quot;},
+	{&quot;FireField&quot;			, &quot;/cavern/code/iris/data/particles/particles/Fields.parti=
cle&quot;},
+	{&quot;Moongate&quot;				, &quot;/cavern/code/iris/data/particles/particles/Fields.parti=
cle&quot;},
+	{&quot;bluering&quot;				, &quot;/cavern/code/iris/data/particles/particles/rings.partic=
le&quot;},
+	{&quot;Wither&quot;				, &quot;/cavern/code/iris/data/particles/particles/Wither.particl=
e&quot;},
+	{&quot;PainSpike&quot;			, &quot;/cavern/code/iris/data/particles/particles/PainSpike.pa=
rticle&quot;},
+	{&quot;PoisonStrike&quot;			, &quot;/cavern/code/iris/data/particles/particles/PoisonStr=
ike.particle&quot;},
+	{&quot;Explosion&quot;			, &quot;/cavern/code/iris/data/particles/particles/explosions.p=
article&quot;},
+	{&quot;MindRot&quot;				, &quot;/cavern/code/iris/data/particles/particles/MindRot.parti=
cle&quot;},
 }
-
 =

 function MyStartParticleDebugMode (data) -- -dparticle data
 	-- gCurDebugMode =3D kDebugMode_Particle
 	MyParticleDebugMode_SetIndex(tonumber(data) or 8)
+	=

+	=

 end
 =

 function MyParticleDebugMode_SetIndex (index)
 	gMyDebugParticles_CurIndex =3D index
-	gMyDebugParticles_CurName =3D gMyDebugParticleNames[gMyDebugParticles_Cur=
Index]
+	gMyDebugParticles_CurName =3D (gMyDebugParticleData[gMyDebugParticles_Cur=
Index] or {})[1]
+	gMyDebugParticles_CurPath =3D (gMyDebugParticleData[gMyDebugParticles_Cur=
Index] or {})[2]
 	print(&quot;############ particle &quot;,gMyDebugParticles_CurIndex,gMyDebugParticl=
es_CurName)
 	MyReloadParticleDebugMode()
 end
@@ -1277,9 +1279,10 @@
 function MyParticleDebugMode_Next() MyParticleDebugMode_SetIndex(gMyDebugP=
articles_CurIndex + 1) end -- f3
 =

 function MyReloadParticleDebugMode ()  -- bound to f5
-	--~ ReloadParticleTemplate(gMyDebugParticles_CurName)
 	if (gMyParticleDebugGfx) then gMyParticleDebugGfx:Destroy() gMyParticleDe=
bugGfx =3D nil end
 	if (not gMyDebugParticles_CurName) then return end
+	ReloadParticleTemplate(gMyDebugParticles_CurName,gMyDebugParticles_CurPat=
h)
+	OgreInitResLocs()
 	local gfx =3D CreateRootGfx3D()
 	gMyParticleDebugGfx =3D gfx
 	gfx:SetParticleSystem(gMyDebugParticles_CurName)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001616.html">[Iris-commit] [IRIS] r2812 - in /trunk/lua: lib.3d.renderer.lua lib.debugmenu.lua net/net.effect.lua
</A></li>
	<LI>Next message: <A HREF="001618.html">[Iris-commit] [IRIS] r2814 - in /trunk/src: data_anim.cpp data_artmap.cpp data_font.cpp data_gump.cpp data_radar.cpp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1617">[ date ]</a>
              <a href="thread.html#1617">[ thread ]</a>
              <a href="subject.html#1617">[ subject ]</a>
              <a href="author.html#1617">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/iris-commit">More information about the Iris-commit
mailing list</a><br>
</body></html>
